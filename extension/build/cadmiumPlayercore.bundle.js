(()=>{var t,i={};function n(){}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.Z4L=function(){return"function"==typeof n.D4L.g4L?n.D4L.g4L.apply(n.D4L,arguments):n.D4L.g4L},n.j4L=function(){return"function"==typeof n.D4L.V4L?n.D4L.V4L.apply(n.D4L,arguments):n.D4L.V4L},n.J4L=function(){return"function"==typeof n.D4L.V4L?n.D4L.V4L.apply(n.D4L,arguments):n.D4L.V4L},n.N4L=function(){return"function"==typeof n.D4L.g4L?n.D4L.g4L.apply(n.D4L,arguments):n.D4L.g4L},n.D4L={V4L:function(){var e,i=arguments;switch(t){case 4:e=i[1]+i[4]+i[2]+i[3]+i[0];break;case 3:e=void i[1]!==i[0];break;case 20:e=i[0]===i[1];break;case 17:e=i[3]*(i[2]-i[0]+i[4])-i[1];break;case 6:e=i[1]*i[0];break;case 5:e=i[0]+i[2]+i[1];break;case 10:e=(i[1]/i[0]|i[2])*i[3];break;case 1:e=i[0]+i[1];break;case 13:e=-(i[3]-i[0])*i[1]/i[2];break;case 7:e=i[0]/i[1];break;case 19:e=i[1]>i[0];break;case 0:e=i[1]-i[0];break;case 15:e=i[2]/i[0]-i[1];break;case 2:e=i[2]/i[1]/i[0];break;case 9:e=i[1]/i[0]|i[2];break;case 18:e=i[1]>=i[0];break;case 12:e=(i[2]/i[4]+i[0])*i[3]/i[1];break;case 8:e=i[2]*i[3]/i[0]|i[1];break;case 14:e=(-i[0]*i[1]-i[3])/-i[2];break;case 16:e=(i[0]-i[1])*i[2];break;case 11:e=i[1]+i[3]/i[0]*i[2]}return e},g4L:function(e){t=e}},function(){!function(t,r){var o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F,q,K,H,V,G,J,z,Y,W,X,Z,Q,$,tt,et,it,nt,rt,ot,at,st,ut,ct,ht,ft,lt,dt,pt,bt,vt,yt,gt,mt,_t,wt,Et,kt,Ot,St,Tt,At,Pt,jt,It,xt,Mt,Rt,Nt,Ct,Lt,Dt,Ut,Bt,Ft,qt,Kt,Ht,Vt,Gt,Jt,zt,Yt,Wt,Xt,Zt,Qt,$t,te,ee,ie,ne,re,oe,ae,se,ue,ce,he,fe,le,de,pe,be,ve,ye,ge,me,_e,we,Ee,ke,Oe,Se,Te,Ae,Pe,je,Ie,xe,Me,Re,Ne,Ce,Le,De,Ue,Be,Fe,qe,Ke,He,Ve,Ge,Je,ze,Ye,We,Xe,Ze,Qe,$e,ti,ei,ii,ni,ri,oi,ai,si,ui,ci,hi,fi,li,di,pi,bi,vi,yi,gi,mi,_i,wi,Ei,ki,Oi,Si,Ti,Ai,Pi,ji,Ii,xi,Mi,Ri,Ni,Ci,Li,Di,Ui,Bi,Fi,qi,Ki,Hi,Vi,Gi,Ji,zi,Yi,Wi,Xi;function Zi(t,e){if(!e||"utf-8"===e)return $i(t);throw Error("unsupported encoding")}function Qi(t,e){if(!e||"utf-8"===e)return tn(t);throw Error("unsupported encoding")}function $i(t){for(var e,i=0,n=t.length,r="";i<n;){if(128&(e=t[i++]))if(192==(224&e))e=((31&e)<<6)+(63&t[i++]);else{if(224!=(240&e))throw Error("unsupported character");e=((15&e)<<12)+((63&t[i++])<<6)+(63&t[i++])}r+=String.fromCharCode(e)}return r}function tn(t){var e,i,n,r,o;for(i=0,r=0,n=e=t.length;n--;)128>(o=t.charCodeAt(n))?i++:i=2048>o?i+2:i+3;for(i=new Uint8Array(i),n=0;n<e;n++)128>(o=t.charCodeAt(n))?i[r++]=o:(2048>o?i[r++]=192|o>>>6:(i[r++]=224|o>>>12,i[r++]=128|o>>>6&63),i[r++]=128|63&o);return i}function en(t,e){if(t===e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!=e[i])return!1;return!0}function nn(t){var e;if(!(t&&t.constructor==Uint8Array||Array.isArray(t)))throw new TypeError("Cannot compute the hash code of "+t);for(var i=1,n=0;n<t.length;++n){if("number"!=typeof(e=t[n]))throw new TypeError("Cannot compute the hash code over non-numeric elements: "+e);i=31*i+e&4294967295}return i}function rn(t,e){var i;if(t===e)return!0;if(!t||!e)return!1;e instanceof Array||(e=[e]);for(var n=0;n<e.length;++n){for(var r=e[n],o=!1,a=0;a<t.length;++a)if(i=t[a],r.equals&&"function"==typeof r.equals&&r.equals(i)||r==i){o=!0;break}if(!o)return!1}return!0}function on(t,e){return rn(t,e)&&(t.length==e.length||rn(e,t))}function an(t,e,i){var n,o;if(i&&(n=i),"object"!=typeof t||"function"!=typeof t.result||"function"!=typeof t.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{(o=e.call(n,t))!==r&&t.result(o)}catch(e){try{t.error(e)}catch(t){}}}function sn(t,e,i){if("object"!=typeof t||"function"!=typeof t.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");an(t,e,i)}function un(t,e,i){1e5>t&&(t=1e5+t),Object.defineProperties(this,{internalCode:{value:t,writable:!1,configurable:!1},responseCode:{value:e,writable:!1,configurable:!1},message:{value:i,writable:!1,configurable:!1}})}function cn(t){switch(t){case Et.PSK:case Et.MGK:return!0;default:return!1}}function hn(t){switch(t){case Et.PSK:case Et.MGK:case Et.X509:case Et.RSA:case Et.NPTICKET:case Et.ECC:return!0;default:return!1}}function fn(t){return t.toJSON()}function ln(t,e){Di?e.result(Di):Promise.resolve().then((function(){return B.getKeyByName(t)})).catch((function(){return B.generateKey({name:t},!1,["wrapKey","unwrapKey"])})).then((function(t){Di=t,e.result(Di)})).catch((function(t){e.error(new A(un.INTERNAL_EXCEPTION,"Unable to get system key"))}))}function dn(t,e){var i,n;return i=e.masterToken,n=e.userIdToken,e=e.serviceTokens,{NccpMethod:t.method,UserId:t.userId,UT:n&&n.serialNumber,MT:i&&i.serialNumber+":"+i.sequenceNumber,STCount:e&&e.length}}function pn(t){return t.uniqueKey()}function bn(t,i,n,o,a){var s;function u(t){(t=o.getUserIdToken(t))&&(o.removeUserIdToken(t),c())}function c(){o.getStoreState({result:function(t){for(var e=s.slice(),i=0;i<e.length;i++)e[i]({storeState:t})},timeout:function(){t.error("Timeout getting store state",""+e)},error:function(e){t.error("Error getting store state",""+e)}})}s=[],this.addEventHandler=function(t,e){if("shouldpersist"===t)s.push(e)},this.send=function(e){return new Promise((function(r,s){var h,f,l;h=e.timeout,f=new Bi(t,n,e,o.getKeyRequestData()),l=new Ht(e.url),t.trace("Sending MSL request"),i.request(n,f,l,h,{result:function(i){var n;t.trace("Received MSL response",{Method:e.method}),i?(e.allowTokenRefresh&&c(),(n=i.getErrorHeader())?(function(t,e){t.errorCode===E.ENTITY_REAUTH||t.errorCode===E.ENTITYDATA_REAUTH?(o.clearCryptoContexts(),c()):t.errorCode!==E.USER_REAUTH&&t.errorCode!==E.USERDATA_REAUTH||u(e)}(n,e.profileGuid||e.userId),s({success:!1,error:n})):function(t,e,i){var n;n=[],function r(){t.read(-1,e,{result:function(t){an(i,(function(){var e,i,o,a,s;if(t)n.push(t),r();else switch(n.length){case 0:return new Uint8Array(0);case 1:return n[0];default:for(o=n.length,a=0,i=e=0;i<o;i++)e+=n[i].length;for(e=new Uint8Array(e),i=0;i<o;i++)s=n[i],e.set(s,a),a+=s.length;return e}}))},timeout:function(){i.timeout()},error:function(t){i.error(t)}})}()}(i,h,{result:function(t){r({success:!0,body:Zi(t)})},timeout:function(){s({success:!1,subCode:a.MSL_READ_TIMEOUT})},error:function(t){s({success:!1,error:t})}})):s({success:!1,error:new A(un.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"})},timeout:function(){s({success:!1,subCode:a.MSL_REQUEST_TIMEOUT})},error:function(t){s({success:!1,error:t})}})}))},this.hasUserIdToken=function(t){return!!o.getUserIdToken(t)},this.getUserIdTokenKeys=function(){return o.getUserIdTokenKeys()},this.removeUserIdToken=u,this.clearUserIdTokens=function(){o.clearUserIdTokens(),c()},this.isErrorReauth=function(t){return t&&t.errorCode==E.USERDATA_REAUTH},this.isErrorHeader=function(t){return t instanceof ye},this.getErrorCode=function(t){return t&&t.errorCode},this.getStateForMdx=function(t){var e;return{masterToken:e=o.getMasterToken(),userIdToken:t=o.getUserIdToken(t),cryptoContext:o.getCryptoContext(e)}},this.buildPlayDataRequest=function(e,r){var o;o=new Gt,i.request(n,new Bi(t,n,e),o,e.timeout,{result:function(){r.result(o.getRequest())},error:function(){r.result(o.getRequest())},timeout:function(){r.timeout()}})},this.rekeyUserIdToken=function(t,e){o.rekeyUserIdToken(t,e),c()},this.getServiceTokens=function(t){var e;return e=o.getMasterToken(),(t=o.getUserIdToken(t))&&!t.isBoundTo(e)&&(t=r),o.getServiceTokens(e,t)},this.removeServiceToken=function(t){var e;e=o.getMasterToken(),o.getServiceTokens(e).find((function(e){return e.name===t}))&&(o.removeServiceTokens(t,e),c())}}function vn(t,e,i,n,r,o){function a(e){var i;return Promise.resolve().then((function(){if(!(i=t.authenticationKeyNames[e]))throw new A(un.KEY_IMPORT_ERROR,"Invalid config keyName "+e);return B.getKeyByName(i)})).then((function(t){return new Promise((function(e,n){Q(t,{result:e,error:function(){n(new A(un.KEY_IMPORT_ERROR,"Unable to create "+i+" CipherKey"))}})}))})).catch((function(t){throw new A(un.KEY_IMPORT_ERROR,"Unable to import "+i,t)}))}return Promise.resolve().then((function(){if(!B.getKeyByName)throw new A(un.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([a("e"),a("h"),a("w")])})).then((function(a){var s,u;return(s={})[e]=new i(t.esn,a[0],a[1],a[2]),a=new n(t.esn),u=new xi,{entityAuthFactories:s,entityAuthData:a,keyExchangeFactories:u=[new r(u)],keyRequestData:new o(e)}}))}function yn(t,e,i){var n;function o(){return Promise.resolve().then((function(){return B.generateKey(e,!1,["wrapKey","unwrapKey"])})).then((function(t){return a(t.publicKey,t.privateKey)}))}function a(t,e){return Promise.all([new Promise((function(e,i){et(t,{result:e,error:function(t){i(new A(un.INTERNAL_EXCEPTION,"Unable to create keyx public key",t))}})})),new Promise((function(t,i){rt(e,{result:t,error:function(t){i(new A(un.INTERNAL_EXCEPTION,"Unable to create keyx private key",t))}})}))]).then((function(r){return r=new ue("rsaKeypairId",i,r[0],r[1]),n&&(r.storeData={keyxPublicKey:t,keyxPrivateKey:e}),r}))}return n=!t.systemKeyWrapFormat,Promise.resolve().then((function(){var e,i;return i=(e=t.storeState)&&e.keyxPublicKey,e=e&&e.keyxPrivateKey,n&&i&&e?a(i,e):o()})).then((function(e){var i;return(i={})[Et.NONE]=new Dt,{entityAuthFactories:i,entityAuthData:new Ct(t.esn),keyExchangeFactories:[new ae],keyRequestData:e,createKeyRequestData:n?o:r}}))}a=t.nfCrypto||t.msCrypto||t.webkitCrypto||t.crypto,s=a&&(a.webkitSubtle||a.subtle),u=t.nfCryptokeys||t.msCryptokeys||t.webkitCryptokeys||t.cryptokeys,Ki=t,Hi=function(){function t(t,e){t instanceof Hi?(this.abv=t.abv,this.position=t.position):(this.abv=t,this.position=e||0)}return t.prototype={readByte:function(){return this.abv[this.position++]},writeByte:function(t){this.abv[this.position++]=t},peekByte:function(t){return this.abv[t]},copyBytes:function(t,e,i){var n;n=new Uint8Array(this.abv.buffer,this.position,i),t=new Uint8Array(t.buffer,e,i),n.set(t),this.position+=i},seek:function(t){this.position=t},skip:function(t){this.position+=t},getPosition:function(){return this.position},setPosition:function(t){this.position=t},getRemaining:function(){return this.abv.length-this.position},getLength:function(){return this.abv.length},isEndOfStream:function(){return this.position>=this.abv.length},show:function(){return"AbvStream: pos "+this.getPosition().toString()+" of "+this.getLength().toString()}},t}(),Vi={},function(){var t,e,i,n,o,a,s,u,f;function l(e,i){var n;if(i.writeByte(e.tagClass<<6|e.constructed<<5|e.tag),128>(n=e.payloadLen))i.writeByte(n);else{for(var r=n,o=0;r;)++o,r>>=8;for(i.writeByte(128|o),r=0;r<o;++r)i.writeByte(n>>8*(o-r-1)&255)}if(e.child)for(e.tag==t.BIT_STRING&&i.writeByte(0),e=e._child;e;){if(!l(e,i))return!1;e=e.next}else switch(e.tag){case t.INTEGER:e.backingStore[e.dataIdx]>>7&&i.writeByte(0),i.copyBytes(e.backingStore,e.dataIdx,e.dataLen);break;case t.BIT_STRING:i.writeByte(0),i.copyBytes(e.backingStore,e.dataIdx,e.dataLen);break;case t.OCTET_STRING:case t.OBJECT_IDENTIFIER:i.copyBytes(e.backingStore,e.dataIdx,e.dataLen)}return!0}function d(t){var e,i;if((i=127&(e=t.readByte()))==e)return i;if(3<i||0===i)return-1;for(var n=e=0;n<i;++n)e=e<<8|t.readByte();return e}function p(i,n,a){var s,u,c,h,f,l,b;if(s=i.backingStore,u=new Hi(s,n),n+=a,a=i,8<o++)return r;for(;u.getPosition()<n;){if(u.getPosition(),31==(31&(h=u.readByte()))){for(c=0;128&h;)c<<=8,c|=127&h;h=c}if(0>(c=31&(f=h))||30<c)return r;if(0>(h=d(u))||h>u.getRemaining())return r;a.constructed=32&f,a.tagClass=(192&f)>>6,a.tag=c,a.dataLen=h,a.dataIdx=u.getPosition(),c=u,l=f,f=h,32&l?c=!0:l<t.BIT_STRING||l>t.OCTET_STRING?c=!1:(b=new Hi(c),l==t.BIT_STRING&&b.skip(1),b.readByte()>>6&1?c=!1:(l=d(b),c=b.getPosition()-c.getPosition()+l==f)),c&&(c=u.getPosition(),f=h,a.tag==t.BIT_STRING&&(a.dataIdx++,a.dataLen--,c++,f--),a.child=new e(s,a),p(a.child,c,f)),a.tag==t.INTEGER&&(c=u.getPosition(),0==u.peekByte(c)&&u.peekByte(c+1)>>7&&(a.dataIdx++,a.dataLen--)),u.skip(h),u.getPosition()<n&&(a.next=new e(s,a.parent),a=a.next)}return o--,i}function b(t,e,i){if(9!=i)return!1;for(i=0;9>i;++i)if(t[e++]!=a[i])return!1;return!0}function v(t){var e;return!!(t&&t.child&&t.child.next&&t.child.child&&t.child.next.child)&&!(!b((e=t.child.child).backingStore,e.dataIdx,e.dataLen)||2!=t.nChildren||2!=t.child.nChildren||2!=t.child.next.child.nChildren)}function y(t){var e;return!!(t&&t.child&&t.child.next&&t.child.next.child&&t.child.next.next&&t.child.next.next.child)&&!(!b((e=t.child.next.child).backingStore,e.dataIdx,e.dataLen)||3!=t.nChildren||2!=t.child.next.nChildren||9!=t.child.next.next.child.nChildren)}function g(t){var e,r;return e=i.createSequenceNode(),(r=new n(e)).addChild(i.createSequenceNode()),r.addChild(i.createOidNode(a)),r.addSibling(i.createNullNode()),r.addToParent(e,i.createBitStringNode(null)),r.addChild(i.createSequenceNode()),r.addChild(i.createIntegerNode(t.n)),r.addSibling(i.createIntegerNode(t.e)),e}function m(t){var e;return e=(t=t.child.next.child.child).data,t=t.next,new s(e,t.data,null,null)}function _(t){var e,r;return e=i.createSequenceNode(),(r=new n(e)).addChild(i.createIntegerNode(new Uint8Array([0]))),r.addSibling(i.createSequenceNode()),r.addChild(i.createOidNode(a)),r.addSibling(i.createNullNode()),r.addToParent(e,i.createOctetStringNode(null)),r.addChild(i.createSequenceNode()),r.addChild(i.createIntegerNode(new Uint8Array([0]))),r.addSibling(i.createIntegerNode(t.n)),r.addSibling(i.createIntegerNode(t.e)),r.addSibling(i.createIntegerNode(t.d)),r.addSibling(i.createIntegerNode(t.p)),r.addSibling(i.createIntegerNode(t.q)),r.addSibling(i.createIntegerNode(t.dp)),r.addSibling(i.createIntegerNode(t.dq)),r.addSibling(i.createIntegerNode(t.qi)),e}function w(t){var e;e=[],t=t.child.next.next.child.child.next;for(var i=0;8>i;i++)e.push(t.data),t=t.next;return new u(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7])}function E(t,e,i,n){if(!(t instanceof s||t instanceof u))return r;if(i)for(var o=0;o<i.length;++o)if(-1==f.indexOf(i[o]))return r;return e={kty:"RSA",alg:e,key_ops:i||[],ext:n!=r&&n,n:c(t.n,!0),e:c(t.e,!0)},t instanceof u&&(e.d=c(t.d,!0),e.p=c(t.p,!0),e.q=c(t.q,!0),e.dp=c(t.dp,!0),e.dq=c(t.dq,!0),e.qi=c(t.qi,!0)),e}function k(t){var e,i,n,o,a,c,f,l,d,p;return t.kty&&"RSA"==t.kty&&t.n&&t.e?(e="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" "),t.alg&&-1==e.indexOf(t.alg)?r:(e=[],t.use?"enc"==t.use?e=["encrypt","decrypt","wrap","unwrap"]:"sig"==t.use&&(e=["sign","verify"]):e=t.key_ops,i=t.ext,n=h(t.n,!0),o=h(t.e,!0),t.d?(a=h(t.d,!0),c=h(t.p,!0),f=h(t.q,!0),l=h(t.dp,!0),d=h(t.dq,!0),p=h(t.qi,!0),new u(n,o,a,c,f,l,d,p,t.alg,e,i)):new s(n,o,i,e))):r}function O(t,e,i,n){this.der=t,this.type=e,this.keyOps=i,this.extractable=n}t={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30},(e=function(t,e,i,n,o,a){this._data=t,this._parent=e||r,this._constructed=i||!1,this._tagClass=0,this._tag=n||0,this._dataIdx=o||0,this._dataLen=a||0}).prototype={_child:r,_next:r,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen))},get backingStore(){return this._data},get constructed(){return this._constructed},set constructed(t){this._constructed=0!=t},get tagClass(){return this._tagClass},set tagClass(t){this._tagClass=t},get tag(){return this._tag},set tag(t){this._tag=t},get dataIdx(){return this._dataIdx},set dataIdx(t){this._dataIdx=t},get dataLen(){return this._dataLen},set dataLen(t){this._dataLen=t},get child(){return this._child},set child(t){this._child=t,this._child.parent=this},get next(){return this._next},set next(t){this._next=t},get parent(){return this._parent},set parent(t){this._parent=t},get payloadLen(){var e;if(e=0,this._child){for(var i=this._child;i;)e+=i.length,i=i.next;this._tag==t.BIT_STRING&&e++}else switch(this._tag){case t.INTEGER:e=this._dataLen,this._data[this._dataIdx]>>7&&e++;break;case t.BIT_STRING:e=this._dataLen+1;break;case t.OCTET_STRING:e=this._dataLen;break;case t.NULL:e=0;break;case t.OBJECT_IDENTIFIER:b(this._data,this._dataIdx,this._dataLen)&&(e=9)}return e},get length(){var t,e;if(127<(t=this.payloadLen))for(e=t;e;)e>>=8,++t;return t+2},get der(){var t;return(t=this.length)?(t=new Uint8Array(t),l(this,new Hi(t))?t:r):r},get nChildren(){for(var t=0,e=this._child;e;)t++,e=e.next;return t}},i={createSequenceNode:function(){return new e(null,null,!0,t.SEQUENCE,null,null)},createOidNode:function(i){return new e(i,null,!1,t.OBJECT_IDENTIFIER,0,i?i.length:0)},createNullNode:function(){return new e(null,null,!1,t.NULL,null,null)},createBitStringNode:function(i){return new e(i,null,!1,t.BIT_STRING,0,i?i.length:0)},createIntegerNode:function(i){return new e(i,null,!1,t.INTEGER,0,i?i.length:0)},createOctetStringNode:function(i){return new e(i,null,!1,t.OCTET_STRING,0,i?i.length:0)}},(n=function(t){this._currentNode=this._rootNode=t}).prototype={addChild:function(t){this.addTo(this._currentNode,t)},addSibling:function(t){this.addTo(this._currentNode.parent,t)},addTo:function(t,e){if(this._currentNode=e,this._currentNode.parent=t,t.child){for(t=t.child;t.next;)t=t.next;t.next=e}else t.child=e},addToParent:function(t,e){this.findNode(t)&&this.addTo(t,e)},findNode:function(t){for(var e=this._currentNode;e;){if(t==e)return!0;e=e.parent}return!1}},o=0,a=new Uint8Array([42,134,72,134,247,13,1,1,1]),s=function(t,e,i,n){this.n=t,this.e=e,this.ext=i,this.keyOps=n},u=function(t,e,i,n,r,o,a,s,u,c,h){this.n=t,this.e=e,this.d=i,this.p=n,this.q=r,this.dp=o,this.dq=a,this.qi=s,this.alg=u,this.keyOps=c,this.ext=h},f="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" "),O.prototype.getDer=function(){return this.der},O.prototype.getType=function(){return this.type},O.prototype.getKeyOps=function(){return this.keyOps},O.prototype.getExtractable=function(){return this.extractable},Vi.parse=function(t){return o=0,p(new e(t),0,t.length)},Vi.show=function(t,e){},Vi.isRsaSpki=v,Vi.isRsaPkcs8=y,Vi.NodeFactory=i,Vi.Builder=n,Vi.tagVal=t,Vi.RsaPublicKey=s,Vi.RsaPrivateKey=u,Vi.buildRsaSpki=g,Vi.parseRsaSpki=function(t){return t=Vi.parse(t),v?m(t):r},Vi.buildRsaPkcs8=_,Vi.parseRsaPkcs8=function(t){return y(t=Vi.parse(t))?w(t):r},Vi.buildRsaJwk=E,Vi.parseRsaJwk=k,Vi.RsaDer=O,Vi.rsaDerToJwk=function(t,e,i,n){if(!(t=Vi.parse(t)))return r;if(v(t))t=m(t);else{if(!y(t))return r;t=w(t)}return E(t,e,i,n)},Vi.jwkToRsaDer=function(t){var e,i;if(!(t=k(t)))return r;if(t instanceof s)e="spki",i=g(t).der;else{if(!(t instanceof u))return r;e="pkcs8",i=_(t).der}return new O(i,e,t.keyOps,t.ext)},Vi.webCryptoAlgorithmToJwkAlg=function(t){return"RSAES-PKCS1-v1_5"==t.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==t.name?"SHA-256"==t.hash.name?"RS256":"SHA-384"==t.hash.name?"RS384":"SHA-512"==t.hash.name?"RS512":r:r},Vi.webCryptoUsageToJwkKeyOps=function(t){return t.map((function(t){return"wrapKey"==t?"wrap":"unwrapKey"==t?"unwrap":t}))}}(),Ki.ASN1=Vi,function(){for(var t={},e={},i={"=":0,".":0},n={"=":0,".":0},r=/\s+/g,o=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,a=64;a--;)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a]]=262144*a,e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a]]=4096*a,i["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a]]=64*a,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a]]=a;for(a=64;a--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[a];)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[a]]=262144*a,e["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[a]]=4096*a,i["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[a]]=64*a,n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[a]]=a;c=function(t,e){for(var i="",n=0,r=t.length,o=r-2,a=e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=e?"":"=";n<o;)i+=a[(e=65536*t[n++]+256*t[n++]+t[n++])>>>18]+a[e>>>12&63]+a[e>>>6&63]+a[63&e];return n==o?i+=a[(e=65536*t[n++]+256*t[n++])>>>18]+a[e>>>12&63]+a[e>>>6&63]+s:n==r-1&&(i+=a[(e=65536*t[n++])>>>18]+a[e>>>12&63]+s+s),i},h=function(a,s){if(a=a.replace(r,""),s&&(s=a.length%4)){s=4-s;for(var u=0;u<s;++u)a+="="}if(0!=(s=a.length)%4||!o.test(a))throw Error("bad base64: "+a);for(var c=s/4*3-("="==a[s-1]?1:0)-("="==a[s-2]?1:0),h=new Uint8Array(c),f=0,l=0;f<s;)u=t[a[f++]]+e[a[f++]]+i[a[f++]]+n[a[f++]],h[l++]=u>>>16,l<c&&(h[l++]=u>>>8&255,l<c&&(h[l++]=255&u));return h}}(),f={},function(){var t,e,i,n;function r(n){if(!(this instanceof r))return new r(n);for(var a=0,s=e.length;a<s;a++)this[e[a]]="";this.bufferCheckPosition=f.MAX_BUFFER_LENGTH,this.q=this.c=this.p="",this.opt=n||{},this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.state=i.BEGIN,this.stack=new t,this.index=this.position=this.column=0,this.line=1,this.slashed=!1,this.unicodeI=0,this.unicodeS=null,o(this,"onready")}function o(t,e,i){t[e]&&t[e](i)}function a(t,e){var i,n;i=t.opt,n=t.textNode,i.trim&&(n=n.trim()),i.normalize&&(n=n.replace(/\s+/g," ")),t.textNode=n,t.textNode&&o(t,e||"onvalue",t.textNode),t.textNode=""}function s(t,e){return a(t),e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c,e=Error(e),t.error=e,o(t,"onerror",e),t}function u(t){return t.state!==i.VALUE&&s(t,"Unexpected end"),a(t),t.c="",t.closed=!0,o(t,"onend"),r.call(t,t.opt),t}for(var c in t=Array,f.parser=function(t){return new r(t)},f.CParser=r,f.MAX_BUFFER_LENGTH=65536,f.DEBUG=!1,f.INFO=!1,f.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" "),e=["textNode","numberNode"],f.EVENTS.filter((function(t){return"error"!==t&&"end"!==t})),i=0,f.STATE={BEGIN:i++,VALUE:i++,OPEN_OBJECT:i++,CLOSE_OBJECT:i++,OPEN_ARRAY:i++,CLOSE_ARRAY:i++,TEXT_ESCAPE:i++,STRING:i++,BACKSLASH:i++,END:i++,OPEN_KEY:i++,CLOSE_KEY:i++,TRUE:i++,TRUE2:i++,TRUE3:i++,FALSE:i++,FALSE2:i++,FALSE3:i++,FALSE4:i++,NULL:i++,NULL2:i++,NULL3:i++,NUMBER_DECIMAL_POINT:i++,NUMBER_DIGIT:i++},f.STATE)f.STATE[f.STATE[c]]=c;i=f.STATE,Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),n=/[\\"\n]/g,r.prototype={end:function(){u(this)},write:function(t){var r,c,h;if(this.error)throw this.error;if(this.closed)return s(this,"Cannot write after close. Assign an onready handler.");if(null===t)return u(this);for(var l,d=t[0];d&&(l=d,this.c=d=t.charAt(this.index++),l!==d?this.p=l:l=this.p,d);)switch(this.position++,"\n"===d?(this.line++,this.column=0):this.column++,this.state){case i.BEGIN:"{"===d?this.state=i.OPEN_OBJECT:"["===d?this.state=i.OPEN_ARRAY:"\r"!==d&&"\n"!==d&&" "!==d&&"\t"!==d&&s(this,"Non-whitespace before {[.");continue;case i.OPEN_KEY:case i.OPEN_OBJECT:if("\r"===d||"\n"===d||" "===d||"\t"===d)continue;if(this.state===i.OPEN_KEY)this.stack.push(i.CLOSE_KEY);else{if("}"===d){o(this,"onopenobject"),o(this,"oncloseobject"),this.state=this.stack.pop()||i.VALUE;continue}this.stack.push(i.CLOSE_OBJECT)}'"'===d?this.state=i.STRING:s(this,'Malformed object key should start with "');continue;case i.CLOSE_KEY:case i.CLOSE_OBJECT:if("\r"===d||"\n"===d||" "===d||"\t"===d)continue;":"===d?(this.state===i.CLOSE_OBJECT?(this.stack.push(i.CLOSE_OBJECT),a(this,"onopenobject")):a(this,"onkey"),this.state=i.VALUE):"}"===d?(a(this),o(this,"oncloseobject",void 0),this.state=this.stack.pop()||i.VALUE):","===d?(this.state===i.CLOSE_OBJECT&&this.stack.push(i.CLOSE_OBJECT),a(this),this.state=i.OPEN_KEY):s(this,"Bad object");continue;case i.OPEN_ARRAY:case i.VALUE:if("\r"===d||"\n"===d||" "===d||"\t"===d)continue;if(this.state===i.OPEN_ARRAY){if(o(this,"onopenarray"),this.state=i.VALUE,"]"===d){o(this,"onclosearray"),this.state=this.stack.pop()||i.VALUE;continue}this.stack.push(i.CLOSE_ARRAY)}'"'===d?this.state=i.STRING:"{"===d?this.state=i.OPEN_OBJECT:"["===d?this.state=i.OPEN_ARRAY:"t"===d?this.state=i.TRUE:"f"===d?this.state=i.FALSE:"n"===d?this.state=i.NULL:"-"===d?this.numberNode+=d:"0"===d||-1!=="123456789".indexOf(d)?(this.numberNode+=d,this.state=i.NUMBER_DIGIT):s(this,"Bad value");continue;case i.CLOSE_ARRAY:if(","===d)this.stack.push(i.CLOSE_ARRAY),a(this,"onvalue"),this.state=i.VALUE;else if("]"===d)a(this),o(this,"onclosearray",void 0),this.state=this.stack.pop()||i.VALUE;else{if("\r"===d||"\n"===d||" "===d||"\t"===d)continue;s(this,"Bad array")}continue;case i.STRING:l=this.index-1,r=this.slashed,c=this.unicodeI;t:for(;;){if(f.DEBUG)for(;0<c;)if(this.unicodeS+=d,d=t.charAt(this.index++),4===c?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),c=0,l=this.index-1):c++,!d)break t;if('"'===d&&!r){this.state=this.stack.pop()||i.VALUE,(this.textNode+=t.substring(l,this.index-1))||o(this,"onvalue","");break}if("\\"===d&&!r&&(r=!0,this.textNode+=t.substring(l,this.index-1),!(d=t.charAt(this.index++))))break;if(r){if(r=!1,"n"===d?this.textNode+="\n":"r"===d?this.textNode+="\r":"t"===d?this.textNode+="\t":"f"===d?this.textNode+="\f":"b"===d?this.textNode+="\b":"u"===d?(c=1,this.unicodeS=""):this.textNode+=d,d=t.charAt(this.index++),l=this.index-1,d)continue;break}if(n.lastIndex=this.index,null===(h=n.exec(t))){this.index=t.length+1,this.textNode+=t.substring(l,this.index-1);break}if(this.index=h.index+1,!(d=t.charAt(h.index))){this.textNode+=t.substring(l,this.index-1);break}}this.slashed=r,this.unicodeI=c;continue;case i.TRUE:if(""===d)continue;"r"===d?this.state=i.TRUE2:s(this,"Invalid true started with t"+d);continue;case i.TRUE2:if(""===d)continue;"u"===d?this.state=i.TRUE3:s(this,"Invalid true started with tr"+d);continue;case i.TRUE3:if(""===d)continue;"e"===d?(o(this,"onvalue",!0),this.state=this.stack.pop()||i.VALUE):s(this,"Invalid true started with tru"+d);continue;case i.FALSE:if(""===d)continue;"a"===d?this.state=i.FALSE2:s(this,"Invalid false started with f"+d);continue;case i.FALSE2:if(""===d)continue;"l"===d?this.state=i.FALSE3:s(this,"Invalid false started with fa"+d);continue;case i.FALSE3:if(""===d)continue;"s"===d?this.state=i.FALSE4:s(this,"Invalid false started with fal"+d);continue;case i.FALSE4:if(""===d)continue;"e"===d?(o(this,"onvalue",!1),this.state=this.stack.pop()||i.VALUE):s(this,"Invalid false started with fals"+d);continue;case i.NULL:if(""===d)continue;"u"===d?this.state=i.NULL2:s(this,"Invalid null started with n"+d);continue;case i.NULL2:if(""===d)continue;"l"===d?this.state=i.NULL3:s(this,"Invalid null started with nu"+d);continue;case i.NULL3:if(""===d)continue;"l"===d?(o(this,"onvalue",null),this.state=this.stack.pop()||i.VALUE):s(this,"Invalid null started with nul"+d);continue;case i.NUMBER_DECIMAL_POINT:"."===d?(this.numberNode+=d,this.state=i.NUMBER_DIGIT):s(this,"Leading zero not followed by .");continue;case i.NUMBER_DIGIT:-1!=="0123456789".indexOf(d)?this.numberNode+=d:"."===d?(-1!==this.numberNode.indexOf(".")&&s(this,"Invalid number has two dots"),this.numberNode+=d):"e"===d||"E"===d?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||s(this,"Invalid number has two exponential"),this.numberNode+=d):"+"===d||"-"===d?("e"!==l&&"E"!==l&&s(this,"Invalid symbol in number"),this.numberNode+=d):(this.numberNode&&o(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||i.VALUE);continue;default:s(this,"Unknown state: "+this.state)}if(this.position>=this.bufferCheckPosition){for(t=Math.max(f.MAX_BUFFER_LENGTH,10),l=d=0,r=e.length;l<r;l++){if((c=this[e[l]].length)>t)if("text"===e[l]);else s(this,"Max buffer length exceeded: "+e[l]);d=Math.max(d,c)}this.bufferCheckPosition=f.MAX_BUFFER_LENGTH-d+this.position}return this},resume:function(){return this.error=null,this},close:function(){return this.write(null)}}}(),function(){var t,e,i;function n(t,e){return e||(e=t.length),t.reduce((function(t,i,n){return n<e?t+String.fromCharCode(i):t}),"")}for(var r={},o=0;256>o;++o)t=n([o]),r[t]=o;for(e=Object.keys(r).length,i=[],o=0;256>o;++o)i[o]=[o];l=function(t,i){var o;function a(t,e){for(var i;0<e;){if(l>=f.length)return!1;e>d?(i=t,i>>>=e-d,f[l]|=255&i,e-=d,d=8,++l):e<=d&&(i=t,i<<=d-e,i&=255,i>>>=8-d,f[l]|=255&i,d-=e,e=0,0==d&&(d=8,++l))}return!0}for(var s in r)i[s]=r[s];for(var u=e,c=[],h=8,f=new Uint8Array(t.length),l=0,d=8,p=0;p<t.length;++p)if(o=t[p],c.push(o),!i[s=n(c)]){if(!a(i[c=n(c,c.length-1)],h))return null;0!=u>>h&&++h,i[s]=u++,c=[o]}return 0<c.length&&!a(i[s=n(c)],h)?null:f.subarray(0,8>d?l+1:l)},d=function(t){for(var e,n,r,o=i.slice(),a=0,s=0,u=8,c=new Uint8Array(Math.ceil(1.5*t.length)),h=0,f=[];a<t.length&&!(8*(t.length-a)-s<u);){for(var l=r=0;l<u;)e=Math.min(u-l,8-s),n=t[a],n<<=s,n&=255,8==(s+=e)&&(s=0,++a),r|=(255&(n>>>=8-e))<<u-(l+=e);l=o[r],0==f.length?++u:(l?f.push(l[0]):f.push(f[0]),o[o.length]=f,f=[],o.length==1<<u&&++u,l||(l=o[r])),(r=h+l.length)>=c.length&&((e=new Uint8Array(Math.ceil(1.5*r))).set(c),c=e),c.set(l,h),h=r,f=f.concat(l)}return c.subarray(0,h)}}(),function(){var t,e,i;p="utf-8",b=9007199254740992,t=v={GZIP:"GZIP",LZW:"LZW"},Object.freeze(v),y=function(e){for(var i=[t.GZIP,t.LZW],n=0;n<i.length&&0<e.length;++n)for(var r=i[n],o=0;o<e.length;++o)if(e[o]==r)return r;return null},e=g={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"},Object.freeze(g),m=function(t){return e.AES_CBC_PKCS5Padding==t?e.AES_CBC_PKCS5Padding:e.RSA_ECB_PKCS1Padding==t?e.RSA_ECB_PKCS1Padding:e[t]},i=_={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"},Object.freeze(_),w=function(t){return i[t]},E={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10},Object.freeze(E)}(),k={isObjectLiteral:function(t){return null!==t&&"object"==typeof t&&t.constructor===Object},extendDeep:function(){var t,e,i,n,o,a,s,u;for(e=1,i=arguments.length,n=!1,"boolean"==typeof(t=arguments[0])&&(n=t,t=arguments[1],e=2);e<i;e++)if(null!=(o=arguments[e]))for(a in o)n&&a in t||t!==(s=o[a])&&s!==r&&(u=t[a],t[a]=null!==u&&null!==s&&"object"==typeof u&&"object"==typeof s?k.extendDeep(n,{},u,s):s);return t}},function(){var t,e;function i(t,e){return function(){var i,n;return i=t.base,t.base=e,n=t.apply(this,arguments),t.base=i,n}}function n(t,n,r){var o,a,s,u;for(o in a=!!(r=r||e).extendAll,n)s=n.__lookupGetter__(o),u=n.__lookupSetter__(o),s||u?(s&&t.__defineGetter__(o,s),u&&t.__defineSetter__(o,u)):(s=n[o],u=t[o],"function"==typeof s&&"function"==typeof u&&s!==u?(s.base!==Function.prototype.base&&(s=i(s,u)),s.base=u):(a||r[o])&&k.isObjectLiteral(s)&&k.isObjectLiteral(u)&&(s=k.extendDeep({},u,s)),t[o]=s)}function r(){var t,e;return t=Array.prototype.slice,e=t.call(arguments,1),this.extend({init:function i(){var n;n=t.call(arguments,0),i.base.apply(this,e.concat(n))}})}function o(e,i){var r;return n(r=new this(t),e,i),s(r)}function a(t,e){return n(this.prototype,t,e),this}function s(e){var i;return i=function(){var e;(e=this.init)&&arguments[0]!==t&&e.apply(this,arguments)},e&&(i.prototype=e),i.prototype.constructor=i,i.extend=o,i.bind=r,i.mixin=a,i}t={},e={actions:!0},Function.prototype.base=function(){},k.Class={create:s,mixin:n,extend:function(t,e){var i;return(i=s()).prototype=new t,i.extend(e)}},k.mixin=function(){k.log&&k.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()"),n.apply(null,arguments)}}(),function(){var t,e,i;function n(t,e){return function(){var i,n;return i=t.base,t.base=e,n=t.apply(this,arguments),t.base=i,n}}function r(t,r,o){var a,s,u,c;for(a in s=!!(o=o||e).extendAll,r)u=r.__lookupGetter__(a),c=r.__lookupSetter__(a),u||c?(u&&t.__defineGetter__(a,u),c&&t.__defineSetter__(a,c)):(u=r[a],c=t[a],"function"==typeof u&&"function"==typeof c&&u!==c?(u.base!==i&&(u=n(u,c)),u.base=c):(s||o[a])&&k.isObjectLiteral(u)&&k.isObjectLiteral(c)&&(u=k.extendDeep({},c,u)),t[a]=u)}function o(){var t,e;return t=Array.prototype.slice,e=t.call(arguments,1),this.extend({init:function i(){var n;n=t.call(arguments,0),i.base.apply(this,e.concat(n))}})}function a(e,i){var n;return r(n=new this(t),e,i),u(n)}function s(t,e){return r(this.prototype,t,e),this}function u(e){var i;return i=function(){var e;(e=this.init)&&arguments[0]!==t&&e.apply(this,arguments)},e&&(i.prototype=e),i.prototype.constructor=i,i.extend=a,i.bind=o,i.mixin=s,i}t={},e={actions:!0},i=function(){},Function.prototype.base=i,k.Class={create:u,mixin:r,extend:function(t,e){var i;return(i=u()).prototype=new t,i.extend(e)}},k.mixin=function(){k.log&&k.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()"),r.apply(null,arguments)}}(),function(){function t(t){return t==b?1:t+1}function e(e){if(0===Object.keys(e._waiters).length)return 0;for(var i=t(e._nextWaiter);!e._waiters[i];)i=t(i);return i}O=k.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}})},cancel:function(t){var i;this._waiters[t]&&(i=this._waiters[t],delete this._waiters[t],t==this._nextWaiter&&(this._nextWaiter=e(this)),i.call(this,r))},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter)},poll:function(i,n){var r,o;return r=this,o=t(this._lastWaiter),this._lastWaiter=o,sn(n,(function(){var t,a;0<this._queue.length?(t=this._queue.shift(),setTimeout((function(){n.result(t)}),0)):(-1!=i&&(a=setTimeout((function(){delete r._waiters[o],o==r._nextWaiter&&(r._nextWaiter=e(r)),n.timeout()}),i)),this._waiters[o]=function(t){clearTimeout(a),setTimeout((function(){n.result(t)}),0)},this._nextWaiter||(this._nextWaiter=o))}),r),o},add:function(t){var i;this._nextWaiter?(i=this._waiters[this._nextWaiter],delete this._waiters[this._nextWaiter],this._nextWaiter=e(this),i.call(this,t)):this._queue.push(t)}})}(),function(){var t;t=0-b,S=k.Class.create({nextBoolean:function(){var t;return t=new Uint8Array(1),a.getRandomValues(t),!!(1&t[0])},nextInt:function(t){var e;if(null!==t&&t!==r){if("number"!=typeof t)throw new TypeError("n must be of type number");if(1>t)throw new RangeError("n must be greater than zero");return--t,e=new Uint8Array(4),a.getRandomValues(e),Math.floor(((127&e[3])<<24|e[2]<<16|e[1]<<8|e[0])/2147483648*(t-0+1))}return t=new Uint8Array(4),a.getRandomValues(t),e=(127&t[3])<<24|t[2]<<16|t[1]<<8|t[0],128&t[3]?-e:e},nextLong:function(){for(var e,i=t;i==t;)i=new Uint8Array(7),a.getRandomValues(i),e=16777216*((31&i[6])<<24|i[5]<<16|i[4]<<8|i[3])+(i[2]<<16|i[1]<<8|i[0]),i=128&i[6]?-e-1:e;return i},nextBytes:function(t){a.getRandomValues(t)}})}(),function(){function t(t){return t==b?1:t+1}function e(e){if(0===Object.keys(e._waitingReaders).length)return 0;for(var i=t(e._nextReader);!e._waitingReaders[i];)i=t(i);return i}function i(e){if(0===Object.keys(e._waitingWriters).length)return 0;for(var i=t(e._nextWriter);!e._waitingWriters[i];)i=t(i);return i}T=k.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}})},cancel:function(t){var n;this._waitingReaders[t]&&(n=this._waitingReaders[t],delete this._waitingReaders[t],t==this._nextReader&&(this._nextReader=e(this)),n.call(this,!0)),this._waitingWriters[t]&&(n=this._waitingWriters[t],delete this._waitingWriters[t],t==this._nextWriter&&(this._nextWriter=i(this)),n.call(this,!0))},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader)},readLock:function(i,n){var o,a;return o=this,a=t(this._lastNumber),this._lastNumber=a,sn(n,(function(){var t;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[a]=!0,a;-1!=i&&(t=setTimeout((function(){delete o._waitingReaders[a],a==o._nextReader&&(o._nextReader=e(o)),n.timeout()}),i)),this._waitingReaders[a]=function(e){clearTimeout(t),e?setTimeout((function(){n.result(r)}),0):(o._readers[a]=!0,setTimeout((function(){n.result(a)}),0))},this._nextReader||(this._nextReader=a)}),o),a},writeLock:function(e,n){var o,a;return o=this,a=t(this._lastNumber),this._lastNumber=a,sn(n,(function(){var t;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=a;-1!=e&&(t=setTimeout((function(){delete o._waitingWriters[a],a==o._nextWriter&&(o._nextWriter=i(o)),n.timeout()}),e)),this._waitingWriters[a]=function(e){clearTimeout(t),e?setTimeout((function(){n.result(r)}),0):(o._writer=a,setTimeout((function(){n.result(a)}),0))},this._nextWriter||(this._nextWriter=a)}),o),a},unlock:function(e){if(e==this._writer)this._writer=null;else{if(!this._readers[e])throw new R("There is no reader or writer with ticket number "+e+".");delete this._readers[e]}if(this._nextWriter)0<Object.keys(this._readers).length||(e=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=i(this),e.call(this,!1));else{for(var n=this._nextReader;0<Object.keys(this._waitingReaders).length;n=t(n))this._waitingReaders[n]&&(e=this._waitingReaders[n],delete this._waitingReaders[n],e.call(this,!1));this._nextReader=0}}})}(),k.Class.mixin(un,{JSON_PARSE_ERROR:new un(0,E.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new un(1,E.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new un(2,E.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new un(3,E.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new un(4,E.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new un(5,E.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new un(6,E.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new un(7,E.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new un(8,E.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new un(9,E.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new un(10,E.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new un(11,E.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new un(12,E.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new un(13,E.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new un(14,E.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new un(15,E.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new un(16,E.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new un(17,E.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new un(18,E.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new un(19,E.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new un(20,E.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new un(21,E.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new un(22,E.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new un(23,E.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new un(24,E.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new un(25,E.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new un(26,E.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new un(27,E.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new un(28,E.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new un(29,E.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new un(30,E.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new un(31,E.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new un(32,E.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new un(33,E.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new un(34,E.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new un(35,E.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new un(36,E.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new un(37,E.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new un(38,E.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new un(39,E.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new un(40,E.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new un(41,E.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new un(42,E.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new un(43,E.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new un(44,E.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new un(45,E.FAIL,"Error exporting key."),DIGEST_ERROR:new un(46,E.FAIL,"Error in digest."),UNSUPPORTED_KEY:new un(47,E.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new un(48,E.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new un(49,E.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new un(50,E.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new un(51,E.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new un(52,E.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new un(53,E.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new un(54,E.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new un(55,E.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new un(56,E.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new un(57,E.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new un(58,E.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new un(59,E.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new un(60,E.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new un(61,E.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new un(62,E.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new un(1e3,E.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new un(1001,E.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new un(1002,E.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new un(1003,E.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new un(1004,E.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new un(1005,E.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new un(1006,E.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new un(1007,E.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new un(1008,E.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new un(1009,E.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new un(1010,E.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new un(1011,E.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new un(1012,E.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new un(1013,E.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new un(1014,E.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new un(2e3,E.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new un(2001,E.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new un(2002,E.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new un(2003,E.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new un(2004,E.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new un(2005,E.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new un(2006,E.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new un(2007,E.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new un(2008,E.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new un(2009,E.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new un(2010,E.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new un(2011,E.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new un(2012,E.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new un(2013,E.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new un(2014,E.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new un(2015,E.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new un(2016,E.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new un(2017,E.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new un(2018,E.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new un(2019,E.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new un(2020,E.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new un(3e3,E.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new un(3001,E.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new un(3002,E.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new un(3003,E.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new un(3004,E.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new un(3005,E.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new un(3006,E.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new un(3007,E.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new un(3008,E.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new un(3009,E.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new un(4e3,E.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new un(4001,E.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new un(4002,E.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new un(4003,E.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new un(4004,E.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new un(4005,E.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new un(4006,E.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new un(4007,E.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new un(4008,E.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new un(4009,E.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new un(4010,E.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new un(4011,E.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new un(4012,E.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new un(4013,E.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new un(4014,E.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new un(4015,E.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new un(4016,E.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new un(4017,E.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new un(4018,E.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new un(4019,E.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new un(4020,E.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new un(4021,E.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new un(4022,E.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new un(4023,E.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new un(4024,E.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new un(4025,E.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new un(4026,E.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new un(5e3,E.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new un(5001,E.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new un(5002,E.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new un(5003,E.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new un(5004,E.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new un(5005,E.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new un(5006,E.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new un(5007,E.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new un(5008,E.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new un(5009,E.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new un(5010,E.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new un(5011,E.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new un(5012,E.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new un(5013,E.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new un(5014,E.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new un(5015,E.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new un(5016,E.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new un(5017,E.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new un(5018,E.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new un(5019,E.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new un(5020,E.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new un(5021,E.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new un(5022,E.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new un(5023,E.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new un(5024,E.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new un(5025,E.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new un(5026,E.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new un(5027,E.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new un(5028,E.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new un(5029,E.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new un(5030,E.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new un(5031,E.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new un(5032,E.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new un(5033,E.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new un(5034,E.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new un(5035,E.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new un(5036,E.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new un(5037,E.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new un(5038,E.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new un(5039,E.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new un(5040,E.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new un(6e3,E.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new un(6001,E.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new un(6002,E.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new un(6003,E.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new un(6004,E.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new un(6005,E.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new un(6006,E.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new un(6007,E.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new un(6008,E.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new un(6009,E.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new un(6010,E.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new un(6011,E.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new un(6012,E.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new un(6013,E.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new un(6014,E.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new un(6015,E.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new un(6016,E.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new un(6017,E.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new un(6018,E.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new un(6019,E.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new un(6020,E.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new un(6021,E.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new un(6022,E.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new un(6023,E.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new un(6024,E.FAIL,"Invalid header data."),PAYLOAD_INVALID:new un(6025,E.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new un(6026,E.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new un(6027,E.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new un(6028,E.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new un(6029,E.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new un(6030,E.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new un(6031,E.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new un(6032,E.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new un(6033,E.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new un(6034,E.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new un(6035,E.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new un(6036,E.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new un(6037,E.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new un(7e3,E.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new un(7001,E.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new un(7002,E.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new un(7003,E.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new un(7004,E.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new un(7005,E.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new un(7006,E.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new un(7007,E.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new un(7008,E.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new un(7009,E.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new un(7010,E.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new un(7011,E.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new un(7012,E.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new un(7013,E.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new un(7014,E.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new un(7015,E.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new un(7016,E.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new un(8e3,E.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new un(8001,E.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new un(8002,E.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new un(8003,E.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new un(8004,E.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new un(8005,E.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new un(8006,E.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new un(8007,E.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new un(8008,E.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new un(8009,E.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new un(8010,E.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new un(8011,E.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new un(8012,E.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new un(9e3,E.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new un(9001,E.FAIL,"Error communicating with MSL entity."),NONE:new un(9999,E.FAIL,"Special unit test error.")}),Object.freeze(un),(A=k.Class.create(Error())).mixin({init:function(t,e,i){var n,o,a;function s(){return o||(this.cause&&this.cause instanceof A?this.cause.messageId:r)}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),n=t.message,e&&(n+=" ["+e+"]"),a=this.stack,Object.defineProperties(this,{message:{value:n,writable:!1,configurable:!0},error:{value:t,writable:!1,configurable:!0},cause:{value:i,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:s,set:function(t){if(0>t||t>b)throw new RangeError("Message ID "+t+" is outside the valid range.");s()||(o=t)},configurable:!0},stack:{get:function(){var t;return t=this.toString(),a&&(t+="\n"+a),i&&i.stack&&(t+="\nCaused by "+i.stack),t},configurable:!0}})},setEntity:function(t){return!t||this.masterToken||this.entityAuthenticationData||(t instanceof Ye?this.masterToken=t:t instanceof kt&&(this.entityAuthenticationData=t)),this},setUser:function(t){return!t||this.userIdToken||this.userAuthenticationData||(t instanceof Xe?this.userIdToken=t:t instanceof ii&&(this.userAuthenticationData=t)),this},setMessageId:function(t){return this.messageId=t,this},toString:function(){return this.name+": "+this.message}}),P=A.extend({init:function t(e,i,n){t.base.call(this,e,i,n),Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}})}}),j=A.extend({init:function t(e,i,n){t.base.call(this,e,i,n),Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}})}}),I=A.extend({init:function t(e,i,n){t.base.call(this,e,i,n),Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}})}}),(x=k.Class.create(Error())).mixin({init:function(t,e,i){var n;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),n=this.stack,Object.defineProperties(this,{message:{value:t,writable:!1,configurable:!1},cause:{value:e,writable:!1,configurable:!1},requestCause:{value:i,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var t;return t=this.toString(),n&&(t+="\n"+n),e&&e.stack&&(t+="\nCaused by "+e.stack),t},configurable:!0}})},toString:function(){return this.name+": "+this.message}}),(M=k.Class.create(Error())).mixin({init:function(t,e){var i;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i=this.stack,Object.defineProperties(this,{message:{value:t,writable:!1,configurable:!1},cause:{value:e,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var t;return t=this.toString(),i&&(t+="\n"+i),e&&e.stack&&(t+="\nCaused by "+e.stack),t},configurable:!0}})},toString:function(){return this.name+": "+this.message}}),(R=k.Class.create(Error())).mixin({init:function(t,e){var i;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i=this.stack,Object.defineProperties(this,{message:{value:t,writable:!1,configurable:!1},cause:{value:e,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var t;return t=this.toString(),i&&(t+="\n"+i),e&&e.stack&&(t+="\nCaused by "+e.stack),t},configurable:!0}})},toString:function(){return this.name+": "+this.message}}),(N=k.Class.create(Error())).mixin({init:function(t,e){var i;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i=this.stack,Object.defineProperties(this,{message:{value:t,writable:!1,configurable:!1},cause:{value:e,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var t;return t=this.toString(),i&&(t+="\n"+i),e&&e.stack&&(t+="\nCaused by "+e.stack),t},configurable:!0}})},toString:function(){return this.name+": "+this.message}}),C=A.extend({init:function t(e,i,n){t.base.call(this,e,i,n),Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}})}}),L=A.extend({init:function t(e,i){t.base.call(this,e),Object.defineProperties(this,{masterToken:{value:i,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}})}}),D=A.extend({init:function t(e,i,n){t.base.call(this,e,i,n),Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}})}}),U=A.extend({init:function t(e,i,n){t.base.call(this,e,i,n),Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}})}}),function(){var e;function i(t){return void 0!==t&&t}function n(t){return t&&t.length?(F===e.V2014_02&&(t=t.map((function(t){return"wrap"==t?"wrapKey":"unwrap"==t?"unwrapKey":t}))),t):F===e.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ")}e=q={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3},Object.freeze(q),F=e.LATEST,B={encrypt:function(t,i,n){switch(F){case e.LEGACY:return new Promise((function(e,r){var o;(o=s.encrypt(t,i,n)).oncomplete=function(t){e(t.target.result)},o.onerror=function(t){r(t)}}));case e.V2014_01:case e.V2014_02:return s.encrypt(t,i,n).then((function(t){return new Uint8Array(t)}));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},decrypt:function(t,i,n){switch(F){case e.LEGACY:return new Promise((function(e,r){var o;(o=s.decrypt(t,i,n)).oncomplete=function(t){e(t.target.result)},o.onerror=function(t){r(t)}}));case e.V2014_01:case e.V2014_02:return s.decrypt(t,i,n).then((function(t){return new Uint8Array(t)}));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},sign:function(t,i,n){switch(F){case e.LEGACY:return new Promise((function(e,r){var o;(o=s.sign(t,i,n)).oncomplete=function(t){e(t.target.result)},o.onerror=function(t){r(t)}}));case e.V2014_01:case e.V2014_02:return s.sign(t,i,n).then((function(t){return new Uint8Array(t)}));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},verify:function(t,i,n,r){switch(F){case e.LEGACY:return new Promise((function(e,o){var a;(a=s.verify(t,i,n,r)).oncomplete=function(t){e(t.target.result)},a.onerror=function(t){o(t)}}));case e.V2014_01:case e.V2014_02:return s.verify(t,i,n,r);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},digest:function(t,i){switch(F){case e.LEGACY:return new Promise((function(e,n){var r;(r=s.digest(t,i)).oncomplete=function(t){e(t.target.result)},r.onerror=function(t){n(t)}}));case e.V2014_01:case e.V2014_02:return s.digest(t,i).then((function(t){return new Uint8Array(t)}));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},generateKey:function(t,r,o){var a,u;switch(a=i(r),u=n(o),F){case e.LEGACY:return new Promise((function(e,i){var n;(n=s.generateKey(t,a,u)).oncomplete=function(t){e(t.target.result)},n.onerror=function(t){i(t)}}));case e.V2014_01:case e.V2014_02:return s.generateKey(t,a,u);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},deriveKey:function(t,r,o,a,u){var c,h;switch(c=i(a),h=n(u),F){case e.LEGACY:return new Promise((function(e,i){var n;(n=s.deriveKey(t,r,o,c,h)).oncomplete=function(t){e(t.target.result)},n.onerror=function(t){i(t)}}));case e.V2014_01:case e.V2014_02:return s.deriveKey(t,r,o,c,h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},importKey:function(t,r,o,a,u){var c,h;switch(c=i(a),h=n(u),F){case e.LEGACY:return new Promise((function(e,i){var n;(n=s.importKey(t,r,o,c,h)).oncomplete=function(t){e(t.target.result)},n.onerror=function(t){i(t)}}));case e.V2014_01:case e.V2014_02:return function(t,e,i,n,r){return Promise.resolve().then((function(){return s.importKey(t,e,i,n,r)})).catch((function(o){var a;if("spki"!==t&&"pkcs8"!==t)throw o;if(o=ASN1.webCryptoAlgorithmToJwkAlg(i),a=ASN1.webCryptoUsageToJwkKeyOps(r),!(o=ASN1.rsaDerToJwk(e,o,a,n)))throw Error("Could not make valid JWK from DER input");return o=JSON.stringify(o),s.importKey("jwk",tn(o),i,n,r)}))}(t,r,o,c,h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},exportKey:function(t,i){switch(F){case e.LEGACY:return new Promise((function(e,n){var r;(r=s.exportKey(t,i)).oncomplete=function(t){e(t.target.result)},r.onerror=function(t){n(t)}}));case e.V2014_01:case e.V2014_02:return function(t,e){return Promise.resolve().then((function(){return s.exportKey(t,e)})).catch((function(i){if("spki"!==t&&"pkcs8"!==t)throw i;return s.exportKey("jwk",e).then((function(t){if(t=JSON.parse($i(new Uint8Array(t))),!(t=ASN1.jwkToRsaDer(t)))throw Error("Could not make valid DER from JWK input");return t.getDer().buffer}))}))}(t,i).then((function(t){return new Uint8Array(t)}));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},wrapKey:function(t,i,n,r){switch(F){case e.LEGACY:return new Promise((function(t,e){var o;(o=s.wrapKey(i,n,r)).oncomplete=function(e){t(e.target.result)},o.onerror=function(t){e(t)}}));case e.V2014_01:case e.V2014_02:return s.wrapKey(t,i,n,r).then((function(t){return new Uint8Array(t)}));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}},unwrapKey:function(t,r,o,a,u,c,h){switch(F){case e.LEGACY:return new Promise((function(t,e){var i;(i=s.unwrapKey(r,u,o)).oncomplete=function(e){t(e.target.result)},i.onerror=function(t){e(t)}}));case e.V2014_01:case e.V2014_02:return s.unwrapKey(t,r,o,a,u,i(c),n(h));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}}},u&&u.getKeyByName&&(B.getKeyByName=function(t){switch(F){case e.LEGACY:return new Promise((function(e,i){var n;(n=u.getKeyByName(t)).oncomplete=function(t){e(t.target.result)},n.onerror=function(t){i(t)}}));case e.V2014_01:case e.V2014_02:return u.getKeyByName(t);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".")}}),t.netflix=t.netflix||{},t.netflix.crypto=B}(),K={name:"AES-KW"},H={name:"AES-CBC"},V={name:"HMAC",hash:{name:"SHA-256"}},G={name:"RSA-OAEP",hash:{name:"SHA-1"}},J={name:"RSAES-PKCS1-v1_5"},z={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},Y=["encrypt","decrypt"],W=["wrap","unwrap"],X=["sign","verify"],Z=k.Class.create({init:function(t,e,i){var n;function o(i){an(e,(function(){var e;return e=i?c(i):r,Object.defineProperties(n,{rawKey:{value:t,writable:!1,configurable:!1},keyData:{value:i,writable:!1,configurable:!1},keyDataB64:{value:e,writable:!1,configurable:!1}}),this}),n)}an(e,(function(){if(!t||"object"!=typeof t)throw new P(un.INVALID_SYMMETRIC_KEY);!i&&t.extractable?B.exportKey("raw",t).then((function(t){o(new Uint8Array(t))}),(function(t){e.error(new P(un.KEY_EXPORT_ERROR,"raw"))})):o(i)}),n=this)},size:function(){return this.keyData.length},toByteArray:function(){return this.keyData},toBase64:function(){return this.keyDataB64}}),Q=function(t,e){new Z(t,e)},$=function(t,e,i,n){an(n,(function(){try{t="string"==typeof t?h(t):t}catch(e){throw new P(un.INVALID_SYMMETRIC_KEY,"keydata "+t,e)}B.importKey("raw",t,e,!0,i).then((function(e){new Z(e,n,t)}),(function(t){n.error(new P(un.INVALID_SYMMETRIC_KEY))}))}))},tt=k.Class.create({init:function(t,e,i){var n;function r(i){an(e,(function(){return Object.defineProperties(n,{rawKey:{value:t,writable:!1,configurable:!1},encoded:{value:i,writable:!1,configurable:!1}}),this}),n)}n=this,an(e,(function(){if(!t||"object"!=typeof t||"public"!=t.type)throw new TypeError("Only original public crypto keys are supported.");!i&&t.extractable?B.exportKey("spki",t).then((function(t){r(new Uint8Array(t))}),(function(t){e.error(new P(un.KEY_EXPORT_ERROR,"spki"))})):r(i)}))},getEncoded:function(){return this.encoded}}),et=function(t,e){new tt(t,e)},it=function(t,e,i,n){an(n,(function(){try{t="string"==typeof t?h(t):t}catch(e){throw new P(un.INVALID_PUBLIC_KEY,"spki "+t,e)}B.importKey("spki",t,e,!0,i).then((function(e){new tt(e,n,t)}),(function(t){n.error(new P(un.INVALID_PUBLIC_KEY))}))}))},nt=k.Class.create({init:function(t,e,i){var n;function r(i){an(e,(function(){return Object.defineProperties(n,{rawKey:{value:t,writable:!1,configurable:!1},encoded:{value:i,writable:!1,configurable:!1}}),this}),n)}n=this,an(e,(function(){if(!t||"object"!=typeof t||"private"!=t.type)throw new TypeError("Only original private crypto keys are supported.");!i&&t.extractable?B.exportKey("pkcs8",t).then((function(t){r(new Uint8Array(t))}),(function(t){e.error(new P(un.KEY_EXPORT_ERROR,"pkcs8"))})):r(i)}))},getEncoded:function(){return this.encoded}}),rt=function(t,e){new nt(t,e)},Gi=ut={V1:1,V2:2},ot=k.Class.create({init:function(t,e,i,n){an(n,(function(){var n,r,o,a;for(a in n=Gi.V1,r=t,o=null,g)if(g[a]==t){n=Gi.V2,r=null,o=t;break}return Object.defineProperties(this,{version:{value:n,writable:!1,enumerable:!1,configurable:!1},keyId:{value:r,writable:!1,configurable:!1},cipherSpec:{value:o,writable:!1,configurable:!1},iv:{value:e,writable:!1,configurable:!1},ciphertext:{value:i,writable:!1,configurable:!1}}),this}),this)},toJSON:function(){var t;switch(t={},this.version){case Gi.V1:t.keyid=this.keyId,this.iv&&(t.iv=c(this.iv)),t.ciphertext=c(this.ciphertext),t.sha256="AA==";break;case Gi.V2:t.version=this.version,t.cipherspec=this.cipherSpec,this.iv&&(t.iv=c(this.iv)),t.ciphertext=c(this.ciphertext);break;default:throw new R("Ciphertext envelope version "+this.version+" encoding unsupported.")}return t}}),at=function(t,e,i,n){new ot(t,e,i,n)},st=function(t,e,i){an(i,(function(){var n,r,o,a,s,u,c;if(n=t.keyid,r=t.cipherspec,o=t.iv,a=t.ciphertext,s=t.sha256,!e)if((e=t.version)&&"number"==typeof e&&e==e){for(c in u=!1,Gi)if(Gi[c]==e){u=!0;break}if(!u)throw new P(un.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t))}else e=Gi.V1;switch(e){case Gi.V1:if("string"!=typeof n||o&&"string"!=typeof o||"string"!=typeof a||"string"!=typeof s)throw new j(un.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));break;case Gi.V2:if((c=t.version)!=Gi.V2)throw new P(un.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t));if("string"!=typeof r||o&&"string"!=typeof o||"string"!=typeof a)throw new j(un.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(t));if(!(r=m(r)))throw new P(un.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(t));n=r;break;default:throw new P(un.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(t))}try{o&&(o=h(o)),a=h(a)}catch(e){throw new P(un.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(t),e)}new ot(n,o,a,i)}))},function(){var t;t=lt={V1:1,V2:2},ct=k.Class.create({init:function(e,i,n){var r;switch(e){case t.V1:r=n;break;case t.V2:(r={}).version=e,r.algorithm=i,r.signature=c(n),r=Qi(JSON.stringify(r),p);break;default:throw new R("Signature envelope version "+e+" encoding unsupported.")}Object.defineProperties(this,{version:{value:e,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:i,writable:!1,configurable:!1},signature:{value:n,writable:!1,configurable:!1},bytes:{value:r,writable:!1,configurable:!1}})}}),ht=function(){var e,i,n,r;2==arguments.length?(e=t.V1,i=arguments[0],n=null,r=arguments[1]):3==arguments.length&&(e=t.V2,n=arguments[0],i=arguments[1],r=arguments[2]),an(r,(function(){return new ct(e,n,i)}))},ft=function(e,i,n){an(n,(function(){var n,r,o,a,s,u,f;if(i)switch(i){case t.V1:return new ct(t.V1,null,e);case t.V2:try{if(n=Zi(e,p),r=JSON.parse(n),o=parseInt(r.version),a=r.algorithm,s=r.signature,!o||"number"!=typeof o||o!=o||"string"!=typeof a||"string"!=typeof s)throw new j(un.JSON_PARSE_ERROR,"signature envelope "+c(e));if(t.V2!=o)throw new P(un.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+c(e));if(!(u=w(a)))throw new P(un.UNIDENTIFIED_ALGORITHM,"signature envelope "+c(e));if(!(f=h(s)))throw new P(un.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(e));return new ct(t.V2,u,f)}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"signature envelope "+c(e),t);throw t}default:throw new P(un.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+c(e))}try{n=Zi(e,p),r=JSON.parse(n)}catch(t){r=null}switch(r&&r.version?("number"!=typeof(n=r.version)||n!=n)&&(n=t.V1):n=t.V1,n){case t.V1:return new ct(n,null,e);case t.V2:if(u=r.algorithm,s=r.signature,"string"!=typeof u||"string"!=typeof s)return new ct(t.V1,null,e);if(!(u=w(u)))return new ct(t.V1,null,e);try{f=h(s)}catch(i){return new ct(t.V1,null,e)}return new ct(n,u,f);default:throw new P(un.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+e)}}))}}(),dt=k.Class.create({encrypt:function(t,e){},decrypt:function(t,e){},wrap:function(t,e){},unwrap:function(t,e,i,n){},sign:function(t,e){},verify:function(t,e,i){}}),function(){var t;t=bt={RSA_OAEP:G.name,A128KW:K.name},o="A128GCM",pt=k.Class.create({init:function(e,i,n,r,o){switch(i){case t.RSA_OAEP:o=o&&(o.rawKey||o),r=r&&(r.rawKey||r);break;case t.A128KW:o=r=r&&(r.rawKey||r);break;default:throw new R("Unsupported algorithm: "+i)}Object.defineProperties(this,{_ctx:{value:e,writable:!1,enumerable:!1,configurable:!1},_algo:{value:i,writable:!1,enumerable:!1,configurable:!1},_enc:{value:n,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:o,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:r,writable:!1,enumerable:!1,configurable:!1}})},encrypt:function(t,e){e.error(new P(un.ENCRYPT_NOT_SUPPORTED))},decrypt:function(t,e){e.error(new P(un.DECRYPT_NOT_SUPPORTED))},wrap:function(t,e){an(e,(function(){B.wrapKey("jwe+jwk",t.rawKey,this._wrapKey,this._wrapKey.algorithm).then((function(t){e.result(t)}),(function(t){e.error(new P(un.WRAP_ERROR))}))}),this)},unwrap:function(t,e,i,n){an(n,(function(){B.unwrapKey("jwe+jwk",t,this._unwrapKey,this._unwrapKey.algorithm,e,!1,i).then((function(t){!function(t){an(n,(function(){switch(t.type){case"secret":Q(t,n);break;case"public":et(t,n);break;case"private":rt(t,n);break;default:throw new P(un.UNSUPPORTED_KEY,"type: "+t.type)}}))}(t)}),(function(){n.error(new P(un.UNWRAP_ERROR))}))}),this)},sign:function(t,e){e.error(new P(un.SIGN_NOT_SUPPORTED))},verify:function(t,e,i){i.error(new P(un.VERIFY_NOT_SUPPORTED))}})}(),vt=dt.extend({encrypt:function(t,e){e.result(t)},decrypt:function(t,e){e.result(t)},wrap:function(t,e){e.result(t)},unwrap:function(t,e,i,n){n.result(t)},sign:function(t,e){e.result(new Uint8Array(0))},verify:function(t,e,i){i.result(!0)}}),function(){var t;t=gt={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5},yt=dt.extend({init:function e(i,n,r,o,a){e.base.call(this),r&&(r=r.rawKey),o&&(o=o.rawKey),Object.defineProperties(this,{id:{value:n,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:r,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:o,writable:!1,enumerable:!1,configurable:!1},transform:{value:a==t.ENCRYPT_DECRYPT_PKCS1?J:a==t.ENCRYPT_DECRYPT_OAEP?G:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:a==t.WRAP_UNWRAP_PKCS1?J:a==t.WRAP_UNWRAP_OAEP?G:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:a==t.SIGN_VERIFY?z:"nullOp",writable:!1,enumerable:!1,configurable:!1}})},encrypt:function(t,e){var i;i=this,an(e,(function(){if("nullOp"==this.transform)return t;if(!this.publicKey)throw new P(un.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==t.length)return t;B.encrypt(i.transform,i.publicKey,t).then((function(t){at(i.id,null,t,{result:function(t){var i;try{i=JSON.stringify(t),e.result(Qi(i,p))}catch(t){e.error(new P(un.ENCRYPT_ERROR,null,t))}},error:function(t){t instanceof A||(t=new P(un.ENCRYPT_ERROR,null,t)),e.error(t)}})}),(function(t){e.error(new P(un.ENCRYPT_ERROR))}))}),this)},decrypt:function(t,e){var i;i=this,an(e,(function(){var n,r;if("nullOp"==this.transform)return t;if(!this.privateKey)throw new P(un.DECRYPT_NOT_SUPPORTED,"no private key");if(0==t.length)return t;try{n=Zi(t,p),r=JSON.parse(n)}catch(t){if(t instanceof SyntaxError)throw new P(un.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,t);throw new P(un.DECRYPT_ERROR,null,t)}st(r,ut.V1,{result:function(t){var n;try{if(t.keyId!=i.id)throw new P(un.ENVELOPE_KEY_ID_MISMATCH);n=e.result,B.decrypt(i.transform,i.privateKey,t.ciphertext).then(n,(function(t){e.error(new P(un.DECRYPT_ERROR))}))}catch(t){t instanceof A?e.error(t):e.error(new P(un.DECRYPT_ERROR,null,t))}},error:function(t){t instanceof j&&(t=new P(un.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,t)),t instanceof A||(t=new P(un.DECRYPT_ERROR,null,t)),e.error(t)}})}),this)},wrap:function(t,e){an(e,(function(){var i;if("nullOp"==this.wrapTransform||!this.publicKey)throw new P(un.WRAP_NOT_SUPPORTED,"no public key");i=e.result,B.wrapKey("jwk",t.rawKey,this.publicKey,this.wrapTransform).then(i,(function(t){e.error(new P(un.WRAP_ERROR))}))}),this)},unwrap:function(t,e,i,n){function r(t){an(n,(function(){switch(t.type){case"secret":Q(t,n);break;case"public":et(t,n);break;case"private":rt(t,n);break;default:throw new P(un.UNSUPPORTED_KEY,"type: "+t.type)}}))}an(n,(function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new P(un.UNWRAP_NOT_SUPPORTED,"no private key");B.unwrapKey("jwk",t,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},e,!1,i).then(r,(function(t){n.error(new P(un.UNWRAP_ERROR))}))}),this)},sign:function(t,e){an(e,(function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new P(un.SIGN_NOT_SUPPORTED,"no private key");B.sign(this.algo,this.privateKey,t).then((function(t){ht(t,{result:function(t){e.result(t.bytes)},error:e.error})}),(function(t){e.error(new P(un.SIGNATURE_ERROR))}))}),this)},verify:function(t,e,i){var n;n=this,an(i,(function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new P(un.VERIFY_NOT_SUPPORTED,"no public key");ft(e,lt.V1,{result:function(e){an(i,(function(){var n;n=i.result,B.verify(this.algo,this.publicKey,e.signature,t).then(n,(function(t){i.error(new P(un.SIGNATURE_ERROR))}))}),n)},error:i.error})}),this)}})}(),mt=dt.extend({init:function t(e,i,n,r,o){t.base.call(this),n=n&&n.rawKey,r=r&&r.rawKey,o=o&&o.rawKey,Object.defineProperties(this,{ctx:{value:e,writable:!1,enumerable:!1,configurable:!1},id:{value:i,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:r,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:o,writable:!1,enumerable:!1,configurable:!1}})},encrypt:function(t,e){var i;i=this,an(e,(function(){var n;if(!this.encryptionKey)throw new P(un.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==t.length)return t;n=new Uint8Array(16),this.ctx.getRandom().nextBytes(n),B.encrypt({name:H.name,iv:n},i.encryptionKey,t).then((function(t){t=new Uint8Array(t),at(i.id,n,t,{result:function(t){var i;try{i=JSON.stringify(t),e.result(Qi(i,p))}catch(t){e.error(new P(un.ENCRYPT_ERROR,null,t))}},error:function(t){t instanceof A||(t=new P(un.ENCRYPT_ERROR,null,t)),e.error(t)}})}),(function(t){e.error(new P(un.ENCRYPT_ERROR))}))}),this)},decrypt:function(t,e){var i;i=this,an(e,(function(){var n,r;if(!this.encryptionKey)throw new P(un.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==t.length)return t;try{n=Zi(t,p),r=JSON.parse(n)}catch(t){if(t instanceof SyntaxError)throw new P(un.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,t);throw new P(un.DECRYPT_ERROR,null,t)}st(r,ut.V1,{result:function(t){try{if(t.keyId!=i.id)throw new P(un.ENVELOPE_KEY_ID_MISMATCH);B.decrypt({name:H.name,iv:t.iv},i.encryptionKey,t.ciphertext).then((function(t){t=new Uint8Array(t),e.result(t)}),(function(){e.error(new P(un.DECRYPT_ERROR))}))}catch(t){t instanceof A?e.error(t):e.error(new P(un.DECRYPT_ERROR,null,t))}},error:function(t){t instanceof j&&(t=new P(un.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,t)),t instanceof A||(t=new P(un.DECRYPT_ERROR,null,t)),e.error(t)}})}),this)},wrap:function(t,e){an(e,(function(){if(!this.wrapKey)throw new P(un.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");B.wrapKey("raw",t.rawKey,this.wrapKey,this.wrapKey.algorithm).then((function(t){e.result(t)}),(function(t){e.error(new P(un.WRAP_ERROR))}))}),this)},unwrap:function(t,e,i,n){an(n,(function(){if(!this.wrapKey)throw new P(un.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");B.unwrapKey("raw",t,this.wrapKey,this.wrapKey.algorithm,e,!1,i).then((function(t){!function(t){an(n,(function(){switch(t.type){case"secret":Q(t,n);break;case"public":et(t,n);break;case"private":rt(t,n);break;default:throw new P(un.UNSUPPORTED_KEY,"type: "+t.type)}}))}(t)}),(function(t){n.error(new P(un.UNWRAP_ERROR))}))}),this)},sign:function(t,e){var i;i=this,an(e,(function(){if(!this.hmacKey)throw new P(un.SIGN_NOT_SUPPORTED,"no HMAC key.");B.sign(V,this.hmacKey,t).then((function(t){an(e,(function(){var i;i=new Uint8Array(t),ht(i,{result:function(t){e.result(t.bytes)},error:e.error})}),i)}),(function(){e.error(new P(un.HMAC_ERROR))}))}),this)},verify:function(t,e,i){var n;n=this,an(i,(function(){if(!this.hmacKey)throw new P(un.VERIFY_NOT_SUPPORTED,"no HMAC key.");ft(e,lt.V1,{result:function(e){an(i,(function(){B.verify(V,this.hmacKey,e.signature,t).then((function(t){i.result(t)}),(function(t){i.error(new P(un.HMAC_ERROR))}))}),n)},error:i.error})}),this)}}),_t=mt.extend({init:function t(e,i,n,r,o){if(n||r||o)t.base.call(this,e,n+"_"+i.sequenceNumber,r,o,null);else{if(!i.isDecrypted())throw new L(un.MASTERTOKEN_UNTRUSTED,i);t.base.call(this,e,i.identity+"_"+i.sequenceNumber,i.encryptionKey,i.hmacKey,null)}}}),wt=dt.extend({encrypt:function(t,e){e.result(t)},decrypt:function(t,e){e.result(t)},wrap:function(t,e){e.error(new R("Wrap is unsupported by the MSL token crypto context."))},unwrap:function(t,e,i,n){n.error(new R("Unwrap is unsupported by the MSL token crypto context."))},sign:function(t,e){e.result(new Uint8Array(0))},verify:function(t,e,i){i.result(!1)}}),Et={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"},Object.freeze(Et),kt=k.Class.create({init:function(t){Object.defineProperties(this,{scheme:{value:t,writable:!1,configurable:!1}})},getIdentity:function(){},getAuthData:function(){},equals:function(t){return this===t||t instanceof kt&&this.scheme==t.scheme},toJSON:function(){var t;return(t={}).scheme=this.scheme,t.authdata=this.getAuthData(),t}}),Ot=function(t,e){var i,n;if(i=e.scheme,n=e.authdata,!i||!n)throw new j(un.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(e));if(!Et[i])throw new I(un.UNIDENTIFIED_ENTITYAUTH_SCHEME,i);if(!(e=t.getEntityAuthenticationFactory(i)))throw new I(un.ENTITYAUTH_FACTORY_NOT_FOUND,i);return e.createData(t,n)},St=k.Class.create({init:function(t){Object.defineProperties(this,{scheme:{value:t,writable:!1,configurable:!1}})},createData:function(t,e){},getCryptoContext:function(t,e){}}),Tt=kt.extend({init:function t(e){t.base.call(this,Et.MGK),Object.defineProperties(this,{identity:{value:e,writable:!1,configurable:!1}})},getIdentity:function(){return this.identity},getAuthData:function(){var t;return(t={}).identity=this.identity,t},equals:function t(e){return this===e||e instanceof Tt&&t.base.call(this,this,e)&&this.identity==e.identity}}),At=function(t){var e;if(!(e=t.identity))throw new j(un.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(t));return new Tt(e)},Pt=St.extend({init:function t(e){t.base.call(this,Et.MGK),Object.defineProperties(this,{localIdentity:{value:e,writable:!1,enumerable:!1,configurable:!1}})},createData:function(t,e){return At(e)},getCryptoContext:function(t,e){if(!(e instanceof Tt))throw new R("Incorrect authentication data type "+JSON.stringify(e)+".");if(e.identity!=this.localIdentity)throw new I(un.ENTITY_NOT_FOUND,"mgk "+e.identity).setEntity(e);return new vt}}),jt=kt.extend({init:function t(e){t.base.call(this,Et.PSK),Object.defineProperties(this,{identity:{value:e,writable:!1}})},getIdentity:function(){return this.identity},getAuthData:function(){var t;return(t={}).identity=this.identity,t},equals:function t(e){return this===e||e instanceof jt&&t.base.call(this,this,e)&&this.identity==e.identity}}),It=function(t){var e;if(!(e=t.identity))throw new j(un.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(t));return new jt(e)},xt=St.extend({init:function t(e){t.base.call(this,Et.PSK),Object.defineProperties(this,{localIdentity:{value:e,writable:!1,enumerable:!1,configurable:!1}})},createData:function(t,e){return It(e)},getCryptoContext:function(t,e){if(!(e instanceof jt))throw new R("Incorrect authentication data type "+JSON.stringify(e)+".");if(e.getIdentity()!=this.localIdentity)throw new I(un.ENTITY_NOT_FOUND,"psk "+e.identity).setEntity(e);return new vt}}),Mt=kt.extend({init:function t(e,i){t.base.call(this,Et.RSA),Object.defineProperties(this,{identity:{value:e,writable:!1,configurable:!1},publicKeyId:{value:i,writable:!1,configurable:!1}})},getIdentity:function(){return this.identity},getAuthData:function(){var t;return(t={}).identity=this.identity,t.pubkeyid=this.publicKeyId,t},equals:function t(e){return this===e||e instanceof Mt&&t.base.call(this,this,e)&&this.identity==e.identity&&this.publicKeyId==e.publicKeyId}}),Rt=function(t){var e,i;if(e=t.identity,i=t.pubkeyid,!e||"string"!=typeof e||!i||"string"!=typeof i)throw new j(un.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(t));return new Mt(e,i)},Nt=St.extend({init:function t(e){t.base.call(this,Et.RSA),Object.defineProperties(this,{store:{value:e,writable:!1,enumerable:!1,configurable:!1}})},createData:function(t,e){return Rt(e)},getCryptoContext:function(t,e){var i,n,r;if(!(e instanceof Mt))throw new R("Incorrect authentication data type "+e+".");if(i=e.identity,n=e.publicKeyId,!(r=this.store.getPublicKey(n)))throw new I(un.RSA_PUBLICKEY_NOT_FOUND,n).setEntity(e);return new yt(t,i,null,r,gt.SIGN_VERIFY)}}),Ct=kt.extend({init:function t(e){t.base.call(this,Et.NONE),Object.defineProperties(this,{identity:{value:e,writable:!1}})},getIdentity:function(){return this.identity},getAuthData:function(){var t;return(t={}).identity=this.identity,t},equals:function t(e){return this===e||e instanceof Ct&&t.base.call(this,this,e)&&this.identity==e.identity}}),Lt=function(t){var e;if(!(e=t.identity))throw new j(un.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(t));return new Ct(e)},Dt=St.extend({init:function t(){t.base.call(this,Et.NONE)},createData:function(t,e){return Lt(e)},getCryptoContext:function(t,e){if(!(e instanceof Ct))throw new R("Incorrect authentication data type "+JSON.stringify(e)+".");return new vt}}),Ut=k.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}})},addPublicKey:function(t,e){if(!(e instanceof tt))throw new R("Incorrect key data type "+e+".");this.rsaKeys[t]=e},getIdentities:function(){return Object.keys(this.rsaKeys)},removePublicKey:function(t){delete this.rsaKeys[t]},getPublicKey:function(t){return this.rsaKeys[t]}}),Bt=k.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(t,e,i){}}),Ft=k.Class.create({abort:function(){},close:function(t,e){},write:function(t,e,i,n,r){},flush:function(t,e){}}),qt=k.Class.create({init:function(t){Object.defineProperties(this,{_data:{value:t,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}})},abort:function(){},close:function(){this._close=!0},mark:function(){this._mark=this._currentPosition},reset:function(){if(-1==this._mark)throw new M("Stream has not been marked.");this._currentPosition=this._mark},markSupported:function(){return!0},read:function(t,e,i){sn(i,(function(){var e;if(this._closed)throw new M("Stream is already closed.");return this._currentPosition==this._data.length?null:(-1==t&&(t=this._data.length-this._currentPosition),e=this._data.subarray(this._currentPosition,this._currentPosition+t),this._currentPosition+=e.length,e)}),this)}}),Kt=k.Class.create({init:function(){var t;t={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}},Object.defineProperties(this,t)},abort:function(){},close:function(t,e){this._closed=!0,e.result(!0)},write:function(t,e,i,n,r){sn(r,(function(){var n;if(this._closed)throw new M("Stream is already closed.");if(0>e)throw new RangeError("Offset cannot be negative.");if(0>i)throw new RangeError("Length cannot be negative.");if(e+i>t.length)throw new RangeError("Offset plus length cannot be greater than the array length.");return n=t.subarray(e,i),this._buffered.push(n),n.length}),this)},flush:function(t,e){for(var i;0<this._buffered.length;)t=this._buffered.shift(),this._result?((i=new Uint8Array(this._result.length+t.length)).set(this._result),i.set(t,this._result.length),this._result=i):this._result=new Uint8Array(t);e.result(!0)},size:function(){return this.flush(1,{result:function(){}}),this._result.length},toByteArray:function(){return this.flush(1,{result:function(){}}),this._result}}),Vt=k.Class.create({getResponse:function(t,e,i){}}),Ji=Ft.extend({init:function(t,e){t={_httpLocation:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:e,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Kt,writable:!1,enumerable:!1,configurable:!1},_response:{value:r,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new O,writable:!0,enumerable:!1,configurable:!1}},Object.defineProperties(this,t)},setTimeout:function(t){this._timeout=t},getResponse:function(t,e){var i;i=this,this._responseQueue.poll(t,{result:function(t){sn(e,(function(){return t&&this._responseQueue.add(t),t}),i)},timeout:function(){sn(e,(function(){this._response={isTimeout:!0},this._responseQueue.add(this._response),this.abort(),e.timeout()}),i)},error:function(t){sn(e,(function(){throw this._response={isError:!0},this._responseQueue.add(this._response),t}),i)}})},abort:function(){this._abortToken&&this._abortToken.abort()},close:function(t,e){var i;i=this,sn(e,(function(){var t;return this._response||0<(t=this._buffer.toByteArray()).length&&(this._abortToken=this._httpLocation.getResponse({body:t},this._timeout,{result:function(t){i._response={response:t},i._responseQueue.add(i._response)},timeout:function(){i._response={isTimeout:!0},i._responseQueue.add(i._response)},error:function(t){i._response={isError:!0,error:t},i._responseQueue.add(i._response)}})),!0}),this)},write:function(t,e,i,n,r){sn(r,(function(){if(this._response)throw new M("HttpOutputStream already closed.");this._buffer.write(t,e,i,n,r)}),this)},flush:function(t,e){sn(e,(function(){if(this._response)return!0;this._buffer.flush(t,e)}),this)}}),zi=Bt.extend({init:function(t){Object.defineProperties(this,{_out:{value:t,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:r,writable:!0,enumerable:!1,configurable:!1},_exception:{value:r,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:r,writable:!0,enumerable:!1,configurable:!1}})},abort:function(){this._out.abort()},close:function(){this._buffer&&this._buffer.close()},mark:function(){this._buffer||this._buffer.mark()},reset:function(){this._buffer&&this._buffer.reset()},markSupported:function(){if(this._buffer)return this._buffer.markSupported()},read:function(t,e,i){var n;sn(i,(function(){if(this._exception)throw this._exception;if(this._timedout)i.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(t,e,i):this._out.close(e,{result:function(o){!function(o){sn(i,(function(){if(!o)return new Uint8Array(0);this._out.getResponse(e,{result:function(o){sn(i,(function(){var a;if(o.isTimeout)this._timedout=!0,i.timeout();else{if(o.isError)throw this._exception=o.error||new M("Unknown HTTP exception."),this._exception;if(!o.response)throw this._exception=new M("Missing HTTP response."),this._exception;o.response.json!==r&&(this._json=o.response.json,this.getJSON=function(){return n._json}),a=o.response.content||tn("string"==typeof o.response.body?o.response.body:JSON.stringify(this._json)),this._buffer=new qt(a),this._buffer.read(t,e,i)}}),n)},timeout:function(){i.timeout()},error:function(t){i.error(t)}})}),n)}(o)},timeout:function(){i.timeout()},error:function(t){i.error(t)}})}}),n=this)}}),Ht=k.Class.create({init:function(t,e){Object.defineProperties(this,{_httpLocation:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:e,writable:!0,enumerable:!1,configurable:!1}})},setTimeout:function(t){this._timeout=t},openConnection:function(){var t;return t=new Ji(this._httpLocation,this._timeout),{input:new zi(t),output:t}}}),function(){var t,e;t=Ft.extend({init:function(){var t;t={_buffer:{value:new Uint8Array,writable:!0,enumerable:!1,configurable:!1}},Object.defineProperties(this,t)},setTimeout:function(){},getResponse:function(t,e){e.result({success:!1,content:null,errorHttpCode:r,errorSubCode:r})},abort:function(){},close:function(t,e){e.result(!0)},write:function(t,e,i,n,r){var o,a;try{if(0>e)throw new RangeError("Offset cannot be negative.");if(0>i)throw new RangeError("Length cannot be negative.");if(e+i>t.length)throw new RangeError("Offset plus length cannot be greater than the array length.");o=t.subarray(e,i),(a=new Uint8Array(this._buffer.length+o.length)).set(this._buffer),a.set(o,this._buffer.length),this._buffer=a,r.result(o.length)}catch(t){r.error(t)}},flush:function(t,e){e.result(!0)},request:function(){return this._buffer}}),e=Bt.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(t,e,i){i.result(new Uint8Array(16))}}),Gt=k.Class.create({init:function(){var i;i={output:{value:new t,writable:!1,enumerable:!1,configurable:!1},input:{value:new e,writable:!0,enumerable:!1,configurable:!1}},Object.defineProperties(this,i)},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output}},getRequest:function(){return $i(this.output.request())}})}(),Jt=function(t,e,i){var n,o;n=e,o=function(e,n){var o,a;if(e)i.error(e);else if(n)if(t.getJSON!==r&&"function"==typeof t.getJSON)i.result(t.getJSON());else{for(e=i.result,o=[],a=(n=new he(Zi(n,"utf-8"))).nextValue();a!==r;)o.push(a),a=n.nextValue();e.call(i,o)}else i.result(null)},t.read(-1,n,{result:function(t){t&&t.length?o(null,t):o(null,null)},timeout:function(){i.timeout()},error:function(t){o(t,null)}})},zt={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"},Object.freeze(zt),Yt=k.Class.create({init:function(t){Object.defineProperties(this,{keyExchangeScheme:{value:t,writable:!1,configurable:!1}})},getKeydata:function(){},toJSON:function(){var t;return(t={}).scheme=this.keyExchangeScheme,t.keydata=this.getKeydata(),t},equals:function(t){return this===t||t instanceof Yt&&this.keyExchangeScheme==t.keyExchangeScheme},uniqueKey:function(){return this.keyExchangeScheme}}),Wt=function(t,e,i){an(i,(function(){var n,r,o;if(n=e.scheme,r=e.keydata,!n||!r||"object"!=typeof r)throw new j(un.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(e));if(!zt[n])throw new C(un.UNIDENTIFIED_KEYX_SCHEME,n);if(!(o=t.getKeyExchangeFactory(n)))throw new C(un.KEYX_FACTORY_NOT_FOUND,n);o.createRequestData(t,r,i)}))},Xt=k.Class.create({init:function(t,e){Object.defineProperties(this,{masterToken:{value:t,writable:!1,configurable:!1},keyExchangeScheme:{value:e,wrtiable:!1,configurable:!1}})},getKeydata:function(){},toJSON:function(){var t;return(t={}).mastertoken=this.masterToken,t.scheme=this.keyExchangeScheme,t.keydata=this.getKeydata(),t},equals:function(t){return this===t||t instanceof Xt&&this.masterToken.equals(t.masterToken)&&this.keyExchangeScheme==t.keyExchangeScheme},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme}}),Zt=function(t,e,i){an(i,(function(){var n,r,o;if(n=e.mastertoken,r=e.scheme,o=e.keydata,!r||!n||"object"!=typeof n||!o||"object"!=typeof o)throw new j(un.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(e));if(!zt[r])throw new C(un.UNIDENTIFIED_KEYX_SCHEME,r);We(t,n,{result:function(e){an(i,(function(){var i;if(!(i=t.getKeyExchangeFactory(r)))throw new C(un.KEYX_FACTORY_NOT_FOUND,r);return i.createResponseData(t,e,o)}))},error:function(t){i.error(t)}})}))},function(){var t;t=k.Class.create({init:function(t,e){Object.defineProperties(this,{keyResponseData:{value:t,writable:!1,configurable:!1},cryptoContext:{value:e,writable:!1,configurable:!1}})}}),Qt=k.Class.create({init:function(t){Object.defineProperties(this,{scheme:{value:t,writable:!1,configurable:!1}})},createRequestData:function(t,e,i){},createResponseData:function(t,e,i){},generateResponse:function(t,e,i,n){},getCryptoContext:function(t,e,i,n,r){},generateSessionKeys:function(t,e){an(e,(function(){var i,n;i=new Uint8Array(16),n=new Uint8Array(32),t.getRandom().nextBytes(i),t.getRandom().nextBytes(n),$(i,H,Y,{result:function(t){$(n,V,X,{result:function(i){e.result({encryptionKey:t,hmacKey:i})},error:function(t){e.error(new P(un.SESSION_KEY_CREATION_FAILURE,null,t))}})},error:function(t){e.error(new P(un.SESSION_KEY_CREATION_FAILURE,null,t))}})}))},importSessionKeys:function(t,e,i){$(t,H,Y,{result:function(t){$(e,V,X,{result:function(e){i.result({encryptionKey:t,hmacKey:e})},error:function(t){i.error(t)}})},error:function(t){i.error(t)}})}}),Qt.KeyExchangeData=t}(),function(){var t,e,i;t={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"},e=te=Yt.extend({init:function e(i,n){if(e.base.call(this,zt.JWE_LADDER),i===t.WRAP){if(!n)throw new R("Previous wrapping key based key exchange requires the previous wrapping key data and ID.")}else n=null;Object.defineProperties(this,{mechanism:{value:i,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}})},getKeydata:function(){var t;return(t={}).mechanism=this.mechanism,this.wrapdata&&(t.wrapdata=c(this.wrapdata)),t},equals:function t(e){return e===this||e instanceof te&&(t.base.call(this,e)&&this.mechanism==e.mechanism&&en(this.wrapdata,e.wrapdata))},uniqueKey:function t(){var e;return e=t.base.call(this)+":"+this.mechanism,this.wrapdata&&(e+=":"+nn(this.wrapdata)),e}}),i=ee=Xt.extend({init:function t(e,i,n,r,o){t.base.call(this,e,zt.JWE_LADDER),Object.defineProperties(this,{wrapKey:{value:i,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:r,writable:!1,configurable:!1},hmacKey:{value:o,writable:!1,configurable:!1}})},getKeydata:function(){var t;return(t={}).wrapkey=c(this.wrapKey),t.wrapdata=c(this.wrapdata),t.encryptionkey=c(this.encryptionKey),t.hmackey=c(this.hmacKey),t},equals:function t(e){return this===e||e instanceof ee&&(t.base.call(this,e)&&en(this.wrapKey,e.wrapKey)&&en(this.wrapdata,e.wrapdata)&&en(this.encryptionKey,e.encryptionKey)&&en(this.hmacKey,e.hmacKey))},uniqueKey:function t(){return t.base.call(this)+":"+nn(this.wrapKey)+":"+nn(this.wrapdata)+":"+nn(this.encryptionKey)+":"+nn(this.hmacKey)}}),$t=Qt.extend({init:function t(e){t.base.call(this,zt.JWE_LADDER),Object.defineProperties(this,{repository:{value:e,writable:!1,enumerable:!1,configurable:!1}})},createRequestData:function(i,n,r){an(r,(function(){var i,r,o;if(i=n.mechanism,r=n.wrapdata,!i||i==t.WRAP&&(!r||"string"!=typeof r))throw new j(un.JSON_PARSE_ERROR,"keydata "+JSON.stringify(n));if(!t[i])throw new C(un.UNIDENTIFIED_KEYX_MECHANISM,i);if(i===t.WRAP){try{o=h(r)}catch(t){throw new C(un.KEYX_WRAPPING_KEY_MISSING,"keydata "+n.toString())}if(null==o||0==o.length)throw new C(un.KEYX_WRAPPING_KEY_MISSING,"keydata "+n.toString())}else o=null;return new e(i,o)}))},createResponseData:function(t,e,n){var r,o,a,s,u,c,f;if(t=n.wrapkey,r=n.wrapdata,o=n.encryptionkey,a=n.hmackey,!(t&&"string"==typeof t&&r&&"string"==typeof r&&o&&"string"==typeof o&&a)||"string"!=typeof a)throw new j(un.JSON_PARSE_ERROR,"keydata "+JSON.stringify(n));try{s=h(t),u=h(r)}catch(t){throw new P(un.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(n),t)}try{c=h(o)}catch(t){throw new P(un.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(n),t)}try{f=h(a)}catch(t){throw new P(un.INVALID_HMAC_KEY,"keydata "+JSON.stringify(n),t)}return new i(e,s,u,c,f)},generateResponse:function(n,a,s,u){var c,h;function f(e,f,l){c.generateSessionKeys(n,{result:function(d){an(u,(function(){!function(e,f,l,d,p){an(u,(function(){var b,v,y,g,m;b=n,v=a.mechanism,y=a.wrapdata,g=e,m={result:function(t){t.wrap(f,{result:function(t){!function(t,e,r,a,f){an(u,(function(){var l;(l=new pt(n,bt.A128KW,o,t)).wrap(r,{result:function(t){l.wrap(a,{result:function(o){!function(t,e,r,o,a,f){an(u,(function(){var l;l=n.getTokenFactory(),h?l.renewMasterToken(n,h,r,a,{result:function(r){an(u,(function(){var a,s;return a=new _t(n,r),s=new i(r,e,t,o,f),new Qt.KeyExchangeData(s,a,u)}),c)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}}):l.createMasterToken(n,s,r,a,{result:function(r){an(u,(function(){var a,s;return a=new _t(n,r),s=new i(r,e,t,o,f),new Qt.KeyExchangeData(s,a,u)}),c)},error:u.error})}),c)}(e,f,r,t,a,o)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})}),c)}(f,l,d,p,t)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}},an(m,(function(){var e,i;switch(v){case t.PSK:if(e=new jt(g),!(i=b.getEntityAuthenticationFactory(Et.PSK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,v);return e=i.getCryptoContext(b,e),new pt(b,bt.A128KW,o,r);case t.MGK:if(e=new Tt(g),!(i=b.getEntityAuthenticationFactory(Et.MGK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,v);return e=i.getCryptoContext(b,e),new pt(b,bt.A128KW,o,r);case t.WRAP:(e=b.getMslCryptoContext()).unwrap(y,K,W,{result:function(t){an(m,(function(){return new pt(b,bt.A128KW,o,t)}))},error:m.error});break;default:throw new C(un.UNSUPPORTED_KEYX_MECHANISM,v)}}))}),c)}(e,f,l,d.encryptionKey,d.hmacKey)}),c)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})}an(u,(function(){var t,i;if(!(a instanceof e))throw new R("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(t=s,s instanceof Ye){if(!s.isVerified())throw new L(un.MASTERTOKEN_UNTRUSTED,s);h=s,t=s.identity}i=new Uint8Array(16),n.getRandom().nextBytes(i),$(i,K,W,{result:function(e){an(u,(function(){n.getMslCryptoContext().wrap(e,{result:function(i){f(t,e,i)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}),c)}})}),c)},error:function(t){an(u,(function(){throw new P(un.WRAP_KEY_CREATION_FAILURE,null,t).setEntity(h)}),c)}})}),c=this)},getCryptoContext:function(n,a,s,u,h){var f;an(h,(function(){var u,l;if(!(a instanceof e))throw new R("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(!(s instanceof i))throw new R("Key response data "+JSON.stringify(s)+" was not created by this factory.");u=a.mechanism,l=a.wrapdata,n.getEntityAuthenticationData(null,{result:function(e){an(h,(function(){var i,a,d;switch(i=e.getIdentity(),u){case t.PSK:if(a=new jt(i),!(d=n.getEntityAuthenticationFactory(Et.PSK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,u).setEntity(e);a=d.getCryptoContext(n,a),a=new pt(n,bt.A128KW,o,r);break;case t.MGK:if(a=new Tt(i),!(d=n.getEntityAuthenticationFactory(Et.MGK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,u).setEntity(e);a=d.getCryptoContext(n,a),a=new pt(n,bt.A128KW,o,a.wrapKey);break;case t.WRAP:if(!(a=this.repository.getCryptoContext(l)))throw new C(un.KEYX_WRAPPING_KEY_MISSING,c(l)).setEntity(e);break;default:throw new C(un.UNSUPPORTED_KEYX_MECHANISM,u).setEntity(e)}a.unwrap(s.wrapKey,K,W,{result:function(t){!function(t,e,i,r,a){an(h,(function(){var s;(s=new pt(n,bt.A128KW,o,a)).unwrap(e.encryptionKey,H,Y,{result:function(o){s.unwrap(e.hmacKey,V,X,{result:function(t){an(h,(function(){return this.repository.addCryptoContext(e.wrapdata,s),this.repository.removeCryptoContext(i),new _t(n,e.masterToken,r,o,t)}),f)},error:function(e){an(h,(function(){throw e instanceof A&&e.setEntity(t),e}))}})},error:function(e){an(h,(function(){throw e instanceof A&&e.setEntity(t),e}))}})}),f)}(e,s,l,i,t)},error:function(t){an(h,(function(){throw t instanceof A&&t.setEntity(e),t}))}})}),f)},error:h.error})}),f=this)}})}(),function(){var t,e,i,n;t={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"},e=ne=Yt.extend({init:function e(i,n){if(e.base.call(this,zt.JWK_LADDER),i===t.WRAP){if(!n)throw new R("Previous wrapping key based key exchange requires the previous wrapping key data and ID.")}else n=null;Object.defineProperties(this,{mechanism:{value:i,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1}})},getKeydata:function(){var t;return(t={}).mechanism=this.mechanism,this.wrapdata&&(t.wrapdata=c(this.wrapdata)),t},equals:function t(e){return e===this||e instanceof ne&&(t.base.call(this,e)&&this.mechanism==e.mechanism&&en(this.wrapdata,e.wrapdata))},uniqueKey:function t(){var e;return e=t.base.call(this)+":"+this.mechanism,this.wrapdata&&(e+=":"+nn(this.wrapdata)),e}}),i=re=Xt.extend({init:function t(e,i,n,r,o){t.base.call(this,e,zt.JWK_LADDER),Object.defineProperties(this,{wrapKey:{value:i,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:r,writable:!1,configurable:!1},hmacKey:{value:o,writable:!1,configurable:!1}})},getKeydata:function(){var t;return(t={}).wrapkey=c(this.wrapKey),t.wrapdata=c(this.wrapdata),t.encryptionkey=c(this.encryptionKey),t.hmackey=c(this.hmacKey),t},equals:function t(e){return this===e||e instanceof re&&(t.base.call(this,e)&&en(this.wrapKey,e.wrapKey)&&en(this.wrapdata,e.wrapdata)&&en(this.encryptionKey,e.encryptionKey)&&en(this.hmacKey,e.hmacKey))},uniqueKey:function t(){return t.base.call(this)+":"+nn(this.wrapKey)+":"+nn(this.wrapdata)+":"+nn(this.encryptionKey)+":"+nn(this.hmacKey)}}),n=dt.extend({init:function(t){t&&t.rawKey&&(t=t.rawKey),Object.defineProperties(this,{_wrapKey:{value:t,writable:!1,enumerable:!1,configurable:!1}})},encrypt:function(t,e){e.error(new P(un.ENCRYPT_NOT_SUPPORTED))},decrypt:function(t,e){e.error(new P(un.DECRYPT_NOT_SUPPORTED))},wrap:function(t,e){an(e,(function(){B.wrapKey("jwk",t.rawKey,this._wrapKey,K).then((function(t){e.result(t)}),(function(t){e.error(new P(un.WRAP_ERROR))}))}),this)},unwrap:function(t,e,i,n){an(n,(function(){B.unwrapKey("jwk",t,this._wrapKey,K,e,!1,i).then((function(t){!function(t){an(n,(function(){switch(t.type){case"secret":Q(t,n);break;case"public":et(t,n);break;case"private":rt(t,n);break;default:throw new P(un.UNSUPPORTED_KEY,"type: "+t.type)}}))}(t)}),(function(t){n.error(new P(un.UNWRAP_ERROR))}))}),this)},sign:function(t,e){e.error(new P(un.SIGN_NOT_SUPPORTED))},verify:function(t,e,i){i.error(new P(un.VERIFY_NOT_SUPPORTED))}}),ie=Qt.extend({init:function t(e){t.base.call(this,zt.JWK_LADDER),Object.defineProperties(this,{repository:{value:e,writable:!1,enumerable:!1,configurable:!1}})},createRequestData:function(i,n,r){an(r,(function(){var i,r,o;if(i=n.mechanism,r=n.wrapdata,!i||i==t.WRAP&&(!r||"string"!=typeof r))throw new j(un.JSON_PARSE_ERROR,"keydata "+JSON.stringify(n));if(!t[i])throw new C(un.UNIDENTIFIED_KEYX_MECHANISM,i);if(i===t.WRAP){try{o=h(r)}catch(t){throw new C(un.KEYX_WRAPPING_KEY_MISSING,"keydata "+n.toString())}if(null==o||0==o.length)throw new C(un.KEYX_WRAPPING_KEY_MISSING,"keydata "+n.toString())}else o=null;return new e(i,o)}))},createResponseData:function(t,e,n){var r,o,a,s,u,c,f;if(t=n.wrapkey,r=n.wrapdata,o=n.encryptionkey,a=n.hmackey,!(t&&"string"==typeof t&&r&&"string"==typeof r&&o&&"string"==typeof o&&a)||"string"!=typeof a)throw new j(un.JSON_PARSE_ERROR,"keydata "+JSON.stringify(n));try{s=h(t),u=h(r)}catch(t){throw new P(un.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(n),t)}try{c=h(o)}catch(t){throw new P(un.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(n),t)}try{f=h(a)}catch(t){throw new P(un.INVALID_HMAC_KEY,"keydata "+JSON.stringify(n),t)}return new i(e,s,u,c,f)},generateResponse:function(o,a,s,u){var c,h;function f(e,f,l){c.generateSessionKeys(o,{result:function(d){an(u,(function(){!function(e,f,l,d,p){an(u,(function(){var b,v,y,g,m;b=o,v=a.mechanism,y=a.wrapdata,g=e,m={result:function(t){t.wrap(f,{result:function(t){!function(t,e,r,a,f){an(u,(function(){var l;(l=new n(t)).wrap(r,{result:function(t){l.wrap(a,{result:function(n){!function(t,e,n,r,a,f){an(u,(function(){var l;l=o.getTokenFactory(),h?l.renewMasterToken(o,h,n,a,{result:function(n){an(u,(function(){var a,s;return a=new _t(o,n),s=new i(n,e,t,r,f),new Qt.KeyExchangeData(s,a,u)}),c)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}}):l.createMasterToken(o,s,n,a,{result:function(n){an(u,(function(){var a,s;return a=new _t(o,n),s=new i(n,e,t,r,f),new Qt.KeyExchangeData(s,a,u)}),c)},error:u.error})}),c)}(e,f,r,t,a,n)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})}),c)}(f,l,d,p,t)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}},an(m,(function(){var e,i;switch(v){case t.PSK:if(e=new jt(g),!(i=b.getEntityAuthenticationFactory(Et.PSK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,v);return e=i.getCryptoContext(b,e),new n(r);case t.MGK:if(e=new Tt(g),!(i=b.getEntityAuthenticationFactory(Et.MGK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,v);return e=i.getCryptoContext(b,e),new n(r);case t.WRAP:(e=b.getMslCryptoContext()).unwrap(y,K,W,{result:function(t){an(m,(function(){return new n(t)}))},error:m.error});break;default:throw new C(un.UNSUPPORTED_KEYX_MECHANISM,v)}}))}),c)}(e,f,l,d.encryptionKey,d.hmacKey)}),c)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}))}})}an(u,(function(){var t,i;if(!(a instanceof e))throw new R("Key request data "+JSON.stringify(a)+" was not created by this factory.");if(t=s,s instanceof Ye){if(!s.isVerified())throw new L(un.MASTERTOKEN_UNTRUSTED,s);h=s,t=s.identity}i=new Uint8Array(16),o.getRandom().nextBytes(i),$(i,K,W,{result:function(e){an(u,(function(){o.getMslCryptoContext().wrap(e,{result:function(i){f(t,e,i)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(h),t}),c)}})}),c)},error:function(t){an(u,(function(){throw new P(un.WRAP_KEY_CREATION_FAILURE,null,t).setEntity(h)}),c)}})}),c=this)},getCryptoContext:function(r,o,a,s,u){var h;an(u,(function(){var s,f;if(!(o instanceof e))throw new R("Key request data "+JSON.stringify(o)+" was not created by this factory.");if(!(a instanceof i))throw new R("Key response data "+JSON.stringify(a)+" was not created by this factory.");s=o.mechanism,f=o.wrapdata,r.getEntityAuthenticationData(null,{result:function(e){an(u,(function(){var i,o,l;switch(i=e.getIdentity(),s){case t.PSK:if(o=new jt(i),!(l=r.getEntityAuthenticationFactory(Et.PSK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,s).setEntity(e);o=l.getCryptoContext(r,o),o=new n(o.wrapKey);break;case t.MGK:if(o=new Tt(i),!(l=r.getEntityAuthenticationFactory(Et.MGK)))throw new C(un.UNSUPPORTED_KEYX_MECHANISM,s).setEntity(e);o=l.getCryptoContext(r,o),o=new n(o.wrapKey);break;case t.WRAP:if(!(o=this.repository.getCryptoContext(f)))throw new C(un.KEYX_WRAPPING_KEY_MISSING,c(f)).setEntity(e);break;default:throw new C(un.UNSUPPORTED_KEYX_MECHANISM,s).setEntity(e)}o.unwrap(a.wrapKey,K,W,{result:function(t){!function(t,e,i,o,a){an(u,(function(){var s;(s=new n(a)).unwrap(e.encryptionKey,H,Y,{result:function(n){s.unwrap(e.hmacKey,V,X,{result:function(t){an(u,(function(){return this.repository.addCryptoContext(e.wrapdata,s),this.repository.removeCryptoContext(i),new _t(r,e.masterToken,o,n,t)}),h)},error:function(e){an(u,(function(){throw e instanceof A&&e.setEntity(t),e}))}})},error:function(e){an(u,(function(){throw e instanceof A&&e.setEntity(t),e}))}})}),h)}(e,a,f,i,t)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(e),t}))}})}),h)},error:u.error})}),h=this)}})}(),oe=k.Class.create({addCryptoContext:function(t,e){},getCryptoContext:function(t){},removeCryptoContext:function(t){}}),function(){var t,e,i,n;function r(e,i,n,r,a){switch(n){case t.JWE_RSA:case t.JWEJS_RSA:return new pt(e,bt.RSA_OAEP,o,r,a);case t.JWK_RSA:return new yt(e,i,r,a,gt.WRAP_UNWRAP_OAEP);case t.JWK_RSAES:return new yt(e,i,r,a,gt.WRAP_UNWRAP_PKCS1);default:throw new P(un.UNSUPPORTED_KEYX_MECHANISM,n)}}t=se={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"},e=ue=Yt.extend({init:function t(e,i,n,r){t.base.call(this,zt.ASYMMETRIC_WRAPPED),Object.defineProperties(this,{keyPairId:{value:e,writable:!1,configurable:!1},mechanism:{value:i,writable:!1,configurable:!1},publicKey:{value:n,writable:!1,configurable:!1},privateKey:{value:r,writable:!1,configurable:!1}})},getKeydata:function(){var t;return(t={}).keypairid=this.keyPairId,t.mechanism=this.mechanism,t.publickey=c(this.publicKey.getEncoded()),t},equals:function t(e){var i;return e===this||e instanceof ue&&(i=this.privateKey===e.privateKey||this.privateKey&&e.privateKey&&en(this.privateKey.getEncoded(),e.privateKey.getEncoded()),t.base.call(this,e)&&this.keyPairId==e.keyPairId&&this.mechanism==e.mechanism&&en(this.publicKey.getEncoded(),e.publicKey.getEncoded())&&i)},uniqueKey:function t(){var e,i;return e=this.publicKey.getEncoded(),i=this.privateKey&&this.privateKey.getEncoded(),e=t.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+nn(e),i&&(e+=":"+nn(i)),e}}),i=function(i,n){an(n,(function(){var r,o,a,s;if(r=i.keypairid,o=i.mechanism,a=i.publickey,!r||"string"!=typeof r||!o||!a||"string"!=typeof a)throw new j(un.JSON_PARSE_ERROR,"keydata "+JSON.stringify(i));if(!t[o])throw new C(un.UNIDENTIFIED_KEYX_MECHANISM,o);try{switch(s=h(a),o){case t.JWE_RSA:case t.JWEJS_RSA:case t.JWK_RSA:it(s,G,W,{result:function(t){n.result(new e(r,o,t,null))},error:function(t){n.error(t)}});break;case t.JWK_RSAES:it(s,J,W,{result:function(t){n.result(new e(r,o,t,null))},error:function(t){n.error(t)}});break;default:throw new P(un.UNSUPPORTED_KEYX_MECHANISM,o)}}catch(t){if(!(t instanceof A))throw new P(un.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(i),t);throw t}}))},n=ce=Xt.extend({init:function t(e,i,n,r){t.base.call(this,e,zt.ASYMMETRIC_WRAPPED),Object.defineProperties(this,{keyPairId:{value:i,writable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,configurable:!1},hmacKey:{value:r,writable:!1,configurable:!1}})},getKeydata:function(){var t;return(t={}).keypairid=this.keyPairId,t.encryptionkey=c(this.encryptionKey),t.hmackey=c(this.hmacKey),t},equals:function t(e){return this===e||e instanceof ce&&(t.base.call(this,e)&&this.keyPairId==e.keyPairId&&en(this.encryptionKey,e.encryptionKey)&&en(this.hmacKey,e.hmacKey))},uniqueKey:function t(){return t.base.call(this)+":"+this.keyPairId+":"+nn(this.encryptionKey)+":"+nn(this.hmacKey)}}),ae=Qt.extend({init:function t(){t.base.call(this,zt.ASYMMETRIC_WRAPPED)},createRequestData:function(t,e,n){i(e,n)},createResponseData:function(t,e,i){var r,o,a,s;if(t=i.keypairid,r=i.encryptionkey,o=i.hmackey,!t||"string"!=typeof t||!r||"string"!=typeof r||!o||"string"!=typeof o)throw new j(un.JSON_PARSE_ERROR,"keydata "+JSON.stringify(i));try{a=h(r)}catch(t){throw new P(un.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(i),t)}try{s=h(o)}catch(t){throw new P(un.INVALID_HMAC_KEY,"keydata "+JSON.stringify(i),t)}return new n(e,t,a,s)},generateResponse:function(t,i,o,a){var s;function u(e,u){an(a,(function(){var c;(c=r(t,i.keyPairId,i.mechanism,null,i.publicKey)).wrap(e,{result:function(r){an(a,(function(){c.wrap(u,{result:function(c){!function(e,r,u,c){an(a,(function(){var h;h=t.getTokenFactory(),o instanceof Ye?h.renewMasterToken(t,o,e,u,{result:function(e){an(a,(function(){var o,s;return o=new _t(t,e),s=new n(e,i.keyPairId,r,c),new Qt.KeyExchangeData(s,o,a)}),s)},error:function(t){an(a,(function(){throw t instanceof A&&t.setEntity(o),t}),s)}}):h.createMasterToken(t,o,e,u,{result:function(e){an(a,(function(){var o,s;return o=new _t(t,e),s=new n(e,i.keyPairId,r,c),new Qt.KeyExchangeData(s,o,a)}),s)},error:a.error})}),s)}(e,r,u,c)},error:function(t){an(a,(function(){throw t instanceof A&&o instanceof Ye&&t.setEntity(o),t}),s)}})}),s)},error:function(t){an(a,(function(){throw t instanceof A&&o instanceof Ye&&t.setEntity(o),t}),s)}})}),s)}an(a,(function(){if(!(i instanceof e))throw new R("Key request data "+JSON.stringify(i)+" was not created by this factory.");this.generateSessionKeys(t,{result:function(t){u(t.encryptionKey,t.hmacKey)},error:function(t){an(a,(function(){throw t instanceof A&&o instanceof Ye&&t.setEntity(o),t}),s)}})}),s=this)},getCryptoContext:function(t,i,o,a,s){var u;an(s,(function(){var c,h,f;if(!(i instanceof e))throw new R("Key request data "+JSON.stringify(i)+" was not created by this factory.");if(!(o instanceof n))throw new R("Key response data "+JSON.stringify(o)+" was not created by this factory.");if((c=i.keyPairId)!=(h=o.keyPairId))throw new C(un.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+c+"; response "+h).setEntity(a);if(!(h=i.privateKey))throw new C(un.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(a);(f=r(t,c,i.mechanism,h,null)).unwrap(o.encryptionKey,H,Y,{result:function(e){f.unwrap(o.hmacKey,V,X,{result:function(i){t.getEntityAuthenticationData(null,{result:function(n){an(s,(function(){var r;return r=n.getIdentity(),new _t(t,o.masterToken,r,e,i)}),u)},error:function(t){an(s,(function(){throw t instanceof A&&t.setEntity(a),t}),u)}})},error:function(t){an(s,(function(){throw t instanceof A&&t.setEntity(a),t}),u)}})},error:function(t){an(s,(function(){throw t instanceof A&&t.setEntity(a),t}),u)}})}),u=this)}})}(),he=k.Class.create({init:function(t){var e,i,n,o,a,s,u,c;e=f.parser(),i=[],n=[],u=0,c=!1,e.onerror=function(t){c||(c=!0,e.end())},e.onopenobject=function(t){var e;o?(o[s]={},n.push(o),o=o[s]):a?(e={},n.push(a),a.push(e),o=e,a=r):o={},s=t},e.oncloseobject=function(){var t;(t=n.pop())?"object"==typeof t?o=t:(o=r,a=t):(i.push(o),u=e.index,o=r)},e.onopenarray=function(){var t;o?(o[s]=[],n.push(o),a=o[s],o=r):a?(t=[],n.push(a),a.push(t),a=t):a=[]},e.onclosearray=function(){var t;(t=n.pop())?"object"==typeof t?(o=t,a=r):a=t:(i.push(a),u=e.index,a=r)},e.onkey=function(t){s=t},e.onvalue=function(t){o?o[s]=t:a?a.push(t):(i.push(t),u=e.index)},e.write(t).close(),Object.defineProperties(this,{_values:{value:i,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:u,writable:!0,enumerable:!1,configurable:!1}})},more:function(){return 0<this._values.length},nextValue:function(){return 0==this._values.length?r:this._values.shift()},lastIndex:function(){return this._lastIndex}}),function(){var t,e,i,n,o;t=le="entityauthdata",e=de="mastertoken",i=pe="headerdata",n=be="errordata",o=ve="signature",fe=function(a,s,u,c){an(c,(function(){var f,l,d,p,b,v;if(f=s[t],l=s[e],d=s[o],f&&"object"!=typeof f||l&&"object"!=typeof l||"string"!=typeof d)throw new j(un.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(s));try{p=h(d)}catch(t){throw new D(un.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(s),t)}if(b=null,f&&(b=Ot(a,f)),(v=s[i])!=r&&null!=v){if("string"!=typeof v)throw new j(un.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(s));l?We(a,l,{result:function(t){Te(a,v,b,t,p,u,c)},error:function(t){c.error(t)}}):Te(a,v,b,null,p,u,c)}else{if((f=s[n])==r||null==f)throw new j(un.JSON_PARSE_ERROR,JSON.stringify(s));if("string"!=typeof f)throw new j(un.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(s));me(a,f,b,p,c)}}))}}(),function(){function t(t,e){this.errordata=t,this.signature=e}ye=k.Class.create({init:function(t,e,i,n,r,o,a,s,u,c){var h;an(c,(function(){var f,l;if(0>o&&(o=-1),0>n||n>b)throw new R("Message ID "+n+" is out of range.");if(!e)throw new D(un.MESSAGE_ENTITY_NOT_FOUND);if(u)return Object.defineProperties(this,{entityAuthenticationData:{value:e,writable:!1,configurable:!1},recipient:{value:i,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},errorCode:{value:r,writable:!1,configurable:!1},internalCode:{value:o,writable:!1,configurable:!1},errorMessage:{value:a,writable:!1,configurable:!1},userMessage:{value:s,writable:!1,configurable:!1},errordata:{value:u.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:u.signature,writable:!1,enumerable:!1,configurable:!1}}),this;f={},i&&(f.recipient=i),f.messageid=n,f.errorcode=r,0<o&&(f.internalcode=o),a&&(f.errormsg=a),s&&(f.usermsg=s);try{l=t.getEntityAuthenticationFactory(e.scheme).getCryptoContext(t,e)}catch(t){throw t instanceof A&&(t.setEntity(e),t.setMessageId(n)),t}f=Qi(JSON.stringify(f),p),l.encrypt(f,{result:function(t){an(c,(function(){l.sign(t,{result:function(u){an(c,(function(){return Object.defineProperties(this,{entityAuthenticationData:{value:e,writable:!1,configurable:!1},recipient:{value:i,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},errorCode:{value:r,writable:!1,configurable:!1},internalCode:{value:o,writable:!1,configurable:!1},errorMessage:{value:a,writable:!1,configurable:!1},userMessage:{value:s,writable:!1,configurable:!1},errordata:{value:t,writable:!1,enumerable:!1,configurable:!1},signature:{value:u,writable:!1,enumerable:!1,configurable:!1}}),this}),h)},error:function(t){an(c,(function(){throw t instanceof A&&(t.setEntity(e),t.setMessageId(n)),t}),h)}})}),h)},error:function(t){an(c,(function(){throw t instanceof A&&(t.setEntity(e),t.setMessageId(n)),t}),h)}})}),h=this)},toJSON:function(){var t;return(t={})[le]=this.entityAuthenticationData,t[be]=c(this.errordata),t[ve]=c(this.signature),t}}),ge=function(t,e,i,n,r,o,a,s,u){new ye(t,e,i,n,r,o,a,s,null,u)},me=function(e,i,n,o,a){an(a,(function(){var s,u,c;if(!n)throw new D(un.MESSAGE_ENTITY_NOT_FOUND);try{if(s=n.scheme,!(u=e.getEntityAuthenticationFactory(s)))throw new I(un.ENTITYAUTH_FACTORY_NOT_FOUND,s);c=u.getCryptoContext(e,n)}catch(t){throw t instanceof A&&t.setEntity(n),t}try{i=h(i)}catch(t){throw new D(un.HEADER_DATA_INVALID,i,t).setEntity(n)}if(!i||0==i.length)throw new D(un.HEADER_DATA_MISSING,i).setEntity(n);c.verify(i,o,{result:function(s){an(a,(function(){if(!s)throw new P(un.MESSAGE_VERIFICATION_FAILED).setEntity(n);c.decrypt(i,{result:function(s){an(a,(function(){var u,c,h,f,l,d,v,y;u=Zi(s,p);try{c=JSON.parse(u)}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"errordata "+u,t).setEntity(n);throw t}if(h=c.recipient!==r?c.recipient:null,f=parseInt(c.messageid),l=parseInt(c.errorcode),d=parseInt(c.internalcode),v=c.errormsg,y=c.usermsg,h&&"string"!=typeof h||!f||f!=f||!l||l!=l||c.internalcode&&d!=d||v&&"string"!=typeof v||y&&"string"!=typeof y)throw new j(un.JSON_PARSE_ERROR,"errordata "+u).setEntity(n);if(0>f||f>b)throw new D(un.MESSAGE_ID_OUT_OF_RANGE,"errordata "+u).setEntity(n);for(var g in c=!1,E)if(E[g]==l){c=!0;break}if(c||(l=E.FAIL),d){if(0>d)throw new D(un.INTERNAL_CODE_NEGATIVE,"errordata "+u).setEntity(n).setMessageId(f)}else d=-1;u=new t(i,o),new ye(e,n,h,f,l,d,v,y,u,a)}))},error:function(t){an(a,(function(){throw t instanceof A&&t.setEntity(n),t}))}})}))},error:function(t){an(a,(function(){throw t instanceof A&&t.setEntity(n),t}))}})}))}}(),_e=k.Class.create({getUserMessage:function(t,e){}}),ke=function(t,e){var i;return t&&e?(i=t.compressionAlgorithms.filter((function(t){for(var i=0;i<e.compressionAlgorithms.length;++i)if(t==e.compressionAlgorithms[i])return!0;return!1})),t=t.languages.filter((function(t){for(var i=0;i<e.languages.length;++i)if(t==e.languages[i])return!0;return!1})),new we(i,t)):null},we=k.Class.create({init:function(t,e){t||(t=[]),e||(e=[]),t.sort(),Object.defineProperties(this,{compressionAlgorithms:{value:t,writable:!1,enumerable:!0,configurable:!1},languages:{value:e,writable:!1,enumerable:!0,configurable:!1}})},toJSON:function(){var t;return(t={}).compressionalgos=this.compressionAlgorithms,t.languages=this.languages,t},equals:function(t){return this===t||t instanceof we&&on(this.compressionAlgorithms,t.compressionAlgorithms)&&on(this.languages,t.languages)},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":")}}),Ee=function(t){var e,i,n;if(e=t.compressionalgos,i=t.languages,e&&!(e instanceof Array)||i&&!(i instanceof Array))throw new j(un.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(t));t=[];for(var r=0;e&&r<e.length;++r)n=e[r],v[n]&&t.push(n);return new we(t,i)},function(){var t,e;function i(t,e,i,n,r){this.customer=t,this.sender=e,this.messageCryptoContext=i,this.headerdata=n,this.signature=r}function n(t,e,i,n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m){return{cryptoContext:{value:e,writable:!1,configurable:!1},customer:{value:i,writable:!1,configurable:!1},entityAuthenticationData:{value:n,writable:!1,configurable:!1},masterToken:{value:r,writable:!1,configurable:!1},sender:{value:o,writable:!1,configurable:!1},messageId:{value:a,writable:!1,configurable:!1},nonReplayableId:{value:b,writable:!1,configurable:!1},keyRequestData:{value:s,writable:!1,configurable:!1},keyResponseData:{value:u,writable:!1,configurable:!1},userAuthenticationData:{value:c,writable:!1,configurable:!1},userIdToken:{value:h,writable:!1,configurable:!1},serviceTokens:{value:f,writable:!1,configurable:!1},peerMasterToken:{value:l,writable:!1,configurable:!1},peerUserIdToken:{value:d,writable:!1,configurable:!1},peerServiceTokens:{value:p,writable:!1,configurable:!1},messageCapabilities:{value:y,writable:!1,configurable:!1},renewable:{value:v,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:m,writable:!1,enumerable:!1,configurable:!1}}}function o(t,e,i){var n;if(i){if(e=t.getMslStore().getCryptoContext(i))return e;if(!i.isVerified()||!i.isDecrypted())throw new L(un.MASTERTOKEN_UNTRUSTED,i);return new _t(t,i)}if(i=e.scheme,!(n=t.getEntityAuthenticationFactory(i)))throw new I(un.ENTITYAUTH_FACTORY_NOT_FOUND,i);return n.getCryptoContext(t,e)}function a(t,e,i,n,r,o,a){var s;function u(e,a,c){var h,f;if(a>=e.length){for(f in h=[],s)h.push(s[f]);c.result(h)}else{if("object"!=typeof(h=e[a]))throw new j(un.JSON_PARSE_ERROR,"headerdata "+o);ti(t,h,i,n,r,{result:function(t){an(c,(function(){s[t.uniqueKey()]=t,u(e,a+1,c)}))},error:function(t){c.error(t)}})}}s={},an(a,(function(){if(!e)return[];if(!(e instanceof Array))throw new j(un.JSON_PARSE_ERROR,"headerdata "+o);u(e,0,a)}))}function s(t,e,i,n,r,o){an(o,(function(){if(!t.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};var s,u,c;s=t,u=e,c={result:function(s){an(o,(function(){var u;u=i?i.masterToken:s,function(t,e,i,n){an(n,(function(){var o;if((o=e.peeruseridtoken)&&"object"!=typeof o)throw new j(un.JSON_PARSE_ERROR,"headerdata "+r);if(!o)return null;Ze(t,o,i,n)}))}(t,e,u,{result:function(i){an(o,(function(){a(t,e.peerservicetokens,u,i,n,r,{result:function(t){an(o,(function(){return{peerMasterToken:s,peerUserIdToken:i,peerServiceTokens:t}}))},error:function(t){an(o,(function(){throw t instanceof A&&(t.setEntity(u),t.setUser(i)),t}))}})}))},error:function(t){an(o,(function(){throw t instanceof A&&t.setEntity(u),t}))}})}))},error:o.error},an(c,(function(){var t;if((t=u.peermastertoken)&&"object"!=typeof t)throw new j(un.JSON_PARSE_ERROR,"headerdata "+r);if(!t)return null;We(s,t,c)}))}))}function u(t,e,i,n){var r;function o(e,i){an(n,(function(){if(i>=e.length)return r;Wt(t,e[i],{result:function(t){an(n,(function(){r.push(t),o(e,i+1)}))},error:function(t){n.error(t)}})}))}r=[],an(n,(function(){var t;if(!(t=e.keyrequestdata))return r;if(!(t instanceof Array))throw new j(un.JSON_PARSE_ERROR,"headerdata "+i);o(t,0)}))}t=Ae=k.Class.create({init:function(t,e,i,n,r,o,a,s,u){Object.defineProperties(this,{messageId:{value:t,writable:!1,configurable:!1},nonReplayableId:{value:e,writable:!1,configurable:!1},renewable:{value:i,writable:!1,configurable:!1},capabilities:{value:n,writable:!1,configurable:!1},keyRequestData:{value:r,writable:!1,configurable:!1},keyResponseData:{value:o,writable:!1,configurable:!1},userAuthData:{value:a,writable:!1,configurable:!1},userIdToken:{value:s,writable:!1,configurable:!1},serviceTokens:{value:u,writable:!1,configurable:!1}})}}),e=Pe=k.Class.create({init:function(t,e,i){Object.defineProperties(this,{peerMasterToken:{value:t,writable:!1,configurable:!1},peerUserIdToken:{value:e,writable:!1,configurable:!1},peerServiceTokens:{value:i,writable:!1,configurable:!1}})}}),Oe=k.Class.create({init:function(t,e,i,r,a,s,u){var c;function h(h){an(u,(function(){var f,l,d,v,y,g,m,_,w,E,k,O,S,T,P,j,I;if(e=i?null:e,f=r.nonReplayableId,l=r.renewable,d=r.capabilities,v=r.messageId,y=r.keyRequestData?r.keyRequestData:[],g=r.keyResponseData,m=r.userAuthData,_=r.userIdToken,w=r.serviceTokens?r.serviceTokens:[],t.isPeerToPeer()?(E=a.peerMasterToken,k=a.peerUserIdToken,O=a.peerServiceTokens?a.peerServiceTokens:[]):(k=E=null,O=[]),0>v||v>b)throw new R("Message ID "+v+" is out of range.");if(!e&&!i)throw new R("Message entity authentication data or master token must be provided.");if(g?t.isPeerToPeer()?(S=i,T=g.masterToken):(S=g.masterToken,T=E):(S=i,T=E),_&&(!S||!_.isBoundTo(S)))throw new R("User ID token must be bound to a master token.");if(k&&(!T||!k.isBoundTo(T)))throw new R("Peer user ID token must be bound to a peer master token.");if(w.forEach((function(t){if(t.isMasterTokenBound()&&(!S||!t.isBoundTo(S)))throw new R("Master token bound service tokens must be bound to the provided master token.");if(t.isUserIdTokenBound()&&(!_||!t.isBoundTo(_)))throw new R("User ID token bound service tokens must be bound to the provided user ID token.")}),this),O.forEach((function(t){if(t.isMasterTokenBound()&&(!T||!t.isBoundTo(T)))throw new R("Master token bound peer service tokens must be bound to the provided peer master token.");if(t.isUserIdTokenBound()&&(!k||!t.isBoundTo(k)))throw new R("User ID token bound peer service tokens must be bound to the provided peer user ID token.")}),this),s)return I=s.customer,j=n(0,P=s.messageCryptoContext,I,e,i,h,v,y,g,m,_,w,E,k,O,f,l,d,s.headerdata,s.signature),Object.defineProperties(this,j),this;I=_?_.customer:null,j={},h&&(j.sender=h),j.messageid=v,"number"==typeof f&&(j.nonreplayableid=f),j.renewable=l,d&&(j.capabilities=d),0<y.length&&(j.keyrequestdata=y),g&&(j.keyresponsedata=g),m&&(j.userauthdata=m),_&&(j.useridtoken=_),0<w.length&&(j.servicetokens=w),E&&(j.peermastertoken=E),k&&(j.peeruseridtoken=k),0<O.length&&(j.peerservicetokens=O);try{P=o(t,e,i)}catch(t){throw t instanceof A&&(t.setEntity(i),t.setEntity(e),t.setUser(_),t.setUser(m),t.setMessageId(v)),t}j=Qi(JSON.stringify(j),p),P.encrypt(j,{result:function(t){an(u,(function(){P.sign(t,{result:function(r){an(u,(function(){var o;return o=n(0,P,I,e,i,h,v,y,g,m,_,w,E,k,O,f,l,d,t,r),Object.defineProperties(this,o),this}),c)},error:function(t){an(u,(function(){throw t instanceof A&&(t.setEntity(i),t.setEntity(e),t.setUser(_),t.setUser(m),t.setMessageId(v)),t}),c)}})}),c)},error:function(t){an(u,(function(){throw t instanceof A&&(t.setEntity(i),t.setEntity(e),t.setUser(_),t.setUser(m),t.setMessageId(v)),t}),c)}})}),c)}an(u,(function(){s?h(s.sender):i?t.getEntityAuthenticationData(null,{result:function(t){h(t=t.getIdentity())},error:u.error}):h(null)}),c=this)},isEncrypting:function(){return this.masterToken||cn(this.entityAuthenticationData.scheme)},isRenewable:function(){return this.renewable},toJSON:function(){var t;return t={},this.masterToken?t[de]=this.masterToken:t[le]=this.entityAuthenticationData,t[pe]=c(this.headerdata),t[ve]=c(this.signature),t}}),Se=function(t,e,i,n,r,o){new Oe(t,e,i,n,r,null,o)},Te=function(n,c,f,l,d,v,y){an(y,(function(){var g,m;if(!(f=l?null:f)&&!l)throw new D(un.MESSAGE_ENTITY_NOT_FOUND);g=c;try{c=h(g)}catch(t){throw new D(un.HEADER_DATA_INVALID,g,t)}if(!c||0==c.length)throw new D(un.HEADER_DATA_MISSING,g);try{m=o(n,f,l)}catch(t){throw t instanceof A&&(t.setEntity(l),t.setEntity(f)),t}!function(t,e,i,n,r){an(r,(function(){e.verify(i,n,{result:function(t){an(r,(function(){if(!t)throw new P(un.MESSAGE_VERIFICATION_FAILED);e.decrypt(i,{result:function(t){an(r,(function(){return Zi(t,p)}))},error:function(t){r.error(t)}})}))},error:function(t){r.error(t)}})}))}(0,m,c,d,{result:function(o){an(y,(function(){var h,p,g,_,w;try{h=JSON.parse(o)}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"headerdata "+o,t).setEntity(l).setEntity(f);throw t}if(!(p=parseInt(h.messageid))||p!=p)throw new j(un.JSON_PARSE_ERROR,"headerdata "+o).setEntity(l).setEntity(f);if(0>p||p>b)throw new D(un.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+o).setEntity(l).setEntity(f);if(g=l?h.sender:null,l&&(!g||"string"!=typeof g))throw new j(un.JSON_PARSE_ERROR,"headerdata "+o).setEntity(l).setEntity(f).setMessageId(p);if((_=h.keyresponsedata)&&"object"!=typeof _)throw new j(un.JSON_PARSE_ERROR,"headerdata "+o).setEntity(l).setEntity(f).setMessageId(p);w=y,function(t,e,i){an(i,(function(){if(!e)return null;Zt(t,e,i)}))}(n,_,{result:function(_){an(y,(function(){var w,E;if(w=!n.isPeerToPeer()&&_?_.masterToken:l,(E=h.useridtoken)&&"object"!=typeof E)throw new j(un.JSON_PARSE_ERROR,"headerdata "+o);!function(t,e,i,n){an(n,(function(){if(!e)return null;Ze(t,e,i,n)}))}(n,E,w,{result:function(E){an(y,(function(){var k;if((k=h.userauthdata)&&"object"!=typeof k)throw new j(un.JSON_PARSE_ERROR,"headerdata "+o);!function(t,e,i,n){an(n,(function(){if(!i)return null;ni(t,e,i,n)}))}(n,w,k,{result:function(k){an(y,(function(){var O,S,T;if(k){if(O=k.scheme,!(S=n.getUserAuthenticationFactory(O)))throw new U(un.USERAUTH_FACTORY_NOT_FOUND,O).setUser(E).setUser(k);O=l?l.identity:f.getIdentity(),T=S.authenticate(n,O,k,E)}else T=E?E.customer:null;a(n,h.servicetokens,w,E,v,o,{result:function(a){an(y,(function(){var w,O,S,P;if(w=h.nonreplayableid!==r?parseInt(h.nonreplayableid):null,O=h.renewable,w!=w||"boolean"!=typeof O)throw new j(un.JSON_PARSE_ERROR,"headerdata "+o);if(0>w||w>b)throw new D(un.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+o);if(S=null,P=h.capabilities){if("object"!=typeof P)throw new j(un.JSON_PARSE_ERROR,"headerdata "+o);S=Ee(P)}u(n,h,o,{result:function(r){s(n,h,_,v,o,{result:function(o){an(y,(function(){var s,u,h,b;s=o.peerMasterToken,u=o.peerUserIdToken,h=o.peerServiceTokens,b=new t(p,w,O,S,r,_,k,E,a),s=new e(s,u,h),u=new i(T,g,m,c,d),new Oe(n,f,l,b,s,u,y)}))},error:y.error})},error:function(t){an(y,(function(){throw t instanceof A&&(t.setUser(E),t.setUser(k)),t}))}})}))},error:function(t){an(y,(function(){throw t instanceof A&&(t.setEntity(w),t.setUser(E),t.setUser(k)),t}))}})}))},error:y.error})}))},error:y.error})}))},error:(y={result:function(t){w.result(t)},error:function(t){t instanceof A&&(t.setEntity(l),t.setEntity(f),t.setMessageId(p)),w.error(t)}}).error})}))},error:y.error})}))}}(),function(){function t(t,e){this.payload=t,this.signature=e}je=k.Class.create({init:function(t,e,i,n,r,o,a,s){var u;an(s,(function(){var h,f;if(0>t||t>b)throw new R("Sequence number "+t+" is outside the valid range.");if(0>e||e>b)throw new R("Message ID "+e+" is outside the valid range.");if(a)return Object.defineProperties(this,{sequenceNumber:{value:t,writable:!1,configurable:!1},messageId:{value:e,writable:!1,configurable:!1},compressionAlgo:{value:n,writable:!1,configurable:!1},data:{value:r,writable:!1,configurable:!1},endofmsg:{value:i,writable:!1,enumerable:!1,configurable:!1},payload:{value:a.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:a.signature,writable:!1,enumerable:!1,configurable:!1}}),this;n&&(h=Pi(n,r))||(n=null,h=r),(f={}).sequencenumber=t,f.messageid=e,i&&(f.endofmsg=i),n&&(f.compressionalgo=n),f.data=c(h),h=Qi(JSON.stringify(f),p),o.encrypt(h,{result:function(a){an(s,(function(){o.sign(a,{result:function(o){an(s,(function(){return Object.defineProperties(this,{sequenceNumber:{value:t,writable:!1,configurable:!1},messageId:{value:e,writable:!1,configurable:!1},compressionAlgo:{value:n,writable:!1,configurable:!1},data:{value:r,writable:!1,configurable:!1},endofmsg:{value:i,writable:!1,enumerable:!1,configurable:!1},payload:{value:a,writable:!1,enumerable:!1,configurable:!1},signature:{value:o,writable:!1,enumerable:!1,configurable:!1}}),this}),u)},error:function(t){s.error(t)}})}),u)},error:function(t){s.error(t)}})}),u=this)},isEndOfMessage:function(){return this.endofmsg},toJSON:function(){var t;return(t={}).payload=c(this.payload),t.signature=c(this.signature),t}}),Ie=function(t,e,i,n,r,o,a){new je(t,e,i,n,r,o,null,a)},xe=function(e,i,n){an(n,(function(){var r,o,a,s;if(r=e.payload,o=e.signature,!r||"string"!=typeof r||"string"!=typeof o)throw new j(un.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(e));try{a=h(r)}catch(t){throw new D(un.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(e),t)}try{s=h(o)}catch(t){throw new D(un.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(e),t)}i.verify(a,s,{result:function(e){an(n,(function(){if(!e)throw new P(un.PAYLOAD_VERIFICATION_FAILED);i.decrypt(a,{result:function(e){an(n,(function(){var r,o,u,c,f,l,d;r=Zi(e,p);try{o=JSON.parse(r)}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"payload chunk payload "+r,t);throw t}if(u=parseInt(o.sequencenumber),c=parseInt(o.messageid),f=o.endofmsg,l=o.compressionalgo,o=o.data,!u||u!=u||!c||c!=c||f&&"boolean"!=typeof f||l&&"string"!=typeof l||"string"!=typeof o)throw new j(un.JSON_PARSE_ERROR,"payload chunk payload "+r);if(0>u||u>b)throw new A(un.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+r);if(0>c||c>b)throw new A(un.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+r);if(f||(f=!1),l&&!v[l])throw new D(un.UNIDENTIFIED_COMPRESSION,l);try{d=h(o)}catch(t){throw new D(un.PAYLOAD_DATA_CORRUPT,o,t)}if(d&&0!=d.length)r=l?ji(l,d):d;else{if(0<o.length)throw new D(un.PAYLOAD_DATA_CORRUPT,o);if(!f)throw new D(un.PAYLOAD_DATA_MISSING,o);r=new Uint8Array(0)}d=new t(a,s),new je(u,c,f,l,r,i,d,n)}))},error:function(t){n.error(t)}})}))},error:function(t){n.error(t)}})}))}}(),function(){var t,e;function i(t,e,i,n,r){var o,a,s,u,c;o=0,a=0,s=t.getKeyExchangeFactories(),c=i||n,function i(){an(r,(function(){var n,h;if(a>=e.length&&(a=0,++o),o>=s.length){if(u)throw u;throw new C(un.KEYX_FACTORY_NOT_FOUND,JSON.stringify(e))}n=s[o],h=e[a],n.scheme!=h.keyExchangeScheme?(++a,i()):n.generateResponse(t,h,c,{result:function(t){r.result(t)},error:function(t){an(r,(function(){if(!(t instanceof A))throw t;u=t,++a,i()}))}})}))}()}t=new Uint8Array(0),e=Re=function(t){if(0>t||t>b)throw new R("Message ID "+t+" is outside the valid range.");return t==b?0:t+1},Ne=function(t){if(0>t||t>b)throw new R("Message ID "+t+" is outside the valid range.");return 0==t?b:t-1},Ce=function(t,e,i,n,o){an(o,(function(){var a;if(n==r||null==n){a=t.getRandom();do{n=a.nextLong()}while(0>n||n>b)}else if(0>n||n>b)throw new R("Message ID "+n+" is outside the valid range.");t.getEntityAuthenticationData(null,{result:function(r){an(o,(function(){var o;return o=t.getMessageCapabilities(),new Me(t,n,o,r,e,i,null,null,null,null,null)}))},error:function(t){o.error(t)}})}))},Le=function(t,n,r){an(r,(function(){var o,a,s,u,c,h;function f(t){an(r,(function(){throw t instanceof A&&(t.setEntity(o),t.setEntity(a),t.setUser(s),t.setUser(u),t.setMessageId(c)),t}))}o=n.masterToken,a=n.entityAuthenticationData,s=n.userIdToken,u=n.userAuthenticationData,c=n.messageId,h=e(c),function(t,e,n,r,o){an(o,(function(){var a;if(a=e.keyRequestData,!(e.isRenewable()&&0<a.length))return null;r?r.isRenewable()||r.isExpired()?i(t,a,r,null,o):t.getTokenFactory().isNewestMasterToken(t,r,{result:function(e){an(o,(function(){if(e)return null;i(t,a,r,null,o)}))},error:o.error}):i(t,a,null,n.getIdentity(),o)}))}(t,n,a,o,{result:function(e){an(r,(function(){var i;i=e?e.keyResponseData.masterToken:i=o,t.getEntityAuthenticationData(null,{result:function(a){an(r,(function(){!function(t,e,i,n){an(n,(function(){var r,o,a,s;if(r=e.userIdToken,o=e.userAuthenticationData,a=e.messageId,r&&r.isVerified()){if(r.isRenewable()&&e.isRenewable()||r.isExpired()||!r.isBoundTo(i))return void(o=t.getTokenFactory()).renewUserIdToken(t,r,i,n)}else if(e.isRenewable()&&i&&o){if(!(r=e.customer)){if(r=o.scheme,!(s=t.getUserAuthenticationFactory(r)))throw new U(un.USERAUTH_FACTORY_NOT_FOUND,r).setEntity(i).setUser(o).setMessageId(a);r=s.authenticate(t,i.identity,o,null)}return void(o=t.getTokenFactory()).createUserIdToken(t,r,i,n)}return r}))}(t,n,i,{result:function(i){an(r,(function(){var r,u,c;return s=i,r=ke(n.messageCapabilities,t.getMessageCapabilities()),u=n.keyResponseData,c=n.serviceTokens,t.isPeerToPeer()?new Me(t,h,r,a,u?u.masterToken:n.peerMasterToken,n.peerUserIdToken,n.peerServiceTokens,o,s,c,e):new Me(t,h,r,a,u?u.masterToken:o,s,c,null,null,null,e)}))},error:f})}))},error:f})}))},error:f})}))},De=function(t,i,n,o,a){an(a,(function(){t.getEntityAuthenticationData(null,{result:function(s){an(a,(function(){var u,c;if(i!=r&&null!=i)u=e(i);else{c=t.getRandom();do{u=c.nextInt()}while(0>u||u>b)}ge(t,s,u,n.responseCode,n.internalCode,n.message,o,a)}))},error:function(t){a.error(t)}})}))},Me=k.Class.create({init:function(t,e,i,n,r,o,a,s,u,c,h){var f,l,d,p,b;if(!t.isPeerToPeer()&&(s||u))throw new R("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");f=h&&!t.isPeerToPeer()?h.keyResponseData.masterToken:r,l=[],f=t.getMslStore().getServiceTokens(f,o),l.push.apply(l,f),a&&a.forEach((function(t){l.push(t)}),this),d=[],t.isPeerToPeer()&&(p=s,b=u,a=h?h.keyResponseData.masterToken:s,u=t.getMslStore().getServiceTokens(a,u),d.push.apply(d,u),c&&c.forEach((function(t){d.push(t)}),this)),Object.defineProperties(this,{_ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:n,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:e,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:i,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:o,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:l,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:p,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:b,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:d,writable:!1,enumerable:!1,configurable:!1}})},getMessageId:function(){return this._messageId},getMasterToken:function(){return this._masterToken},getUserIdToken:function(){return this._userIdToken},getKeyExchangeData:function(){return this._keyExchangeData},willEncryptHeader:function(){return this._masterToken||cn(this._entityAuthData.scheme)},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||cn(this._entityAuthData.scheme)},willIntegrityProtectHeader:function(){return this._masterToken||hn(this._entityAuthData.scheme)},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||hn(this._entityAuthData.scheme)},getHeader:function(t){an(t,(function(){var e,i,n;for(n in e=this._keyExchangeData?this._keyExchangeData.keyResponseData:null,i=[],this._keyRequestData)i.push(this._keyRequestData[n]);if(this._nonReplayable){if(!this._masterToken)throw new D(un.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);n=this._ctx.getMslStore().getNonReplayableId(this._masterToken)}else n=null;e=new Ae(this._messageId,n,this._renewable,this._capabilities,i,e,this._userAuthData,this._userIdToken,this._serviceTokens),i=new Pe(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens),Se(this._ctx,this._entityAuthData,this._masterToken,e,i,t)}),this)},isNonReplayable:function(){return this._nonReplayable},setNonReplayable:function(t){return this._nonReplayable=t,this},isRenewable:function(){return this._renewable},setRenewable:function(t){return this._renewable=t,this},setAuthTokens:function(t,e){var i,n;if(e&&!e.isBoundTo(t))throw new R("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new R("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{i=this._ctx.getMslStore().getServiceTokens(t,e)}catch(t){if(t instanceof A)throw new R("Invalid master token and user ID token combination despite checking above.",t);throw t}for(var r=this._serviceTokens.length-1;0<=r;--r)((n=this._serviceTokens[r]).isUserIdTokenBound()&&!n.isBoundTo(e)||n.isMasterTokenBound()&&!n.isBoundTo(t))&&this._serviceTokens.splice(r,1);i.forEach((function(t){this.excludeServiceToken(t.name,t.isMasterTokenBound(),t.isUserIdTokenBound()),this._serviceTokens.push(t)}),this),this._masterToken=t,this._userIdToken=e},setUserAuthenticationData:function(t){return this._userAuthData=t,this},setCustomer:function(t,e){var i;an(e,(function(){var n;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new R("User ID token or peer user ID token already exists for the remote user.");if(!(n=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken))throw new R("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,t,n,{result:function(t){an(e,(function(){return this._ctx.isPeerToPeer()?this._peerUserIdToken=t:(this._userIdToken=t,this._userAuthData=null),!0}),i)},error:function(t){e.error(t)}})}),i=this)},addKeyRequestData:function(t){return this._keyRequestData[t.uniqueKey()]=t,this},removeKeyRequestData:function(t){return delete this._keyRequestData[t.uniqueKey()],this},addServiceToken:function(t){var e;if(e=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken,t.isMasterTokenBound()&&!t.isBoundTo(e))throw new D(un.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(t)+"; mt "+JSON.stringify(e)).setEntity(e);if(t.isUserIdTokenBound()&&!t.isBoundTo(this._userIdToken))throw new D(un.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(t)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(e).setUser(this._userIdToken);return this.excludeServiceToken(t.name,t.isMasterTokenBound(),t.isUserIdTokenBound()),this._serviceTokens.push(t),this},addServiceTokenIfAbsent:function(t){for(var e,i=this._serviceTokens.length-1;0<=i;--i)if((e=this._serviceTokens[i]).name==t.name&&e.isMasterTokenBound()==t.isMasterTokenBound()&&e.isUserIdTokenBound()==t.isUserIdTokenBound())return this;return this.addServiceToken(t),this},excludeServiceToken:function(){var t,e,i,n;1==arguments.length?(e=(t=arguments[0]).name,i=t.isMasterTokenBound(),t=t.isUserIdTokenBound()):(arguments.length=3,e=arguments[0],i=arguments[1],t=arguments[2]);for(var r=this._serviceTokens.length-1;0<=r;--r)(n=this._serviceTokens[r]).name==e&&n.isMasterTokenBound()==i&&n.isUserIdTokenBound()==t&&this._serviceTokens.splice(r,1);return this},deleteServiceToken:function(){var e,i,n,r;2==arguments.length?(i=(e=arguments[0]).name,e.isMasterTokenBound(),e.isUserIdTokenBound(),n=arguments[1]):(arguments.length=4,i=arguments[0],n=arguments[3]),an(n,(function(){var e,o;e=originalToken.isMasterTokenBound()?this._masterToken:null,o=originalToken.isUserIdTokenBound()?this._userIdToken:null,$e(this._ctx,i,t,e,o,!1,null,new vt,{result:function(t){an(n,(function(){return this.addServiceToken(t)}),r)},error:function(t){t instanceof A&&(t=new R("Failed to create and add empty service token to message.",t)),n.error(t)}})}),r=this)},getServiceTokens:function(){var t;return(t=[]).push.apply(t,this._serviceTokens),t},getPeerMasterToken:function(){return this._peerMasterToken},getPeerUserIdToken:function(){return this._peerUserIdToken},setPeerAuthTokens:function(t,e){var i,n;if(!this._ctx.isPeerToPeer())throw new R("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(e&&!t)throw new R("Peer master token cannot be null when setting peer user ID token.");if(e&&!e.isBoundTo(t))throw new D(un.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+e+"; mt "+t).setEntity(t).setUser(e);try{i=this._ctx.getMslStore().getServiceTokens(t,e)}catch(t){if(t instanceof A)throw new R("Invalid peer master token and user ID token combination despite proper check.",t);throw t}for(var r=this._peerServiceTokens.length-1;0<=r;--r)((n=this._peerServiceTokens[r]).isUserIdTokenBound()&&!n.isBoundTo(e)||n.isMasterTokenBound()&&!n.isBoundTo(t))&&this._peerServiceTokens.slice(r,1);return i.forEach((function(t){this.excludePeerServiceToken(t.name,t.isMasterTokenBound(),t.isUserIdTokenBound()),this._peerServiceTokens.push(t)}),this),this._peerUserIdToken=e,this._peerMasterToken=t,this},addPeerServiceToken:function(t){if(!this._ctx.isPeerToPeer())throw new R("Cannot set peer service tokens when not in peer-to-peer mode.");if(t.isMasterTokenBound()&&!t.isBoundTo(this._peerMasterToken))throw new D(un.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(t)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(t.isUserIdTokenBound()&&!t.isBoundTo(this._peerUserIdToken))throw new D(un.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(t)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);return this.excludePeerServiceToken(t.name,t.isMasterTokenBound(),t.isUserIdTokenBound()),this._peerServiceTokens.push(t),this},addPeerServiceTokenIfAbsent:function(t){for(var e,i=this._peerServiceTokens.length-1;0<=i;--i)if((e=this._peerServiceTokens[i]).name==t.name&&e.isMasterTokenBound()==t.isMasterTokenBound()&&e.isUserIdTokenBound()==t.isUserIdTokenBound())return this;return this.addPeerServiceToken(t),this},excludePeerServiceToken:function(){var t,e,i,n;1==arguments.length?(e=(t=arguments[0]).name,i=t.isMasterTokenBound(),t=t.isUserIdTokenBound()):(arguments.length=3,e=arguments[0],i=arguments[1],t=arguments[2]);for(var r=this._peerServiceTokens.length-1;0<=r;--r)(n=this._peerServiceTokens[r]).name==e&&n.isMasterTokenBound()==i&&n.isUserIdTokenBound()==t&&this._peerServiceTokens.splice(r,1);return this},deletePeerServiceToken:function(){var e,i,n,r,o,a;2==arguments.length?(i=(e=arguments[0]).name,n=e.isMasterTokenBound(),r=e.isUserIdTokenBound(),o=arguments[1]):(arguments.length=4,i=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3]),an(o,(function(){$e(this._ctx,i,t,n?this._peerMasterToken:null,r?this._peerUserIdToken:null,!1,null,new vt,{result:function(t){an(o,(function(){return this.addPeerServiceToken(t)}),a)},error:function(t){t instanceof A&&(t=new R("Failed to create and add empty peer service token to message.",t)),o.error(t)}})}),a=this)},getPeerServiceTokens:function(){var t;return(t=[]).push.apply(t,this._peerServiceTokens),t}})}(),function(){function t(t,e){return e[t]?e[t]:e[""]}function e(t){var e;return(e=t.builder.getKeyExchangeData())&&!t.ctx.isPeerToPeer()?e.keyResponseData.masterToken:t.builder.getMasterToken()}Ue=k.Class.create({init:function(t,e,i){t={ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:e.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:i,writable:!1,enumerable:!1,configurable:!1}},Object.defineProperties(this,t)},isPrimaryMasterTokenAvailable:function(){return!!e(this)},isPrimaryUserIdTokenAvailable:function(){return!!this.builder.getUserIdToken()},isPeerMasterTokenAvailable:function(){return!!this.builder.getPeerMasterToken()},isPeerUserIdTokenAvailable:function(){return!!this.builder.getPeerUserIdToken()},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens()},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens()},addPrimaryServiceToken:function(t){try{return this.builder.addServiceToken(t),!0}catch(t){if(t instanceof D)return!1;throw t}},addPeerServiceToken:function(t){try{return this.builder.addPeerServiceToken(t),!0}catch(t){if(t instanceof D)return!1;throw t}},addUnboundPrimaryServiceToken:function(e,i,n,r,o){var a;an(o,(function(){var s;if(!(s=t(e,this.cryptoContexts)))return!1;$e(this.ctx,e,i,null,null,n,r,s,{result:function(t){an(o,(function(){try{this.builder.addServiceToken(t)}catch(t){if(t instanceof D)throw new R("Service token bound to incorrect authentication tokens despite being unbound.",t);throw t}return!0}),a)},error:function(t){o.error(t)}})}),a=this)},addUnboundPeerServiceToken:function(e,i,n,r,o){var a;an(o,(function(){var s;if(!(s=t(e,this.cryptoContexts)))return!1;$e(this.ctx,e,i,null,null,n,r,s,{result:function(t){an(o,(function(){try{this.builder.addPeerServiceToken(t)}catch(t){if(t instanceof D)throw new R("Service token bound to incorrect authentication tokens despite being unbound.",t);throw t}return!0}),a)},error:function(t){o.error(t)}})}),a=this)},addMasterBoundPrimaryServiceToken:function(i,n,r,o,a){var s;an(a,(function(){var u,c;return!!(u=e(this))&&(!!(c=t(i,this.cryptoContexts))&&void $e(this.ctx,i,n,u,null,r,o,c,{result:function(t){an(a,(function(){try{this.builder.addServiceToken(t)}catch(t){if(t instanceof D)throw new R("Service token bound to incorrect authentication tokens despite setting correct master token.",t);throw t}return!0}),s)},error:function(t){a.error(t)}}))}),s=this)},addMasterBoundPeerServiceToken:function(e,i,n,r,o){var a;an(o,(function(){var s,u;return!!(s=this.builder.getPeerMasterToken())&&(!!(u=t(e,this.cryptoContexts))&&void $e(this.ctx,e,i,s,null,n,r,u,{result:function(t){an(o,(function(){try{this.builder.addPeerServiceToken(t)}catch(t){if(t instanceof D)throw new R("Service token bound to incorrect authentication tokens despite setting correct master token.",t);throw t}return!0}),a)},error:function(t){o.error(t)}}))}),a=this)},addUserBoundPrimaryServiceToken:function(i,n,r,o,a){var s;an(a,(function(){var u,c,h;return!!(u=e(this))&&(!!(c=this.builder.getUserIdToken())&&(!!(h=t(i,this.cryptoContexts))&&void $e(this.ctx,i,n,u,c,r,o,h,{result:function(t){an(a,(function(){try{this.builder.addServiceToken(t)}catch(t){if(t instanceof D)throw new R("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",t);throw t}return!0}),s)},error:function(t){a.error(t)}})))}),s=this)},addUserBoundPeerServiceToken:function(e,i,n,r,o){var a;an(o,(function(){var s,u,c;return!!(s=this.builder.getPeerMasterToken())&&(!!(u=this.builder.getPeerUserIdToken())&&(!!(c=t(e,this.cryptoContexts))&&void $e(this.ctx,e,i,s,u,n,r,c,{result:function(t){an(o,(function(){try{this.builder.addPeerServiceToken(t)}catch(t){if(t instanceof D)throw new R("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",t);throw t}return!0}),a)},error:function(t){o.error(t)}})))}),a=this)},excludePrimaryServiceToken:function(){var t,e,i,n;1==arguments.length?(e=(t=arguments[0]).name,i=t.isMasterTokenBound(),n=t.isUserIdTokenBound()):(arguments.length=3,e=arguments[0],i=arguments[1],n=arguments[2]);for(var r=this.builder.getServiceTokens(),o=0;o<r.length;++o)if((t=r[o]).name==e&&t.isMasterTokenBound()==i&&t.isUserIdTokenBound()==n)return this.builder.excludeServiceToken(e,i,n),!0;return!1},excludePeerServiceToken:function(){var t,e,i,n;1==arguments.length?(e=(t=arguments[0]).name,i=t.isMasterTokenBound(),n=t.isUserIdTokenBound()):(arguments.length=3,e=arguments[0],i=arguments[1],n=arguments[2]);for(var r=this.builder.getPeerServiceTokens(),o=0;o<r.length;++o)if((t=r[o]).name==e&&t.isMasterTokenBound()==i&&t.isUserIdTokenBound()==n)return this.builder.excludePeerServiceToken(e,i,n),!0;return!1},deletePrimaryServiceToken:function(){var t,e,i,n,r;2==arguments.length?(e=(t=arguments[0]).name,i=t.isMasterTokenBound(),n=t.isUserIdTokenBound(),r=arguments[1]):4==arguments.length&&(e=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3]),an(r,(function(){for(var t,o=this.builder.getServiceTokens(),a=0;a<o.length;++a)if((t=o[a]).name==e&&t.isMasterTokenBound()==i&&t.isUserIdTokenBound()==n)return void this.builder.deleteServiceToken(e,i,n,{result:function(){r.result(!0)},error:function(t){r.error(t)}});return!1}),this)},deletePeerServiceToken:function(){var t,e,i,n,r;2==arguments.length?(e=(t=arguments[0]).name,i=t.isMasterTokenBound(),n=t.isUserIdTokenBound(),r=arguments[1]):4==arguments.length&&(e=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3]),an(r,(function(){for(var t,o=this.builder.getPeerServiceTokens(),a=0;a<o.length;++a)if((t=o[a]).name==e&&t.isMasterTokenBound()==i&&t.isUserIdTokenBound()==n)return void this.builder.deletePeerServiceToken(e,i,n,{result:function(){r.result(!0)},error:function(t){r.error(t)}});return!1}),this)}})}(),Be=Bt.extend({init:function(t,e,i,n,o,a,s){var u;sn(s,(function(){var s;function c(){u._ready=!0,u._readyQueue.add(!0)}function h(t,e){var i;try{i=e.masterToken,t.getTokenFactory().isMasterTokenRevoked(t,i,{result:function(n){n?(u._errored=new L(n,i).setUser(e.userIdToken).setUser(e.userAuthenticationData).setMessageId(e.messageId),c()):function(t,e){var i,n;try{i=e.masterToken,(n=e.userIdToken)?t.getTokenFactory().isUserIdTokenRevoked(t,i,n,{result:function(r){r?(u._errored=new MslUserIdTokenException(r,n).setEntity(i).setUser(n).setMessageId(e.messageId),c()):f(t,e)},error:function(t){t instanceof A&&(t.setEntity(e.masterToken),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}}):f(t,e)}catch(t){t instanceof A&&(t.setEntity(e.masterToken),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}}(t,e)},error:function(t){t instanceof A&&(t.setEntity(e.masterToken),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}})}catch(t){t instanceof A&&(t.setEntity(e.masterToken),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}}function f(t,e){var i;try{(i=e.masterToken).isExpired()?e.isRenewable()&&0!=e.keyRequestData.length?t.getTokenFactory().isMasterTokenRenewable(t,i,{result:function(n){n?(u._errored=new D(n,"Master token is expired and not renewable.").setEntity(i).setUser(e.userIdToken).setUser(e.userAuthenticationData).setMessageId(e.messageId),c()):l(t,e)},error:function(t){t instanceof A&&(t.setEntity(e.masterToken),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}}):(u._errored=new D(un.MESSAGE_EXPIRED,JSON.stringify(e)).setEntity(i).setUser(e.userIdToken).setUser(e.userAuthenticationData).setMessageId(e.messageId),c()):l(t,e)}catch(t){t instanceof A&&(t.setEntity(e.masterToken),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}}function l(t,e){var i,n;try{i=e.masterToken,"number"==typeof(n=e.nonReplayableId)?i?t.getTokenFactory().acceptNonReplayableId(t,i,n,{result:function(t){t||(u._errored=new D(un.MESSAGE_REPLAYED,JSON.stringify(e)).setEntity(i).setUser(e.userIdToken).setUser(e.userAuthenticationData).setMessageId(e.messageId)),c()},error:function(t){t instanceof A&&(t.setEntity(i),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}}):(u._errored=new D(un.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(e)).setEntity(e.entityAuthenticationData).setUser(e.userIdToken).setUser(e.userAuthenticationData).setMessageId(e.messageId),c()):c()}catch(t){t instanceof A&&(t.setEntity(e.masterToken),t.setEntity(e.entityAuthenticationData),t.setUser(e.userIdToken),t.setUser(e.userAuthenticationData),t.setMessageId(e.messageId)),u._errored=t,c()}}return s={_source:{value:e,writable:!1,enumerable:!1,configurable:!1},_parser:{value:r,writable:!0,enumerable:!1,configurable:!1},_charset:{value:i,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_header:{value:r,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:r,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:r,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new O,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}},Object.defineProperties(this,s),Jt(u._source,a,{result:function(e){u._json=e,u._jsonIndex=0,null===u._json?(u._errored=new j(un.MESSAGE_DATA_MISSING),c()):fe(t,u._json[u._jsonIndex++],o,{result:function(e){var i;u._header=e,u._header instanceof ye?(u._keyxCryptoContext=null,u._cryptoContext=null,c()):(i=u._header,function(t,e,i,n){an(n,(function(){var r,o,a,s,u,c;if(r=e.masterToken,!(o=e.keyResponseData))return null;if(a=o.keyExchangeScheme,!(s=t.getKeyExchangeFactory(a)))throw new C(un.KEYX_FACTORY_NOT_FOUND,a);c=0,function e(){an(n,(function(){var h;if(c>=i.length){if(u)throw u;throw new C(un.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(i))}h=i[c],a!=h.keyExchangeScheme?(++c,e()):s.getCryptoContext(t,h,o,r,{result:n.result,error:function(t){an(n,(function(){if(!(t instanceof A))throw t;u=t,++c,e()}))}})}))}()}))}(t,i,n,{result:function(e){var n;try{u._keyxCryptoContext=e,t.isPeerToPeer()||!u._keyxCryptoContext?u._cryptoContext=i.cryptoContext:u._cryptoContext=u._keyxCryptoContext;try{(n=i.masterToken)&&(t.isPeerToPeer()||n.isVerified())?h(t,i):l(t,i)}catch(t){t instanceof A&&(t.setEntity(i.masterToken),t.setUser(i.userIdToken),t.setUser(i.userAuthenticationData),t.setMessageId(i.messageId)),u._errored=t,c()}}catch(t){t instanceof A&&(t.setEntity(i.masterToken),t.setEntity(i.entityAuthenticationData),t.setUser(i.userIdToken),t.setUser(i.userAuthenticationData),t.setMessageId(i.messageId)),u._errored=t,c()}},error:function(t){t instanceof A&&(t.setEntity(i.masterToken),t.setEntity(i.entityAuthenticationData),t.setUser(i.userIdToken),t.setUser(i.userAuthenticationData),t.setMessageId(i.messageId)),u._errored=t,c()}}))},error:function(t){u._errored=t,c()}})},timeout:function(){u._timedout=!0,c()},error:function(t){u._errored=t,c()}}),this}),u=this)},nextData:function(t,e){var i;sn(e,(function(){var t;if(!(t=this.getMessageHeader()))throw new R("Read attempted with error message.");return-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length?this._payloads[this._payloadIndex++]:this._eom?null:void function t(e){sn(e,(function(){if(this._jsonIndex<this._json.length)return this._json[this._jsonIndex++];Jt(this._source,this._timeout,{result:function(i){i&&i.length&&0<i.length?(i.forEach((function(t){this._json.push(t)})),t(e)):(this._eom=!0,e.result(null))},timeout:function(){e.timeout()},error:function(t){e.error(t)}})}),i)}({result:function(n){sn(e,(function(){if(!n)return null;if("object"!=typeof n)throw new j(un.MESSAGE_FORMAT_ERROR);xe(n,this._cryptoContext,{result:function(n){sn(e,(function(){var e,i,r,o;if(e=t.masterToken,i=t.entityAuthenticationData,r=t.userIdToken,o=t.getUserAuthenticationData,n.messageId!=t.messageId)throw new D(un.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+n.messageId+" header mid "+t.messageId).setEntity(e).setEntity(i).setUser(r).setUser(o);if(n.sequenceNumber!=this._payloadSequenceNumber)throw new D(un.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+n.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(e).setEntity(i).setUser(r).setUser(o);return++this._payloadSequenceNumber,n.isEndOfMessage()&&(this._eom=!0),e=n.data,this._payloads.push(e),this._payloadIndex=-1,e}),i)},error:function(t){t instanceof SyntaxError&&(t=new j(un.JSON_PARSE_ERROR,"payloadchunk",t)),e.error(t)}})}),i)},timeout:function(){e.timeout()},error:function(t){e.error(t)}})}),i=this)},isReady:function(t,e){var i;function n(){sn(e,(function(){if(this._aborted)return!1;if(!this._timedout){if(this._errored)throw this._errored;return!0}e.timeout()}),i)}sn(e,(function(){this._ready?n():this._readyQueue.poll(t,{result:function(t){sn(e,(function(){if(t===r)return!1;n()}),i)},timeout:function(){e.timeout()},error:function(t){e.error(t)}})}),i=this)},getMessageHeader:function(){return this._header instanceof Oe?this._header:null},getErrorHeader:function(){return this._header instanceof ye?this._header:null},getIdentity:function(){var t,e;return(t=this.getMessageHeader())?(e=t.masterToken)?e.identity:t.entityAuthenticationData.getIdentity():this.getErrorHeader().entityAuthenticationData.getIdentity()},getCustomer:function(){var t;return(t=this.getMessageHeader())?t.customer:null},getPayloadCryptoContext:function(){return this._cryptoContext},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext},closeSource:function(t){this._closeSource=t},abort:function(){this._aborted=!0,this._source.abort(),this._readyQueue.cancelAll()},close:function(){this._closeSource&&this._source.close()},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0,this._currentPayload=this._payloads[this._payloadIndex++],this._markOffset=this._payloadOffset}else this._payloadIndex=-1,this._payloads=[]},markSupported:function(){return!0},read:function(t,e,i){var n;function o(){sn(i,(function(){var o,a,s,u;if(this._aborted)return new Uint8Array(0);if(this._timedout)i.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException)throw o=this._readException,this._readException=null,o;a=-1!=t?new Uint8Array(t):r,s=0,u=0,function i(r){sn(r,(function(){var o,c,h;if(a&&u>=a.length)return a.subarray(0,u);if(o=-1,this._currentPayload){if(c=this._currentPayload.length-this._payloadOffset,!a){if(h=c,-1!=this._payloadIndex)for(var f=this._payloadIndex;f<this._payloads.length;++f)h+=this._payloads[f].length;0<h&&(a=new Uint8Array(h))}0<(c=Math.min(c,a?a.length-u:0))&&(o=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+c),a.set(o,s),o=c,s+=c,this._payloadOffset+=c)}-1!=o?(u+=o,i(r)):this.nextData(e,{result:function(e){sn(r,(function(){return this._aborted?a?a.subarray(0,u):new Uint8Array(0):(this._currentPayload=e,this._payloadOffset=0,this._currentPayload?void i(r):0==u&&0!=t?null:a?a.subarray(0,u):new Uint8Array(0))}),n)},timeout:function(){r.timeout(a?a.subarray(0,u):new Uint8Array(0))},error:function(t){sn(r,(function(){if(t instanceof A&&(t=new M("Error reading the payload chunk.",t)),0<u)return n._readException=t,a.subarray(0,u);throw t}),n)}})}),n)}(i)}}),n)}sn(i,(function(){if(-1>t)throw new RangeError("read requested with illegal length "+t);this._ready?o():this._readyQueue.poll(e,{result:function(t){t===r?i.result(!1):o()},timeout:function(){i.timeout(new Uint8Array(0))},error:function(t){i.error(t)}})}),n=this)},reset:function(){this._payloadIndex=0,0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null}}),Fe=function(t,e,i,n,r,o,a){new Be(t,e,i,n,r,o,a)},qe=Ft.extend({init:function(t,e,i,n,r,o,a){var s;sn(a,(function(){var a,u,c;function h(){s._ready=!0,s._readyQueue.add(!0)}return u=null,(a=ke(t.getMessageCapabilities(),n.messageCapabilities))&&(u=y(a.compressionAlgorithms)),a={_destination:{value:e,writable:!1,enumerable:!1,configurable:!1},_charset:{value:i,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:a,writable:!1,enumerable:!1,configurable:!1},_header:{value:n,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:u,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:r,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new O,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}},Object.defineProperties(this,a),c=Qi(JSON.stringify(n),i),e.write(c,0,c.length,o,{result:function(t){try{s._aborted?h():t<c.length?(s._timedout=!0,h()):e.flush(o,{result:function(t){s._aborted||(s._timedout=!t),h()},timeout:function(){s._timedout=!0,h()},error:function(t){s._errored=t,h()}})}catch(t){s._errored=t,h()}},timeout:function(){s._timedout=!0,h()},error:function(t){s._errored=t,h()}}),this}),s=this)},setCompressionAlgorithm:function(t,e,i){var n;function r(){n.flush(e,{result:function(e){sn(i,(function(){if(!e)throw new M("flush() aborted");return this._compressionAlgo=t,!0}),n)},timeout:function(){i.timeout()},error:function(t){i.error(t)}})}sn(i,(function(){if(!this.getMessageHeader())throw new R("Cannot write payload data for an error message.");if(this._compressionAlgo==t)return!0;if(t){if(!this._capabilities)return!1;for(var e=this._capabilities.compressionAlgorithms,i=0;i<e.length;++i)if(e[i]==t)return void r();return!1}r()}),n=this)},getMessageHeader:function(){return this._header instanceof Oe?this._header:null},getErrorMessage:function(){return this._header instanceof ye?this._header:null},getPayloads:function(){return this._payloads},abort:function(){this._aborted=!0,this._destination.abort(),this._readyQueue.cancelAll()},close:function(t,e){var i;sn(e,(function(){if(this._aborted)return!1;if(this._timedout)e.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0,this.flush(t,{result:function(t){sn(e,(function(){return t&&(this._currentPayload=null),t}),i)},timeout:function(){e.timeout()},error:function(t){e.error(t)}})}}),i=this)},flush:function(t,e){var i;function n(){sn(e,(function(){var n,r,o;if(this._aborted)return!1;if(this._timedout)e.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;if(!(n=this.getMessageHeader()))return!0;r=0,this._currentPayload&&this._currentPayload.forEach((function(t){r+=t.length}));for(var a=new Uint8Array(r),s=0,u=0;this._currentPayload&&u<this._currentPayload.length;++u)o=this._currentPayload[u],a.set(o,s),s+=o.length;Ie(this._payloadSequenceNumber,n.messageId,this._closed,this._compressionAlgo,a,this._cryptoContext,{result:function(n){sn(e,(function(){var r;this._payloads.push(n),r=Qi(JSON.stringify(n),this._charset),this._destination.write(r,0,r.length,t,{result:function(r){sn(e,(function(){if(this._aborted)return!1;r<n.length?e.timeout():this._destination.flush(t,{result:function(t){sn(e,(function(){return!this._aborted&&(t?(++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0):void e.timeout())}),i)},timeout:function(){e.timeout()},error:function(t){t instanceof A&&(t=new M("Error encoding payload chunk [sequence number "+i._payloadSequenceNumber+"].",t)),e.error(t)}})}),i)},timeout:function(t){e.timeout()},error:function(t){t instanceof A&&(t=new M("Error encoding payload chunk [sequence number "+i._payloadSequenceNumber+"].",t)),e.error(t)}})}),i)},error:function(t){t instanceof A&&(t=new M("Error encoding payload chunk [sequence number "+i._payloadSequenceNumber+"].",t)),e.error(t)}})}}),i)}sn(e,(function(){this._ready?n():this._readyQueue.poll(t,{result:function(t){t===r?e.result(!1):n()},timeout:function(){e.timeout()},error:function(t){e.error(t)}})}),i=this)},write:function(t,e,i,n,r){sn(r,(function(){var n;if(this._aborted)return!1;if(!this._timedout){if(this._errored)throw this._errored;if(this._closed)throw new M("Message output stream already closed.");if(0>e)throw new RangeError("Offset cannot be negative.");if(0>i)throw new RangeError("Length cannot be negative.");if(e+i>t.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new R("Cannot write payload data for an error message.");return n=t.subarray(e,e+i),this._currentPayload.push(n),n.length}r.timeout()}),this)}}),Ke=function(t,e,i,n,r,o,a){new qe(t,e,i,n,r,o,a)},He=k.Class.create({sentHeader:function(t){},receivedHeader:function(t){}}),Object.freeze({USERDATA_REAUTH:E.USERDATA_REAUTH,SSOTOKEN_REJECTED:E.SSOTOKEN_REJECTED}),Ve=k.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(t,e,i,n){},getCustomer:function(){},getKeyRequestData:function(t){},updateServiceTokens:function(t,e,i){},write:function(t,e,i){},getDebugContext:function(){}}),k.Class.create({getInputStream:function(t){},getOutputStream:function(t){}}),function(){var t,e,i,n,o,a,s,u,c,h,f,l;function d(t){return function(){t.abort()}}function b(t,e){Object.defineProperties(this,{masterToken:{value:t,writable:!1,configurable:!1},ticket:{value:e,writable:!1,configurable:!1}})}function v(t,e){Object.defineProperties(this,{builder:{value:t,writable:!1,configurable:!1},msgCtx:{value:e,writable:!1,configurable:!1}})}function y(t,e,i){Object.defineProperties(this,{requestHeader:{value:t,writable:!1,configurable:!1},payloads:{value:e,writable:!1,configurable:!1},handshake:{value:i,writable:!1,configurable:!1}})}function g(t,e){Object.defineProperties(this,{requestHeader:{value:e.requestHeader,writable:!1,configurable:!1},payloads:{value:e.payloads,writable:!1,configurable:!1},handshake:{value:e.handshake,writable:!1,configurable:!1},response:{value:t,writable:!1,configurable:!1}})}function m(t){for(;t;){if(t instanceof N)return!0;t=t instanceof A?t.cause:r}return!1}function _(t,e,i,n,r,o,a,s,u){De(e,n,r,o,{result:function(n){i&&i.sentHeader(n),Ke(e,a,p,n,null,null,s,{result:function(e){t.setAbort((function(){e.abort()})),e.close(s,{result:function(t){sn(u,(function(){if(!t)throw new N("sendError aborted.");return t}))},timeout:function(){u.timeout()},error:function(t){u.error(t)}})},timeout:function(){},error:function(t){u.error(t)}})},error:function(t){u.error(t)}})}t=Ft.extend({close:function(t,e){e.result(!0)},write:function(t,e,i,n,r){an(r,(function(){return Math.min(t.length-e,i)}))},flush:function(t,e){e.result(!0)}}),e=_e.extend({getUserMessage:function(t,e){return null}}),i=Ve.extend({init:function(t){Object.defineProperties(this,{_appCtx:{value:t,writable:!1,enumerable:!1,configurable:!1}})},getCryptoContexts:function(){return this._appCtx.getCryptoContexts()},isEncrypted:function(){return this._appCtx.isEncrypted()},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected()},isNonReplayable:function(){return this._appCtx.isNonReplayable()},isRequestingTokens:function(){return this._appCtx.isRequestingTokens()},getUserId:function(){return this._appCtx.getUserId()},getUserAuthData:function(t,e,i,n){this._appCtx.getUserAuthData(t,e,i,n)},getCustomer:function(){return this._appCtx.getCustomer()},getKeyRequestData:function(t){this._appCtx.getKeyRequestData(t)},updateServiceTokens:function(t,e,i){this._appCtx.updateServiceTokens(t,e,i)},write:function(t,e,i){this._appCtx.write(t,e,i)},getDebugContext:function(){return this._appCtx.getDebugContext()}}),n=i.extend({init:function t(e,i){t.base.call(this,i),Object.defineProperties(this,{_payloads:{value:e,writable:!1,enumerable:!1,configurable:!1}})},write:function(t,e,i){var n;n=this,function r(o,a){var s;o==n._payloads.length?i.result(!0):(s=n._payloads[o],t.setCompressionAlgorithm(s.compressionAlgo,e,{result:function(u){t.write(s.data,0,s.data.length,e,{result:function(u){sn(i,(function(){s.isEndOfMessage()?r(o+1,a):t.flush(e,{result:function(t){i.result(t)},timeout:function(){i.timeout()},error:function(t){i.error(t)}})}),n)},timeout:function(t){i.timeout(t)},error:function(t){i.error(t)}})},timeout:function(){},error:function(t){i.error(t)}}))}(0)}}),o=i.extend({init:function t(e){t.base.call(this,e)},isEncrypted:function(){return!1},isNonReplayable:function(){return!1},write:function(t,e,i){i.result(!0)}}),a={},s=k.Class.create({init:function(t){t||(t=new e),Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:t,writable:!1,enumerable:!1,configurable:!1}})},setFilterFactory:function(t){this._filterFactory=t},getNewestMasterToken:function(t,e,i,n){var o;sn(n,(function(){var a,s,u,c,h;if(a=e.getMslStore(),!(s=a.getMasterToken()))return null;u=s.uniqueKey(),(c=this._masterTokenLocks[u])||(c=new T,this._masterTokenLocks[u]=c),h=c.readLock(i,{result:function(h){sn(n,(function(){var f;if(h===r)throw new N("getNewestMasterToken aborted.");if(f=a.getMasterToken(),s.equals(f))return new b(s,h);c.unlock(h),c.writeLock(i,{result:function(a){sn(n,(function(){if(a===r)throw new N("getNewestMasterToken aborted.");return delete this._masterTokenLocks[u],c.unlock(a),this.getNewestMasterToken(t,e,i,n)}),o)},timeout:function(){n.timeout()},error:function(t){n.error(t)}})}),o)},timeout:function(){n.timeout()},error:function(t){n.error(t)}}),t.setAbort((function(){h&&(c.cancel(h),h=r)}))}),o=this)},deleteMasterToken:function(t,e){var i;e&&(i=this,setTimeout((function(){var n,r;n=e.uniqueKey(),(r=i._masterTokenLocks[n])||(r=new T,i._masterTokenLocks[n]=r),r.writeLock(-1,{result:function(o){t.getMslStore().removeCryptoContext(e),delete i._masterTokenLocks[n],r.unlock(o)},timeout:function(){throw new R("Unexpected timeout received.")},error:function(t){throw t}})}),0))},releaseMasterToken:function(t){var e;if(t&&t.masterToken){if(e=t.masterToken.uniqueKey(),!(e=this._masterTokenLocks[e]))throw new R("Master token read/write lock does not exist when it should.");e.unlock(t.ticket)}},updateOutgoingCryptoContexts:function(t,e,i){var n;n=t.getMslStore(),!t.isPeerToPeer()&&i&&(n.setCryptoContext(i.keyResponseData.masterToken,i.cryptoContext),this.deleteMasterToken(t,e.masterToken))},updateIncomingCryptoContexts:function(t,e,i){var n,r;(n=i.getMessageHeader())&&(r=t.getMslStore(),(n=n.keyResponseData)&&(r.setCryptoContext(n.masterToken,i.getKeyExchangeCryptoContext()),this.deleteMasterToken(t,e.masterToken)))},storeServiceTokens:function(t,e,i,n){var r,o;t=t.getMslStore();for(var a=[],s=0;s<n.length;++s)(r=n[s]).isBoundTo(e)&&e.isVerified()||((o=r.data)&&0==o.length?t.removeServiceTokens(r.name,r.isMasterTokenBound()?e:null,r.isUserIdTokenBound()?i:null):a.push(r));0<a.length&&t.addServiceTokens(a)},buildRequest:function(t,e,i,n,r){var o;o=this,this.getNewestMasterToken(t,e,n,{result:function(t){an(r,(function(){var n,a,s;(n=t&&t.masterToken)?(a=i.getUserId(),s=e.getMslStore(),a=(a=a?s.getUserIdToken(a):null)&&a.isBoundTo(n)?a:null):a=null,Ce(e,n,a,null,{result:function(e){an(r,(function(){return e.setNonReplayable(i.isNonReplayable()),{builder:e,tokenTicket:t}}))},error:function(e){an(r,(function(){throw this.releaseMasterToken(t),e instanceof A&&(e=new R("User ID token not bound to master token despite internal check.",e)),e}),o)}})}),o)},timeout:function(){r.timeout()},error:function(t){r.error(t)}})},buildResponse:function(t,e,i,n,r,o){var a;a=this,Le(e,n,{result:function(s){sn(o,(function(){if(s.setNonReplayable(i.isNonReplayable()),!e.isPeerToPeer()&&!n.keyResponseData)return{builder:s,tokenTicket:null};this.getNewestMasterToken(t,e,r,{result:function(t){sn(o,(function(){var n,r,o;return(n=t&&t.masterToken)?(r=i.getUserId(),o=e.getMslStore(),r=(r=r?o.getUserIdToken(r):null)&&r.isBoundTo(n)?r:null):r=null,s.setAuthTokens(n,r),{builder:s,tokenTicket:t}}),a)},timeout:function(){o.timeout()},error:function(t){o.error(t)}})}),a)},error:function(t){o.error(t)}})},buildErrorResponse:function(t,e,i,r,o,a,s){var u;function c(r,c){u.getNewestMasterToken(t,e,a,{result:function(t){sn(s,(function(){var a,h,f;a=t&&t.masterToken,h=Re(o.messageId),f=new n(c,i),Ce(e,a,null,h,{result:function(i){sn(s,(function(){return e.isPeerToPeer()&&i.setPeerAuthTokens(r.peerMasterToken,r.peerUserIdToken),i.setNonReplayable(f.isNonReplayable()),{errorResult:new v(i,f),tokenTicket:t}}),u)},error:function(t){s.error(t)}})}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}})}sn(s,(function(){var h,f,l,d;switch(h=r.requestHeader,f=r.payloads,l=o.errorCode){case E.ENTITYDATA_REAUTH:case E.ENTITY_REAUTH:e.getEntityAuthenticationData(l,{result:function(t){sn(s,(function(){if(!t)return null;!function(t,r){sn(s,(function(){var a,c;a=Re(o.messageId),c=new n(r,i),Ce(e,null,null,a,{result:function(i){sn(s,(function(){return e.isPeerToPeer()&&i.setPeerAuthTokens(t.peerMasterToken,t.peerUserIdToken),i.setNonReplayable(c.isNonReplayable()),{errorResult:new v(i,c),tokenTicket:null}}),u)},error:function(t){s.error(t)}})}),u)}(h,f)}),u)},error:function(t){s.error(t)}});break;case E.USERDATA_REAUTH:case E.SSOTOKEN_REJECTED:i.getUserAuthData(l,!1,!0,{result:function(t){sn(s,(function(){if(!t)return null;c(h,f)}),u)},error:function(t){s.error(t)}});break;case E.USER_REAUTH:c(h,f);break;case E.KEYX_REQUIRED:l=Re(o.messageId),d=new n(f,i),Ce(e,null,null,l,{result:function(t){sn(s,(function(){return e.isPeerToPeer()&&t.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken),t.setRenewable(!0),t.setNonReplayable(d.isNonReplayable()),{errorResult:new v(t,d),tokenTicket:null}}),u)},error:function(t){s.error(t)}});break;case E.EXPIRED:this.getNewestMasterToken(t,e,a,{result:function(t){sn(s,(function(){var r,a,c,l;r=t&&t.masterToken,a=h.userIdToken,c=Re(o.messageId),l=new n(f,i),Ce(e,r,a,c,{result:function(i){sn(s,(function(){return e.isPeerToPeer()&&i.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken),h.masterToken.equals(r)&&i.setRenewable(!0),i.setNonReplayable(l.isNonReplayable()),{errorResult:new v(i,l),tokenTicket:t}}),u)},error:function(t){s.error(t)}},u)}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}});break;case E.REPLAYED:this.getNewestMasterToken(t,e,a,{result:function(t){sn(s,(function(){var r,a,c,l;r=t&&t.masterToken,a=h.userIdToken,c=Re(o.messageId),l=new n(f,i),Ce(e,r,a,c,{result:function(i){sn(s,(function(){return e.isPeerToPeer()&&i.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken),h.masterToken.equals(r)?(i.setRenewable(!0),i.setNonReplayable(!1)):i.setNonReplayable(l.isNonReplayable()),{errorResult:new v(i,l),tokenTicket:t}}),u)},error:function(t){s.error(t)}})}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}});break;default:return null}}),u=this)},cleanupContext:function(t,e,i){switch(i.errorCode){case E.ENTITY_REAUTH:this.deleteMasterToken(t,e.masterToken);break;case E.USER_REAUTH:i=e.userIdToken,e.masterToken&&i&&t.getMslStore().removeUserIdToken(i)}},send:function(e,i,n,r,o,a,s){var u;function c(t,e,r){sn(s,(function(){var a;a=o.getPeerUserIdToken(),(!i.isPeerToPeer()&&!e||i.isPeerToPeer()&&!a)&&(a=n.getCustomer())?o.setCustomer(a,{result:function(i){sn(s,(function(){e=o.getUserIdToken(),h(t,e,r)}),u)},error:function(t){s.error(t)}}):h(t,e,r)}),u)}function h(t,e,i){sn(s,(function(){var r,a;(r=!i&&(!n.isEncrypted()||o.willEncryptPayloads())&&(!n.isIntegrityProtected()||o.willIntegrityProtectPayloads())&&(!n.isNonReplayable()||o.isNonReplayable()&&t))||o.setNonReplayable(!1),a=[],o.isRenewable()&&(!t||t.isRenewable()||n.isNonReplayable())?n.getKeyRequestData({result:function(i){sn(s,(function(){for(var n,s=0;s<i.length;++s)n=i[s],a.push(n),o.addKeyRequestData(n);f(t,e,r,a)}),u)},error:function(t){s.error(t)}}):f(t,e,r,a)}),u)}function f(c,h,f,d){sn(s,(function(){var d;d=new Ue(i,n,o),n.updateServiceTokens(d,!f,{result:function(d){o.getHeader({result:function(d){sn(s,(function(){var b,v;if((b=n.getDebugContext())&&b.sentHeader(d),b=o.getKeyExchangeData(),this.updateOutgoingCryptoContexts(i,d,b),this.storeServiceTokens(i,c,h,d.serviceTokens),b=!i.isPeerToPeer()&&b?b.cryptoContext:d.cryptoContext,e.isAborted())throw new N("send aborted.");v=null!=this._filterFactory?this._filterFactory.getOutputStream(r):r,Ke(i,v,p,d,b,a,{result:function(r){e.setAbort((function(){r.abort()})),function(r,o,c){var h,f;c?n.write(r,a,{result:function(t){sn(s,(function(){if(e.isAborted())throw new N("MessageOutputStream write aborted.");l(r,o,c)}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}}):(h=new t,f=new vt,Ke(i,h,p,o,f,a,{result:function(t){n.write(t,a,{result:function(i){sn(s,(function(){if(e.isAborted())throw new N("MessageOutputStream proxy write aborted.");t.close(a,{result:function(e){sn(s,(function(){var i;if(!e)throw new N("MessageOutputStream proxy close aborted.");i=t.getPayloads(),l(r,o,c,i)}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}})}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}})},timeout:function(){s.timeout()},error:function(t){s.error(t)}}))}(r,d,f)},timeout:function(){s.timeout()},error:function(t){s.error(t)}})}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}})},error:function(t){s.error(t)}})}),u)}function l(t,e,i,n){t.close(a,{result:function(r){sn(s,(function(){if(!r)throw new N("MessageOutputStream close aborted.");return n||(n=t.getPayloads()),new y(e,n,!i)}),u)},timeout:function(){s.timeout()},error:function(t){s.error(t)}})}sn(s,(function(){var t,e,i,r;t=o.getMasterToken(),e=o.getUserIdToken(),i=!1,n.getUserId()?(r=!e,n.getUserAuthData(null,o.isRenewable(),r,{result:function(n){sn(s,(function(){n&&(o.willEncryptHeader()&&o.willIntegrityProtectHeader()?o.setUserAuthenticationData(n):i=!0),c(t,e,i)}),u)},error:function(t){s.error(t)}})):c(t,e,i)}),u=this)},receive:function(t,e,i,n,r,o,a){var s;sn(a,(function(){var u,c,h;if(t.isAborted())throw new N("receive aborted.");u=[],r&&(u=r.keyRequestData.filter((function(){return!0}))),c=i.getCryptoContexts(),h=this._filterFactory?this._filterFactory.getInputStream(n):n,Fe(e,h,p,u,c,o,{result:function(n){t.setAbort((function(){n.abort()})),n.isReady(o,{result:function(t){sn(a,(function(){var o,u,c,h;if(!t)throw new N("MessageInputStream aborted.");if(o=n.getMessageHeader(),u=n.getErrorHeader(),(c=i.getDebugContext())&&c.receivedHeader(o||u),r&&(c=u?u.errorCode:null,o||c!=E.FAIL&&c!=E.TRANSIENT_FAILURE&&c!=E.ENTITY_REAUTH&&c!=E.ENTITYDATA_REAUTH)&&(c=o?o.messageId:u.messageId)!=(h=Re(r.messageId)))throw new D(un.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+h+"; received "+c);e.getEntityAuthenticationData(null,{result:function(t){sn(a,(function(){var a,s,c,h;if(a=t.getIdentity(),o){if(s=o.entityAuthenticationData,s=(c=o.masterToken)?o.sender:s.getIdentity(),c&&c.isDecrypted()&&c.identity!=s||a==s)throw new D(un.UNEXPECTED_MESSAGE_SENDER,s);r&&this.updateIncomingCryptoContexts(e,r,n),a=o.keyResponseData,e.isPeerToPeer()?(a=a?a.masterToken:o.peerMasterToken,c=o.peerUserIdToken,s=o.peerServiceTokens):(a=a?a.masterToken:o.masterToken,c=o.userIdToken,s=o.serviceTokens),(h=i.getUserId())&&c&&!c.isVerified()&&e.getMslStore().addUserIdToken(h,c),this.storeServiceTokens(e,a,c,s)}else if(a==(s=u.entityAuthenticationData.getIdentity()))throw new D(un.UNEXPECTED_MESSAGE_SENDER,s);return n}),s)},error:a.error})}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}})},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}),s=this)},sendReceive:function(t,e,i,n,r,o,a,s,u){var c;sn(u,(function(){var h;h=new O,this.acquireRenewalLock(t,e,i,h,o,a,{result:function(f){!function(h,f){sn(u,(function(){o.setRenewable(f),this.send(t,e,i,r,o,a,{result:function(r){sn(u,(function(){var o;o=r.requestHeader.keyRequestData,s||r.handshake||!o.isEmpty()?this.receive(t,e,i,n,r.requestHeader,a,{result:function(t){sn(u,(function(){return f&&this.releaseRenewalLock(e,h,t),new g(t,r)}),c)},timeout:function(){sn(u,(function(){f&&this.releaseRenewalLock(e,h,null),u.timeout()}),c)},error:function(t){sn(u,(function(){throw f&&this.releaseRenewalLock(e,h,null),t}),c)}}):sn(u,(function(){return f&&this.releaseRenewalLock(e,h,null),new g(null,r)}),c)}),c)},timeout:function(){sn(u,(function(){f&&this.releaseRenewalLock(e,h,null),u.timeout()}),c)},error:function(t){sn(u,(function(){throw f&&this.releaseRenewalLock(e,h,null),t}),c)}})}),c)}(h,f)},timeout:function(){u.timeout()},error:function(t){t instanceof N?u.result(null):u.error(t)}})}),c=this)},acquireRenewalLock:function(t,e,i,n,o,s,u){var c;function h(l,d,p){sn(u,(function(){var b,v;if(t.isAborted())throw new N("acquireRenewalLock aborted.");for(var y=null,g=0;g<this._renewingContexts.length;++g)if((b=this._renewingContexts[g]).ctx===e){y=b.queue;break}if(!y)return this._renewingContexts.push({ctx:e,queue:n}),!0;v=y.poll(s,{result:function(t){sn(u,(function(){var n;if(t===r)throw new N("acquireRenewalLock aborted.");y.add(t),t===a||t.isExpired()?h(t,d,p):((p&&!d||d&&!d.isBoundTo(t))&&(n=e.getMslStore().getUserIdToken(p),d=n&&n.isBoundTo(t)?n:null),o.setAuthTokens(t,d),o.isRenewable()&&t.equals(l)||i.isRequestingTokens()&&!d?h(t,d,p):f(t,d))}),c)},timeout:function(){},error:function(t){}}),t.setAbort((function(){v&&(y.cancel(v),v=r)}))}),c)}function f(r,o){sn(u,(function(){var a;if(t.isAborted())throw new N("acquireRenewalLock aborted.");if(!r||r.isRenewable()||!o&&i.getUserId()||o&&o.isRenewable()){for(var s=null,u=0;u<this._renewingContexts.length;++u)if((a=this._renewingContexts[u]).ctx===e){s=a.queue;break}if(!s)return this._renewingContexts.push({ctx:e,queue:n}),!0}return!1}),c)}sn(u,(function(){var t,e,n;t=o.getMasterToken(),e=o.getUserIdToken(),n=i.getUserId(),i.isEncrypted()&&!o.willEncryptPayloads()||i.isIntegrityProtected()&&!o.willIntegrityProtectPayloads()||o.isRenewable()||!t&&i.isNonReplayable()||t&&t.isExpired()||!(e||!n||o.willEncryptHeader()&&o.willIntegrityProtectHeader())||i.isRequestingTokens()&&(!t||n&&!e)?h(t,e,n):f(t,e)}),c=this)},releaseRenewalLock:function(t,e,i){for(var n,r,o,s=0;s<this._renewingContexts.length;++s)if((n=this._renewingContexts[s]).ctx===t){r=s,o=n.queue;break}if(o!==e)throw new R("Attempt to release renewal lock that is not owned by this queue.");i&&(i=i.messageHeader)?(o=i.keyResponseData)?e.add(o.masterToken):(t=t.isPeerToPeer()?i.peerMasterToken:i.masterToken)?e.add(t):e.add(a):e.add(a),this._renewingContexts.splice(r,1)}}),Ge=k.Class.create({init:function(){var t;t={_impl:{value:new s,writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}},Object.defineProperties(this,t)},setFilterFactory:function(t){this._impl.setFilterFactory(t)},shutdown:function(){this._shutdown=!0},receive:function(t,e,i,n,r,o){var a;if(this._shutdown)throw new A("MslControl is shutdown.");return a=new u(this._impl,t,e,i,n,r),setTimeout((function(){a.call(o)}),0),d(a)},respond:function(t,e,i,n,r,o,a){var s;if(this._shutdown)throw new A("MslControl is shutdown.");return s=new c(this._impl,t,e,i,n,r,o),setTimeout((function(){s.call(a)}),0),d(s)},error:function(t,e,i,n,r,o,a){var s;if(this._shutdown)throw new A("MslControl is shutdown.");return s=new h(this._impl,t,e,i,n,r,o),setTimeout((function(){s.call(a)}),0),d(s)},request:function(t,e){var i,n,r,o,a,s;if(this._shutdown)throw new A("MslControl is shutdown.");if(5==arguments.length){if(n=arguments[2],r=i=null,o=arguments[3],a=arguments[4],t.isPeerToPeer())return void a.error(new R("This method cannot be used in peer-to-peer mode."))}else if(6==arguments.length&&(n=null,i=arguments[2],r=arguments[3],o=arguments[4],a=arguments[5],!t.isPeerToPeer()))return void a.error(new R("This method cannot be used in trusted network mode."));return s=new l(this._impl,t,e,n,i,r,null,0,o),setTimeout((function(){s.call(a)}),0),d(s)}}),u=k.Class.create({init:function(t,e,i,n,o,a){Object.defineProperties(this,{_ctrl:{value:t,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:e,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:i,writable:!1,enumerable:!1,configurable:!1},_input:{value:n,writable:!1,enumerable:!1,configurable:!1},_output:{value:o,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:r,writable:!0,enumerable:!1,configurable:!1}})},isAborted:function(){return this._aborted},abort:function(){this._aborted=!0,this._abortFunc&&this._abortFunc.call(this)},setAbort:function(t){this._abortFunc=t},call:function(t){var e;function i(i){sn(t,(function(){var n;if(!(n=i.messageHeader))return i;this.setAbort((function(){i.abort()})),i.mark(Number.MAX_VALUE),i.read(1,e._timeout,{result:function(n){sn(t,(function(){return n&&0==n.length?null:n?(i.reset(),i):void function(i){sn(t,(function(){i.close(),this._ctrl.buildResponse(this,this._ctx,this._msgCtx,i.messageHeader,this._timeout,{result:function(n){sn(t,(function(){var r,a,s,u,c;r=n.builder,a=n.tokenTicket,s=i.messageHeader,u=new o(this._msgCtx),!this._ctx.isPeerToPeer()||s.isEncrypting()||s.keyResponseData?function(i,n,r,o){sn(t,(function(){n.setRenewable(!1),this._ctrl.send(this._ctx,r,this._output,n,this._timeout,{result:function(i){sn(t,(function(){return this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(o),null}),e)},timeout:function(){sn(t,(function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(o),t.timeout()}),e)},error:function(n){sn(t,(function(){var r,a,s,u;if(this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(o),m(n))return null;n instanceof A?(r=n.messageId,a=n.error,s=i?i.messageCapabilities:null,s=this._ctrl.messageRegistry.getUserMessage(a,s?s.languages:null),u=n):n instanceof M?(r=i?i.messageId:null,a=un.MSL_COMMS_FAILURE,s=null,u=n):(r=i?i.messageId:null,a=un.INTERNAL_EXCEPTION,s=null,u=new R("Error sending an automatic handshake response.",n)),_(this,this._ctx,this._msgCtx.getDebugContext(),r,a,s,this._output,this._timeout,{result:function(e){t.error(u)},timeout:function(){t.timeout()},error:function(i){sn(t,(function(){if(m(i))return null;throw new x("Error sending an automatic handshake response.",i,n)}),e)}})}),e)}})}),e)}(s,r,u,a):(c=new l(this._ctrl,this._ctx,u,null,this._input,this._output,n,1,this._timeout),this.setAbort((function(){c.abort()})),c.call(t))}),e)},timeout:function(){t.timeout()},error:function(n){sn(t,(function(){var r,o,a,s;if(m(n))return null;n instanceof A?(r=n.messageId,o=n.error,a=i.messageHeader.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(o,a?a.languages:null),s=n):(r=requestHeader?requestHeader.messageId:null,o=un.INTERNAL_EXCEPTION,a=null,s=new R("Error creating an automatic handshake response.",n)),_(this,this._ctx,this._msgCtx.getDebugContext(),r,o,a,this._output,this._timeout,{result:function(e){t.error(s)},timeout:function(){t.timeout()},error:function(i){sn(t,(function(){if(m(i))return null;throw new x("Error creating an automatic handshake response.",i,n)}),e)}})}),e)}})}),e)}(i)}),e)},timeout:function(){t.timeout()},error:function(i){sn(t,(function(){var r,o,a;if(m(i))return null;r=n?n.messageId:null,i instanceof M?(o=un.MSL_COMMS_FAILURE,a=i):(o=un.INTERNAL_EXCEPTION,a=new R("Error peeking into the message payloads.")),_(this,this._ctx,this._msgCtx.getDebugContext(),r,o,null,this._output,this._timeout,{result:function(e){t.error(a)},timeout:function(){t.timeout()},error:function(n){sn(t,(function(){if(m(n))return null;throw new x("Error peeking into the message payloads.",n,i)}),e)}})}),e)}})}),e)}sn(t,(function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(t){i(t)},timeout:function(){t.timeout()},error:function(i){sn(t,(function(){var n,r,o,a;if(m(i))return null;i instanceof A?(n=i.messageId,r=i.error,o=this._ctrl.messageRegistry.getUserMessage(r,null),a=i):(n=null,r=un.INTERNAL_EXCEPTION,o=null,a=new R("Error receiving the message header.",i)),_(this,this._ctx,this._msgCtx.getDebugContext(),n,r,o,this._output,this._timeout,{result:function(e){t.error(a)},timeout:function(){t.timeout()},error:function(n){sn(t,(function(){if(m(n))return null;throw new x("Error receiving the message header.",n,i)}),e)}})}),e)}})}),e=this)}}),c=k.Class.create({init:function(t,e,i,n,o,a,s){Object.defineProperties(this,{_ctrl:{value:t,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:e,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:i,writable:!1,enumerable:!1,configurable:!1},_input:{value:n,writable:!1,enumerable:!1,configurable:!1},_output:{value:o,writable:!1,enumerable:!1,configurable:!1},_request:{value:a,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:s,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:r,writable:!0,enumerable:!1,configurable:!1}})},isAborted:function(){return this._aborted},abort:function(){this._aborted=!0,this._abortFunc&&this._abortFunc.call(this)},setAbort:function(t){this._abortFunc=t},trustedNetworkExecute:function(t,e,i){var n;sn(i,(function(){var r,o;if(12<e+1)return!1;(r=this._msgCtx.isIntegrityProtected()&&!t.willIntegrityProtectHeader()?un.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!t.willEncryptPayloads()?un.RESPONSE_REQUIRES_ENCRYPTION:null)?(o=Ne(t.getMessageId()),_(this,this._ctx,this._msgCtx.getDebugContext(),o,r,null,this._output,this._timeout,{result:function(t){i.result(!1)},timeout:function(){i.timeout()},error:function(t){sn(i,(function(){if(m(t))return!1;throw new x("Response requires encryption or integrity protection but cannot be protected: "+r,t,null)}),n)}})):!this._msgCtx.getCustomer()||t.getMasterToken()||t.getKeyExchangeData()?(t.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,t,this._timeout,{result:function(t){i.result(!0)},timeout:function(){i.timeout()},error:function(t){i.error(t)}})):(o=Ne(t.getMessageId()),_(this,this._ctx,this._msgCtx.getDebugContext(),o,un.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(t){i.result(!1)},timeout:function(){i.timeout()},error:function(t){sn(i,(function(){if(m(t))return!1;throw new x("Response wishes to attach a user ID token but there is no master token.",t,null)}),n)}}))}),n=this)},peerToPeerExecute:function(t,e,i,r){var o;sn(r,(function(){var a;if(12<i+2)return!1;null!=t.getCustomer()&&null==e.getPeerMasterToken()&&null==e.getKeyExchangeData()?(a=Ne(e.getMessageId()),_(this,this._ctx,t.getDebugContext(),a,un.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(t){r.result(!1)},timeout:function(){r.timeout()},error:function(t){sn(r,(function(){if(m(t))return!1;throw new x("Response wishes to attach a user ID token but there is no master token.",t,null)}),o)}})):this._ctrl.sendReceive(this._ctx,t,this._input,this._output,e,this._timeout,!1,{result:function(e){sn(r,(function(){var a,s,u;if(a=e.response,i+=2,!a)return!0;if(s=a.getMessageHeader()){if(u=0<(u=e.payloads).length&&0<u[0].data.length,!e.handshake||!u)return!0;!function u(){a.read(32768,o._timeout,{result:function(a){sn(r,(function(){a?u():sn(r,(function(){var a;a=new n(e.payloads,t),this._ctrl.buildResponse(this,this._ctx,a,s,this._timeout,{result:function(t){sn(r,(function(){var e;e=t.tokenTicket,this.peerToPeerExecute(a,t.builder,i,{result:function(t){sn(r,(function(){return this._ctrl.releaseMasterToken(e),t}),o)},timeout:function(){sn(r,(function(){this._ctrl.releaseMasterToken(e),r.timeout()}),o)},error:function(t){sn(r,(function(){throw this._ctrl.releaseMasterToken(e),t}),o)}})}),o)},timeout:function(){r.timeout()},error:function(t){r.error(t)}})}),o)}),o)},timeout:function(){r.timeout()},error:function(t){r.error(t)}})}()}else!function(e){sn(r,(function(){var n;(n=e.response).close(),n=n.getErrorHeader(),this._ctrl.cleanupContext(this._ctx,e.requestHeader,n),this._ctrl.buildErrorResponse(this,this._ctx,t,e,n,{result:function(t){sn(r,(function(){var e,n;if(!t)return!1;e=t.errorResult,n=t.tokenTicket,this.peerToPeerExecute(e.msgCtx,e.builder,i,{result:function(t){sn(r,(function(){return this._ctrl.releaseMasterToken(n),t}),o)},timeout:function(){sn(r,(function(){this._ctrl.releaseMasterToken(n),r.timeout()}),o)},error:function(t){sn(r,(function(){throw this._ctrl.releaseMasterToken(n),t}),o)}})}),o)}})}),o)}(e)}),o)},timeout:function(){r.timeout()},error:function(t){r.error(t)}})}),o=this)},call:function(t){var e;e=this,this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(i){sn(t,(function(){var n,r;n=i.builder,r=i.tokenTicket,this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,n,3,{result:function(i){sn(t,(function(){return this._ctx.isPeerToPeer()&&this.releaseMasterToken(r),i}),e)},timeout:function(){sn(t,(function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(r),t.timeout()}),e)},error:function(i){sn(t,(function(){var o,a,s,u;if(this._ctx.isPeerToPeer()&&this.releaseMasterToken(r),m(i))return!1;o=Ne(n.getMessageId()),i instanceof A?(a=i.error,s=this._request.messageCapabilities,s=this._ctrl.messageRegistry.getUserMessage(a,s?s.languages:null),u=i):i instanceof M?(a=un.MSL_COMMS_FAILURE,s=null,u=i):(a=un.INTERNAL_EXCEPTION,s=null,u=new R("Error sending the response.",i)),_(this,this._ctx,this._msgCtx.getDebugContext(),o,a,s,this._output,this._timeout,{result:function(e){t.error(u)},timeout:function(){t.timeout()},error:function(i){sn(t,(function(){if(m(i))return!1;throw new x("Error sending the response.",i,null)}),e)}})}),e)}}):this.trustedNetworkExecute(n,3,{result:function(i){sn(t,(function(){return this._ctx.isPeerToPeer()&&this.releaseMasterToken(r),i}),e)},timeout:function(){sn(t,(function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(r),t.timeout()}),e)},error:function(i){sn(t,(function(){var o,a,s,u;if(this._ctx.isPeerToPeer()&&this.releaseMasterToken(r),m(i))return!1;o=Ne(n.getMessageId()),i instanceof A?(a=i.error,s=this._request.messageCapabilities,s=this._ctrl.messageRegistry.getUserMessage(a,s?s.languages:null),u=i):i instanceof M?(a=un.MSL_COMMS_FAILURE,s=null,u=i):(a=un.INTERNAL_EXCEPTION,s=null,u=new R("Error sending the response.",i)),_(this,this._ctx,this._msgCtx.getDebugContext(),o,a,s,this._output,this._timeout,{result:function(e){t.error(u)},timeout:function(){t.timeout()},error:function(i){sn(t,(function(){if(m(i))return!1;throw new x("Error sending the response.",i,null)}),e)}})}),e)}})}),e)},timeout:function(){t.timeout()},error:function(i){sn(t,(function(){var n,r,o,a;if(m(i))return!1;i instanceof A?(n=i.messageId,r=i.error,o=this._request.messageCapabilities,o=this._ctrl.messageRegistry.getUserMessage(r,o?o.languages:null),a=i):(n=null,r=un.INTERNAL_EXCEPTION,o=null,a=new R("Error building the response.",i)),_(this,this._ctx,this._msgCtx.getDebugContext(),n,r,o,this._output,this._timeout,{result:function(e){t.error(a)},timeout:function(){t.timeout()},error:function(n){sn(t,(function(){if(m(n))return null;throw new x("Error building the response.",n,i)}),e)}})}),e)}})}}),h=k.Class.create({init:function(t,e,i,n,o,a,s){Object.defineProperties(this,{_ctrl:{value:t,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:e,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:i,writable:!1,enumerable:!1,configurable:!1},_appError:{value:n,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:a,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:s,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:r,writable:!0,enumerable:!1,configurable:!1}})},isAborted:function(){return this._aborted},abort:function(){this._aborted=!0,this._abortFunc&&this._abortFunc.call(this)},setAbort:function(t){this._abortFunc=t},call:function(t){var e;sn(t,(function(){var i,n;if(this._appError==ENTITY_REJECTED)i=this._request.masterToken?un.MASTERTOKEN_REJECTED_BY_APP:un.ENTITY_REJECTED_BY_APP;else{if(this._appError!=USER_REJECTED)throw new R("Unhandled application error "+this._appError+".");i=this._request.userIdToken?un.USERIDTOKEN_REJECTED_BY_APP:un.USER_REJECTED_BY_APP}n=this._request.messageCapabilities,n=this._ctrl.messageRegistry.getUserMessage(i,n?n.languages:null),_(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,i,n,this._output,this._timeout,{result:function(e){t.result(e)},timeout:t.timeout,error:function(i){sn(t,(function(){if(m(i))return!1;if(i instanceof A)throw i;throw new R("Error building the error response.",i)}),e)}})}),e=this)}}),f={result:function(){},timeout:function(){},error:function(){}},l=k.Class.create({init:function(t,e,i,n,o,a,s,u,c){var h;s?(h=s.builder,s=s.tokenTicket):s=h=null,Object.defineProperties(this,{_ctrl:{value:t,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:e,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:i,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:n,writable:!1,enumerable:!1,configurable:!1},_input:{value:o,writable:!0,enumerable:!1,configurable:!1},_output:{value:a,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:h,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:s,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:c,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:u,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:r,writable:!0,enumerable:!1,configurable:!1}})},isAborted:function(){return this._aborted},abort:function(){this._aborted=!0,this._abortFunc&&this._abortFunc.call(this)},setAbort:function(t){this._abortFunc=t},execute:function(t,e,i,r,a){var s;function u(e){sn(a,(function(){var u,c,h,d,p;if(u=e.response,c=u.getMessageHeader(),h=0<(h=e.payloads).length&&0<h[0].data.length,this._ctx.isPeerToPeer())e.handshake&&h?function o(){u.read(32768,s._timeout,{result:function(u){u?o():sn(a,(function(){var o;o=new n(e.payloads,t),this._ctrl.buildResponse(this,this._ctx,t,c,i,{result:function(t){sn(a,(function(){var e;e=t.tokenTicket,this.execute(o,t.builder,this._timeout,r,{result:function(t){sn(a,(function(){return this._ctrl.releaseMasterToken(e),t}),s)},timeout:function(){sn(a,(function(){this._ctrl.releaseMasterToken(e),a.timeout()}),s)},error:function(t){sn(a,(function(){throw this._ctrl.releaseMasterToken(e),t}),s)}})}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}():0<c.keyRequestData.length&&(p=new o(t),this._ctrl.buildResponse(this,this._ctx,p,c,i,{result:function(t){sn(a,(function(){var e,i;e=t.builder,i=t.tokenTicket,u.mark(),u.read(1,this._timeout,{result:function(t){sn(a,(function(){if(t){if(u.reset(),!(12>=r+1))return this.releaseMasterToken(i),u;e.setRenewable(!1),this._ctrl.send(this,this._ctx,p,this._output,e,this._timeout,{result:function(t){sn(a,(function(){return this.releaseMasterToken(i),u}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}else!function t(){u.read(32768,s._timeout,{result:function(n){n?t():s.execute(p,e,s._timeout,r,{result:function(t){sn(a,(function(){return this._ctrl.releaseMasterToken(i),t}),s)},timeout:function(){sn(a,(function(){this._ctrl.releaseMasterToken(i),a.timeout()}),s)},error:function(t){sn(a,(function(){throw this._ctrl.releaseMasterToken(i),t}),s)}})},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}()}),s)},timeout:function(){sn(a,(function(){this.releaseMasterToken(i),a.timeout()}),s)},error:function(t){sn(a,(function(){throw this.releaseMasterToken(i),t}),s)}})}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}}));else{if(!e.handshake||!h)return u;this._openedStreams&&(this._input.close(),this._output.close(i,f)),d=new n(e.payloads,t),this._ctrl.buildResponse(this,this._ctx,t,c,i,{result:function(t){sn(a,(function(){var e;e=new l(this._ctrl,this._ctx,d,this._remoteEntity,null,null,t,r,this._timeout),this.setAbort((function(){e.abort()})),e.call(a)}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}}),s)}sn(a,(function(){if(12<r+2)return null;this._ctrl.sendReceive(this,this._ctx,t,this._input,this._output,e,i,!0,{result:function(e){sn(a,(function(){var n;if(!e)return null;n=e.response,r+=2,n.getMessageHeader()?u(e):function(e){function n(t){sn(a,(function(){var i;return i=e.response,t||i}),s)}sn(a,(function(){var o,u;(o=e.response).close(),u=o.getErrorHeader(),this._ctrl.cleanupContext(this._ctx,e.requestHeader,u),this._ctrl.buildErrorResponse(this,this._ctx,t,e,u,i,{result:function(t){sn(a,(function(){var e,u,c,h;if(!t)return o;e=t.errorResult,u=t.tokenTicket,c=e.builder,e=e.msgCtx,this._ctx.isPeerToPeer()?this.execute(e,c,this._timeout,r,{result:function(t){sn(a,(function(){this._ctrl.releaseMasterToken(u),n(t)}),s)},timeout:function(){sn(a,(function(){this._ctrl.releaseMasterToken(u),a.timeout()}),s)},error:function(t){sn(a,(function(){this._ctrl.releaseMasterToken(u),a.error(t)}),s)}}):(this._openedStreams&&(this._input.close(),this._output.close(i,f)),h=new l(this._ctrl,this._ctx,e,this._remoteEntity,null,null,{builder:c,tokenTicket:u},r,this._timeout),this.setAbort((function(){h.abort()})),h.call({result:function(t){n(t)},timeout:function(){a.timeout()},error:function(t){a.error(t)}}))}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}),s)}(e)}),s)},timeout:function(){a.timeout()},error:function(t){a.error(t)}})}),s=this)},call:function(t){var e;function i(i,n,r){sn(t,(function(){this.execute(this._msgCtx,i,r,this._msgCount,{result:function(i){sn(t,(function(){return this._ctrl.releaseMasterToken(n),this._openedStreams&&this._output.close(r,f),i&&i.closeSource(this._openedStreams),i}),e)},timeout:function(){sn(t,(function(){this._ctrl.releaseMasterToken(n),this._openedStreams&&(this._output.close(r,f),this._input.close()),t.timeout()}),e)},error:function(i){sn(t,(function(){if(this._ctrl.releaseMasterToken(n),this._openedStreams&&(this._output.close(r,f),this._input.close()),m(i))return null;throw i}),e)}})}),e)}sn(t,(function(){var n,r,o;if(n=this._timeout,!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout),r=Date.now(),o=this._remoteEntity.openConnection(),this._output=o.output,this._input=o.input,-1!=n&&(n=this._timeout-(Date.now()-r)),this._openedStreams=!0}catch(t){if(this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket),this._output&&this._output.close(this._timeout,f),this._input&&this._input.close(),m(t))return null;throw t}this._builder?i(this._builder,this._tokenTicket,n):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(r){sn(t,(function(){i(r.builder,r.tokenTicket,n)}),e)},timeout:function(){sn(t,(function(){this._openedStreams&&(this._output.close(this._timeout,f),this._input.close()),t.timeout()}),e)},error:function(i){sn(t,(function(){if(this._openedStreams&&(this._output.close(this._timeout,f),this._input.close()),m(i))return null;throw i}),e)}})}),e=this)}})}(),Je=k.Class.create({init:function(t){Object.defineProperties(this,{id:{value:t,writable:!1,configurable:!1}})},toJSON:function(){var t;return(t={}).id=this.id,t},equals:function(t){return this===t||t instanceof Je&&this.id==t.id},uniqueKey:function(){return this.id}}),ze=function(t){var e;if(!(e=t.id))throw new j(un.JSON_PARSE_ERROR,JSON.stringify(t));return new Je(e)},k.Class.create({isNewestMasterToken:function(t,e,i){},isMasterTokenRevoked:function(t,e){},acceptNonReplayableId:function(t,e,i,n){},createMasterToken:function(t,e,i,n,r){},isMasterTokenRenewable:function(t,e,i){},renewMasterToken:function(t,e,i,n,r){},isUserIdTokenRevoked:function(t,e,i,n){},createUserIdToken:function(t,e,i,n){},renewUserIdToken:function(t,e,i,n){}}),function(){function t(t,e,i,n){this.sessiondata=t,this.tokendata=e,this.signature=i,this.verified=n}Ye=k.Class.create({init:function(t,e,i,n,r,o,a,s,u,h,f){var l;l=this,an(f,(function(){var d,v,y,g,m;if(i.getTime()<e.getTime())throw new R("Cannot construct a master token that expires before its renewal window opens.");if(0>n||n>b)throw new R("Sequence number "+n+" is outside the valid range.");if(0>r||r>b)throw new R("Serial number "+r+" is outside the valid range.");if(d=Math.floor(e.getTime()/1e3),v=Math.floor(i.getTime()/1e3),h?y=h.sessiondata:(g={},o&&(g.issuerdata=o),g.identity=a,g.encryptionkey=c(s.toByteArray()),g.hmackey=c(u.toByteArray()),y=Qi(JSON.stringify(g),p)),h)return Object.defineProperties(this,{ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:v,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:n,writable:!1,configurable:!1},serialNumber:{value:r,writable:!1,configurable:!1},issuerData:{value:o,writable:!1,configurable:!1},identity:{value:a,writable:!1,configurable:!1},encryptionKey:{value:s,writable:!1,configurable:!1},hmacKey:{value:u,writable:!1,configurable:!1},sessiondata:{value:y,writable:!1,enumerable:!1,configurable:!1},verified:{value:h.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:h.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:h.signature,writable:!1,enumerable:!1,configurable:!1}}),this;(m=t.getMslCryptoContext()).encrypt(y,{result:function(e){an(f,(function(){var i,h;(i={}).renewalwindow=d,i.expiration=v,i.sequencenumber=n,i.serialnumber=r,i.sessiondata=c(e),h=Qi(JSON.stringify(i),p),m.sign(h,{result:function(e){an(f,(function(){return Object.defineProperties(this,{ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:d,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:v,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:n,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:r,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:o,writable:!1,configurable:!1},identity:{value:a,writable:!1,configurable:!1},encryptionKey:{value:s,writable:!1,configurable:!1},hmacKey:{value:u,writable:!1,configurable:!1},sessiondata:{value:y,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:e,writable:!1,enumerable:!1,configurable:!1}}),this}),l)},error:function(t){f.error(t)}})}),l)},error:function(t){f.error(t)}})}),this)},get renewalWindow(){return new Date(1e3*this.renewalWindowSeconds)},get expiration(){return new Date(1e3*this.expirationSeconds)},isDecrypted:function(){return!!this.sessiondata},isVerified:function(){return this.verified},isRenewable:function(t){return!this.isVerified()||this.renewalWindow.getTime()<=this.ctx.getTime()},isExpired:function(t){return!!this.isVerified()&&this.expiration.getTime()<=this.ctx.getTime()},isNewerThan:function(t){var e;return this.sequenceNumber==t.sequenceNumber?this.expiration>t.expiration:this.sequenceNumber>t.sequenceNumber?(e=this.sequenceNumber-b+127,t.sequenceNumber>=e):(e=t.sequenceNumber-b+127,this.sequenceNumber<e)},toJSON:function(){var t;return(t={}).tokendata=c(this.tokendata),t.signature=c(this.signature),t},equals:function(t){return this===t||t instanceof Ye&&(this.serialNumber==t.serialNumber&&this.sequenceNumber==t.sequenceNumber&&this.expiration.getTime()==t.expiration.getTime())},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime()}}),We=function(e,i,n){an(n,(function(){var r,o,a,s,u;if(r=e.getMslCryptoContext(),o=i.tokendata,a=i.signature,"string"!=typeof o||"string"!=typeof a)throw new j(un.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(i));try{s=h(o)}catch(t){throw new A(un.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(i),t)}if(!s||0==s.length)throw new j(un.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(i));try{u=h(a)}catch(t){throw new A(un.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(i),t)}r.verify(s,u,{result:function(i){an(n,(function(){var o,a,c,f,l,d,v,y,g,m;o=Zi(s,p);try{a=JSON.parse(o),c=parseInt(a.renewalwindow),f=parseInt(a.expiration),l=parseInt(a.sequencenumber),d=parseInt(a.serialnumber),v=a.sessiondata}catch(t){if(t instanceof SyntaxError)throw new j(un.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+o,t);throw t}if(!c||c!=c||!f||f!=f||"number"!=typeof l||l!=l||"number"!=typeof d||d!=d||"string"!=typeof v)throw new j(un.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+o);if(f<c)throw new A(un.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+o);if(0>l||l>b)throw new A(un.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+o);if(0>d||d>b)throw new A(un.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+o);y=new Date(1e3*c),g=new Date(1e3*f);try{m=h(v)}catch(t){throw new A(un.MASTERTOKEN_SESSIONDATA_INVALID,v,t)}if(!m||0==m.length)throw new A(un.MASTERTOKEN_SESSIONDATA_MISSING,v);i?r.decrypt(m,{result:function(r){an(n,(function(){var o,a,c,h,f,b;o=Zi(r,p);try{a=JSON.parse(o),c=a.issuerdata,h=a.identity,f=a.encryptionkey,b=a.hmackey}catch(t){if(t instanceof SyntaxError)throw new j(un.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+o,t);throw t}if(c&&"object"!=typeof c||!h||"string"!=typeof f||"string"!=typeof b)throw new j(un.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+o);$(f,H,Y,{result:function(o){$(b,V,X,{result:function(a){an(n,(function(){var f;f=new t(r,s,u,i),new Ye(e,y,g,l,d,c,h,o,a,f,n)}))},error:function(t){n.error(new P(un.MASTERTOKEN_KEY_CREATION_ERROR,t))}})},error:function(t){n.error(new P(un.MASTERTOKEN_KEY_CREATION_ERROR,t))}})}))},error:function(t){n.error(t)}}):(c=new t(null,s,u,i),new Ye(e,y,g,l,d,null,null,null,null,c,n))}))},error:function(t){n.error(t)}})}))}}(),function(){function t(t,e,i){this.tokendata=t,this.signature=e,this.verified=i}Xe=k.Class.create({init:function(t,e,i,n,r,o,a,s,u){var h;h=this,an(u,(function(){var f,l,d,v,y,g,m;if(i.getTime()<e.getTime())throw new R("Cannot construct a user ID token that expires before its renewal window opens.");if(!n)throw new R("Cannot construct a user ID token without a master token.");if(0>r||r>b)throw new R("Serial number "+r+" is outside the valid range.");if(f=Math.floor(e.getTime()/1e3),l=Math.floor(i.getTime()/1e3),d=n.serialNumber,s)return v=s.tokendata,y=s.signature,g=s.verified,d=n.serialNumber,Object.defineProperties(this,{ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:f,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:l,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:d,writable:!1,configurable:!1},serialNumber:{value:r,writable:!1,configurable:!1},issuerData:{value:o,writable:!1,configurable:!1},customer:{value:a,writable:!1,configurable:!1},verified:{value:g,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:v,writable:!1,enumerable:!1,configurable:!1},signature:{value:y,writable:!1,enumerable:!1,configurable:!1}}),this;v={},o&&(v.issuerdata=o),v.identity=a,v=Qi(JSON.stringify(v),p),(m=t.getMslCryptoContext()).encrypt(v,{result:function(e){an(u,(function(){var i,s;(i={}).renewalwindow=f,i.expiration=l,i.mtserialnumber=d,i.serialnumber=r,i.userdata=c(e),s=Qi(JSON.stringify(i),p),m.sign(s,{result:function(e){an(u,(function(){return Object.defineProperties(this,{ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:f,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:l,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:n.serialNumber,writable:!1,configurable:!1},serialNumber:{value:r,writable:!1,configurable:!1},issuerData:{value:o,writable:!1,configurable:!1},customer:{value:a,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:s,writable:!1,enumerable:!1,configurable:!1},signature:{value:e,writable:!1,enumerable:!1,configurable:!1}}),this}),h)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(n),t}),h)}})}),h)},error:function(t){an(u,(function(){throw t instanceof A&&t.setEntity(n),t}),h)}})}),this)},get renewalWindow(){return new Date(1e3*this.renewalWindowSeconds)},get expiration(){return new Date(1e3*this.expirationSeconds)},isVerified:function(){return this.verified},isDecrypted:function(){return!!this.customer},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime()},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime()},isBoundTo:function(t){return t&&t.serialNumber==this.mtSerialNumber},toJSON:function(){var t;return(t={}).tokendata=c(this.tokendata),t.signature=c(this.signature),t},equals:function(t){return this===t||t instanceof Xe&&(this.serialNumber==t.serialNumber&&this.mtSerialNumber==t.mtSerialNumber)},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber}}),Ze=function(e,i,n,r){an(r,(function(){var o,a,s,u,c;if(o=e.getMslCryptoContext(),a=i.tokendata,s=i.signature,"string"!=typeof a||"string"!=typeof s)throw new j(un.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(i)).setEntity(n);try{u=h(a)}catch(t){throw new A(un.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(i),t).setEntity(n)}if(!u||0==u.length)throw new j(un.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(i)).setEntity(n);try{c=h(s)}catch(t){throw new A(un.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(i),t).setEntity(n)}o.verify(u,c,{result:function(i){an(r,(function(){var a,s,f,l,d,v,y,g,m,_;a=Zi(u,p);try{s=JSON.parse(a),f=parseInt(s.renewalwindow),l=parseInt(s.expiration),d=parseInt(s.mtserialnumber),v=parseInt(s.serialnumber),y=s.userdata}catch(t){if(t instanceof SyntaxError)throw new j(un.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+a,t).setEntity(n);throw t}if(!f||f!=f||!l||l!=l||"number"!=typeof d||d!=d||"number"!=typeof v||v!=v||"string"!=typeof y)throw new j(un.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+a).setEntity(n);if(l<f)throw new A(un.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+a).setEntity(n);if(0>d||d>b)throw new A(un.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+a).setEntity(n);if(0>v||v>b)throw new A(un.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+a).setEntity(n);if(g=new Date(1e3*f),m=new Date(1e3*l),!n||d!=n.serialNumber)throw new A(un.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+d+"; mt "+JSON.stringify(n)).setEntity(n);try{_=h(y)}catch(t){throw new A(un.USERIDTOKEN_USERDATA_INVALID,y,t).setEntity(n)}if(!_||0==_.length)throw new A(un.USERIDTOKEN_USERDATA_MISSING,y).setEntity(n);i?o.decrypt(_,{result:function(o){an(r,(function(){var a,s,h,f,l;a=Zi(o,p);try{h=(s=JSON.parse(a)).issuerdata,f=s.identity}catch(t){if(t instanceof SyntaxError)throw new j(un.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+a).setEntity(n);throw t}if(h&&"object"!=typeof h||"object"!=typeof f)throw new j(un.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+a).setEntity(n);try{l=ze(f)}catch(t){throw new A(un.USERIDTOKEN_IDENTITY_INVALID,"userdata "+a,t).setEntity(n)}f=new t(u,c,i),new Xe(e,g,m,n,v,h,l,f,r)}))},error:function(t){an(r,(function(){throw t instanceof A&&t.setEntity(n),t}))}}):(f=new t(u,c,i),new Xe(e,g,m,n,v,null,null,f,r))}))},error:function(t){an(r,(function(){throw t instanceof A&&t.setEntity(n),t}))}})}))}}(),function(){function t(t,e,i){this.tokendata=t,this.signature=e,this.verified=i}Qe=k.Class.create({init:function(t,e,i,n,r,o,a,s,u,h){var f;f=this,an(h,(function(){var l,d,b,v,y;if(n&&r&&!r.isBoundTo(n))throw new R("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");if(l=n?n.serialNumber:-1,d=r?r.serialNumber:-1,u)return y=u.tokendata,Object.defineProperties(this,{ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},name:{value:e,writable:!1,configurable:!1},mtSerialNumber:{value:l,writable:!1,configurable:!1},uitSerialNumber:{value:d,writable:!1,configurable:!1},data:{value:i,writable:!1,configurable:!1},encrypted:{value:o,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:a,writable:!1,configurable:!1},verified:{value:u.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:y,writable:!1,enumerable:!1,configurable:!1},signature:{value:u.signature,writable:!1,enumerable:!1,configurable:!1}}),this;a&&(b=Pi(a,i)).length<i.length||(a=null,b=i),(v={}).name=e,-1!=l&&(v.mtserialnumber=l),-1!=d&&(v.uitserialnumber=d),v.encrypted=o,a&&(v.compressionalgo=a),o&&0<b.length?s.encrypt(b,{result:function(u){an(h,(function(){var b;v.servicedata=c(u),b=Qi(JSON.stringify(v),p),s.sign(b,{result:function(n){an(h,(function(){return Object.defineProperties(this,{ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},name:{value:e,writable:!1,configurable:!1},mtSerialNumber:{value:l,writable:!1,configurable:!1},uitSerialNumber:{value:d,writable:!1,configurable:!1},data:{value:i,writable:!1,configurable:!1},encrypted:{value:o,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:a,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}}),this}),f)},error:function(t){an(h,(function(){throw t instanceof A&&(t.setEntity(n),t.setUser(r)),t}))}})}),f)},error:function(t){an(h,(function(){throw t instanceof A&&(t.setEntity(n),t.setUser(r)),t}))}}):(v.servicedata=c(b),y=Qi(JSON.stringify(v),p),s.sign(y,{result:function(n){an(h,(function(){return Object.defineProperties(this,{ctx:{value:t,writable:!1,enumerable:!1,configurable:!1},name:{value:e,writable:!1,configurable:!1},mtSerialNumber:{value:l,writable:!1,configurable:!1},uitSerialNumber:{value:d,writable:!1,configurable:!1},data:{value:i,writable:!1,configurable:!1},encrypted:{value:o,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:a,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:y,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}}),this}),f)},error:function(t){an(h,(function(){throw t instanceof A&&(t.setEntity(n),t.setUser(r)),t}))}}))}),this)},isEncrypted:function(){return this.encrypted},isVerified:function(){return this.verified},isDecrypted:function(){return!!this.data},isDeleted:function(){return this.data&&0==this.data.length},isMasterTokenBound:function(){return-1!=this.mtSerialNumber},isBoundTo:function(t){return!!t&&(t instanceof Ye?t.serialNumber==this.mtSerialNumber:t instanceof Xe&&t.serialNumber==this.uitSerialNumber)},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber},toJSON:function(){var t;return(t={}).tokendata=c(this.tokendata),t.signature=c(this.signature),t},equals:function(t){return this===t||t instanceof Qe&&(this.name==t.name&&this.mtSerialNumber==t.mtSerialNumber&&this.uitSerialNumber==t.uitSerialNumber)},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber}}),$e=function(t,e,i,n,r,o,a,s,u){new Qe(t,e,i,n,r,o,a,s,null,u)},ti=function(e,i,n,r,o,a){an(a,(function(){var s,u,c,f,l,d,y,g,m,_,w,E,k;if(!o||o instanceof dt||(o=function(t,e){var i,n,r;if("string"!=typeof(i=t.tokendata))throw new j(un.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(t));try{n=h(i)}catch(e){throw new A(un.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(t),e)}if(!n||0==n.length)throw new j(un.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(t));try{r=JSON.parse(Zi(n,p)).name}catch(e){if(e instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(t),e);throw e}if(!r)throw new j(un.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(t));return e[r]?e[r]:e[""]}(i,o)),s=i.tokendata,u=i.signature,"string"!=typeof s||"string"!=typeof u)throw new j(un.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(i)).setEntity(n).setEntity(r);try{c=h(s)}catch(t){throw new A(un.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(i),t).setEntity(n).setEntity(r)}if(!c||0==c.length)throw new j(un.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(i)).setEntity(n).setEntity(r);try{f=h(u)}catch(t){throw new A(un.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(i),t).setEntity(n).setEntity(r)}l=Zi(c,p);try{d=JSON.parse(l),y=d.name,g=d.mtserialnumber?parseInt(d.mtserialnumber):-1,m=d.uitserialnumber?parseInt(d.uitserialnumber):-1,_=d.encrypted,w=d.compressionalgo,E=d.servicedata}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"servicetokendata "+l,t).setEntity(n).setEntity(r);throw t}if(!y||"number"!=typeof g||g!=g||"number"!=typeof m||m!=m||"boolean"!=typeof _||w&&"string"!=typeof w||"string"!=typeof E)throw new j(un.JSON_PARSE_ERROR,"servicetokendata "+l).setEntity(n).setEntity(r);if(d.mtserialnumber&&0>g||g>b)throw new A(un.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+l).setEntity(n).setEntity(r);if(d.uitserialnumber&&0>m||m>b)throw new A(un.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+l).setEntity(n).setEntity(r);if(-1!=g&&(!n||g!=n.serialNumber))throw new A(un.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+g+"; mt "+n).setEntity(n).setEntity(r);if(-1!=m&&(!r||m!=r.serialNumber))throw new A(un.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+m+"; uit "+r).setEntity(n).setEntity(r);if(_=!0===_,w){if(!v[w])throw new A(un.UNIDENTIFIED_COMPRESSION,w);k=w}else k=null;o?o.verify(c,f,{result:function(i){an(a,(function(){var s,u;if(i){try{s=h(E)}catch(t){throw new A(un.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+l,t).setEntity(n).setEntity(r)}if(!s||0!=E.length&&0==s.length)throw new A(un.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+l).setEntity(n).setEntity(r);_&&0<s.length?o.decrypt(s,{result:function(s){an(a,(function(){var u,h;u=k?ji(k,s):s,h=new t(c,f,i),new Qe(e,y,u,-1!=g?n:null,-1!=m?r:null,_,k,o,h,a)}))},error:function(t){an(a,(function(){throw t instanceof A&&(t.setEntity(n),t.setUser(r)),t}))}}):(s=k?ji(k,s):s,u=new t(c,f,i),new Qe(e,y,s,-1!=g?n:null,-1!=m?r:null,_,k,o,u,a))}else s=""==E?new Uint8Array(0):null,u=new t(c,f,i),new Qe(e,y,s,-1!=g?n:null,-1!=m?r:null,_,k,o,u,a)}))},error:function(t){an(a,(function(){throw t instanceof A&&(t.setEntity(n),t.setUser(r)),t}))}}):(s=""==E?new Uint8Array(0):null,u=new t(c,f,!1),new Qe(e,y,s,-1!=g?n:null,-1!=m?r:null,_,k,o,u,a))}))}}(),ei={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"},Object.freeze(ei),ii=k.Class.create({init:function(t){Object.defineProperties(this,{scheme:{value:t,writable:!1,configurable:!1}})},getAuthData:function(){},equals:function(t){return this===t||t instanceof ii&&this.scheme==t.scheme},toJSON:function(){var t;return(t={}).scheme=this.scheme,t.authdata=this.getAuthData(),t}}),ni=function(t,e,i,n){an(n,(function(){var r,o,a;if(r=i.scheme,o=i.authdata,!r||!o)throw new j(un.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(i));if(!ei[r])throw new U(un.UNIDENTIFIED_USERAUTH_SCHEME,r);if(!(a=t.getUserAuthenticationFactory(r)))throw new U(un.USERAUTH_FACTORY_NOT_FOUND,r);a.createData(t,e,o,n)}))},ri=k.Class.create({init:function(t){Object.defineProperties(this,{scheme:{value:t,writable:!1,configurable:!1}})},createData:function(t,e,i,n){},authenticate:function(t,e,i,n){}}),oi=ii.extend({init:function t(e,i){t.base.call(this,ei.NETFLIXID),Object.defineProperties(this,{netflixId:{value:e,writable:!1,configurable:!1},secureNetflixId:{value:i,writable:!1,configurable:!1}})},getAuthData:function(){var t;return(t={}).netflixid=this.netflixId,this.secureNetflixId&&(t.securenetflixid=this.secureNetflixId),t},equals:function t(e){return this===e||e instanceof oi&&t.base.call(this,e)&&this.netflixId==e.netflixId&&this.secureNetflixId==e.secureNetflixId}}),ai=function(t){var e,i;if(e=t.netflixid,i=t.securenetflixid,!e)throw new j(un.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(t));return new oi(e,i)},si=ri.extend({init:function t(){t.base.call(this,ei.NETFLIXID)},createData:function(t,e,i,n){an(n,(function(){return ai(i)}))},authenticate:function(t,e,i,n){if(!(i instanceof oi))throw new R("Incorrect authentication data type "+i+".");if(t=i.secureNetflixId,!i.netflixId||!t)throw new U(un.NETFLIXID_COOKIES_BLANK).setUser(i);throw new U(un.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(i)}}),ui=ii.extend({init:function t(e,i){t.base.call(this,ei.EMAIL_PASSWORD),Object.defineProperties(this,{email:{value:e,writable:!1,configurable:!1},password:{value:i,writable:!1,configurable:!1}})},getAuthData:function(){var t;return(t={}).email=this.email,t.password=this.password,t},equals:function t(e){return this===e||e instanceof ui&&t.base.call(this,this,e)&&this.email==e.email&&this.password==e.password}}),ci=function(t){var e,i;if(e=t.email,i=t.password,!e||!i)throw new j(un.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(t));return new ui(e,i)},hi=ri.extend({init:function t(){t.base.call(this,ei.EMAIL_PASSWORD)},createData:function(t,e,i,n){an(n,(function(){return ci(i)}))},authenticate:function(t,e,i,n){if(!(i instanceof ui))throw new R("Incorrect authentication data type "+i+".");if(t=i.password,!i.email||!t)throw new U(un.EMAILPASSWORD_BLANK).setUser(i);throw new U(un.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(i)}}),function(){var t,e,i,n,r,o,a,s;function u(t,e){return"<"+t+">"+e+"</"+t+">"}function f(t){return t.replace(/[<>&"']/g,(function(t){return r[t]}))}function l(t){return encodeURIComponent(t).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A")}t=di={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"},e=k.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}}),i=pi=e.extend({init:function(t,e,i,n,r,o,a){var s;function u(r,o){an(a,(function(){return Object.defineProperties(this,{_userIdToken:{value:t,writable:!1,enumerable:!1,configurable:!1},_action:{value:e,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:i,writable:!1,enumerable:!1,configurable:!1},_pin:{value:n,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:o,writable:!1,enumerable:!1,configurable:!1}}),this}),s)}an(a,(function(){o?u(o.encoding,o.signature):r.encrypt(Qi(n,p),{result:function(n){!function(n){an(a,(function(){var o,s;try{(o={}).useridtoken=t,o.action=e,o.nonce=i,o.pin=c(n),s=Qi(JSON.stringify(o),p)}catch(t){throw new j(un.JSON_ENCODE_ERROR,"MSL-based MDX authdata",t)}r.sign(s,{result:function(t){u(s,t)},error:a.error})}),s)}(n)},error:a.error})}),s=this)},getUserIdToken:function(){return this._userIdToken},getAction:function(){return this._action},getNonce:function(){return this._nonce},getPin:function(){return this._pin},getSignature:function(){return this._signature},getEncoding:function(){return this._encoding},equals:function(t){return this===t||t instanceof i&&(this._action==t._action&&this._nonce==t._nonce&&this._pin==t._pin&&this._userIdToken.equals(t._userIdToken))}}),pi.ACTION="userauth",n=function(t,e,n,r,o){function a(a){an(o,(function(){var s,u,c,f,l,d;s=Zi(n,p);try{c=(u=JSON.parse(s)).useridtoken,f=u.action,l=u.nonce,d=u.pin}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"MDX authdata "+s,t);throw t}if(!(c&&"object"==typeof c&&f&&"string"==typeof f&&l&&"number"==typeof l&&d)||"string"!=typeof d)throw new j(un.JSON_PARSE_ERROR,"MDX authdata "+s);Ze(t,c,e,{result:function(t){an(o,(function(){if(!t.isDecrypted())throw new U(un.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+s);!function(t,e,a,s,u){an(o,(function(){var c;c=h(u),t.decrypt(c,{result:function(t){an(o,(function(){var u;u=Zi(t,p),new i(e,a,s,u,null,{encoding:n,signature:r},o)}))},error:o.error})}))}(a,t,f,l,d)}))},error:function(t){an(o,(function(){if(t instanceof A)throw new U(un.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+s,t);throw t}))}})}))}an(o,(function(){var i,s;try{i=t.getMslStore().getCryptoContext(e),s=i||new _t(t,e)}catch(t){if(t instanceof L)throw new U(un.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+c(n));throw t}s.verify(n,r,{result:function(t){an(o,(function(){if(!t)throw new P(un.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+c(n));a(s)}))},error:o.error})}))},r={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"},o=bi=e.extend({init:function(t,e,i,n){var r,o;r=u("action",f(t)),o=u("nonce",e.toString()),i=u("pin",i),r=Qi(r=u("registerdata",r+o+i),"utf-8"),Object.defineProperties(this,{_action:{value:t,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:e,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:n,writable:!1,enumerable:!1,configurable:!1}})},getAction:function(){return this._action},getNonce:function(){return this._nonce},getPin:function(){return this._pin},getSignature:function(){return this._signature},getEncoding:function(){return this._encoding},equals:function(t){return this===t||t instanceof o&&(this._action==t._action&&this._nonce==t._nonce&&this._pin==t._pin)}}),bi.ACTION="regpairrequest",a=vi=e.extend({init:function(t,e,i,n,r,o){var a;function s(n,r){an(o,(function(){return Object.defineProperties(this,{_action:{value:t,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:e,writable:!1,enumerable:!1,configurable:!1},_pin:{value:i,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:n,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}}),this}),a)}an(o,(function(){r?s(r.encoding,r.signature):n.encrypt(Qi(i,"utf-8"),{result:function(i){!function(i){an(o,(function(){var r,a,h,d,p;r=c(i),a=u("action",f(t)),h=u("nonce",e.toString()),d=u("pin",r),a=u("registerdata",a+h+d),p=Qi(a,"utf-8"),r="action="+l(t)+"&nonce="+l(e.toString())+"&pin="+l(r),n.sign(Qi(r,"utf-8"),{result:function(t){s(p,t)},error:o.error})}),a)}(i)},error:o.error})}),a=this)},getAction:function(){return this._action},getNonce:function(){return this._nonce},getPin:function(){return this._pin},getSignature:function(){return this._signature},getEncoding:function(){return this._encoding},equals:function(t){return this===t||t instanceof a&&(this._action==t._action&&this._nonce==t._nonce&&this._pin==t._pin)}}),vi.ACTION=bi.ACTION,s=function(t,e,i,n,r){an(r,(function(){var o,s,u,f,d,p,b;if(o=t.getMslStore().getCryptoContext(e),s=o||new _t(t,e),o=Zi(i,"utf-8"),o=(u=(new DOMParser).parseFromString(o,"application/xml")).getElementsByTagName("action"),f=u.getElementsByTagName("nonce"),u=u.getElementsByTagName("pin"),d=o&&1==o.length&&o[0].firstChild?o[0].firstChild.nodeValue:null,p=f&&1==f.length&&f[0].firstChild?parseInt(f[0].firstChild.nodeValue):null,b=u&&1==u.length&&u[0].firstChild?u[0].firstChild.nodeValue:null,!d||!p||!b)throw new j(un.XML_PARSE_ERROR,"MDX authdata "+c(i));o="action="+l(d)+"&nonce="+l(p.toString())+"&pin="+l(b),s.verify(Qi(o,"utf-8"),n,{result:function(t){an(r,(function(){var e;if(!t)throw new P(un.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+c(i));e=h(b),s.decrypt(e,{result:function(t){an(r,(function(){var e;e=Zi(t,"utf-8"),new a(d,p,e,null,{encoding:i,signature:n},r)}))},error:r.error})}))},error:r.error})}))},fi=ii.extend({init:function e(n,r,o,a,s,u){var c,h,f,l,d,p;if(e.base.call(this,ei.MDX),c=null,h=null,f=null,"string"==typeof o)n=t.MSL_LEGACY,f=o;else if(o instanceof Uint8Array)n=t.NTBA,h=o;else{if(!(o instanceof Ye))throw new TypeError("Controller token "+o+" is not a master token, encrypted CTicket, or MSL token construct.");n=t.MSL,c=o}l=o=null,d=null,u&&(o=(p=u.controllerAuthData).getAction(),l=p.getPin(),u=u.userIdToken,p instanceof i?d=p.getUserIdToken().customer:u&&(d=u.customer)),Object.defineProperties(this,{mechanism:{value:n,writable:!1,configurable:!1},action:{value:o,writable:!1,configurable:!1},targetPin:{value:r,writable:!1,configurable:!1},controllerPin:{value:l,writable:!1,configurable:!1},customer:{value:d,writable:!1,configurable:!1},_masterToken:{value:c,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:h,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:f,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:a,writable:!1,enumerable:!1,configurable:!1},_signature:{value:s,writable:!1,enumerable:!1,configurable:!1}})},getAuthData:function(){var e,i;switch(e={},this.mechanism){case t.MSL:i=JSON.parse(JSON.stringify(this._masterToken)),e.mastertoken=i;break;case t.NTBA:i=Zi(this._encryptedCTicket,"utf-8"),e.cticket=i;break;case t.MSL_LEGACY:e.cticket=this._mslTokens;break;default:throw new R("Unsupported MDX mechanism.")}return e.pin=this.targetPin,e.mdxauthdata=c(this._controllerEncoding),e.signature=c(this._signature),e},equals:function t(e){return this===e||e instanceof fi&&(t.base.call(this,e)&&(this._masterToken==e._masterToken||this._masterToken&&this._masterToken.equals(e._masterToken))&&(this._encryptedCTicket==e._encryptedCTicket||this._encryptedCTicket&&en(this._encryptedCTicket,e._encryptedCTicket))&&this._mslTokens==e._mslTokens&&en(this._controllerEncoding,e._controllerEncoding)&&en(this._signature,e._signature))}}),li=function(t,e,i){function r(n,r,o,a){an(i,(function(){var u;if(3!=(u=r.split(",")).length||"1"!=u[0])throw new U(un.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(e));!function(i,n){an(n,(function(){var r,o;try{r=h(i)}catch(t){throw new U(un.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(e),t)}if(!r||0==r.length)throw new U(un.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(e));try{o=JSON.parse(Zi(r,"utf-8")),We(t,o,{result:function(t){an(n,(function(){if(!t.isDecrypted())throw new U(un.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+e.toString());return t}))},error:function(t){an(n,(function(){if(t instanceof A)throw new U(un.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(e),t);throw t}))}})}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(e),t);throw t}}))}(u[1],{result:function(c){!function(i,n,r){an(r,(function(){var o,a;try{o=h(i)}catch(t){throw new U(un.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(e),t)}if(!o||0==o.length)throw new U(un.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(e));try{a=JSON.parse(Zi(o,"utf-8")),Ze(t,a,n,{result:function(t){an(r,(function(){if(!t.isDecrypted())throw new U(un.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(e));return t}))},error:function(t){an(r,(function(){if(t instanceof A)throw new U(un.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(e),t);throw t}))}})}catch(t){if(t instanceof SyntaxError)throw new j(un.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(e),t);throw t}}))}(u[2],c,{result:function(u){s(t,c,o,a,{result:function(e){an(i,(function(){return new fi(t,n,r,o,a,{controllerAuthData:e,userIdToken:u})}))},error:function(t){an(i,(function(){if(t instanceof L)throw new U(un.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(e),t);throw t}))}})},error:i.error})},error:i.error})}))}an(i,(function(){var o,a,s,u,c;if(o=e.pin,a=e.mdxauthdata,s=e.signature,!o||"string"!=typeof o||!a||"string"!=typeof a||!s||"string"!=typeof s)throw new j(un.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(e));try{u=h(a),c=h(s)}catch(t){throw new U(un.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(e),t)}if(e.mastertoken){if(!(a=e.mastertoken)||"object"!=typeof a)throw new j(un.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(e));!function(r,o,a,s){We(t,o,{result:function(o){an(i,(function(){if(!o.isDecrypted())throw new U(un.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+e.toString());n(t,o,a,s,{result:function(e){an(i,(function(){var i,n;return i=e.getEncoding(),n=e.getSignature(),new fi(t,r,o,i,n,{controllerAuthData:e,userIdToken:null})}))},error:i.error})}))},error:function(t){an(i,(function(){if(t instanceof A)throw new U(un.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(e),t);throw t}))}})}(o,a,u,c)}else{if(!e.cticket)throw new U(un.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(e));if(!(a=e.cticket)||"string"!=typeof a)throw new j(un.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(e));-1==a.indexOf(",")?an(i,(function(){throw new U(un.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse")})):r(o,a,u,c)}}))}}(),Yi=pi.ACTION,Wi=bi.ACTION,Xi=vi.ACTION,yi=ri.extend({init:function t(){t.base.call(this,ei.MDX)},createData:function(t,e,i,n){li(t,i,n)},authenticate:function(t,e,i,n){if(!(i instanceof fi))throw new R("Incorrect authentication data type "+i.getClass().getName()+".");switch(t=i.action,i.mechanism){case di.MSL:if(Yi!=t)throw new U(un.MDX_USERAUTH_ACTION_INVALID).setUser(i);break;case di.NTBA:if(Wi!=t)throw new U(un.MDX_USERAUTH_ACTION_INVALID).setUser(i);break;case di.MSL_LEGACY:if(Xi!=t)throw new U(un.MDX_USERAUTH_ACTION_INVALID).setUser(i)}if(t=i.controllerPin,e=i.targetPin,!t||!e)throw new U(un.MDX_PIN_BLANK).setUser(i);if(t!=e)throw new U(un.MDX_PIN_MISMATCH).setUser(i);if(!(t=i.customer))throw new U(un.MDX_USER_UNKNOWN).setUser(i);if(n&&(n=n.customer,!t.equals(n)))throw new U(un.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+t+"; uit customer "+n).setUser(i);return t}}),function(){var t,e,i;t={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"},e=_i=k.Class.create({init:function(t,e){Object.defineProperties(this,{email:{value:t,writable:!1,enumerable:!0,configurable:!1},password:{value:e,writable:!1,enumerable:!0,configurable:!1}})}}),i=wi=k.Class.create({init:function(t,e){Object.defineProperties(this,{netflixId:{value:t,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:e,writable:!1,enumerable:!0,configurable:!1}})}}),gi=ii.extend({init:function t(n,r,o,a){var s,u,c,h;t.base.call(this,ei.SSO),s=null,u=null,c=null,h=null,o instanceof e?(s=o.email,u=o.password):o instanceof i&&(c=o.netflixId,h=o.secureNetflixId),Object.defineProperties(this,{mechanism:{value:n,writable:!1,configurable:!1},token:{value:r,writable:!1,configurable:!1},email:{value:s,writable:!1,configurable:!1},password:{value:u,writable:!1,configurable:!1},netflixId:{value:c,writable:!1,configurable:!1},secureNetflixId:{value:h,writable:!1,configurable:!1},profileGuid:{value:void 0===a?null:a,writable:!1,configurable:!1}})},getAuthData:function(){var t;return(t={}).mechanism=this.mechanism,t.token=c(this.token),this.email&&this.password?(t.email=this.email,t.password=this.password):this.netflixId&&this.secureNetflixId&&(t.netflixid=this.netflixId,t.securenetflixid=this.secureNetflixId),this.profileGuid&&(t.profileguid=this.profileGuid),t},equals:function t(e){return this===e||e instanceof gi&&(t.base.call(this,e)&&this.mechanism==e.mechanism&&en(this.token,e.token)&&this.email==e.email&&this.password==e.password&&this.netflixId==e.netflixId&&this.secureNetflixId==e.secureNetflixId&&this.profileGuid==e.profileGuid)}}),mi=function(n){var r,o,a,s,u,c,f,l,d;if(r=n.mechanism,o=n.token,!r||!o||"string"!=typeof o)throw new j(un.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(n));if(!t[r])throw new U(un.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(n));if(a=n.email,s=n.password,u=n.netflixid,c=n.securenetflixid,f=n.profileguid,a&&!s||!a&&s||u&&!c||!u&&c||a&&u)throw new j(un.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(n));try{l=h(o)}catch(t){throw new U(un.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(n),t)}return a&&s?d=new e(a,s):u&&c&&(d=new i(u,c)),new gi(r,l,d,f)}}(),Ei=ri.extend({init:function t(){t.base.call(this,ei.SSO)},createData:function(t,e,i,n){an(n,(function(){return mi(i)}))},authenticate:function(t,e,i,n){var r,o;if(!(i instanceof gi))throw new R("Incorrect authentication data type "+i+".");if(t=i.token,e=i.email,n=i.password,r=i.netflixId,o=i.secureNetflixId,!t||0==t.length)throw new U(un.SSOTOKEN_BLANK);if(!(null===e&&null===n||e&&n))throw new U(un.EMAILPASSWORD_BLANK);if(!(null===r&&null===o||r&&o))throw new U(un.NETFLIXID_COOKIES_BLANK).setUser(i);throw new U(un.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(i)}}),ki=ii.extend({init:function t(e,i){t.base.call(this,ei.SWITCH_PROFILE),Object.defineProperties(this,{userIdToken:{value:e,writable:!1,configurable:!1},profileGuid:{value:i,writable:!1,configurable:!1}})},getAuthData:function(){var t;return(t={}).useridtoken=JSON.parse(JSON.stringify(this.userIdToken)),t.profileguid=this.profileGuid,t},equals:function t(e){return this==e||e instanceof ki&&t.base.call(this,e)&&this.userIdToken.equals(e.userIdToken)&&this.profileGuid==e.profileGuid}}),Oi=function(t,e,i,n){an(n,(function(){var r,o;if(!e)throw new U(un.USERAUTH_MASTERTOKEN_MISSING);if(r=i.useridtoken,o=i.profileguid,"object"!=typeof r||"string"!=typeof o)throw new j(un.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(i));Ze(t,r,e,{result:function(t){an(n,(function(){if(!t.isDecrypted())throw new U(un.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(i));return new ki(t,o)}))},error:function(t){n.error(new U(un.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(i),t))}})}))},Si=ri.extend({init:function t(e){t.base.call(this,ei.SWITCH_PROFILE),Object.defineProperties(this,{_store:{value:e,writable:!1,enumerable:!1,configurable:!1}})},createData:function(t,e,i,n){Oi(t,e,i,n)},authenticate:function(t,e,i,n){if(!(i instanceof ki))throw new R("Incorrect authentication data type "+i+".");if(e=i.userIdToken,!(t=i.profileGuid))throw new U(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(i);if(!(e=e.user))throw new U(un.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(i);if(!(t=this._store.switchUsers(e,t)))throw new U(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(i);if(n&&(n=n.user,!t.equals(n)))throw new U(un.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+t+"; uit user "+n).setUserAuthenticationData(i);return t}}),Object.freeze({ENTITY_REAUTH:E.ENTITY_REAUTH,ENTITYDATA_REAUTH:E.ENTITYDATA_REAUTH}),Ti=k.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(t,e){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(t){},getUserAuthenticationFactory:function(t){},getTokenFactory:function(){},getKeyExchangeFactory:function(t){},getKeyExchangeFactories:function(){},getMslStore:function(){}}),Ai=k.Class.create({setCryptoContext:function(t,e){},getMasterToken:function(){},getNonReplayableId:function(t){},getCryptoContext:function(t){},removeCryptoContext:function(t){},clearCryptoContexts:function(){},addUserIdToken:function(t,e){},getUserIdToken:function(t){},removeUserIdToken:function(t){},clearUserIdTokens:function(){},addServiceTokens:function(t){},getServiceTokens:function(t,e){},removeServiceTokens:function(t,e,i){},clearServiceTokens:function(){}}),function(){var t;t=v,Pi=function(e,i){var n;switch(n={},e){case t.LZW:return l(i,n);case t.GZIP:return gzip$compress(i);default:throw new A(un.UNSUPPORTED_COMPRESSION,e)}},ji=function(e,i,n){switch(e){case t.LZW:return d(i);case t.GZIP:return gzip$uncompress(i);default:throw new A(un.UNSUPPORTED_COMPRESSION,e.name())}}}(),Ai.extend({setCryptoContext:function(t,e){},getMasterToken:function(){return null},getNonReplayableId:function(t){return 1},getCryptoContext:function(t){return null},removeCryptoContext:function(t){},clearCryptoContexts:function(){},addUserIdToken:function(t,e){},getUserIdToken:function(t){return null},removeUserIdToken:function(t){},clearUserIdTokens:function(){},addServiceTokens:function(t){},getServiceTokens:function(t,e){if(e){if(!t)throw new A(un.USERIDTOKEN_MASTERTOKEN_NULL);if(!e.isBoundTo(t))throw new A(un.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+e.mtSerialNumber+"; mt "+t.serialNumber)}return[]},removeServiceTokens:function(t,e,i){if(i&&e&&!i.isBoundTo(e))throw new A(un.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+i.masterTokenSerialNumber+"; mt "+e.serialNumber)},clearServiceTokens:function(){}}),Ii=Ai.extend({init:function t(){t.base.call(this),Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}})},setCryptoContext:function(t,e){var i;e?(i=t.uniqueKey(),this.masterTokens[i]=t,this.cryptoContexts[i]=e):this.removeCryptoContext(t)},getMasterToken:function(){var t,e,i;for(e in t=null,this.masterTokens)i=this.masterTokens[e],t&&!i.isNewerThan(t)||(t=i);return t},getNonReplayableId:function(t){var e;if(t=t.serialNumber,0>(e=this.nonReplayableIds[t]!==r?this.nonReplayableIds[t]:0)||e>b)throw new R("Non-replayable ID "+e+" is outside the valid range.");return e=e==b?0:e+1,this.nonReplayableIds[t]=e},getCryptoContext:function(t){return this.cryptoContexts[t.uniqueKey()]},removeCryptoContext:function(t){var e,i,n,r;if(e=t.uniqueKey(),this.masterTokens[e]){for(n in i=t.serialNumber,this.masterTokens)if(!(r=this.masterTokens[n]).equals(t)&&r.serialNumber==i)return delete this.masterTokens[e],void delete this.cryptoContexts[e];Object.keys(this.userIdTokens).forEach((function(e){(e=this.userIdTokens[e]).isBoundTo(t)&&this.removeUserIdToken(e)}),this);try{this.removeServiceTokens(null,t,null)}catch(t){if(t instanceof A)throw new R("Unexpected exception while removing master token bound service tokens.",t);throw t}delete this.nonReplayableIds[i],delete this.masterTokens[e],delete this.cryptoContexts[e]}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach((function(t){for(var e in t)delete t[e]}),this)},addUserIdToken:function(t,e){var i,n;for(n in i=!1,this.masterTokens)if(e.isBoundTo(this.masterTokens[n])){i=!0;break}if(!i)throw new A(un.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+e.mtSerialNumber);this.userIdTokens[t]=e},getUserIdToken:function(t){return this.userIdTokens[t]},removeUserIdToken:function(t){var e,i,n;for(i in e=null,this.masterTokens)if(n=this.masterTokens[i],t.isBoundTo(n)){e=n;break}Object.keys(this.userIdTokens).forEach((function(i){if(this.userIdTokens[i].equals(t)){try{this.removeServiceTokens(null,e,t)}catch(t){if(t instanceof A)throw new R("Unexpected exception while removing user ID token bound service tokens.",t);throw t}delete this.userIdTokens[i]}}),this)},clearUserIdTokens:function(){for(var t in this.userIdTokens)this.removeUserIdToken(this.userIdTokens[t])},addServiceTokens:function(t){t.forEach((function(t){var e,i;if(t.isMasterTokenBound()){for(i in e=!1,this.masterTokens)if(t.isBoundTo(this.masterTokens[i])){e=!0;break}if(!e)throw new A(un.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+t.mtSerialNumber)}if(t.isUserIdTokenBound()){for(var n in e=!1,this.userIdTokens)if(t.isBoundTo(this.userIdTokens[n])){e=!0;break}if(!e)throw new A(un.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+t.uitSerialNumber)}}),this),t.forEach((function(t){var e;t.isUnbound()?this.unboundServiceTokens[t.uniqueKey()]=t:(t.isMasterTokenBound()&&((e=this.mtServiceTokens[t.mtSerialNumber])||(e={}),e[t.uniqueKey()]=t,this.mtServiceTokens[t.mtSerialNumber]=e),t.isUserIdTokenBound()&&((e=this.uitServiceTokens[t.uitSerialNumber])||(e={}),e[t.uniqueKey()]=t,this.uitServiceTokens[t.uitSerialNumber]=e))}),this)},getServiceTokens:function(t,e){var i,n,r;if(e){if(!t)throw new A(un.USERIDTOKEN_MASTERTOKEN_NULL);if(!e.isBoundTo(t))throw new A(un.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+e.mtSerialNumber+"; mt "+t.serialNumber)}for(n in i={},this.unboundServiceTokens)i[(r=this.unboundServiceTokens[n]).uniqueKey()]=r;if(t&&(n=this.mtServiceTokens[t.serialNumber]))for(var o in n)(r=n[o]).isUserIdTokenBound()||(i[o]=r);if(e&&(e=this.uitServiceTokens[e.serialNumber]))for(var a in e)(o=e[a]).isBoundTo(t)&&(i[a]=o);for(var s in t=[],i)t.push(i[s]);return t},removeServiceTokens:function(t,e,i){var n,r;if(i&&e&&!i.isBoundTo(e))throw new A(un.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+i.mtSerialNumber+"; mt "+e.serialNumber);!t||e||i||Object.keys(this.unboundServiceTokens).forEach((function(e){this.unboundServiceTokens[e].name==t&&delete this.unboundServiceTokens[e]}),this),e&&!i&&(n=this.mtServiceTokens[e.serialNumber])&&(Object.keys(n).forEach((function(e){var i;i=n[e],t&&i.name!=t||delete n[e]}),this),this.mtServiceTokens[e.serialNumber]=n),i&&(r=this.uitServiceTokens[i.serialNumber])&&((e=Object.keys(r)).forEach((function(e){var i;i=r[e],t&&i.name!=t||delete r[e]}),this),this.uitServiceTokens[i.serialNumber]=r)},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach((function(t){for(var e in t)delete t[e]}),this)}}),xi=oe.extend({init:function t(){t.base.call(this),Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}})},addCryptoContext:function(t,e){e&&t&&t.length&&(t=c(t),this._contextMap[t]=e)},getCryptoContext:function(t){return t&&t.length?(t=c(t),this._contextMap[t]||null):null},removeCryptoContext:function(t){t&&t.length&&(t=c(t),delete this._contextMap[t])}}),Mi=Pt.extend({init:function t(e,i,n,r){t.base.call(this,e),Object.defineProperties(this,{_kde:{value:i,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}})},getCryptoContext:function(t,e){if(!(e instanceof Tt))throw new R("Incorrect authentication data type "+JSON.stringify(e)+".");if(e.identity!=this.localIdentity)throw new I(un.ENTITY_NOT_FOUND,"mgk "+e.identity);return new mt(t,this.localIdentity,this._kde,this._kdh,this._kdw)}}),Ri=xt.extend({init:function t(e,i,n,r){t.base.call(this,e),Object.defineProperties(this,{_kpe:{value:i,writable:!1,enumerable:!1,configurable:!1},_kph:{value:n,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}})},getCryptoContext:function(t,e){if(!(e instanceof jt))throw new R("Incorrect authentication data type "+JSON.stringify(e)+".");if(e.identity!=this.localIdentity)throw new I(un.ENTITY_NOT_FOUND,"psk "+e.identity);return new mt(t,this.localIdentity,this._kpe,this._kph,this._kpw)}}),Ni=Ii.extend({init:function t(e,i,n,r,o,a){t.base.call(this),this._log=e,this._esn=i,this._keyRequestData=n,this._createKeyRequestData=r,this._systemKeyName=o,this._systemKeyWrapFormat=a},setCryptoContext:function t(e,i,n){var r;(r=this)._log.trace("Adding MasterToken",{SequenceNumber:e.sequenceNumber,SerialNumber:e.serialNumber,Expiration:e.expiration.getTime()}),t.base.call(this,e,i),!n&&(e=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),e().then((function(t){r._keyRequestData=t}),(function(t){r._log.error("Unable to generate new keyx request data",""+t)})))},addUserIdToken:function t(e,i){this._log.trace("Adding UserIdToken",{UserId:e,SerialNumber:i.serialNumber,MTSerialNumber:i.mtSerialNumber,Expiration:i.expiration.getTime()}),t.base.call(this,e,i)},addServiceTokens:function t(e){t.base.call(this,e.filter((function(t){return!Ci[t.name]})))},getUserIdTokenKeys:function(){var t,e;for(e in t=[],this.userIdTokens)t.push(e);return t},rekeyUserIdToken:function(t,e){this.userIdTokens[t]&&(this.userIdTokens[e]=this.userIdTokens[t],delete this.userIdTokens[t])},getKeyRequestData:function(){return this._keyRequestData},getStoreState:function(t){var e;e=this,an(t,(function(){var i;(i=e.getMasterToken())?e.getKeysForStore(i,{result:function(n){an(t,(function(){var t,r,o;return t=e.userIdTokens,r=Object.keys(t).map((function(n){var r;return r=t[n],{userId:n,userIdTokenJSON:t[n].toJSON(),serviceTokenJSONList:e.getServiceTokens(i,r).map(fn)}})),n.esn=e._esn,n.masterTokenJSON=i.toJSON(),n.userList=r,(o=e._keyRequestData.storeData)&&Object.keys(o).forEach((function(t){n[t]=o[t]})),n}))},timeout:t.timeout,error:t.error}):t.result(null)}))},getKeysForStore:function(t,e){var i;i=this,an(e,(function(){var n;if(!(n={encryptionKey:(n=i.getCryptoContext(t)).encryptionKey,hmacKey:n.hmacKey}).encryptionKey||!n.hmacKey)throw new A(un.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");if(!i._systemKeyWrapFormat)return n;i.wrapKeysWithSystemKey(n,e)}))},wrapKeysWithSystemKey:function(t,e){var i;i=this,ln(this._systemKeyName,{result:function(n){an(e,(function(){var r,o,a,s;if(r=t.encryptionKey,o=t.hmacKey,a=r[Li],s=o[Li],a&&s)return{wrappedEncryptionKey:a,wrappedHmacKey:s};Promise.resolve().then((function(){return Promise.all([B.wrapKey(i._systemKeyWrapFormat,r,n,n.algorithm),B.wrapKey(i._systemKeyWrapFormat,o,n,n.algorithm)])})).then((function(t){a=c(t[0]),r[Li]=a,s=c(t[1]),o[Li]=s,e.result({wrappedEncryptionKey:a,wrappedHmacKey:s})})).catch((function(t){e.error(new A(un.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",t))}))}))},timeout:e.timeout,error:e.error})},unwrapKeysWithSystemKey:function(t,e){var i;i=this,ln(this._systemKeyName,{result:function(n){an(e,(function(){var r,o;r=h(t.wrappedEncryptionKey),o=h(t.wrappedHmacKey),Promise.resolve().then((function(){return Promise.all([B.unwrapKey(i._systemKeyWrapFormat,r,n,n.algorithm,H,!1,Y),B.unwrapKey(i._systemKeyWrapFormat,o,n,n.algorithm,V,!1,X)])})).then((function(i){var n;n=i[0],i=i[1],n[Li]=t.wrappedEncryptionKey,i[Li]=t.wrappedHmacKey,e.result({encryptionKey:n,hmacKey:i})})).catch((function(t){e.error(new A(un.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",t))}))}))},timeout:e.timeout,error:e.error})},loadStoreState:function(t,e,i,n){var r,o;function a(t,n){var o;try{o=i.userList.slice()}catch(t){}o?function i(){var a;(a=o.shift())?Ze(e,a.userIdTokenJSON,t,{result:function(n){try{r.addUserIdToken(a.userId,n),function(t,i,n,o){var a,s;try{a=n.slice()}catch(t){}a?(s=r.getCryptoContext(t),function n(){var u;(u=a.shift())?ti(e,u,t,i,s,{result:function(t){r.addServiceTokens([t]),n()},timeout:function(){n()},error:function(){n()}}):o.result()}()):o.result()}(t,n,a.serviceTokenJSONList,{result:i,timeout:i,error:i})}catch(t){i()}},timeout:i,error:i}):n.result()}():n.result()}o=(r=this)._log,i.esn!=r._esn?(o.error("Esn mismatch, starting fresh"),n.error()):function(n){var a,s,u,c;function h(){var i;!a&&s&&u&&c&&(a=!0,i=new _t(e,s,t.esn,{rawKey:u},{rawKey:c}),r.setCryptoContext(s,i,!0),n.result(s))}function f(t,e){o.error(t,e&&""+e),a||(a=!0,n.error())}i.masterTokenJSON?(We(e,i.masterTokenJSON,{result:function(t){s=t,h()},timeout:function(){f("Timeout parsing MasterToken")},error:function(t){f("Error parsing MasterToken",t)}}),r._systemKeyWrapFormat?r.unwrapKeysWithSystemKey(i,{result:function(t){u=t.encryptionKey,c=t.hmacKey,h()},timeout:function(){f("Timeout unwrapping keys")},error:function(t){f("Error unwrapping keys",t)}}):Promise.resolve().then((function(){return B.encrypt({name:H.name,iv:new Uint8Array(16)},i.encryptionKey,new Uint8Array(1))})).then((function(t){u=i.encryptionKey})).catch((function(t){f("Error loading encryptionKey")})).then((function(){return B.sign(V,i.hmacKey,new Uint8Array(1))})).then((function(t){c=i.hmacKey,h()})).catch((function(t){f("Error loading hmacKey")}))):f("Persisted store is corrupt")}({result:function(t){a(t,n)},timeout:n.timeout,error:n.error})}}),Ci={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0},Li="$netflix$msl$wrapsys",Ui=Ti.extend({init:function(t,e,i,n,r,o){var a,s;a=new we([v.LZW]),(s=new Ut).addPublicKey(e,i),n[Et.RSA]=new Nt(s),(e={})[ei.EMAIL_PASSWORD]=new hi,e[ei.NETFLIXID]=new si,e[ei.MDX]=new yi,e[ei.SSO]=new Ei,e[ei.SWITCH_PROFILE]=new Si,t={_mslCryptoContext:{value:new wt,writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:a,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:r,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:n,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:e,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:o,writable:!1,enumerable:!1,configurable:!1},_store:{value:t,writable:!1,enumerable:!1,configurable:!1}},Object.defineProperties(this,t)},getTime:function(){return Date.now()},getRandom:function(){return new S},isPeerToPeer:function(){return!1},getMessageCapabilities:function(){return this._capabilities},getEntityAuthenticationData:function(t,e){e.result(this._entityAuthData)},getMslCryptoContext:function(){return this._mslCryptoContext},getEntityAuthenticationFactory:function(t){return this._entityAuthFactories[t]},getUserAuthenticationFactory:function(t){return this._userAuthFactories[t]},getTokenFactory:function(){return null},getKeyExchangeFactory:function(t){return this._keyExchangeFactories.filter((function(e){return e.scheme==t}))[0]},getKeyExchangeFactories:function(){return this._keyExchangeFactories},getMslStore:function(){return this._store}}),Bi=Ve.extend({init:function(t,e,i,n){this._log=t,this._mslContext=e,this._mslRequest=i,this._keyRequestData=n},getCryptoContexts:function(){return{}},isEncrypted:function(){return!!this._mslRequest.encrypted},isNonReplayable:function(){return!!this._mslRequest.nonReplayable},isRequestingTokens:function(){return!0},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null},getUserAuthData:function(t,e,i,n){var r,o;r=this._mslRequest,o=this._mslContext,an(n,(function(){var e,n;return t||!r.shouldSendUserAuthData?null:r.token?(r.email?e=new _i(r.email,r.password):r.netflixId&&(e=new wi(r.netflixId,r.secureNetflixId)),n=void 0===r.profileGuid?null:r.profileGuid,new gi(r.mechanism,Qi(r.token),e,n)):r.email?new ui(r.email,r.password):r.netflixId?new oi(r.netflixId,r.secureNetflixId):r.mdxControllerToken?(e=new bi("regpairrequest",r.mdxNonce,r.mdxEncryptedPinB64,r.mdxSignature).getEncoding(),new fi(o,r.mdxPin,r.mdxControllerToken,e,r.mdxSignature)):r.useNetflixUserAuthData?new oi:r.profileGuid?(e=r.userId,e=o.getMslStore().userIdTokens[e],new ki(e,r.profileGuid)):i&&r.sendUserAuthIfRequired?new oi:null}))},getCustomer:function(){return null},getKeyRequestData:function(t){t.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[])},updateServiceTokens:function(t,e,i){var n,r,o,a,s,u;n=this._log,r=(this._mslRequest.serviceTokens||[]).slice(),e=(o=this._mslContext).getMslStore(),a=t.builder.getMasterToken(),s=this.getUserId(),u=e.getUserIdToken(s),function e(){var s;if(s=r.shift())try{s instanceof Qe?(t.addPrimaryServiceToken(s),e()):ti(o,s,a,u,null,{result:function(i){try{t.addPrimaryServiceToken(i)}catch(t){n.warn("Exception adding service token",""+t)}e()},timeout:function(){n.warn("Timeout parsing service token"),e()},error:function(t){n.warn("Error parsing service token",""+t),e()}})}catch(t){n.warn("Exception processing service token",""+t),e()}else i.result(!0)}()},write:function(t,e,i){var n;n=Qi(this._mslRequest.body),t.write(n,0,n.length,e,{result:function(r){r!=n.length?i.error(new M("Not all data was written to output.")):t.flush(e,{result:function(){i.result(!0)},timeout:function(){i.timeout()},error:function(t){i.error(t)}})},timeout:function(){i.timeout()},error:function(t){i.error(t)}})},getDebugContext:function(){return this._dc||(this._dc=new Fi(this._log,this._mslRequest)),this._dc}}),Fi=He.extend({init:function(t,e){this._log=t,this._mslRequest=e},sentHeader:function(t){this._log.trace("Sent MSL header",dn(this._mslRequest,t),t.serviceTokens&&t.serviceTokens.map(pn).join("\n"))},receivedHeader:function(t){var e,i;e=dn(this._mslRequest,t),(i=t.errorCode)?this._log.warn("Received MSL error header",e,{errorCode:i,errorMessage:t.errorMessage,internalCode:t.internalCode}):this._log.trace("Received MSL header",e)}}),qi={PSK:function(t){return vn(t,Et.PSK,Ri,jt,ie,ne)},MGK:function(t){return vn(t,Et.MGK,Mi,Tt,ie,ne)},MGK_WITH_FALLBACK:function(t){var e,i;switch(t.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":case"GOOGEST001":case"GOOGNEW001":e="PSK";break;default:e="MGK"}if(!(i=qi[e]))throw new A(un.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+e);return i(t)},MGK_JWE:function(t){return vn(t,Et.MGK,Mi,Tt,$t,te)},JWK_RSA:function(t){return yn(t,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},se.JWK_RSA)},JWK_RSAES:function(t){return yn(t,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},se.JWK_RSAES)},JWEJS_RSA:function(t){return yn(t,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},se.JWEJS_RSA)}},t.netflix=t.netflix||{},t.netflix.msl={createMslClient:function(t,e){var i,n,r,o,a;i=t.log,a=t.notifyMilestone||function(){},Promise.resolve().then((function(){if(!(s&&s.generateKey&&s.importKey&&s.unwrapKey))throw new A(un.INTERNAL_EXCEPTION,"No WebCrypto");return F=s.generateKey({name:"AES-CBC",length:128},!0,Y).then?q.V2014_02:q.LEGACY,a("mslisik"),B.importKey("spki",t.serverIdentityKeyData,z,!1,["verify"])})).then((function(t){return new Promise((function(e,i){et(t,{result:e,error:function(){i(new A(un.KEY_IMPORT_ERROR,"Unable to create server identity verification key"))}})}))})).then((function(e){if(n=e,e=qi[t.authenticationType])return a("mslcc"),e(t);throw new A(un.INTERNAL_EXCEPTION,"Invalid authenticationType: "+t.authenticationType)})).then((function(e){var s;if(r=new Ni(i,t.esn,e.keyRequestData,e.createKeyRequestData,t.authenticationKeyNames.s,t.systemKeyWrapFormat),o=new Ui(r,t.serverIdentityId,n,e.entityAuthFactories,e.entityAuthData,e.keyExchangeFactories),s=t.storeState)return a("mslss"),i.info("Loading store state"),new Promise((function(e,i){r.loadStoreState(t,o,s,{result:e,timeout:e,error:e})}));i.info("No store state, starting fresh")})).then((function(){var n;n=new Ge,a("msldone"),e.result(new bn(i,n,o,r,t.ErrorSubCodes))})).catch((function(t){e.error(t)}))},IHttpLocation:Vt,MslIoException:M},function(){var e,r,o,a,s,u,c,h,f,l;function d(t){var e;return e=0,function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function p(t,i){var n,o;if(i)t:{n=r,t=t.split(".");for(var a=0;a<t.length-1;a++){if(!((o=t[a])in n))break t;n=n[o]}(i=i(a=n[t=t[t.length-1]]))!=a&&null!=i&&e(n,t,{configurable:!0,writable:!0,value:i})}}function b(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function v(t){var e;return(e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator])?e.call(t):{next:d(t)}}function y(t){if(!(t instanceof Array)){t=v(t);for(var e,i=[];!(e=t.next()).done;)i.push(e.value);t=i}return t}function g(t,e){var i;if(t.prototype=o(e.prototype),t.prototype.constructor=t,h)h(t,e);else for(var n in e)"prototype"!=n&&(Object.defineProperties?(i=Object.getOwnPropertyDescriptor(e,n))&&Object.defineProperty(t,n,i):t[n]=e[n]);t.Ccc=e.prototype}function m(){this.mW=!1,this.vE=null,this.wya=void 0,this.SH=1,this.cWa=this.bub=0,this.sT=null}function _(t){if(t.mW)throw new TypeError("Generator is already running");t.mW=!0}function w(t){this.Ff=new m,this.aUb=t}function E(t,e,i,n){var r,o;try{if(!((r=e.call(t.Ff.vE,i))instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.Ff.mW=!1,r;o=r.value}catch(e){return t.Ff.vE=null,t.Ff.qZ(e),k(t)}return t.Ff.vE=null,n.call(t.Ff,o),k(t)}function k(t){for(var e;t.Ff.SH;)try{if(e=t.aUb(t.Ff))return t.Ff.mW=!1,{value:e.value,done:!1}}catch(e){t.Ff.wya=void 0,t.Ff.qZ(e)}if(t.Ff.mW=!1,t.Ff.sT){if(e=t.Ff.sT,t.Ff.sT=null,e.GKb)throw e.FM;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function O(t){this.next=function(e){return t.fX(e)},this.throw=function(e){return t.qZ(e)},this.return=function(e){return function(t,e){var i;return _(t.Ff),(i=t.Ff.vE)?E(t,"return"in i?i.return:function(t){return{value:t,done:!0}},e,t.Ff.return):(t.Ff.return(e),k(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function S(t,e){return e=new O(new w(e)),h&&t.prototype&&h(e,t.prototype),e}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function A(t,e){var i,n,r;return t instanceof String&&(t+=""),i=0,n=!1,(r={next:function(){var r;return!n&&i<t.length?(r=i++,{value:e(r,t[r]),done:!1}):(n=!0,{done:!0,value:void 0})}})[Symbol.iterator]=function(){return r},r}function P(t,e,i){var n;t instanceof String&&(t=String(t));for(var r=t.length,o=0;o<r;o++)if(n=t[o],e.call(i,n,o,t))return{Toa:o,qE:n};return{Toa:-1,qE:void 0}}function j(t,e,i){if(null==t)throw new TypeError("The 'this' value for String.prototype."+i+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+i+" must not be a regular expression");return t+""}if(e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t},r=function(e){var n;e=["object"==typeof globalThis&&globalThis,e,"object"==typeof t&&t,"object"==typeof self&&self,"object"==typeof i.g&&i.g];for(var r=0;r<e.length;++r)if((n=e[r])&&n.Math==Math)return n;throw Error("Cannot find global object")}(this),p("Symbol",(function(t){var i;function n(t,i){this.icb=t,e(this,"description",{configurable:!0,writable:!0,value:i})}return t||(n.prototype.toString=function(){return this.icb},i=0,function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(e||"")+"_"+i++,e)})})),p("Symbol.iterator",(function(t){var i;if(t)return t;t=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<n.length;o++)"function"==typeof(i=r[n[o]])&&"function"!=typeof i.prototype[t]&&e(i.prototype,t,{configurable:!0,writable:!0,value:function(){return b(d(this))}});return t})),o="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e},a="undefined"!=typeof Reflect&&Reflect.construct?function(){function t(){}return new t,Reflect.construct(t,[],(function(){})),new t instanceof t}()?Reflect.construct:(l=Reflect.construct,function(t,e,i){return t=l(t,e),i&&Reflect.setPrototypeOf(t,i.prototype),t}):function(t,e,i){return void 0===i&&(i=t),i=o(i.prototype||Object.prototype),Function.prototype.apply.call(t,i,e)||i},"function"==typeof Object.setPrototypeOf)s=Object.setPrototypeOf;else{t:{u={a:!0},c={};try{c.__proto__=u,s=c.a;break t}catch(t){}s=!1}s=s?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}h=s,m.prototype.fX=function(t){this.wya=t},m.prototype.qZ=function(t){this.sT={FM:t,GKb:!0},this.SH=this.bub||this.cWa},m.prototype.return=function(t){this.sT={return:t},this.SH=this.cWa},w.prototype.fX=function(t){return _(this.Ff),this.Ff.vE?E(this,this.Ff.vE.next,t,this.Ff.fX):(this.Ff.fX(t),k(this))},w.prototype.qZ=function(t){return _(this.Ff),this.Ff.vE?E(this,this.Ff.vE.throw,t,this.Ff.fX):(this.Ff.qZ(t),k(this))},p("Reflect",(function(t){return t||{}})),p("Reflect.construct",(function(){return a})),p("Reflect.setPrototypeOf",(function(t){return t||(h?function(t,e){try{return h(t,e),!0}catch(t){return!1}}:null)})),p("Object.setPrototypeOf",(function(t){return t||h})),f="function"==typeof Object.assign?Object.assign:function(t,e){for(var i,n=1;n<arguments.length;n++)if(i=arguments[n])for(var r in i)T(i,r)&&(t[r]=i[r]);return t},p("Object.assign",(function(t){return t||f})),p("Promise",(function(t){var e,i;function n(t){var e;this.AP=0,this.xY=void 0,this.mO=[],this.s0a=!1,e=this.rka();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function o(){this.qC=null}function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return t||(o.prototype.IQa=function(t){var e;null==this.qC&&(this.qC=[],e=this,this.JQa((function(){e.nCb()}))),this.qC.push(t)},e=r.setTimeout,o.prototype.JQa=function(t){e(t,0)},o.prototype.nCb=function(){for(var t,e;this.qC&&this.qC.length;){t=this.qC,this.qC=[];for(var i=0;i<t.length;++i){e=t[i],t[i]=null;try{e()}catch(t){this.Rrb(t)}}}this.qC=null},o.prototype.Rrb=function(t){this.JQa((function(){throw t}))},n.prototype.rka=function(){var t,e;function i(i){return function(n){e||(e=!0,i.call(t,n))}}return t=this,e=!1,{resolve:i(this.iWb),reject:i(this.Gua)}},n.prototype.iWb=function(t){var e;if(t===this)this.Gua(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof n)this.iYb(t);else{t:switch(typeof t){case"object":e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.hWb(t):this.LWa(t)}},n.prototype.hWb=function(t){var e;e=void 0;try{e=t.then}catch(t){return void this.Gua(t)}"function"==typeof e?this.jYb(e,t):this.LWa(t)},n.prototype.Gua=function(t){this.i9a(2,t)},n.prototype.LWa=function(t){this.i9a(1,t)},n.prototype.i9a=function(t,e){if(0!=this.AP)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.AP);this.AP=t,this.xY=e,2===this.AP&&this.MWb(),this.oCb()},n.prototype.MWb=function(){var t;t=this,e((function(){var e;t.WPb()&&void 0!==(e=r.console)&&e.error(t.xY)}),1)},n.prototype.WPb=function(){var t,e,i;return!this.s0a&&(t=r.CustomEvent,e=r.Event,void 0===(i=r.dispatchEvent)||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=r.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.xY,i(t)))},n.prototype.oCb=function(){if(null!=this.mO){for(var t=0;t<this.mO.length;++t)i.IQa(this.mO[t]);this.mO=null}},i=new o,n.prototype.iYb=function(t){var e;e=this.rka(),t.P3(e.resolve,e.reject)},n.prototype.jYb=function(t,e){var i;i=this.rka();try{t.call(e,i.resolve,i.reject)}catch(t){i.reject(t)}},n.prototype.then=function(t,e){var i,r,o;function a(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){r(t)}}:e}return o=new n((function(t,e){i=t,r=e})),this.P3(a(t,i),a(e,r)),o},n.prototype.catch=function(t){return this.then(void 0,t)},n.prototype.P3=function(t,e){var n;function r(){switch(n.AP){case 1:t(n.xY);break;case 2:e(n.xY);break;default:throw Error("Unexpected state: "+n.AP)}}n=this,null==this.mO?i.IQa(r):this.mO.push(r),this.s0a=!0},n.resolve=a,n.reject=function(t){return new n((function(e,i){i(t)}))},n.race=function(t){return new n((function(e,i){for(var n=v(t),r=n.next();!r.done;r=n.next())a(r.value).P3(e,i)}))},n.all=function(t){var e,i;return e=v(t),(i=e.next()).done?a([]):new n((function(t,n){var r,o;function s(e){return function(i){r[e]=i,0==--o&&t(r)}}r=[],o=0;do{r.push(void 0),o++,a(i.value).P3(s(r.length-1),n),i=e.next()}while(!i.done)}))},n)})),p("Object.entries",(function(t){return t||function(t){var e,i;for(i in e=[],t)T(t,i)&&e.push([i,t[i]]);return e}})),p("Array.prototype.keys",(function(t){return t||function(){return A(this,(function(t){return t}))}})),p("Array.prototype.find",(function(t){return t||function(t,e){return P(this,t,e).qE}})),p("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),p("Array.prototype.includes",(function(t){return t||function(t,e){var i,n,r;for((i=this)instanceof String&&(i=String(i)),n=i.length,0>(e=e||0)&&(e=Math.max(e+n,0));e<n;e++)if((r=i[e])===t||Object.is(r,t))return!0;return!1}})),p("String.prototype.includes",(function(t){return t||function(t,e){return-1!==j(this,t,"includes").indexOf(t,e||0)}})),p("Number.isNaN",(function(t){return t||function(t){return"number"==typeof t&&isNaN(t)}})),p("Math.tanh",(function(t){return t||function(t){var e;return 0===(t=Number(t))?t:(e=(1-(e=Math.exp(-2*Math.abs(t))))/(1+e),0>t?-e:e)}})),p("Array.prototype.entries",(function(t){return t||function(){return A(this,(function(t,e){return[t,e]}))}})),p("WeakMap",(function(t){var i,n;function r(t){if(this.ZV=(n+=Math.random()+1).toString(),t){t=v(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function o(){}function a(t){var e;return"object"===(e=typeof t)&&null!==t||"function"===e}function s(t){var n;T(t,i)||(n=new o,e(t,i,{value:n}))}function u(t){var e;(e=Object[t])&&(Object[t]=function(t){return t instanceof o?t:(Object.isExtensible(t)&&s(t),e(t))})}return function(){var e,i,n;if(!t||!Object.seal)return!1;try{return e=Object.seal({}),i=Object.seal({}),2!=(n=new t([[e,2],[i,3]])).get(e)||3!=n.get(i)?!1:(n.delete(e),n.set(i,4),!n.has(e)&&4==n.get(i))}catch(t){return!1}}()?t:(i="$jscomp_hidden_"+Math.random(),u("freeze"),u("preventExtensions"),u("seal"),n=0,r.prototype.set=function(t,e){if(!a(t))throw Error("Invalid WeakMap key");if(s(t),!T(t,i))throw Error("WeakMap key fail: "+t);return t[i][this.ZV]=e,this},r.prototype.get=function(t){return a(t)&&T(t,i)?t[i][this.ZV]:void 0},r.prototype.has=function(t){return a(t)&&T(t,i)&&T(t[i],this.ZV)},r.prototype.delete=function(t){return!!(a(t)&&T(t,i)&&T(t[i],this.ZV))&&delete t[i][this.ZV]},r)})),p("Map",(function(t){var e,i;function n(){var t;return(t={}).xA=t.next=t.head=t}function r(t,e){var i;return i=t.Fz,b((function(){if(i){for(;i.head!=t.Fz;)i=i.xA;for(;i.next!=i.head;)return i=i.next,{done:!1,value:e(i)};i=null}return{done:!0,value:void 0}}))}function o(t,n){var r,o,a;if("object"==(r=n&&typeof n)||"function"==r?e.has(n)?r=e.get(n):(r=""+ ++i,e.set(n,r)):r="p_"+n,(o=t.Yy[r])&&T(t.Yy,r))for(t=0;t<o.length;t++)if(a=o[t],n!=n&&a.key!=a.key||n===a.key)return{id:r,list:o,index:t,entry:a};return{id:r,list:o,index:-1,entry:void 0}}function a(t){if(this.Yy={},this.Fz=n(),this.size=0,t){t=v(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}return function(){var e,i,n,r;if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{return e=Object.seal({x:4}),"s"!=(i=new t(v([[e,"s"]]))).get(e)||1!=i.size||i.get({x:4})||i.set({x:4},"t")!=i||2!=i.size?!1:!(r=(n=i.entries()).next()).done&&r.value[0]==e&&"s"==r.value[1]&&!((r=n.next()).done||4!=r.value[0].x||"t"!=r.value[1]||!n.next().done)}catch(t){return!1}}()?t:(e=new WeakMap,a.prototype.set=function(t,e){var i;return(i=o(this,t=0===t?0:t)).list||(i.list=this.Yy[i.id]=[]),i.entry?i.entry.value=e:(i.entry={next:this.Fz,xA:this.Fz.xA,head:this.Fz,key:t,value:e},i.list.push(i.entry),this.Fz.xA.next=i.entry,this.Fz.xA=i.entry,this.size++),this},a.prototype.delete=function(t){return!(!(t=o(this,t)).entry||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.Yy[t.id],t.entry.xA.next=t.entry.next,t.entry.next.xA=t.entry.xA,t.entry.head=null,this.size--,!0)},a.prototype.clear=function(){this.Yy={},this.Fz=this.Fz.xA=n(),this.size=0},a.prototype.has=function(t){return!!o(this,t).entry},a.prototype.get=function(t){return(t=o(this,t).entry)&&t.value},a.prototype.entries=function(){return r(this,(function(t){return[t.key,t.value]}))},a.prototype.keys=function(){return r(this,(function(t){return t.key}))},a.prototype.values=function(){return r(this,(function(t){return t.value}))},a.prototype.forEach=function(t,e){for(var i,n=this.entries();!(i=n.next()).done;)i=i.value,t.call(e,i[1],i[0],this)},a.prototype[Symbol.iterator]=a.prototype.entries,i=0,a)})),p("Set",(function(t){function e(t){if(this.Ew=new Map,t){t=v(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.Ew.size}return function(){var e,i,n,r;if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{return e=Object.seal({x:4}),(i=new t(v([e]))).has(e)&&1==i.size&&i.add(e)==i&&1==i.size&&i.add({x:4})==i&&2==i.size?!(r=(n=i.entries()).next()).done&&r.value[0]==e&&r.value[1]==e&&(!(r=n.next()).done&&r.value[0]!=e&&4==r.value[0].x&&r.value[1]==r.value[0]&&n.next().done):!1}catch(t){return!1}}()?t:(e.prototype.add=function(t){return t=0===t?0:t,this.Ew.set(t,t),this.size=this.Ew.size,this},e.prototype.delete=function(t){return t=this.Ew.delete(t),this.size=this.Ew.size,t},e.prototype.clear=function(){this.Ew.clear(),this.size=0},e.prototype.has=function(t){return this.Ew.has(t)},e.prototype.entries=function(){return this.Ew.entries()},e.prototype.values=function(){return this.Ew.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var i;i=this,this.Ew.forEach((function(n){return t.call(e,n,n,i)}))},e)})),p("String.prototype.endsWith",(function(t){return t||function(t,e){var i;i=j(this,t,"endsWith"),t+="",void 0===e&&(e=i.length),e=Math.max(0,Math.min(0|e,i.length));for(var n=t.length;0<n&&0<e;)if(i[--e]!=t[--n])return!1;return 0>=n}})),p("String.prototype.repeat",(function(t){return t||function(t){var e;if(e=j(this,null,"repeat"),0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var i="";t;)1&t&&(i+=e),(t>>>=1)&&(e+=e);return i}})),p("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),p("Array.prototype.values",(function(t){return t||function(){return A(this,(function(t,e){return e}))}})),p("Object.values",(function(t){return t||function(t){var e,i;for(i in e=[],t)T(t,i)&&e.push(t[i]);return e}})),p("String.prototype.startsWith",(function(t){return t||function(t,e){var i,n,r;i=j(this,t,"startsWith"),t+="",n=i.length,r=t.length,e=Math.max(0,Math.min(0|e,i.length));for(var o=0;o<r&&e<n;)if(i[e++]!=t[o++])return!1;return o>=r}})),p("Array.prototype.findIndex",(function(t){return t||function(t,e){return P(this,t,e).Toa}})),p("Array.from",(function(t){return t||function(t,e,i){var n,r;if(e=null!=e?e:function(t){return t},n=[],"function"==typeof(r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator])){t=r.call(t);for(var o=0;!(r=t.next()).done;)n.push(e.call(i,r.value,o++))}else for(r=t.length,o=0;o<r;o++)n.push(e.call(i,t[o],o));return n}})),p("String.fromCodePoint",(function(t){return t||function(t){for(var e,i="",n=0;n<arguments.length;n++){if(0>(e=Number(arguments[n]))||1114111<e||e!==Math.floor(e))throw new RangeError("invalid_code_point "+e);65535>=e?i+=String.fromCharCode(e):(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),i+=String.fromCharCode(1023&e|56320))}return i}})),p("Number.parseInt",(function(t){return t||parseInt})),p("Number.isFinite",(function(t){return t||function(t){return"number"==typeof t&&(!isNaN(t)&&1/0!==t&&-1/0!==t)}})),function(t){var e;function i(n){var r;return e[n]?e[n].exports:(r=e[n]={Toa:n,NLb:!1,exports:{}},t[n].call(r.exports,r,r.exports,i),r.NLb=!0,r.exports)}e={},i.rac=t,i.c=e,i.d=function(t,e,n){i.fQb(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){var n;if(1&e&&(t=i(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;if(n=Object.create(null),i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e;return e=t&&t.__esModule?function(){return t.default}:function(){return t},i.d(e,"a",e),e},i.fQb=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.BWb=558)}([function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),t=i(43),e.S5b=t,t=i(561),e.G_=t.G_,t=i(76),e.Ps=t.Ps,e.Kj=t.Kj,e.Vx=t.Vx,t=i(577),e.hza=t.hza,e.rd=t.rd,t=i(578),e.R=t.R,t=i(579),e.y$a=t.y$a,t=i(580),e.z3a=t.z3a,t=i(310),e.l=t.l,e.Sca=t.Sca,t=i(581),e.optional=t.optional,t=i(582),e.nl=t.nl,t=i(583),e.OH=t.OH,t=i(584),e.nZ=t.nZ,t=i(585),e.T5a=t.T5a,t=i(308),e.pda=t.pda,t=i(107),e.id=t.id,t=i(93),e.Fr=t.Fr,t=i(313),e.rab=t.rab,e.z$a=t.z$a,e.A3a=t.A3a,e.yab=t.yab,t=i(135),e.gN=t.gN,i=i(586),e.v3a=i.v3a},function(t,e,i){var n,r;function o(){return o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)}function a(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)}function s(t,e){function i(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function u(t,e){var i,n,r;for(n in i={},t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)0>e.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function c(t,e,i,n){var r,o,a;if(o=3>(r=arguments.length)?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,"object"==typeof Reflect&&"function"==typeof Reflect.Fr)o=Reflect.Fr(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(o=(3>r?a(o):3<r?a(e,i,o):a(e,i))||o);return 3<r&&o&&Object.defineProperty(e,i,o),o}function h(t,e){return function(i,n){e(i,n,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.Gc)return Reflect.Gc(t,e)}function l(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function d(t,e){var i,n,r,o,a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.On.pop(),i.Yn.pop();continue;default:if(!(o=i.Yn,(o=0<o.length&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3]))i.label=a[1];else if(6===a[0]&&i.label<o[1])i.label=o[1],o=a;else{if(!(o&&i.label<o[2])){o[2]&&i.On.pop(),i.Yn.pop();continue}i.label=o[2],i.On.push(a)}}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}return i={label:0,bd:function(){if(1&o[0])throw o[1];return o[1]},Yn:[],On:[]},a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function p(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)}function b(t){var e,i,n;if(i=(e="function"==typeof Symbol&&Symbol.iterator)&&t[e],n=0,i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var i,n,r;if(!(i="function"==typeof Symbol&&t[Symbol.iterator]))return t;t=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)r.push(n.value)}catch(t){var o;o={error:t}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}return r}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function g(){for(var t,e=0,i=0,n=arguments.length;i<n;i++)e+=arguments[i].length;for(e=Array(e),t=0,i=0;i<n;i++)for(var r=arguments[i],o=0,a=r.length;o<a;o++,t++)e[t]=r[o];return e}function m(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||e)}function _(t){return this instanceof _?(this.qE=t,this):new _(t)}function w(t,e,i){var n,r,o;function a(t){n[t]&&(r[t]=function(e){return new Promise((function(i,n){1<o.push([t,e,i,n])||s(t,e)}))})}function s(t,e){var i;try{(i=n[t](e)).value instanceof _?Promise.resolve(i.value.qE).then(u,c):h(o[0][2],i)}catch(t){h(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");return n=i.apply(t,e||[]),o=[],r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r}function E(t){var e,i;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:_(t[n](e)),done:"return"===n}:r?r(e):e}:r}return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e}function k(t){var e,i;function n(e){i[e]=t[e]&&function(i){return new Promise((function(n,r){!function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)}(n,r,(i=t[e](i)).done,i.value)}))}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");return(e=t[Symbol.asyncIterator])?e.call(t):(t=b(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i)}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){var e;if(t&&t.__esModule)return t;if(e={},null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e}function T(t){return t&&t.__esModule?t:{default:t}}function A(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function P(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i}i.r(e),i.d(e,"__extends",(function(){return s})),i.d(e,"__assign",(function(){return o})),i.d(e,"__rest",(function(){return u})),i.d(e,"__decorate",(function(){return c})),i.d(e,"__param",(function(){return h})),i.d(e,"__metadata",(function(){return f})),i.d(e,"__awaiter",(function(){return l})),i.d(e,"__generator",(function(){return d})),i.d(e,"__createBinding",(function(){return n})),i.d(e,"__exportStar",(function(){return p})),i.d(e,"__values",(function(){return b})),i.d(e,"__read",(function(){return v})),i.d(e,"__spread",(function(){return y})),i.d(e,"__spreadArrays",(function(){return g})),i.d(e,"__spreadArray",(function(){return m})),i.d(e,"__await",(function(){return _})),i.d(e,"__asyncGenerator",(function(){return w})),i.d(e,"__asyncDelegator",(function(){return E})),i.d(e,"__asyncValues",(function(){return k})),i.d(e,"__makeTemplateObject",(function(){return O})),i.d(e,"__importStar",(function(){return S})),i.d(e,"__importDefault",(function(){return T})),i.d(e,"__classPrivateFieldGet",(function(){return A})),i.d(e,"__classPrivateFieldSet",(function(){return P})),n=Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]},r=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}},function(t,e,i){function n(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)}function r(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)}function o(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function a(t,e){var i,n,r;for(n in i={},t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)0>e.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function s(t,e,i,n){var r,o,a;if(o=3>(r=arguments.length)?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,"object"==typeof Reflect&&"function"==typeof Reflect.Fr)o=Reflect.Fr(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(o=(3>r?a(o):3<r?a(e,i,o):a(e,i))||o);return 3<r&&o&&Object.defineProperty(e,i,o),o}function u(t,e){return function(i,n){e(i,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.Gc)return Reflect.Gc(t,e)}function h(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function f(t,e){var i,n,r,o,a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.On.pop(),i.Yn.pop();continue;default:if(!(o=i.Yn,(o=0<o.length&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3]))i.label=a[1];else if(6===a[0]&&i.label<o[1])i.label=o[1],o=a;else{if(!(o&&i.label<o[2])){o[2]&&i.On.pop(),i.Yn.pop();continue}i.label=o[2],i.On.push(a)}}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}return i={label:0,bd:function(){if(1&o[0])throw o[1];return o[1]},Yn:[],On:[]},a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function l(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}function d(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||(e[i]=t[i])}function p(t){var e,i,n;if(i=(e="function"==typeof Symbol&&Symbol.iterator)&&t[e],n=0,i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var i,n,r;if(!(i="function"==typeof Symbol&&t[Symbol.iterator]))return t;t=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)r.push(n.value)}catch(t){var o;o={error:t}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}return r}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function y(){for(var t,e=0,i=0,n=arguments.length;i<n;i++)e+=arguments[i].length;for(e=Array(e),t=0,i=0;i<n;i++)for(var r=arguments[i],o=0,a=r.length;o<a;o++,t++)e[t]=r[o];return e}function g(t){return this instanceof g?(this.qE=t,this):new g(t)}function m(t,e,i){var n,r,o;function a(t){n[t]&&(r[t]=function(e){return new Promise((function(i,n){1<o.push([t,e,i,n])||s(t,e)}))})}function s(t,e){var i;try{(i=n[t](e)).value instanceof g?Promise.resolve(i.value.qE).then(u,c):h(o[0][2],i)}catch(t){h(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");return n=i.apply(t,e||[]),o=[],r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r}function _(t){var e,i;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:g(t[n](e)),done:"return"===n}:r?r(e):e}:r}return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e}function w(t){var e,i;function n(e){i[e]=t[e]&&function(i){return new Promise((function(n,r){!function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)}(n,r,(i=t[e](i)).done,i.value)}))}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");return(e=t[Symbol.asyncIterator])?e.call(t):(t=p(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i)}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){var e;if(t&&t.__esModule)return t;if(e={},null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}i.r(e),i.d(e,"__extends",(function(){return o})),i.d(e,"__assign",(function(){return n})),i.d(e,"__rest",(function(){return a})),i.d(e,"__decorate",(function(){return s})),i.d(e,"__param",(function(){return u})),i.d(e,"__metadata",(function(){return c})),i.d(e,"__awaiter",(function(){return h})),i.d(e,"__generator",(function(){return f})),i.d(e,"__createBinding",(function(){return l})),i.d(e,"__exportStar",(function(){return d})),i.d(e,"__values",(function(){return p})),i.d(e,"__read",(function(){return b})),i.d(e,"__spread",(function(){return v})),i.d(e,"__spreadArrays",(function(){return y})),i.d(e,"__await",(function(){return g})),i.d(e,"__asyncGenerator",(function(){return m})),i.d(e,"__asyncDelegator",(function(){return _})),i.d(e,"__asyncValues",(function(){return w})),i.d(e,"__makeTemplateObject",(function(){return E})),i.d(e,"__importStar",(function(){return k})),i.d(e,"__importDefault",(function(){return O})),i.d(e,"__classPrivateFieldGet",(function(){return S})),i.d(e,"__classPrivateFieldSet",(function(){return T}))},function(t,e){var i,n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.Ts=e.rCa=e.qCa=e.lca=e.Afb=e.Bfb=e.pCa=e.kca=e.zfb=e.PFa=e.D0=e.t0=e.oCa=e.L=e.M=void 0,(r=i=e.M||(e.M={}))[r.Vl=7001]="UNKNOWN",r[r.KLa=7002]="UNHANDLED_EXCEPTION",r[r.vgb=7003]="INIT_COMPONENT_LOG_TO_REMOTE",r[r.Vfb=7004]="HLS_NOT_SUPPORTED",r[r.Gca=7010]="INIT_ASYNCCOMPONENT",r[r.$Da=7011]="INIT_HTTP",r[r.rgb=7014]="INIT_BADMOVIEID",r[r.Jgb=7016]="INIT_NETFLIXID_MISSING",r[r.Igb=7017]="INIT_NETFLIXID_INVALID",r[r.Lgb=7018]="INIT_SECURENETFLIXID_MISSING",r[r.aEa=7020]="INIT_PLAYBACK_LOCK",r[r.bEa=7022]="INIT_SESSION_LOCK",r[r.Kgb=7029]="INIT_POSTAUTHORIZE",r[r.ZDa=7031]="INIT_HEADER_MEDIA",r[r.s5b=7032]="HEADER_MISSING",r[r.r5b=7033]="HEADER_FRAGMENTS_MISSING",r[r.Mgb=7034]="INIT_TIMEDTEXT_TRACK",r[r.G5b=7035]="INIT_LOAD_DOWNLOADED_MEDIA",r[r.H5b=7036]="INIT_STREAMS_NOT_AVAILABLE",r[r.qcb=7037]="ASE_SESSION_ERROR",r[r.pcb=7038]="ASE_SEEK_THREW",r[r.rcb=7039]="ASE_SKIPPED_THREW",r[r.Fgb=7041]="INIT_CORE_OBJECTS1",r[r.Ggb=7042]="INIT_CORE_OBJECTS2",r[r.Hgb=7043]="INIT_CORE_OBJECTS3",r[r.D5b=7051]="INIT_COMPONENT_REQUESTQUOTA",r[r.x5b=7052]="INIT_COMPONENT_FILESYSTEM",r[r.SDa=7053]="INIT_COMPONENT_STORAGE",r[r.TDa=7054]="INIT_COMPONENT_STORAGELOCK",r[r.y5b=7055]="INIT_COMPONENT_LOGPERSIST",r[r.z5b=7056]="INIT_COMPONENT_NRDDPI",r[r.B5b=7057]="INIT_COMPONENT_PEPPERCRYPTO",r[r.PDa=7058]="INIT_COMPONENT_MAINTHREADMONITOR",r[r.Hca=7059]="INIT_COMPONENT_DEVICE",r[r.A5b=7062]="INIT_COMPONENT_NTBA",r[r.QDa=7063]="INIT_COMPONENT_MSL",r[r.tgb=7065]="INIT_COMPONENT_CONTROL_PROTOCOL",r[r.ODa=7066]="INIT_COMPONENT_LOGBLOBBATCHER",r[r.rB=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA",r[r.C5b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM",r[r.sgb=7069]="INIT_COMPONENT_ACCOUNT",r[r.xgb=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER",r[r.zgb=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER",r[r.Agb=7072]="INIT_COMPONENT_NRDP_MEDIA",r[r.Bgb=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER",r[r.Cgb=7074]="INIT_COMPONENT_NRDP_REGISTRATION",r[r.wgb=7081]="INIT_COMPONENT_NRDP",r[r.ygb=7082]="INIT_COMPONENT_NRDP_DEVICE",r[r.YDa=7083]="INIT_COMPONENT_WEBCRYPTO",r[r.Egb=7084]="INIT_COMPONENT_VIDEO_PREPARER",r[r.F5b=7085]="INIT_CONGESTION_SERVICE",r[r.NDa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL",r[r.UDa=7087]="INIT_COMPONENT_TRACKING_LOG",r[r.LDa=7088]="INIT_COMPONENT_BATTERY_MANAGER",r[r.KDa=7089]="INIT_COMPONENT_ASE",r[r.E5b=7090]="INIT_COMPONENT_VIDEO_CACHE",r[r.UJ=7091]="INIT_COMPONENT_DRM_CACHE",r[r.ugb=7092]="INIT_COMPONENT_DRM",r[r.Dgb=7093]="INIT_COMPONENT_PREFETCH_EVENTS",r[r.MDa=7094]="INIT_COMPONENT_FTL",r[r.RDa=7095]="INIT_COMPONENT_PREPARE_MODEL",r[r.VDa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE",r[r.WDa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX",r[r.XDa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST",r[r.sR=7111]="MANIFEST",r[r.Bcb=7112]="AUTHORIZE_UNKNOWN",r[r.lhb=7117]="MANIFEST_VERIFY",r[r.Tjb=7120]="START",r[r.XJ=7121]="LICENSE",r[r.tea=7122]="RELEASE",r[r.bKa=7123]="STOP",r[r.i5b=7124]="FPSAPPDATA",r[r.Pca=7125]="KEEPALIVE",r[r.f4b=7126]="DEACTIVATE",r[r.U7b=7127]="SYNC_DEACTIVATE_LINKS",r[r.e3b=7130]="ACTIVATE",r[r.Iib=7131]="PING",r[r.p6b=7133]="NETFLIXID",r[r.wfb=7134]="ENGAGE",r[r.jhb=7135]="LOGIN",r[r.$jb=7136]="SWITCH_PROFILES",r[r.ihb=7137]="LOGBLOB",r[r.rib=7138]="PAUSE",r[r.Bjb=7139]="RESUME",r[r.$Ja=7140]="SPLICE",r[r.r4b=7141]="DOWNLOAD_EVENT",r[r.Ocb=7142]="BIND",r[r.pib=7143]="PAIR",r[r.Pcb=7144]="BIND_DEVICE",r[r.Mfb=7145]="GENERATE_SCREENSHOTS",r[r.Mib=7202]="PLAY_INIT_EXCEPTION",r[r.R5b=7301]="MEDIA_DOWNLOAD",r[r.Y6b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED",r[r.Z6b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION",r[r.eHa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED",r[r.Sib=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR",r[r.fHa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED",r[r.Tib=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION",r[r.Gda=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED",r[r.$6b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED",r[r.Rib=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION",r[r.jHa=7351]="PLAY_MSE_NOTSUPPORTED",r[r.dHa=7353]="PLAY_MSE_DECODER_TIMEOUT",r[r.Hda=7355]="PLAY_MSE_SOURCEADD",r[r.cHa=7356]="PLAY_MSE_CREATE_MEDIAKEYS",r[r.GR=7357]="PLAY_MSE_GENERATEKEYREQUEST",r[r.c7b=7358]="PLAY_MSE_PARSECHALLENGE",r[r.X6b=7359]="PLAY_MSE_ADDKEY",r[r.f7b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY",r[r.iHa=7361]="PLAY_MSE_EVENT_ERROR",r[r.fK=7362]="PLAY_MSE_SETMEDIAKEYS",r[r.fr=7363]="PLAY_MSE_EVENT_KEYERROR",r[r.Vib=7364]="PLAY_MSE_EME_SESSION_CLOSE",r[r.Wib=7365]="PLAY_MSE_GETCURRENTTIME",r[r.Xib=7367]="PLAY_MSE_SETCURRENTTIME",r[r.Yib=7371]="PLAY_MSE_SOURCEAPPEND",r[r.d7b=7373]="PLAY_MSE_SOURCEAPPEND_INIT",r[r.bjb=7375]="PLAY_MSE_UNEXPECTED_SEEKING",r[r.ajb=7376]="PLAY_MSE_UNEXPECTED_SEEKED",r[r.$ib=7377]="PLAY_MSE_UNEXPECTED_REWIND",r[r.e7b=7379]="PLAY_MSE_SOURCE_EOS",r[r.Zib=7381]="PLAY_MSE_SOURCEBUFFER_ERROR",r[r.kHa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE",r[r.b7b=7385]="PLAY_MSE_KEYSESSION_UPDATE",r[r.Nib=7391]="PLAY_MSE_CREATE_MEDIASOURCE",r[r.Oib=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL",r[r.Pib=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN",r[r.gHa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER",r[r.Uib=7395]="PLAY_MSE_EME_MISSING_PSSH",r[r.a7b=7396]="PLAY_MSE_EME_MISSING_CERT",r[r.hHa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT",r[r.Qib=7398]="PLAY_MSE_DURATIONCHANGE_ERROR",r[r.R0=7399]="PLAY_MSE_SET_LICENSE_ERROR",r[r.$Ba=7400]="EXTERNAL",r[r.Q0=7500]="PAUSE_TIMEOUT",r[r.u0=7502]="INACTIVITY_TIMEOUT",r[r.Acb=7510]="AUTHORIZATION_EXPIRED",r[r.h4b=7520]="DECRYPT_AUDIO",r[r.qfb=7700]="EME_INVALID_KEYSYSTEM",r[r.NBa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED",r[r.GQ=7702]="EME_CREATE_MEDIAKEYS_FAILED",r[r.Z_=7703]="EME_GENERATEREQUEST_FAILED",r[r.UBa=7704]="EME_UPDATE_FAILED",r[r.SBa=7705]="EME_KEYSESSION_ERROR",r[r.RBa=7706]="EME_KEYMESSAGE_EMPTY",r[r.tfb=7707]="EME_REMOVE_FAILED",r[r.sfb=7708]="EME_LOAD_FAILED",r[r.nfb=7709]="EME_CREATE_SESSION_FAILED",r[r.ica=7710]="EME_LDL_RENEWAL_ERROR",r[r.PBa=7711]="EME_INVALID_INITDATA_DATA",r[r.QBa=7712]="EME_INVALID_LICENSE_DATA",r[r.rfb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED",r[r.B4b=7714]="EME_MEDIAKEYS_GENERIC_ERROR",r[r.MBa=7716]="EME_CLOSE_FAILED",r[r.ufb=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY",r[r.Jib=7800]="PLAYDATA_STORE_FAILURE",r[r.W6b=7801]="PLAYDATA_SEND_FAILURE",r[r.mQ=7900]="BRANCH_PLAY_FAILURE",r[r.BJ=7901]="BRANCH_QUEUE_FAILURE",r[r.oza=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE",r[r.u6b=8e3]="NRDP_REGISTRATION_ACTIVATE_FAILURE",r[r.v6b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE",r[r.xib=8100]="PBO_EVENTLOOKUP_FAILURE",function(t){t[t.Vl=1001]="UNKNOWN",t[t.Lj=1003]="EXCEPTION",t[t.Pgb=1004]="INVALID_DI",t[t.ucb=1011]="ASYNCLOAD_EXCEPTION",t[t.vcb=1013]="ASYNCLOAD_TIMEOUT",t[t.f3b=1015]="ASYNCLOAD_BADCONFIG",t[t.scb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE",t[t.tcb=1017]="ASYNCLOAD_COMPONENT_MISSING",t[t.gR=1101]="HTTP_UNKNOWN",t[t.Bca=1102]="HTTP_XHR",t[t.dR=1103]="HTTP_PROTOCOL",t[t.cR=1104]="HTTP_OFFLINE",t[t.fR=1105]="HTTP_TIMEOUT",t[t.IE=1106]="HTTP_READTIMEOUT",t[t.qB=1107]="HTTP_ABORT",t[t.nDa=1108]="HTTP_PARSE",t[t.jDa=1110]="HTTP_BAD_URL",t[t.eR=1111]="HTTP_PROXY",t[t.hda=1203]="MSE_AUDIO",t[t.ida=1204]="MSE_VIDEO",t[t.xhb=1250]="MSE_MEDIA_ERR_BASE",t[t.U5b=1251]="MSE_MEDIA_ERR_ABORTED",t[t.X5b=1252]="MSE_MEDIA_ERR_NETWORK",t[t.V5b=1253]="MSE_MEDIA_ERR_DECODE",t[t.Y5b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED",t[t.W5b=1255]="MSE_MEDIA_ERR_ENCRYPTED",t[t.Ss=1260]="EME_MEDIA_KEYERR_BASE",t[t.H4b=1261]="EME_MEDIA_KEYERR_UNKNOWN",t[t.C4b=1262]="EME_MEDIA_KEYERR_CLIENT",t[t.G4b=1263]="EME_MEDIA_KEYERR_SERVICE",t[t.F4b=1264]="EME_MEDIA_KEYERR_OUTPUT",t[t.E4b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE",t[t.D4b=1266]="EME_MEDIA_KEYERR_DOMAIN",t[t.I4b=1269]="EME_MEDIA_UNAVAILABLE_CDM",t[t.pfb=1280]="EME_ERROR_NODRMSESSSION",t[t.ofb=1281]="EME_ERROR_NODRMREQUESTS",t[t.y4b=1282]="EME_ERROR_INDIV_FAILED",t[t.z4b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE",t[t.vfb=1284]="EME_TIMEOUT_MESSAGE",t[t.J4b=1285]="EME_TIMEOUT_KEYCHANGE",t[t.TBa=1286]="EME_UNDEFINED_DATA",t[t.MJ=1287]="EME_INVALID_STATE",t[t.A4b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK",t[t.OBa=1289]="EME_EMPTY_DATA",t[t.HQ=1290]="EME_TIMEOUT",t[t.j6b=1303]="NCCP_METHOD_NOT_SUPPORTED",t[t.m6b=1305]="NCCP_PARSEXML",t[t.ejb=1309]="PROCESS_EXCEPTION",t[t.l6b=1311]="NCCP_NETFLIXID_MISSING",t[t.n6b=1312]="NCCP_SECURENETFLIXID_MISSING",t[t.g6b=1313]="NCCP_HMAC_MISSING",t[t.f6b=1315]="NCCP_HMAC_MISMATCH",t[t.e6b=1317]="NCCP_HMAC_FAILED",t[t.d6b=1321]="NCCP_CLIENTTIME_MISSING",t[t.c6b=1323]="NCCP_CLIENTTIME_MISMATCH",t[t.MCa=1331]="GENERIC",t[t.Rhb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS",t[t.Shb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP",t[t.o6b=1341]="NCCP_TRANSACTION",t[t.h6b=1343]="NCCP_INVALID_DRMTYPE",t[t.i6b=1344]="NCCP_INVALID_LICENCE_RESPONSE",t[t.k6b=1345]="NCCP_MISSING_PAYLOAD",t[t.l7b=1346]="PROTOCOL_NOT_INITIALIZED",t[t.k7b=1347]="PROTOCOL_MISSING_FIELD",t[t.j7b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID",t[t.EB=1402]="STORAGE_NODATA",t[t.E7b=1403]="STORAGE_EXCEPTION",t[t.M7b=1405]="STORAGE_QUOTA_NOT_GRANTED",t[t.N7b=1407]="STORAGE_QUOTA_TO_SMALL",t[t.dKa=1411]="STORAGE_LOAD_ERROR",t[t.Vjb=1412]="STORAGE_LOAD_TIMEOUT",t[t.eKa=1414]="STORAGE_SAVE_ERROR",t[t.Yjb=1415]="STORAGE_SAVE_TIMEOUT",t[t.Bea=1417]="STORAGE_DELETE_ERROR",t[t.cKa=1418]="STORAGE_DELETE_TIMEOUT",t[t.L7b=1421]="STORAGE_FS_REQUESTFILESYSTEM",t[t.I7b=1423]="STORAGE_FS_GETDIRECTORY",t[t.K7b=1425]="STORAGE_FS_READENTRIES",t[t.F7b=1427]="STORAGE_FS_FILEREAD",t[t.H7b=1429]="STORAGE_FS_FILEWRITE",t[t.G7b=1431]="STORAGE_FS_FILEREMOVE",t[t.J7b=1432]="STORAGE_FS_PARSEJSON",t[t.Xjb=1451]="STORAGE_NO_LOCALSTORAGE",t[t.Wjb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION",t[t.B6b=1501]="NTBA_UNKNOWN",t[t.A6b=1502]="NTBA_EXCEPTION",t[t.w6b=1504]="NTBA_CRYPTO_KEY",t[t.y6b=1506]="NTBA_CRYPTO_OPERATION",t[t.x6b=1508]="NTBA_CRYPTO_KEYEXCHANGE",t[t.z6b=1515]="NTBA_DECRYPT_UNSUPPORTED",t[t.SAa=1553]="DEVICE_NO_ESN",t[t.RAa=1555]="DEVICE_ERROR_GETTING_ESN",t[t.Efb=1701]="FORMAT_UNKNOWN",t[t.zCa=1713]="FORMAT_XML",t[t.Ffb=1715]="FORMAT_XML_CONTENT",t[t.Dfb=1721]="FORMAT_BASE64",t[t.d0=1723]="FORMAT_DFXP",t[t.dgb=1801]="INDEXDB_OPEN_EXCEPTION",t[t.IDa=1802]="INDEXDB_NOT_SUPPORTED",t[t.cgb=1803]="INDEXDB_OPEN_ERROR",t[t.JDa=1804]="INDEXDB_OPEN_NULL",t[t.bgb=1805]="INDEXDB_OPEN_BLOCKED",t[t.egb=1807]="INDEXDB_OPEN_TIMEOUT",t[t.agb=1808]="INDEXDB_INVALID_STORE_STATE",t[t.v0=1809]="INDEXDB_ACCESS_EXCEPTION",t[t.Hhb=1901]="MSL_UNKNOWN",t[t.Ahb=1911]="MSL_INIT_NO_MSL",t[t.zFa=1913]="MSL_INIT_ERROR",t[t.Bhb=1915]="MSL_INIT_NO_WEBCRYPTO",t[t.yhb=1931]="MSL_ERROR",t[t.Ghb=1933]="MSL_REQUEST_TIMEOUT",t[t.Fhb=1934]="MSL_READ_TIMEOUT",t[t.zhb=1935]="MSL_ERROR_HEADER",t[t.Z5b=1936]="MSL_ERROR_ENVELOPE",t[t.$5b=1937]="MSL_ERROR_MISSING_PAYLOAD",t[t.yFa=1957]="MSL_ERROR_REAUTH",t[t.bfa=2103]="WEBCRYPTO_MISSING",t[t.zkb=2105]="WEBCRYPTOKEYS_MISSING",t[t.Akb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR",t[t.O3b=2200]="CACHEDDATA_PARSEJSON",t[t.Lza=2201]="CACHEDDATA_UNSUPPORTED_VERSION",t[t.P3b=2202]="CACHEDDATA_UPGRADE_FAILED",t[t.nB=2203]="CACHEDDATA_INVALID_FORMAT",t[t.c3b=3e3]="ACCOUNT_CHANGE_INFLIGHT",t[t.d3b=3001]="ACCOUNT_INVALID",t[t.q4b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE",t[t.p4b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION",t[t.n4b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE",t[t.o4b=3201]="DOWNLOADED_LICENSE_UNUSEABLE",t[t.m4b=3202]="DOWNLOADED_LICENSE_EXCEPTION",t[t.O7b=3300]="STORAGE_VA_LOAD_ERROR",t[t.P7b=3301]="STORAGE_VA_LOAD_TIMEOUT",t[t.S7b=3302]="STORAGE_VA_SAVE_ERROR",t[t.T7b=3303]="STORAGE_VA_SAVE_TIMEOUT",t[t.Q7b=3304]="STORAGE_VA_REMOVE_ERROR",t[t.R7b=3305]="STORAGE_VA_REMOVE_TIMEOUT",t[t.Cda=3077]="PBO_DEVICE_EOL_WARNING",t[t.YGa=3078]="PBO_DEVICE_EOL_FINAL",t[t.aHa=3100]="PBO_DEVICE_RESET",t[t.$Ga=3101]="PBO_DEVICE_RELOAD",t[t.ZGa=3102]="PBO_DEVICE_EXIT",t[t.Gib=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW",t[t.sib=5005]="PBO_ACCOUNT_ON_HOLD",t[t.wib=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED",t[t.bHa=5007]="PBO_INCORRECT_PIN",t[t.Dib=5008]="PBO_MOBILE_ONLY",t[t.Hib=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE",t[t.zib=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL",t[t.uib=5059]="PBO_BLACKLISTED_IP",t[t.tib=5070]="PBO_AGE_VERIFICATION_REQUIRED",t[t.vib=5080]="PBO_CHOICE_MAP_ERROR",t[t.Eib=5090]="PBO_RESTRICTED_TO_TESTERS",t[t.Bib=5091]="PBO_MALFORMED_REQUEST",t[t.Aib=5092]="PBO_INVALID_SERVICE_VERSION",t[t.Cib=5093]="PBO_MDX_INVALID_CTICKET",t[t.yib=5094]="PBO_FREE_PREVIEW_ENDED",t[t.Fib=5095]="PBO_STREAMING_LOCATION_DISALLOWED",t[t.heb=5100]="DECODER_TIMEOUT_BUFFERING",t[t.jeb=5101]="DECODER_TIMEOUT_PRESENTING",t[t.ieb=5102]="DECODER_TIMEOUT_PLAYING",t[t.Zeb=5200]="DOWNLOADER_IO_ERROR",t[t.nza=5300]="BRANCHING_SEGMENT_NOTFOUND",t[t.Tcb=5301]="BRANCHING_PRESENTER_UNINITIALIZED",t[t.s3b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED",t[t.Eba=5303]="BRANCHING_ASE_UNINITIALIZED",t[t.Qcb=5304]="BRANCHING_ASE_FAILURE",t[t.p3b=5305]="BRANCHING_MOMENT_FAILURE",t[t.Rcb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED",t[t.r3b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED",t[t.Ucb=5308]="BRANCHING_SEEK_THREW",t[t.q3b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS",t[t.Scb=5310]="BRANCHING_PLAY_TIMEDOUT",t[t.Vcb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED",t[t.Wcb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW",t[t.Zjb=5500]="STUDIO_MUXED_MANIFEST",t[t.cda=5600]="MANIFEST_HYDRATION_FAILURE"}(n=e.L||(e.L={})),function(t){t[t.D3b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW",t[t.t3b=5005]="BR_ACCOUNT_ON_HOLD",t[t.x3b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED",t[t.A3b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL",t[t.w3b=5059]="BR_BLACKLISTED_IP",t[t.u3b=5070]="BR_AGE_VERIFICATION_REQUIRED",t[t.B3b=2204]="BR_PLAYBACK_CONTEXT_CREATION",t[t.y3b=2205]="BR_DRM_LICENSE_AQUISITION",t[t.C3b=2206]="BR_PLAYBACK_SERVICE_ERROR",t[t.z3b=2207]="BR_ENDPOINT_ERROR",t[t.v3b=2208]="BR_AUTHORIZATION_ERROR"}(e.oCa||(e.oCa={})),e.t0={cdb:"400",n8b:"401",pHa:"413"},e.D0={g5b:1,g8b:2,M4b:3,m8b:4,K5b:5,L4b:6,Wea:7,O4b:8,t7b:9,B7b:10},function(t){t[t.U6b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED",t[t.V6b=98]="PAIRING_UNKNOWN_ERROR"}(e.PFa||(e.PFa={})),e.zfb=function(t){return 7100<=t&&7200>t},e.kca=function(t){return t==i.Q0||t==i.u0},e.pCa=function(t){return 1100<=t&&1199>=t},e.Bfb=function(t){return 1300<=t&&1399>=t},e.Afb=function(t){return 1900<=t&&1999>=t},e.lca=function(t,e){return 1<=t&&9>=t?e+t:e},e.qCa=function(t){return e.lca(t,n.xhb)},e.rCa=function(t){return e.lca(t,n.Ss)},e.Ts=function(t){var e,i,r;return e={},i=t.errorExternalCode||t.pf,r=t.errorDetails||t.ub,e.ErrorSubCode=t.errorSubCode||t.na||n.Vl,i&&(e.ErrorExternalCode=i),r&&(e.ErrorDetails=r),e}},function(t,e,i){var n;function r(){return n.$R.apply(this,arguments)||this}function o(t){return new n.Us(t,e.ja)}Object.defineProperty(e,"__esModule",{value:!0}),e.Gb=e.zDa=e.rda=e.io=e.ja=e.VE=e.timestamp=e.aJb=e.H8=e.vh=e.Nc=e.W5a=e.yOb=e.nkb=void 0,g(r,(n=i(314)).$R),e.nkb=r,e.yOb=function(t){return new n.Us(t,e.VE)},e.W5a=function(t){return new n.Us(t*e.io.wg,e.VE)},e.Nc=o,e.vh=function(t){return new n.Us(t,e.io)},e.H8=function(t){return new n.Us(t,e.rda)},e.aJb=function(t){return new n.Us(t,e.zDa)},e.timestamp=function(t){return o(t)},e.VE=new r(1,"s"),e.ja=new r(1e3,"ms",e.VE),e.io=new r(1e3*e.ja.wg,"s",e.VE),e.rda=new r(60*e.io.wg,"min",e.VE),e.zDa=new r(60*e.rda.wg,"hr",e.VE),e.Gb=o(0)},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.assert=void 0,n=i(2),r=i(142),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(Error),e.assert=function(t,e){if(!t)try{throw new o(e||"Assertion failed")}catch(i){throw r.Qm.H.error("Assertion failed",{value:t,message:e,stack:i.stack}),i}}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.default={bW:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},reset:function(){}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.FQ=e.qb=e.Xca=e.Nj=void 0,(t=e.Nj||(e.Nj={}))[t.Cfb=0]="FATAL",t[t.Mf=1]="ERROR",t[t.afa=2]="WARN",t[t.Fca=3]="INFO",t[t.aLa=4]="TRACE",t[t.ga=5]="DEBUG",e.Xca="LogFieldBuilderFactorySymbol",e.qb="LoggerFactorySymbol",e.FQ={}},function(t,e,i){var n,r,o,a,s,u,c,h;Object.defineProperty(e,"__esModule",{value:!0}),e.ka=e.LIa=e.oV=e.Ih=e.Oi=e.log=e.Wf=e.XM=e.aRa=e.Ar=e.pC=e.Uc=e.Hsb=e.Hia=e.Fsb=e.Gsb=e.kj=e.RP=e.OZ=e.Sh=e.Oc=e.za=void 0,n=i(196),t=i(7),r=i(26),o=i(78),a=i(77),s=i(36),u=i(30),c=i(141),h=i(38),i=i(48),e.za=n.cc.get(h.Uh),e.Oc=n.cc.get(i.Qj),e.Sh=n.cc.get(o.Bv),e.OZ=e.Sh.encode.bind(e.Sh),e.RP=e.Sh.decode.bind(e.Sh),e.kj=n.cc.get(a.tx),e.Gsb=e.kj.encode.bind(e.kj),e.Fsb=e.kj.decode.bind(e.kj),e.Hia=e.kj.UG.bind(e.kj),e.Hsb=e.kj.dab.bind(e.kj),e.Uc=n.cc.get(s.Ci),e.pC=function(t){return t=u.Se(t)?e.RP(t):t,e.Uc.encode(t)},e.Ar=e.Uc.decode.bind(e.Uc),e.aRa=function(t){return e.OZ(e.Ar(t))},e.XM=function(){return n.cc.get(r.yx)},e.Wf=n.cc.get(t.qb),e.log=e.Wf.ib("General"),e.Oi=function(t,i){return e.Wf.ib(t,void 0,i)},e.Ih=function(t,i,n){return e.Wf.ib(i,t,n)},e.oV=function(t,i,n,r){return e.Wf.ib(t,void 0,r,i,n)},e.LIa=function(t,e,i){return n.cc.get(c.LR)(t,e,i).xZ()},e.ka=n.cc},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.JR=e.NCa=e.mMa=void 0,(t=i(2)).__exportStar(i(352),e),t.__exportStar(i(115),e),t.__exportStar(i(22),e),t.__exportStar(i(747),e),t.__exportStar(i(748),e),t.__exportStar(i(749),e),t.__exportStar(i(750),e),t.__exportStar(i(751),e),t.__exportStar(i(752),e),t.__exportStar(i(753),e),n=t.__importDefault(i(754)),e.mMa=n.default,n=t.__importDefault(i(755)),e.NCa=n.default,i=t.__importDefault(i(360)),e.JR=i.default},function(t){var e;(e={Ba:function(t){return"number"==typeof t},Jh:function(t){return"object"==typeof t},Se:function(t){return"string"==typeof t},ia:function(t){return void 0===t},$$b:function(t){return"boolean"==typeof t},gd:function(t){return"function"==typeof t},Bb:function(t){return null===t},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFinite:function(t){return isFinite(t)&&!isNaN(parseFloat(t))},has:function(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)},GRb:function(t){var i,n;if(n=[],!e.Jh(t))throw new TypeError("Object.pairs called on non-object");for(i in t)t.hasOwnProperty(i)&&n.push([i,t[i]]);return n}}).mf=e.forEach=function(t,i,n){if(null==t)return t;if(t.length===+t.length)for(var r=0,o=t.length;r<o;r++)i.call(n,t[r],r,t);else for(r in t)e.has(t,r)&&i.call(n,t[r],r,t);return t},t.exports=e},function(e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.xqa=i.localStorage=i.QJb=i.indexedDB=i.F0=i.Vp=i.wB=i.$E=i.URL=i.I0=i.G0=i.OFa=i.B0=i.SE=i.TE=i.np=i.fo=i.bj=i.lda=i.Kx=i.UKa=i.HJ=i.dF=i.pop=i.forEach=i.filter=i.reduce=i.every=i.slice=i.map=i.sort=i.Dy=i.Uhb=i.Be=i.xv=i.BGa=i.yv=i.H0=i.xB=void 0,e=t,i.kf=e.navigator,i.xB=null===i.kf||void 0===i.kf?void 0:i.kf.userAgent,i.H0=e.location,i.yv=e.screen,i.BGa=e.devicePixelRatio,i.xv=e.performance,i.Be=e.document,i.Uhb=i.Be.documentElement,i.Dy=Array.prototype,i.sort=i.Dy.sort,i.map=i.Dy.map,i.slice=i.Dy.slice,i.every=i.Dy.every,i.reduce=i.Dy.reduce,i.filter=i.Dy.filter,i.forEach=i.Dy.forEach,i.pop=i.Dy.pop,i.dF=Object.create,i.HJ=Date.now,i.UKa=String.fromCharCode,i.Kx=Math.floor,i.lda=Math.ceil,i.bj=Math.round,i.fo=Math.max,i.np=Math.min,i.TE=Math.random,i.SE=Math.abs,i.B0=Math.pow,i.OFa=Math.sqrt,i.G0=e.escape,i.I0=e.unescape,i.URL=e.URL||e.webkitURL,i.$E=e.MediaSource||e.WebKitMediaSource,i.wB=e.webkitCrypto||e.msCrypto||e.crypto,i.Vp=i.wB&&(i.wB.webkitSubtle||i.wB.subtle),i.F0=e.webkitCryptokeys||e.msCryptokeys||e.cryptokeys;try{i.indexedDB=e.indexedDB}catch(t){i.QJb=t||"noex"}try{i.localStorage=e.localStorage}catch(t){i.xqa=t||"noex"}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.aK=e.z0=e.odb=e.jdb=e.ldb=e.mdb=e.Bza=e.hdb=e.kdb=e.Aza=e.ndb=e.udb=e.sdb=e.tdb=e.rdb=e.jfb=e.ifb=e.hfb=e.ohb=e.phb=e.Jx=e.uFa=e.vFa=e.$J=e.FBa=e.lfb=e.gca=e.Y_=e.hib=e.Pjb=e.qFa=e.bdb=e.PAa=e.P0=e.cF=e.O0=e.pFa=e.tB=e.adb=e.mza=e.dhb=e.wkb=e.nhb=e.mhb=e.Jjb=e.Ijb=e.pl=e.Ye=e.BJa=e.ql=void 0,e.uea=void 0,e.ql=function(){},e.BJa=function(){return!0},e.Ye={$:!0},e.pl=1e3,e.Ijb=86400,e.Jjb=604800,e.mhb=1e4,e.nhb=1e7,e.wkb=1.5,e.dhb=.128,e.mza=7.8125,e.adb=128,e.tB=145152e5,e.pFa=1e5,e.O0="$netflix$player$order",e.cF=-1,e.P0=1,e.PAa=["en-US"],e.bdb=8,e.qFa=65535,e.Pjb=65536,e.hib=Number.MAX_VALUE,e.Y_="playready",e.gca="widevine",e.lfb="fps",e.FBa="clearkey",e.$J='audio/mp4; codecs="mp4a.40.5"',e.vFa='audio/mp4; codecs="mp4a.40.42"',e.uFa='audio/mp4; codecs="mp4a.a6"',e.Jx='video/mp4; codecs="avc1.640028"',e.phb='video/mp4; codecs="hev1.2.6.L153.B0"',e.ohb='video/mp4; codecs="dvhe.01000000"',e.hfb="9A04F079-9840-4286-AB92-E65BE0885F95",e.ifb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47",e.jfb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",e.rdb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"],e.tdb="A2394F52-5A9B-4F14-A244-6C427C648DF4",e.sdb="4E657466-6C69-7846-7261-6D6552617465",e.udb="8974DBCE-7BE7-4C51-84F9-7148F9882554",e.ndb="mp4a",e.Aza="enca",e.kdb="ec-3",e.hdb="avc1",e.Bza="encv",e.mdb="hvcC",e.ldb="hev1",e.jdb="dvhe",e.odb="vp09",e.z0=0,e.aK=1,e.uea="position:relative;width:100%;height:100%;overflow:hidden"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Sm={o9b:"casttv",Dja:"chrome",s9b:"chromecast",Ir:"edge",VUa:"edgeoss",pWa:"firefox",T$b:"ie",opera:"opera",c8a:"safari",C$a:"tesla"},e.qp={i3:"android",V_a:"ios",dSa:"chromeos",lMb:"linux",S1a:"mac",rya:"windows"},e.s0={yvb:"computer",phone:"phone",n_b:"tablet"},e.Zc="ConfigSymbol"},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,g,m,_,w,E,k;function O(t){return(t=i.config.Dxa[S(t)])?t:{}}function S(t){if(t)return 0<=t.indexOf("billboard")?"billboard":0<=t.toLowerCase().indexOf("preplay")?"preplay":0<=t.indexOf("embedded")?"embedded":0<=t.indexOf("content-sampling")?"content-sampling":0<=t.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0<=t.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0<=t.indexOf("standard")?"standard":0<=t.indexOf("branching")?"branching":t}Object.defineProperty(i,"__esModule",{value:!0}),i.Cvb=i.Dvb=i.KSa=i.Yja=i.Bvb=i.LSa=i.Avb=i.MSa=i.Xja=i.config=void 0,r=n(12),o=n(50),a=n(8),s=n(40),u=n(21),n(30),c=n(26),h=n(44),f=n(24),n(7),l=n(11),d=n(19),p=n(185),b=n(49),g=n(89),m=n(108),_=n(52),w=n(4),E=n(34),k=n(18),i.MSa=function(e,n){var O,S,T,A,P,j,I,x,M;function R(t,e){f.te(t,(function(t,i){d.gd(i)?e[t]=i.call(void 0,e[t]):d.Jh(i)&&(e[t]=e[t]||{},R(i,e[t]))}))}function N(t,e,i,n){for(var r=[],o=3;o<arguments.length;++o)r[o-3]=arguments[o];return function(n){return d.Xc(n)&&(i=n),u.hb(d.gd(t)),t.apply(void 0,[e,i].concat(y(r)))}}function C(t){return t=t.toLowerCase(),A.hasOwnProperty(t)&&(T[t]=A[t],P[t]=A[t]),t}function L(t,e,i){var n;if(t=t.toLowerCase(),T.hasOwnProperty(t)){n=T[t];try{n=i?i(n):n}catch(t){n=void 0}if(void 0!==n)return n;u.hb(!1),a.log.error("Invalid configuration value. Name: "+t)}return e}function D(t,e,i,n){return L(t,e,(function(t){if(d.Se(t)&&(t=f.He(t)),d.g0a(t,i,n))return t}))}function U(t,e,i,n){return L(t,e,(function(t){if(d.Se(t)&&(t=f.He(t)),d.Rz(t,i,n))return t}))}function B(t,e,i,n){return L(t,e,(function(t){if(d.Se(t)&&(t=parseFloat(t)),d.Ba(t,i,n))return t}))}function F(t,e,i){return L(t,e,(function(t){if(i?i.test(t):d.Se(t))return t}))}function q(t,e){return L(t,e,(function(t){return"true"==t||!0===t||"false"!=t&&!1!==t&&void 0}))}function K(t,e){return L(t,e,(function(t){return d.Se(t)?JSON.parse(l.I0(t)):d.Jh(t)?t:void 0}))}function H(t,e,i,n,r,o){var a;if(t=t.toLowerCase(),T.hasOwnProperty(t)&&(a=T[t]),!d.Xc(a))return e;if(d.Se(a))if(a[0]!==i)a=n(a);else try{a=JSON.parse(l.I0(a))}catch(t){a=void 0}if(void 0===a)return e;for(t=0;t<r.length;t++)if(!r[t](a))return e;return o?o(a):a}function V(t,e,i,n,r){return H(t,e,"[",(function(t){for(var e=(t=t.split("|")).length;e--;)t[e]=f.He(t[e]);return t}),[function(t){return d.isArray(t)&&0<t.length},function(t){for(var e=t.length;e--;)if(!d.Rz(t[e],i,n))return!1;return!0},function(t){return void 0===r||t.length>=r}])}function G(t,e){return H(t,e,"[",(function(t){for(var e=(t=d.isArray(t)?t:t.split("|")).length;e--;)try{t[e]=JSON.parse(l.I0(t[e]))}catch(e){t=void 0;break}return t}),[function(t){return d.isArray(t)&&0<t.length},function(t){for(var e=t.length;e--;)if(!d.Xc(t[e])||!d.Jh(t[e]))return!1;return!0}])}function J(t,e,i,n){return H(t,e,"[",(function(t){return d.isArray(t)?t:t.split("|")}),[function(t){return d.isArray(t)&&0<t.length},function(t){for(var e=t.length;e--;)if(i?!i.test(t[e]):!d.Sz(t[e]))return!1;return!0},function(t){return void 0===n||t.length>=n}])}function z(t,e,i){return H(t,e,"{",(function(t){var e,i,n;e={};for(var r=(t=t.split(";")).length;r--;){if(0>=(n=(i=t[r]).indexOf(":")))return;e[i.substring(0,n)]=i.substring(n+1)}return e}),[function(t){return d.Jh(t)&&0<Object.keys(t).length},function(t){if(i)for(var e in t)if(!i.test(t[e]))return!1;return!0}],(function(t){var i;return i={},f.Zb(i,e),f.Zb(i,t),i}))}O=/^[0-9]+[%]?$/,S=/^[0-9]*$/,P={},j=a.ka.get(s.Tm),I=a.ka.get(m.fF),function(t){function i(t){t.split(",").forEach((function(t){var e;0<(e=t.indexOf("="))&&(T[t.substring(0,e).toLowerCase()]=t.substring(e+1))}))}T={},f.Zb(T,t),e&&e.length&&l.forEach.call(e,(function(t){d.Se(t)?i(t):d.Jh(t)&&f.Zb(T,t,{ON:!0})})),A=f.Zb({},o.l6(),{ON:!0}),(t=o.D6a().cadmiumconfig)&&(a.log.info("Config cookie loaded",t),i(t)),(a.ka.get(E.Hk).g3||T.istestaccount)&&(f.Zb(T,A),P=A)}(n),i.config={},x={SBb:N(q,C("enableXHEAAC"),!1),eVa:N(q,C("enableDDPlus20"),!0),dVa:N(q,C("enableDDPlus"),!0),PU:N(q,C("enableDDPlusAtmos"),!1),zBb:N(q,C("enableLSSDH"),!0),tBb:N(q,C("enableHEVC"),!1),O4a:N(q,C("overrideEnableHEVC"),!1),zla:N(q,C("enableHDR"),!1),N4a:N(q,C("overrideEnableHDR"),!1),M4a:N(q,C("overrideEnableDV"),!1),xM:N(q,C("enableAVCHigh"),I.xM),aI:N(q,C("overrideEnableAVCHigh"),I.aI),QBb:N(q,C("enableVP9"),!1),P4a:N(q,C("overrideEnableVP9"),!1),nBb:N(q,C("enableAV1"),!1),L4a:N(q,C("overrideEnableAV1"),!1),DRb:N(q,C("overrideEnableXHEAAC"),!1),GBb:N(q,C("enablePRK"),!1),rBb:N(q,C("enableDV"),!1),uBb:N(q,C("enableHWDRM"),!1),xBb:N(q,C("enableImageSubs"),!0),N1b:N(q,C("useLegacySubs"),!1),oC:N(J,C("audioProfiles"),I.oC),J9b:N(q,C("disableHD"),!1),OBb:N(q,C("enableUHD"),!0),Paa:N(U,"videoCapabilityDetectorType",c.gj.qv),qia:N(U,"audioCapabilityDetectorType",c.nv.qv),gv:N(J,C("videoProfiles"),I.gv),Gpb:N(J,C("timedTextProfiles"),I.dv),dv:function(){return x.Gpb().filter((function(t){return t===h.Zm.Uba?x.zBb():t!==h.Zm.cK||x.xBb()}))},endpoint:N(q,C("endpoint"),!1),version:N(F,"version","unknown"),S8a:N(q,C("setMediaKeysEarly"),!1),nbc:N(q,C("nrdpPersistCookiesToIndexDB"),!1),nbb:N(q,C("useHdcpLevelOnCast"),!1),vBb:N(q,C("enableHdcp"),!1),Sw:N(q,C("prepareCadmium"),!1),eqb:N(q,C("acceptManifestOnPrepareItemParams"),!0),bTb:N(K,"ppmconfig",{maxNumberTitlesScheduled:1}),JSb:N(q,C("playerPredictionModelV2"),!0),RU:N(q,C("enableLdlPrefetch"),!1),kVa:N(q,C("enableMediaPrefetch"),!1),BBb:N(q,C("enableManifestCache"),!0),Jzb:N(q,C("deleteCachedManifestOnPlayback"),!1),Izb:N(q,C("deleteCachedManifestOnCreate"),!1),Nzb:N(q,C("deleteOtherManifestCacheOnCreate"),!1),Mzb:N(q,C("deleteOtherLdlCacheOnCreate"),!1),Fbc:N(U,C("periodicPrepareLogsIntervalMilliseconds"),36e5),xTb:N(U,C("prepareManifestCacheMaxCount"),50),vTb:N(U,C("prepareLdlCacheMaxCount"),30),$5a:N(U,C("prepareManifestExpiryMilliseconds"),12e5),wTb:N(U,C("prepareLdlExpiryMilliseconds"),78e4),pTb:N(U,C("prefetcherMaxWishlistSize"),1),oTb:N(U,C("prefetcherBudgetInBytes"),1/0),qTb:N(q,C("prefetcherOverrideItemPriority"),!0),uTb:N(F,C("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),$cc:N(K,"videoApp"),iE:N(K,"storageRules"),C5:N(q,"ftlEnabled",I.C5),Voa:N(U,C("imageSubsResolution"),0),zJb:N(U,C("imageSubsMaxBuffer"),I.ONb.da(_.ov),0),$T:N(q,C("captureBatteryStatus"),!1),DEb:N(U,C("getBatteryApiTimeoutMilliseconds"),5e3),xm:N(F,C("keySystemId"),I.xm),W0a:N(J,C("keySystemList"),void 0,void 0),COb:N(U,C("hdcpGlobalTimeout1"),1e4),DOb:N(U,C("hdcpGlobalTimeout2"),1e4),Sac:N(U,C("hdcpQueryTimeout1"),1e3),Tac:N(U,C("hdcpQueryTimeout2"),1e3),Y2a:N(U,C("hdcpQueryTimeout2"),100),EOb:N(q,C("microsoftHwdrmRequiresHevc"),!1),Fra:N(q,C("microsoftClearLeadRequiresSwdrm"),!1),zOb:N(q,C("microsoftEnableDeviceInfo"),!1),AOb:N(q,C("microsoftEnableHardwareInfo"),!1),BOb:N(q,C("microsoftEnableHardwareReset"),!1),K1b:N(q,C("useHevcCodecForDolbyVision"),!1),DBb:N(q,C("enableMediaCapabilities"),!1),aTb:N(q,C("powerEfficientForVideo"),!1),VMb:N(q,"logMediaPipelineStatus",!1),nY:N(q,C("renderDomDiagnostics"),!0),F1a:function(){return-1},MN:N(D,C("logDisplayMaxEntryCount"),I.MN,-1),aNb:N(D,C("logToConsoleLevel"),-1),f9b:N(D,C("bladerunnerCmdHistorySize"),10),nw:function(){return j.nw},A1b:N(q,"upgradeNetflixId",!0),Cqa:N(q,"logErrorIfEsnNotProvided",!0),Gla:N(q,"enforceSinglePlayback",I.Gla),V4:N(q,"enforceSingleSession",I.V4),Mja:N(q,"closeOtherPlaybacks",!0),Qrb:N(U,"asyncLoadTimeout",15e3,1),iNb:N(U,"mainThreadMonitorPollRate",0),mbc:N(q,"nrdpAlwaysShowUIOverlay",!1),obc:N(q,"nrdpValidateSSOTokens",!0),lcc:N(q,"showNrdpDebugBadging",!1),Taa:function(){return j.Taa},Cz:function(){return j.Cz},SL:function(){return j.SL},mJ:function(){return j.mJ},Bbb:N(U,C("verbosePlaybackInfoDenominator"),0),f$:N(q,"renderTimedText",!0),cTb:N(q,"preBufferTimedText",!0),JCb:N(q,"fatalOnTimedTextLoadError",!0),kxa:N(z,"timedTextStyleDefaults",{}),kaa:N(z,"timedTextStyleOverrides",{}),jxa:N(z,"timedTextFontFamilyMapping",I.jxa||{default:"font-family:Arial,Helvetica;font-weight:bolder"}),JP:N(U,"timedTextSimpleFallbackThreshold",I.JP.da(_.ov)),Dka:N(F,C("customDfxpUrl")),NBb:N(q,C("enableSubtitleTrackerLogging"),!1),kXb:N(q,C("sendSubtitleQoeLogblobOnMidplay"),!1),pja:N(V,"cdnIdWhiteList",[]),oja:N(V,"cdnIdBlackList",[]),yma:N(F,C("forceAudioTrack")),mPb:N(q,"muteVolumeOnPlaybackClose",!0),pbc:N(F,"nrdpVolumeControlType","VOLUME_STREAM"),Cma:N(F,C("forceTimedTextTrack")),VNb:N(U,C("maxRetriesTimedTextDownload"),0),L_b:N(U,C("timedTextRetryInterval"),8e3),sZb:N(F,"storageType","idb",/^(none|fs|idb|ls)$/),B1a:N(U,"lockExpiration",1e4),TMb:N(U,"lockRefresh",3e3),aub:N(q,"captureUnhandledExceptions",!0),yJb:N(q,"ignoreUnhandledExceptionDuringPlayback",!0),M0b:N(q,"unhandledExceptionsArePlaybackErrors",!1),Dab:N(F,"unhandledExceptionSource",""),GTb:N(q,"preserveLastFrame",!1),LOb:N(U,"minBufferingTimeInMilliseconds",4e3),bUb:N(U,"progressBackwardsGraceTimeMilliseconds",4e3),cUb:N(U,"progressBackwardsMinPercent",10),Ssb:N(F,C("bookmarkIgnoreBeginning"),"0",O),Tsb:N(F,C("bookmarkIgnoreEnd"),"5%",O),Usb:N(F,C("bookmarkIgnoreEndForBranching"),"60000",O),RN:N(U,"maxParallelConnections",3),Uua:N(q,"reportThroughputInLogblobs",!0),Kw:N(U,"minAudioMediaRequestDuration",16e3),JOb:N(U,"minAudioMediaRequestDurationBranching",0),lA:N(U,"minVideoMediaRequestDuration",4e3),POb:N(U,"minVideoMediaRequestDurationAL1",0),QOb:N(U,"minVideoMediaRequestDurationBranching",0),x8:N(U,"minAudioMediaRequestSizeBytes",0),F8:N(U,"minVideoMediaRequestSizeBytes",0),VAb:N(q,"droppedFrameRateFilterEnabled",!1),WAb:N(U,"droppedFrameRateFilterMaxObservation",60,10,1e3),YAb:N((function(t,e,i,n,r,o){return H(t,e,"[",(function(t){for(var e=(t=t.split(";")).length;e--;){t[e]=t[e].split("|");for(var i=t[e].length;i--;)t[e][i]=f.He(t[e][i])}return t}),[function(t){return d.isArray(t)&&0<t.length},function(t){for(var e=t.length;e--&&void 0!==t;){if(!d.isArray(t[e]))return!1;for(var r=t[e].length;r--;)if(!d.Rz(t[e][r],i,n))return!1}return!0},function(t){if(void 0!==r)for(var e=t.length;e--;)if(r!==t[e].length)return!1;return!0},function(t){return void 0===o||t.length>=o}])}),"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),U9b:N(q,"droppedFrameRateFilterWithoutRebufferEnabled",!0),XAb:N(U,"droppedFrameRateFilterMinHeight",384),ZAb:N(V,"droppedFramesPercentilesList",[]),FOb:N(q,"microsoftScreenSizeFilterEnabled",!1),GLb:N(q,"keyStatusFilterEnabled",!1),NZa:N(U,"hdcpEngagementWaitTime",0),J0b:N(q,"uiLabelFilterEnabled",!0),I0b:N(K,"uiLabelFilter",{}),Ezb:N(U,C("defaultVolume"),100,0,100),lra:N(U,C("maxPlaybackRate"),2,0,16),sUa:N(q,"disableVideoRightClickMenu",!1),A8:N(U,"minDecoderBufferMilliseconds",1e3,0,r.tB),$H:N(U,"optimalDecoderBufferMilliseconds",5e3,0,r.tB),A4a:N(U,"optimalDecoderBufferMillisecondsBranching",3e3,0,r.tB),BD:N(U,"minimumTimeBeforeBranchDecision",3e3,0,r.tB),dA:N(U,"maxDecoderBufferMilliseconds",I.dA.da(w.ja),0,r.tB),VTa:N(U,"decoderTimeoutMilliseconds",1e4,1),M3a:N(U,"noRenderTimeoutMilliseconds",0),qAb:N(q,"disgardMediaOnAppend",!1),vrb:N(q,"appendMediaBeforeInit",!1),YRb:N(U,"pauseTimeoutLimitMilliseconds",18e5),Xoa:N(U,"inactivityMonitorInterval",3e4,0),dqb:N(V,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),zM:N(q,"enableTrickPlay",!1),Wqb:N(V,"additionalDownloadSimulationParams",[2e3,2e3,100],0,void 0,3),u0b:N(U,"trickPlayHighResolutionBitrateThreshold",1e3),v0b:N(U,"trickPlayHighResolutionThresholdMilliseconds",1e4),y0b:N(B,"trickplayBufferFactor",.5),t0b:N(U,"trickPlayDownloadRetryCount",1),cra:N(F,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Zra:N(F,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),xDa:N(K,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),v2a:N(D,"maxIQRSamples",1/0),g3a:N(D,"minIQRSamples",5),ubb:N(q,"useResourceTimingAPI",!1),uJb:N(q,"ignoreFirstByte",!0),yra:N(q,"mediaRequestAsyncLoadStart",I.yra),V1b:N(q,"useXHROnLoadStart",!1),Xla:N(V,"failedDownloadRetryWaitsASE",[10,200,500,1e3,2e3,4e3]),d4:N(U,"connectTimeoutMilliseconds",8e3,500),esa:N(U,"noProgressTimeoutMilliseconds",8e3,500),O1b:N(q,"useOnLineApi",!1),V$a:N(U,"timedTextDownloadRetryCountBeforeCdnSwitch",3),ebc:N(U,"netflixRequestExpiryTimeout",0),L2b:N(q,"webkitDecodedFrameCountIncorrectlyReported",!1),RWb:N(U,"seekBackOnAudioTrackChangeMilliseconds",8e3),WRb:N(q,"pausePlaybackOnAudioSwitch",!0),baa:N(J,C("supportedAudioTrackTypes"),[],void 0,1),b7:N(U,"initialLogFlushTimeout",5e3),J5a:N(F,"playdataPersistKey",j.nw?"unsentplaydatatest":"unsentplaydata"),Kva:N(q,"sendPersistedPlaydata",!0),FSb:N(U,"playdataPersistIntervalMilliseconds",4e3),Gbc:N(U,"playdataSendDelayMilliseconds",1e4),D$:N(q,"sendPlaydataBackupOnInit",!0),YMb:N(J,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Z2a:N(q,"midplayEnabled",!0),v8:N(U,"midplayIntervalMilliseconds",3e5),$2a:N(V,"midplayKeyPoints",[15e3,3e4,6e4,12e4]),M4:N(U,"downloadReportDenominator",0),KAb:N(U,"downloadReportInterval",3e5),E1a:N(U,"logConfigApplyDenominator",0),jRa:N(z,C("bookmarkByMovieId"),{}),iV:N(q,C("forceLimitedDurationLicense"),!1),rD:N(U,C("licenseRenewalRequestDelay"),0),kta:N(U,C("persistedReleaseDelay"),1e4),kac:N(q,C("limitedDurationFlagOverride"),void 0),d8a:N(U,"safariPlayPauseWorkaroundDelay",100),W2b:N(U,"workaroundValueForSeekIssue",1200),kja:N(q,C("callEndOfStream"),I.kja),iSb:N(q,"performRewindCheck",!0),LCb:N(q,"fatalOnUnexpectedSeeking",!0),KCb:N(q,"fatalOnUnexpectedSeeked",!0),fYb:N(q,C("setVideoElementSize")),$ub:N(q,C("clearVideoSrc"),!0),fUa:N(U,C("delayPlayPause"),0),hp:N(q,C("useTypescriptEme"),!1),lbb:N(q,C("useEncryptedEvent"),!0),JU:N(F,C("drmPersistKey"),"unsentDrmData"),m6a:N(q,C("promiseBasedEme"),!1),$tb:N(q,"captureKeyStatusData",!1),T6:N(q,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),ZPb:N(q,C("nudgeSourceBuffer"),!1),Ava:N(D,C("seekDelta"),1),NX:N(q,C("preciseSeeking"),!1),fTb:N(q,C("preciseSeekingOnTwoCoreDevice"),!1),eUa:N(z,C("delayErrorHandling")),jab:N(q,"trackingLogEnabled",!1),kab:N((function(t,e){var i;return(i=z(t,e,void 0))&&Object.entries(i).forEach((function(t){var e;t=(e=v(t)).next().value,"true"===(e=e.next().value)?i[t]=!0:"false"===e&&(i[t]=!1)})),i}),"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),pxa:N(F,"trackingLogPath","/customerevents/track/debug"),k0b:N(V,"trackingLogStallKeyPoints",[1e4,3e4,6e4,12e4]),Vk:N(F,"esn",""),XVa:N(F,"fesn",""),IBb:N(q,C("enablePerformanceLogging"),!1),gVa:N(q,C("enableEmeVerboseLogging"),!1),ABb:N(q,"enableLastChunkLogging",!1),appId:N(F,"appId","",S),sessionId:N(F,"sessionId","",S),qja:N(F,"cdnProxyUrl"),S1b:N(q,"usePlayReadyHeaderObject",!1),zWa:N(U,"forceXhrErrorResponseCode",void 0),Ir:{bbc:N(F,"mslApiPath","/msl/"),Lbc:N(F,"proxyPath",""),YA:N(F,"uiVersion"),Aaa:N(F,"uiPlatform"),p9b:function(){return"0"},Kta:N(J,"preferredLanguages",r.PAa,/^[a-zA-Z-]{2,5}$/,1),EDb:N(F,C("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),ZZb:N(q,"supportPreviewContentPin",!0),$Zb:N(q,"supportWatermarking",!0),IYb:N(q,"showAllSubDubTracks",!1),g$b:N(q,C("failOnGuidMismatch"),!1)},W9:{enabled:N(q,"qcEnabled",!1),Vo:N(F,"qcPackageId","")},Js:N(q,"useRangeHeader",!1),SU:N(q,"enableMilestoneEventList",!0),JL:N(F,"authenticationType",j.nw?I.UQa:I.JL),TQa:N(z,"authenticationKeyNames",f.Zb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),k_b:N(F,"systemKeyWrapFormat"),GJb:N(q,"includeNetflixIdUserAuthData",!0),BYb:N(q,"shouldSendUserAuthData",!0),Nva:N(q,"sendUserAuthIfRequired",I.Nva),xYb:N(q,"shouldClearUserData",!1),rJ:N(q,"usesMsl",!0),hPb:N(q,"mslDeleteStore",!1),jPb:N(q,"mslPersistStore",!0),awb:N(q,"correctNetworkForShortTitles",!0),$Sb:N(q,"postplayHighInitBitrate",!1),zDb:N(q,"flushHeaderCacheOnAudioTrackChange",!0),e_b:N(q,"supportsUnequalizedDownloadables",!0),QTa:N(U,C("debugAseDenominator"),100),AT:N(U,"aseAudioBufferSizeBytes",I.AT.da(_.ov)),BT:N(U,"aseVideoBufferSizeBytes",I.BT.da(_.ov)),Lw:N(U,"minInitVideoBitrate",560),Kra:N(U,"minHCInitVideoBitrate",560),fA:N(U,"maxInitVideoBitrate",1/0),WW:N(U,"minInitAudioBitrate",0),VW:N(U,"minHCInitAudioBitrate",0),HW:N(U,"maxInitAudioBitrate",65535),w8:N(U,"minAcceptableVideoBitrate",235),XW:N(U,"minRequiredBuffer",3e4),tj:N(U,"minPrebufSize",7800),z8:N(U,"minCheckBufferingCompleteInterval",999999),vua:N(B,"rebufferingFactor",1),$r:N(U,"maxBufferingTime",2600),Zxa:N(q,"useMaxPrebufSize",!0),wD:N(U,"maxPrebufSize",45e3),nra:N(U,"maxRebufSize",1/0),Y6:N(G,"initialBitrateSelectionCurve",null),D_a:N(U,"initSelectionLowerBound",560),E_a:N(U,"initSelectionUpperBound",1050),haa:N(U,"throughputPercentForAudio",15),Eia:N(U,"bandwidthMargin",10),Fia:N(q,"bandwidthMarginContinuous",!1),Gia:N(G,"bandwidthMarginCurve",[{m:65,b:8e3},{m:65,b:3e4},{m:50,b:6e4},{m:45,b:9e4},{m:40,b:12e4},{m:20,b:18e4},{m:5,b:24e4}]),$ja:N(U,"conservBandwidthMargin",20),$wa:N(q,"switchConfigBasedOnInSessionTput",!1),hU:N(U,"conservBandwidthMarginTputThreshold",0),aka:N(G,"conservBandwidthMarginCurve",[{m:80,b:8e3},{m:80,b:3e4},{m:70,b:6e4},{m:60,b:9e4},{m:50,b:12e4},{m:30,b:18e4},{m:10,b:24e4}]),w$a:N(q,"switchAlgoBasedOnHistIQR",!1),kE:N(F,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),mra:N(D,"maxPlayerStateToSwitchConfig",-1),Mqa:N(F,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Ica:N(B,"IQRThreshold",.5),Moa:N(F,"histIQRCalcToUse","simple"),ru:N(U,"maxTotalBufferLevelPerSession",0),wla:N(q,"enableCombinedPlaygraphs",!1),R4:N(q,"enableDiscontiguousBuffering",!1),Ama:N(V,"forceImmediateTransitionTypeForTitles",[]),zma:N(U,"forceImmediateTransitionExitZone",0),Wxa:N(q,"useBufferSizeLimiter",!1),VZa:N(U,"highWatermarkLevel",3e4),cab:N(U,"toStableThreshold",3e4),naa:N(U,"toUnstableThreshold",I.naa.da(w.ja)),swa:N(q,"skipBitrateInUpswitch",!0),qya:N(U,"watermarkLevelForSkipStart",8e3),Goa:N(U,"highStreamRetentionWindow",9e4),Nqa:N(U,"lowStreamTransitionWindow",51e4),Ioa:N(U,"highStreamRetentionWindowUp",3e5),Pqa:N(U,"lowStreamTransitionWindowUp",3e5),Hoa:N(U,"highStreamRetentionWindowDown",6e5),Oqa:N(U,"lowStreamTransitionWindowDown",0),Foa:N(B,"highStreamInfeasibleBitrateFactor",.5),Zz:N(U,"lowestBufForUpswitch",15e3),V7:N(U,"lockPeriodAfterDownswitch",15e3),Rqa:N(U,"lowWatermarkLevel",25e3),$z:N(U,"lowestWaterMarkLevel",2e4),Sqa:N(q,"lowestWaterMarkLevelBufferRelaxed",!1),xra:N(B,"mediaRate",1),i8:N(U,"maxTrailingBufferLen",1e4),ET:N(U,"audioBufferTargetAvailableSize",262144),RZ:N(U,"videoBufferTargetAvailableSize",1048576),I2a:N(U,"maxVideoTrailingBufferSize",8388608),p2a:N(U,"maxAudioTrailingBufferSize",393216),l5:N(B,"fastUpswitchFactor",3),Yla:N(B,"fastDownswitchFactor",1),gA:N(U,"maxMediaBufferAllowed",15e4),qwa:N(q,"simulatePartialBlocks",!0),u9a:N(q,"simulateBufferFull",!0),bka:N(q,"considerConnectTime",!1),Zja:N(B,"connectTimeMultiplier",1),M1a:N(U,"lowGradeModeEnterThreshold",12e4),N1a:N(U,"lowGradeModeExitThreshold",9e4),s2a:N(U,"maxDomainFailureWaitDuration",3e4),o2a:N(U,"maxAttemptsOnFailure",18),LVa:N(q,"exhaustAllLocationsForFailure",!0),y2a:N(U,"maxNetworkErrorsDuringBuffering",20),c8:N(U,"maxBufferingTimeAllowedWithNetworkError",12e4),TVa:N(U,"fastDomainSelectionBwThreshold",2e3),I$a:N(U,"throughputProbingEnterThreshold",4e4),J$a:N(U,"throughputProbingExitThreshold",34e3),z1a:N(U,"locationProbingTimeout",1e4),aWa:N(U,"finalLocationSelectionBwThreshold",1e4),G$a:N(B,"throughputHighConfidenceLevel",.75),H$a:N(B,"throughputLowConfidenceLevel",.4),mVa:N(q,"enablePerfBasedLocationSwitch",!1),Ju:N(q,"probeServerWhenError",!0),Sta:N(U,"probeRequestTimeoutMilliseconds",8e3),Ay:N(q,"allowSwitchback",!0),mI:N(U,"probeDetailDenominator",100),d8:N(U,"maxDelayToReportFailure",300),zqa:N(U,"locationStatisticsUpdateInterval",6e4),cTa:N(q,"countGapInBuffer",!1),$Pa:N(q,"allowCallToStreamSelector",!0),rRa:N(U,"bufferThresholdForAbort",1e4),ora:N(U,"maxResponsesInitialTput",6),S4:N(q,"enableInitialTputLogging",!1),nta:N(U,"pipelineScheduleTimeoutMs",2),hA:N(U,"maxPartialBuffersAtBufferingStart",2),pra:N(U,"maxStreamingSkew",4e3),kra:N(U,"maxPendingBufferPercentage",10),G6:N(U,"headerRequestSize",4096),Ola:N(q,"estimateHeaderSize",!0),TW:N(U,"minBufferLenForHeaderDownloading",1e4),XO:N(U,"reserveForSkipbackBufferMs",1e4),psa:N(U,"numExtraFragmentsAllowed",2),zq:N(q,"pipelineEnabled",!1),D9a:N(U,"socketReceiveBufferSize",0),s3:N(U,"audioSocketReceiveBufferSize",32768),UP:N(U,"videoSocketReceiveBufferSize",65536),Doa:N(U,"headersSocketReceiveBufferSize",32768),Faa:N(U,"updatePtsIntervalMs",1e3),Ria:N(U,"bufferTraceDenominator",100),ML:N(U,"bufferLevelNotifyIntervalMs",2e3),GL:N(U,"aseReportDenominator",0),n3:N(U,"aseReportIntervalMs",3e5),oBb:N(q,"enableAbortTesting",!1),bqb:N(U,"abortRequestFrequency",8),Rwa:N(U,"streamingStatusIntervalMs",2e3),vA:N(U,"prebufferTimeLimit",24e4),y8:N(U,"minBufferLevelForTrackSwitch",2e3),fta:N(U,"penaltyFactorForLongConnectTime",2),Kqa:N(U,"longConnectTimeThreshold",200),Qha:N(U,"additionalBufferingLongConnectTime",2e3),Rha:N(U,"additionalBufferingPerFailure",8e3),eY:N(U,"rebufferCheckDuration",6e4),jVa:N(q,"enableLookaheadHints",!1),J1a:N(U,"lookaheadFragments",2),jz:N(q,"enableOCSideChannel",!0),M0:N(K,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Pab:N(q,"updateDrmRequestOnNetworkFailure",!1),dUa:N(q,"deferAseScheduling",!1),r2a:N(U,"maxDiffAudioVideoEndPtsMs",16e3),y4:N(U,"defaultHeaderCacheSize",4),x4:N(U,"defaultHeaderCacheDataPrefetchMs",8e3),RH:N(q,"neverWipeHeaderCache",!0),Yra:N(U,"networkFailureResetWaitMs",2e3),Xra:N(U,"networkFailureAbandonMs",6e4),h8:N(U,"maxThrottledNetworkFailures",3),gaa:N(U,"throttledNetworkFailureThresholdMs",200),Qqa:N(D,"lowThroughputThreshold",400),Sla:N(q,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),s3a:N(q,"mp4ParsingInNative",!1),F9a:N(q,"sourceBufferInOrderAppend",!0),WD:N(q,"requireAudioStreamToEncompassVideo",!0),ZPa:N(q,"allowAudioToStreamPastVideo",!0),ji:N(q,"enableManagerDebugTraces",!1),$1a:N(U,"managerDebugMessageInterval",1e3),Z1a:N(U,"managerDebugMessageCount",20),X3a:N(q,"notifyManifestCacheEom",!1),Qia:N(U,"bufferThresholdToSwitchToSingleConnMs",18e4),Pia:N(U,"bufferThresholdToSwitchToParallelConnMs",12e4),B9:N(U,"periodicHistoryPersistMs",3e5),t$:N(U,"saveVideoBitrateMs",18e4),pQa:N(q,"appendMediaRequestOnComplete",!0),Vaa:N(q,"waitForDrmToAppendMedia",!1),u5:N(q,C("forceAppendHeadersAfterDrm"),!1),BUb:N(q,C("reappendRequestsOnSkip"),!1),oPb:N(U,"netIntrStoreWindow",36e3),MOb:N(U,"minNetIntrDuration",8e3),GCb:N(U,"fastHistoricBandwidthExpirationTime",10368e3),ysb:N(U,"bandwidthExpirationTime",5184e3),DCb:N(U,"failureExpirationTime",86400),VIb:N(U,"historyTimeOfDayGranularity",4),qCb:N(q,"expandDownloadTime",!1),YOb:N(U,"minimumMeasurementTime",500),XOb:N(U,"minimumMeasurementBytes",131072),C_b:N(U,"throughputMeasurementTimeout",2e3),VJb:N(U,"initThroughputMeasureDataSize",262144),D_b:N(F,"throughputPredictor","ewma"),B_b:N(U,"throughputMeasureWindow",5e3),G_b:N(U,"throughputWarmupTime",5e3),A_b:N(U,"throughputIQRMeasureWindow",5e3),ahb:N(U,"IQRBucketizerWindow",15e3),Fvb:N(U,"connectTimeHalflife",10),jWb:N(U,"responseTimeHalflife",10),UIb:N(U,"historicBandwidthUpdateInterval",2e3),WOb:N(U,"minimumBufferToStopProbing",1e4),zva:N(F,"secondThroughputEstimator","none"),k8a:N(D,"secondThroughputMeasureWindowInMs",1/0),sBb:N(J,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),XCb:N(K,"filterDefinitionOverrides",{}),vzb:N(F,"defaultFilter","throughput-ewma"),PWb:N(F,"secondaryFilter","none"),wzb:N(K,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5e3,wt:5e3},"throughput-sw":{type:"slidingwindow",mw:5e3},"throughput-iqr":{type:"iqr",mx:1/0,mn:5,bw:15e3,iv:1e3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,in:3600},"respconn-location-history":{type:"discrete-ewma",hl:100,in:25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1e3,w:15e3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,in:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2e3,sw:6e4,in:"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25e3]}}),bX:N(q,"needMinimumNetworkConfidence",!0),Jia:N(q,"biasTowardHistoricalThroughput",!0),Jha:N(q,"addHeaderDataToNetworkMonitor",!1),Bwa:N(q,"startMonitorOnLoadStart",!1),Tua:N(q,"reportFailedRequestsToNetworkMonitor",!1),ira:N(D,"maxFastPlayBufferInMs",1/0),hra:N(D,"maxFastPlayBitThreshold",1/0),$ha:N(q,"appendFirstHeaderOnComplete",!0),Erb:N(F,"ase_stream_selector","optimized"),gpa:N(F,"initBitrateSelectorAlgorithm","default"),Wia:N(F,"bufferingSelectorAlgorithm","default"),RTa:N(F,"ase_ls_failure_simulation",""),Gka:N(q,"ase_dump_fragments",!1),Ika:N(U,"ase_location_history",0),Jka:N(U,"ase_throughput",0),TTa:N(q,"ase_simulate_verbose",!1),WSb:N(U,"pollingPeriod",150),MMb:N(U,"loadTimeMs",18e4),yNb:N(U,"marginTimeMs",1e4),ena:N(q,"getDeviceIdFromBindDevice",!1),Iha:N(q,"addFailedLogBlobsToQueue",!0),Dxa:{"content-sampling":{$r:N(U,"contentSamplingMaxBufferingTime",3e3),cP:N(F,"contentSamplingSelectStartingVMAFMethod","fallback"),uT:N(q,"contentSamplingActivateSelectStartingVMAF",!0),uu:N(U,"contentSamplingMinStartingVideoVMAF",80),SW:N(U,"contentSamplingMinAcceptableVMAF",70),KH:N(U,"contentSamplingMinAllowedVmaf",60)},billboard:{Lw:N(U,"billboardMinInitVideoBitrate",1050),fA:N(U,"billboardMaxInitVideoBitrate",null),tj:N(U,"billboardMinPrebufSize",null),wD:N(U,"billboardMaxPrebufSize",null),$r:N(U,"billboardMaxBufferingTime",null),hA:N(U,"billboardMaxPartialBuffersAtBufferingStart",null),$z:N(U,"billboardLowestWaterMarkLevel",6e3),Zz:N(U,"billboardLowestBufForUpswitch",25e3),kE:N(F,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Lw:N(U,"preplayMinInitVideoBitrate",1050),fA:N(U,"preplayMaxInitVideoBitrate",null),tj:N(U,"preplayMinPrebufSize",null),wD:N(U,"preplayMaxPrebufSize",null),$r:N(U,"preplayMaxBufferingTime",null),hA:N(U,"preplayMaxPartialBuffersAtBufferingStart",null),$z:N(U,"preplayLowestWaterMarkLevel",6e3),Zz:N(U,"preplayLowestBufForUpswitch",25e3)},embedded:{Lw:N(U,"embeddedMinInitVideoBitrate",1050),fA:N(U,"embeddedMaxInitVideoBitrate",null),tj:N(U,"embeddedMinPrebufSize",null),wD:N(U,"embeddedMaxPrebufSize",null),$r:N(U,"embeddedMaxBufferingTime",null),hA:N(U,"embeddedMaxPartialBuffersAtBufferingStart",null),$z:N(U,"embeddedLowestWaterMarkLevel",6e3),Zz:N(U,"embeddedLowestBufForUpswitch",25e3)},"video-merch-bob-horizontal":{Lw:N(U,"videoMerchBobHorizontalMinInitVideoBitrate",null),fA:N(U,"videoMerchBobHorizontalMaxInitVideoBitrate",null),tj:N(U,"videoMerchBobHorizontalMinPrebufSize",null),wD:N(U,"videoMerchBobHorizontalMaxPrebufSize",null),$r:N(U,"videoMerchBobHorizontalMaxBufferingTime",null),hA:N(U,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),$z:N(U,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Zz:N(U,"videoMerchBobHorizontalLowestBufForUpswitch",null),gv:N(J,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Lw:N(U,"miniModalHorizontalMinInitVideoBitrate",null),fA:N(U,"miniModalHorizontalMaxInitVideoBitrate",null),tj:N(U,"miniModalHorizontalMinPrebufSize",null),wD:N(U,"miniModalHorizontalMaxPrebufSize",null),$r:N(U,"miniModalHorizontalMaxBufferingTime",500),hA:N(U,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),$z:N(U,"miniModalHorizontalLowestWaterMarkLevel",null),Zz:N(U,"miniModalHorizontalLowestBufForUpswitch",null),gv:N(J,"miniModalHorizontalVideoProfiles",void 0)}},RBb:N(q,"enableVerbosePlaydelayLogging",!1),LBb:N(q,"enableSeamless",!1),Loa:N(U,"hindsightDenominator",0),Koa:N(U,"hindsightDebugDenominator",0),K6:N(K,"hindsightParam",{numB:1/0,bSizeMs:1e3,fillS:"last",fillHl:1e3}),UU:N(q,"enableSessionHistoryReport",!1),ula:N(U,"earlyStageEstimatePeriod",1e4),i1a:N(U,"lateStageEstimatePeriod",3e4),f8:N(U,"maxNumSessionHistoryStored",30),E8:N(U,"minSessionHistoryDuration",3e4),Fw:N(U,"maxActiveRequestsPerSession",3),a8:N(U,"maxActiveRequestsSABCell100",2),uqa:N(q,"limitAudioDiscountByMaxAudioBitrate",!0),he:N(K,"browserInfo",{}),ntb:N(U,C("busyGracePeriod"),199),lXb:N(q,C("sendTransitionLogblob"),!0),eBb:N(q,C("editVideoFragments"),!0),P4:N(q,C("earlyAppendSingleChildBranch"),!0),HJb:N(q,C("includeSegmentInfoOnLogblobs"),!0),vCb:N(q,"exposeTestData",!1),Kka:N(q,"declareBufferingCompleteAtSegmentEnd",!0),fG:N(q,"applyProfileTimestampOffset",!1),fm:N(q,"applyProfileStreamingOffset",!1),mrb:N(q,C("allowSmallSeekDelta"),!1),VYb:N(U,C("smallSeekDeltaThresholdMilliseconds"),p.e1),qBb:N(q,"enableCDMAttestedDescriptors",!1),j$:N(q,"requireDownloadDataAtBuffering",!1),k$:N(q,"requireSetupConnectionDuringBuffering",!1),yua:N(q,"recordFirstFragmentOnSubBranchCreate",!1),$sb:N(q,"branchingAudioTrackFrameDropSmallSeekFix",!0),xWa:N(q,"forceL3WidevineCdm",!1),pbb:N(q,"useMobileVMAF",!1),lUa:N(F,"desiredVMAFTypeMobile","phone_plus_lts"),mUa:N(F,"desiredVMAFTypeNonMobile","plus_lts"),uT:N(q,"activateSelectStartingVMAF",!1),uu:N(U,"minStartingVideoVMAF",1),SW:N(U,"minAcceptableVMAF",1),KH:N(U,"minAllowedVmaf",1),qrb:N(q,"alwaysNotifyEOSForPlaygraph",!0),TU:N(q,"enableNewAse",!0),Iaa:N(q,"useNewApi",!0),wBb:N(q,"enableHudsonFieldTest",!1),jJb:N(J,"hudsonTitles",["81127954","70125931","80158148"]),SNb:N(U,"maxPartialBuffersAtHudson",1),dQb:N(U,"numberOfChunksPerSegment",4),o_b:N(U,"targetContentLatency",1e4),p_b:N(U,"targetLongContentLatency",3e4),ZOb:N(U,"minimumTimeDelay",1),Bla:N(q,"enableWsslEstimate",!1),b8:N(U,"maxAllowedOutstandingRequests",4),BL:N(q,"alwaysRunUnderflowTimer",!0),Lra:N(U,"minStreamableConcurrencyWindow",3e3),Nwa:N(B,"streamableConcurrencyFactor",.3),VT:N(U,"bufferingConcurrencyWindow",7800),QYb:N(q,"singleStreamablePerBranch",!0),U4:N(q,"enableResolutionVMAFStreamFilter",!1),o$:N(K,"resolutionVMAFCappingRuleList",{}),hta:N(D,"percentCapTitlesForResolutionVMAFStreamFilter",100),mAb:N(q,"disableSkipping",!1),Haa:N(q,"useHLSPlayer",I.Haa),Xxa:N(q,C("useExitZones"),!0),VVb:N(q,"requestSegmentVmaf",!1),tA:N(K,"perFragmentVMAFConfig",{enabled:!1})},M=!0,i.Xja=function(e){var n,r,o;if(n=a.ka.get(k.jd).id,0<i.config.E1a&&0==n%i.config.E1a)try{r=a.ka.get(b.Um),o=a.ka.get(g.Ix).Gt("config","info",{params:e}),r.Hc(o)}catch(t){a.log.error("Failed to log config$apply",t)}t._cad_global.config=i.config,u.hb(e),e&&(T=f.Zb({},e,{ON:!0}),f.Zb(T,P,{ON:!0}),R(x,i.config),T.istestaccount&&a.log.trace("Config applied for",function(t){var e;return e=[],f.te(t,(function(t,i){var n;try{n="videoapp"===t.toLowerCase()?"[object object]":JSON.stringify(i)}catch(t){n="cantparse"}e.push(t+"="+n)})),e.join("\n")}(M?T:e)),M=!1)},i.Xja(T)},i.Avb=function(t,e){return d.Se(t)&&"%"==t[t.length-1]?l.bj(parseFloat(t)*e/100):0|t},i.LSa=function(t){return t?(t=f.Zb({},i.config),f.Zb(t,{$H:i.config.A4a},{pA:!0})):i.config},i.Bvb=function(t){var e;return e=f.Zb({},i.config),t=O(t),f.Zb(e,t,{pA:!0})},i.Yja=function(t){return t=O(t),f.Zb({},n(186)(t),{pA:!0})},i.KSa=function(t,e,r){return r=!!r&&(0<=r.indexOf("h264hpl")||0<=r.indexOf("vp9")),t={Kw:t?i.config.JOb:i.config.Kw,lA:t?i.config.QOb:r?i.config.POb:i.config.lA,P4:!e},f.Zb({},n(186)(t),{pA:!0})},i.Dvb=O,i.Cvb=S},function(t,e){function i(){}var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Ce=e.cb=e.yf=e.Rb=e.ca=e.Lca=e.iF=e.Da=void 0,(n=e.Da||(e.Da={})).x1a="loadedtracks",n.w1a="loadedmetadata",n.loaded="loaded",n.error="error",n.closed="closed",n.Wp="currenttimechanged",n.Gab="unthrottledcurrenttimechanged",n.Uia="bufferedtimechanged",n.SUa="durationchanged",n.Hbb="videosizechanged",n.l5a="pausedchanged",n.Bta="playingchanged",n.wVa="endedchanged",n.OL="busychanged",n.u3="audiotracklistchanged",n.gm="audiotrackchanged",n.ev="timedtexttracklistchanged",n.Rl="timedtexttrackchanged",n.DZ="trickplayframeschanged",n.x3a="mutedchanged",n.Mbb="volumechanged",n.lwa="showsubtitle",n.Lua="removesubtitle",n.K2b="watermark",n.Opa="isReadyToTransition",n.rN="inactivated",n.T_a="internalPlaybackError",n.XWb="segmentmaploaded",n.YWb="segmentpresenting",n.WQa="autoplaywasallowed",n.x3="autoplaywasblocked",(e.iF||(e.iF={})).CY="playgraphsegmenttransition",e.Lca=i,i.z8a="serverTimeChanged",function(t){t.FL="aseReport",t.zia="autoplayWasAllowed",t.ei="autoplayWasBlocked",t.Jy="bufferUnderrun",t.closed="closed",t.kg="closing",t.Wp="currentTimeChanged",t.GG="downloadComplete",t.rN="inactivated",t.k1a="licenseAdded",t.KN="licensed",t.Xz="locationSelected",t.Yqa="manifestClosing",t.CH="manifestPresenting",t.n8="mediaBufferChanged",t.V8="nextBranchingSegmentChosen",t.Cq="playbackStart",t.Bq="playbackReady",t.wk="repositioned",t.tI="repositioning",t.e8a="safePlayRequested",t.DI="segmentPresenting",t.GY="serverSwitch",t.q9a="shouldUpdateVideoDiagInfo",t.DP="subtitleError",t.fxa="throttledMediaTimeChanged",t.Hab="unthrottledMediaTimeChanged",t.IP="timedTextRebuffer",t.ev="timedTextTrackListChanged",t.DZ="trickPlayFramesChanged",t.Pxa="updateNextBranchingSegmentWeights",t.Z1b="userInitiatedPause",t.ybb="userInitiatedResume",t.lab="tracksHydrated"}(e.ca||(e.ca={})),function(t){t[t.dK=0]="NOTLOADED",t[t.LOADING=1]="LOADING",t[t.re=2]="NORMAL",t[t.CLOSING=3]="CLOSING",t[t.CLOSED=4]="CLOSED"}(e.Rb||(e.Rb={})),function(t){t[t.re=1]="NORMAL",t[t.xd=2]="BUFFERING",t[t.aKa=3]="STALLED"}(e.yf||(e.yf={})),function(t){t[t.Pf=1]="WAITING",t[t.Kc=2]="PLAYING",t[t.hh=3]="PAUSED",t[t.Wq=4]="ENDED"}(e.cb||(e.cb={})),function(t){t[t.Fx=0]="INITIAL",t[t.CB=1]="SEEK",t[t.UR=2]="TRACK_CHANGED",t[t.lK=3]="SEGMENT_CHANGED",t[t.c0=4]="FORCE_REBUFFER"}(e.Ce||(e.Ce={}))},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),i(2).__exportStar(i(348),e)},function(t,e,i){(e=i(114)).xzb=0,t.exports={EventEmitter:e,Wh:i(743)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.jd="ApplicationSymbol"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.gd=e.rpa=e.Sz=e.Se=e.Vpa=e.KKb=e.yKb=e.Lpa=e.Rz=e.g0a=e.Ba=e.Tpa=e.isArray=e.D0a=e.Jh=e.Xc=e.is=void 0,t=i(195),e.is=t.KE,e.Xc=function(t){return e.is.Gg(t)},e.Jh=function(t){return e.is.CL(t)},e.D0a=function(t){return e.is.xha(t)},e.isArray=function(t){return e.is.By(t)},e.Tpa=function(t){return e.is.fQa(t)},e.Ba=function(t,i,n){return e.is.Ii(t,i,n)},e.g0a=function(t,i,n){return e.is.Yha(t,i,n)},e.Rz=function(t,i,n){return e.is.yT(t,i,n)},e.Lpa=function(t){return e.is.qT(t)},e.yKb=function(t){return e.is.$pb(t)},e.KKb=function(t){return e.is.aqb(t)},e.Vpa=function(t){return e.is.gQa(t)},e.Se=function(t){return e.is.Ip(t)},e.Sz=function(t){return e.is.kn(t)},e.rpa=function(t){return e.is.pT(t)},e.gd=function(t){return e.is.Y2(t)}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.ga=!1},function(t,e,i){function n(t,i){return e.zo.assert(t,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.ezb=e.Fka=e.Yyb=e.bzb=e.kM=e.tU=e.azb=e.czb=e.lM=e.PTa=e.$yb=e.Zyb=e.hb=e.zo=e.dzb=e.Lcb=void 0,t=i(8),i=i(96),e.Lcb=function(){n(!1)},e.dzb=!0,e.zo=t.ka.get(i.pv),e.hb=n,e.Zyb=function(t,i){return e.zo.Hrb(t,i)},e.$yb=function(t,i){return e.zo.Irb(t,i)},e.PTa=function(t,i){return e.zo.p3(t,i)},e.lM=function(t,i){return e.zo.Orb(t,i)},e.czb=function(t,i){return e.zo.Mrb(t,i)},e.azb=function(t,i){return e.zo.kia(t,i)},e.tU=function(t,i){return e.zo.Krb(t,i)},e.kM=function(t,i){return e.zo.Nrb(t,i)},e.bzb=function(t,i){return e.zo.Lrb(t,i)},e.Yyb=function(t,i){return e.zo.Grb(t,i)},e.Fka=function(t,i){return e.zo.Jrb(t,i)},e.ezb=function(){return e.zo.oKb()}},function(t,e){function i(t,e){var i,n,r,o,a;if(t&&e){for(n=(i=Math).abs,o=Math.abs(t),r=Math.abs(e);r;)a=r,r=o%r,o=a;t=n.call(i,t*e/o)}else t=0;return t}Object.defineProperties(e,{__esModule:{value:!0}}),e.T=void 0,t=function(){function t(t,e){"object"==typeof t?(this.xc=t.vc,this.nb=t.S):(this.xc=t,this.nb=e)}return t.compare=function(t,e){return t.Al(e)},t.abs=function(e){return new t(Math.abs(e.xc),e.nb)},t.Eb=function(e){return 0===e?t.Gb:new t(e,1e3)},t.vZ=function(t,e){return Math.floor(1e3*t/e)},t.Tra=function(t,e){return Math.floor(t*e/1e3)},t.max=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t.greaterThan(e)?t:e}))},t.min=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t.lessThan(e)?t:e}))},Object.defineProperties(t.prototype,{vc:{get:function(){return this.xc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.nb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Y:{get:function(){return t.vZ(this.xc,this.nb)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{hI:{get:function(){return 1e3*this.xc/this.nb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{yI:{get:function(){var t;return 0>(t=this.hI)?Math.ceil(t):Math.floor(t)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{vh:{get:function(){return this.xc/this.nb},enumerable:!1,configurable:!0}}),t.prototype.Zf=function(e){return e/=this.nb,new t(Math.floor(this.xc*e),Math.floor(this.nb*e))},t.prototype.add=function(e){var n;return this.nb===e.nb?new t(this.xc+e.xc,this.nb):(n=i(this.nb,e.nb),new t(this.xc*n/this.nb+e.xc*n/e.nb,n))},t.prototype.Qa=function(e){var n;return this.nb===e.nb?new t(this.xc-e.xc,this.nb):(n=i(this.nb,e.nb),new t(this.xc*n/this.nb-e.xc*n/e.nb,n))},t.prototype.PH=function(e){return new t(this.xc*e,this.nb)},t.prototype.qm=function(e){var n;return"number"==typeof e?(n=i(this.xc,e))!==this.xc?this.Zf(n/this.xc*this.nb).qm(e):new t(this.xc/e,this.nb):this.nb===e.nb?this.xc/e.xc:(n=i(this.nb,e.nb),this.xc*n/this.nb/(e.xc*n/e.nb))},t.prototype.rUa=function(e){var n;return this.nb===e.nb?new t(Math.abs(this.xc-e.xc),this.nb):(n=i(this.nb,e.nb),new t(Math.abs(this.xc*n/this.nb-e.xc*n/e.nb),n))},t.prototype.xua=function(){return new t(this.nb,this.xc)},t.prototype.compare=function(t,e){var n;return this.nb===e.nb?t(this.xc,e.xc):(n=i(this.nb,e.nb),t(this.xc*n/this.nb,e.xc*n/e.nb))},t.prototype.Al=function(t){var e;return this.nb===t.nb?this.xc-t.xc:(e=i(this.nb,t.nb),this.xc*e/this.nb-t.xc*e/t.nb)},t.prototype.equal=function(t){return this.compare((function(t,e){return t===e}),t)},t.prototype.a9=function(t){return this.compare((function(t,e){return t!==e}),t)},t.prototype.lessThan=function(t){return this.compare((function(t,e){return t<e}),t)},t.prototype.greaterThan=function(t){return this.compare((function(t,e){return t>e}),t)},t.prototype.HN=function(t){return this.compare((function(t,e){return t<=e}),t)},t.prototype.Or=function(t){return this.compare((function(t,e){return t>=e}),t)},t.prototype.isFinite=function(){return!!this.nb&&isFinite(this.xc)},t.prototype.p6=function(t){return i(this.S,t)},t.prototype.toJSON=function(){return{ticks:this.xc,timescale:this.nb}},t.prototype.toString=function(){return this.xc+"/"+this.nb},t.prototype.Zd=function(){return this.xc+"/"+this.nb+" ("+this.Y+"ms)"},t.Gb=new t(0,1e3),t.Ow=new t(1,1e3),t.fD=new t(1/0,1),t}(),e.T=t},function(t,e,i){function n(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)}function r(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)}function o(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function a(t,e){var i,n,r;for(n in i={},t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)0>e.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function s(t,e,i,n){var r,o,a;if(o=3>(r=arguments.length)?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,"object"==typeof Reflect&&"function"==typeof Reflect.Fr)o=Reflect.Fr(t,e,i,n);else for(var s=t.length-1;0<=s;s--)(a=t[s])&&(o=(3>r?a(o):3<r?a(e,i,o):a(e,i))||o);return 3<r&&o&&Object.defineProperty(e,i,o),o}function u(t,e){return function(i,n){e(i,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.Gc)return Reflect.Gc(t,e)}function h(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof i?t:new i((function(e){e(t)}))}(t.value).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function f(t,e){var i,n,r,o,a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.On.pop(),i.Yn.pop();continue;default:if(!(o=i.Yn,(o=0<o.length&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3]))i.label=a[1];else if(6===a[0]&&i.label<o[1])i.label=o[1],o=a;else{if(!(o&&i.label<o[2])){o[2]&&i.On.pop(),i.Yn.pop();continue}i.label=o[2],i.On.push(a)}}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}return i={label:0,bd:function(){if(1&o[0])throw o[1];return o[1]},Yn:[],On:[]},a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function l(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}function d(t,e){for(var i in t)"default"===i||e.hasOwnProperty(i)||(e[i]=t[i])}function p(t){var e,i,n;if(i=(e="function"==typeof Symbol&&Symbol.iterator)&&t[e],n=0,i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var i,n,r;if(!(i="function"==typeof Symbol&&t[Symbol.iterator]))return t;t=i.call(t),r=[];try{for(;(void 0===e||0<e--)&&!(n=t.next()).done;)r.push(n.value)}catch(t){var o;o={error:t}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}return r}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function y(){for(var t,e=0,i=0,n=arguments.length;i<n;i++)e+=arguments[i].length;for(e=Array(e),t=0,i=0;i<n;i++)for(var r=arguments[i],o=0,a=r.length;o<a;o++,t++)e[t]=r[o];return e}function g(t){return this instanceof g?(this.qE=t,this):new g(t)}function m(t,e,i){var n,r,o;function a(t){n[t]&&(r[t]=function(e){return new Promise((function(i,n){1<o.push([t,e,i,n])||s(t,e)}))})}function s(t,e){var i;try{(i=n[t](e)).value instanceof g?Promise.resolve(i.value.qE).then(u,c):h(o[0][2],i)}catch(t){h(o[0][3],t)}}function u(t){s("next",t)}function c(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");return n=i.apply(t,e||[]),o=[],r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r}function _(t){var e,i;function n(n,r){e[n]=t[n]?function(e){return(i=!i)?{value:g(t[n](e)),done:"return"===n}:r?r(e):e}:r}return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e}function w(t){var e,i;function n(e){i[e]=t[e]&&function(i){return new Promise((function(n,r){!function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)}(n,r,(i=t[e](i)).done,i.value)}))}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");return(e=t[Symbol.asyncIterator])?e.call(t):(t=p(t),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i)}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){var e;if(t&&t.__esModule)return t;if(e={},null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,i){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,i),i}i.r(e),i.d(e,"__extends",(function(){return o})),i.d(e,"__assign",(function(){return n})),i.d(e,"__rest",(function(){return a})),i.d(e,"__decorate",(function(){return s})),i.d(e,"__param",(function(){return u})),i.d(e,"__metadata",(function(){return c})),i.d(e,"__awaiter",(function(){return h})),i.d(e,"__generator",(function(){return f})),i.d(e,"__createBinding",(function(){return l})),i.d(e,"__exportStar",(function(){return d})),i.d(e,"__values",(function(){return p})),i.d(e,"__read",(function(){return b})),i.d(e,"__spread",(function(){return v})),i.d(e,"__spreadArrays",(function(){return y})),i.d(e,"__await",(function(){return g})),i.d(e,"__asyncGenerator",(function(){return m})),i.d(e,"__asyncDelegator",(function(){return _})),i.d(e,"__asyncValues",(function(){return w})),i.d(e,"__makeTemplateObject",(function(){return E})),i.d(e,"__importStar",(function(){return k})),i.d(e,"__importDefault",(function(){return O})),i.d(e,"__classPrivateFieldGet",(function(){return S})),i.d(e,"__classPrivateFieldSet",(function(){return T}))},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.bTa=e.AWa=e.Go=e.Sf=e.wd=e.Bw=e.trim=e.XV=e.j$a=e.iua=e.IRb=e.He=e.BQa=e.ORa=e.Zb=e.te=void 0,n=i(21),r=i(30),o=i(11),a=i(19),e.te=function(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])},e.Zb=e.Zb||function(t,i,n){var o,a,s;return i&&(n?(o=n.ON,a=n.prefix,s=n.pA,e.te(i,(function(e,i){s&&!r.Xc(i)||(t[(a||"")+(o?e.toLowerCase():e)]=i)}))):e.te(i,(function(e,i){t[e]=i}))),t},e.ORa=function(t,e,i,n){var r;return t&&(r=t[e],a.gd(r)&&(i=r.apply(t,o.slice.call(arguments,3)))),i},e.BQa=function(t){for(var e={},i=t.length;i--;)e[t[i]]=!0;return e},e.He=e.He||function(t){return parseInt(t,10)},e.IRb=function(t){return/^true$/i.test(t)},e.iua=function(t,e){return o.bj(t+o.TE()*(e-t))},e.j$a=function(t){return JSON.stringify(t,null,"  ")},e.XV=function(){var t,e;function i(e){return n.hb(void 0!==t[e]),t[e]}return t={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"},e=/[&'"<>]/g,function(t){return t.replace(e,i)}}(),e.trim=(s=/^\s+|\s+$/gm,function(t){return t.replace(s,"")}),e.Bw=function(t){return Array.isArray(t)?t:[t]},e.wd=e.wd||function(t){var e,i,n;if(t)return e=t.stack,i=t.number,(n=t.message)||(n=""+t),e?0!=(t=""+e).indexOf(n)&&(t=n+"\n"+t):t=n,i&&(t+="\nnumber:"+i),t},e.Sf=function(t){return a.Ba(t)?t.toFixed(0):""},e.Go=function(t){return a.Ba(t)?(t/1e3).toFixed(0):""},e.AWa=function(t){return a.Ba(t)?t.toFixed():""},e.bTa=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return e}},function(t,e,i){var n;function r(t){return t.filter((function(e,i){return t.indexOf(e)===i}))}Object.defineProperties(e,{__esModule:{value:!0}}),e.Z8=e.YHb=e.bwb=e.flatten=e.e3a=e.nvb=e.m3=e.vt=e.zQa=e.wQa=e.xQa=e.Mp=e.yQa=e.ig=void 0,n=i(2),e.ig=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i],i,t))return t[i]},e.yQa=function(t,e){for(var i=t.length-1;0<=i;--i)if(e(t[i],i,t))return t[i]},e.Mp=function(t,e){var i;return i=-1,t.some((function(t,n,r){return i=n,e(t,n,r)}))?i:-1},e.xQa=function(t,e){for(var i=t.length-1;0<=i;i--)if(e(t[i],i,t))return i;return-1},e.wQa=r,e.zQa=function(t,e){return-1!==(e=t.indexOf(e))&&(t.splice(e,1),!0)},e.vt=function(t,e,i){return i?t.filter((function(t){return!e.some((function(e){return i(t,e)}))})):t.filter((function(t){return-1===e.indexOf(t)}))},e.m3=function(t,e){return r(t.concat(e))},e.nvb=function(t){return function(e,i){return t(e)-t(i)}},e.e3a=function(t){return function(e,i){return t(e)<t(i)?e:i}},e.flatten=function(t){var e;return(e=[]).concat.apply(e,n.__spread(t))},e.bwb=function(t,e){return void 0===e&&(e=function(t){return t}),t.reduce((function(t,i){return void 0===t[i=e(i)]?t[i]=1:++t[i],t}),{})},e.YHb=function(t,e){return t.reduce((function(t,i){var n;return void 0===t[n=e(i)]?t[n]=[i]:t[n].push(i),t}),{})},e.Z8=function(t){return null!=t}},function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.yx=e.bMa=e.xkb=e.Mj=e.se=e.gj=e.nv=e.Pj=void 0,(i=e.Pj||(e.Pj={}))[i.Audio=0]="Audio",i[i.VLa=1]="Video",function(t){t[t.qv=0]="Default",t[t.Lx=1]="Microsoft"}(e.nv||(e.nv={})),function(t){t[t.qv=0]="Default",t[t.Oba=1]="Cast",t[t.FJ=2]="Chrome",t[t.Lx=3]="Microsoft"}(e.gj||(e.gj={})),function(t){t[t.RR=0]="SD",t[t.g0=1]="HD",t[t.pK=2]="UHD",t[t.Qs=3]="DV",t[t.Ex=4]="HDR10",t[t.iB=5]="AVCHigh",t[t.Xx=6]="VP9",t[t.Hj=7]="AV1"}(e.se||(e.se={})),function(t){t[t.NE=0]="Level_1_4",t[t.uv=1]="Level_2_2"}(e.Mj||(e.Mj={})),e.xkb=function(){},function(t){t[t.q7b=0]="Platform",t[t.e4b=1]="CurrentTitle"}(e.bMa||(e.bMa={})),e.yx="DeviceCapabilitiesSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.bg="IsTypeSymbol"},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.default={E3b:{Ux:0,D7b:1,name:["STARTUP","STEADY"]},h0:{zh:0,C7b:1,tkb:2,name:["STARTING","STABLE","UNSTABLE"]},Ta:{Wb:0,Mb:1,name:["AUDIO","VIDEO"]},ol:{Wb:0,Mb:1,name:["AUDIO","VIDEO"]},yh:{URL:0,lF:1,LOCATION:2,Ox:3,name:["URL","SERVER","LOCATION","NETWORK"]},Nf:{HAVE_NOTHING:0,pB:1,Dx:2,RJ:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},kF:{l3b:0,h5b:1,h7b:2,q6b:3,Q6b:4,e8b:5,j5b:6,Q5b:7,Ux:8,Mf:9,Ida:10,djb:11,Dba:12,hhb:13,ghb:14,Mjb:15,Ljb:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},K4b:{Ox:0,g4b:1,name:["NETWORK","DECODE"]},A7b:{i4b:"delayedSeamless",t5b:"hideLongTransition"}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.cg="UtilitiesSymbol"},function(t,e,i){var n,r;function o(t){return null!=t}function a(t){return typeof t==e.cLa}function s(t,e,i){var n,a,s;return e&&(i?(n=i.ON,a=i.prefix,s=i.pA,r.te(e,(function(e,i){s&&!o(i)||(t[(a||"")+(n?e.toLowerCase():e)]=i)}))):r.te(e,(function(e,i){t[e]=i}))),t}Object.defineProperty(e,"__esModule",{value:!0}),e.L=e.wd=e.XV=e.LM=e.yG=e.createElement=e.Bt=e.AQa=e.X3=e.pP=e.Zb=e.op=e.He=e.Sz=e.Se=e.Jh=e.Xc=e.bLa=e.kkb=e.lkb=e.cLa=e.uE=e.Zaa=e.Ms=e.cQ=e.bQ=e.Fk=e.B0=e.SE=e.TE=e.np=e.fo=e.bj=e.lda=e.Kx=e.HJ=e.mib=e.dF=e.pl=e.ql=void 0,n=i(11),r=i(24),e.ql=function(){},e.pl=1e3,e.dF=Object.create,e.mib=Object.keys,e.HJ=Date.now,e.Kx=Math.floor,e.lda=Math.ceil,e.bj=Math.round,e.fo=Math.max,e.np=Math.min,e.TE=Math.random,e.SE=Math.abs,e.B0=Math.pow,e.Fk="$attributes",e.bQ="$children",e.cQ="$name",e.Ms="$text",e.Zaa="$parent",e.uE="$sibling",e.cLa="string",e.lkb="number",e.kkb="function",e.bLa="object",e.Xc=o,e.Jh=function(t){return typeof t==e.bLa},e.Se=a,e.Sz=function(t){return a(t)&&t},e.He=function(t){return parseInt(t,10)},e.op=function(t,e,i){return t>=e?t<=i?t:i:e},e.Zb=s,e.pP=function(t){return s({},t)},e.X3=function(t){for(var e,i=0;i<arguments.length;++i);i=0;for(var n=arguments.length;i<n;)if(o(e=arguments[i++]))return e},e.AQa=function(t,e){for(var i,n,r=!0;r;)for(r=!1,i=t.length;--i;)(n=t[i])[e]<t[i-1][e]&&(t[i]=t[i-1],t[i-1]=n,r=!0)},e.Bt=function(t,e){if(t.length==e.length){for(var i=t.length;i--;)if(t[i]!=e[i])return!1;return!0}return!1},e.createElement=function(t,e,i,o){var a;return a=n.Be.createElement(t),e&&(a.style.cssText=e),i&&(a.innerHTML=i),o&&r.te(o,(function(t,e){a.setAttribute(t,e)})),a},e.yG=function(t){var e;return e="",r.te(t,(function(t,i){e+=(e?";":"")+t+":"+i})),e},e.LM=function(t,i,n){var r;return t/i>n?(r=e.bj(i*n),t=i):(r=t,t=e.bj(t/n)),{width:r,height:t}},e.XV=function(){var t,e;function i(e){return t[e]}return t={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"},e=/[&'"<>]/g,function(t){return t.replace(e,i)}}(),e.wd=function(t){var e,i;if(t)return e=t.stack,i=t.number,t=""+t,e?0!=(e=""+e).indexOf(t)&&(e=t+"\n"+e):e=t,i&&(e+="\nnumber:"+i),e},e.L={Vl:1001,Lj:1003,Efb:1701,zCa:1713,Ffb:1715,Dfb:1721,d0:1723}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fh="AsyncComponentLoaderSymbol"},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(145),e.ga=!1,t=function(){function t(t,e,i,n,r){this.la=t,this.type=e,this.byteOffset=i,this.byteLength=n,this.parent=r,this.Ua={},this.Qn=n}return t.xn=function(t,e){var i,n;function r(t){t&&t.xn&&((t=t.xn(e)).length&&(i=i.concat(t)))}if(i=[],t.type===e&&i.push(t),t.Ua)for(var o in t.Ua)n=t.Ua[o],Array.isArray(n)&&n.forEach(r);return i},t.tt=function(t,e){void 0===t.Ua[e.type]&&(t.Ua[e.type]=[]),t.Ua[e.type].push(e)},t.Cl=function(e,i){return t.xn(e,i)[0]},Object.defineProperties(t.prototype,{startOffset:{get:function(){return this.byteOffset},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{length:{get:function(){return this.byteLength},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{u:{get:function(){return this.la},enumerable:!0,configurable:!0}}),t.prototype.Ac=function(){var t;t=this.la.ya(),this.version=t>>24,this.flags=16777215&t},t.prototype.tt=function(e){t.tt(this,e)},t.prototype.xn=function(e){return t.xn(this,e)},t.prototype.Cl=function(e){return t.Cl(this,e)},t.prototype.parse=function(){return!0},t.prototype.Qt=function(){return!0},t.prototype.Rh=function(t){if((t=this.Ua[t])&&Array.isArray(t)&&1===t.length)return t[0]},t.prototype.Ie=function(t,e){e=void 0===e?this.la.offset:e,n.assert(e>=this.startOffset+8&&e+t<=this.startOffset+this.Qn,"Removal range [0x"+e.toString(16)+"-0x"+(e+t).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.Qn).toString(16)+")"),this.la.Ie(t,e,this)},t.prototype.Ru=function(t,e,i){i=void 0===i?this.la.offset:i,n.assert(i>=this.startOffset+8&&i+t<=this.startOffset+this.Qn,"Removal range [0x"+i.toString(16)+"-0x"+(i+t).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.Qn).toString(16)+")"),this.la.Ru(t,e,i,this)},t.prototype.dY=function(t,e,i){if(1<i){for(var n=[];0<i--;)n.push(this.bT(t,e));return n}return this.bT(t,e)},t.prototype.Wi=function(t){var e,i;return i=this,void 0===e&&(e={}),t.forEach((function(t){var n,r;if("offset"===t.type){if(0<(n=t.offset)%8)throw Error("Requested offset "+t.offset+"is not an even byte multiple");i.la.offset+=n/8}else for(n in t)r=t[n],e[n]="string"==typeof r?i.dY(r):i.dY(r.type,r.length,r.gia)})),e},t.prototype.bT=function(t,e){var i;switch(i=this.byteLength-this.la.offset+this.startOffset,void 0===e&&(e=i),t){case"int8":t=this.la.mb();break;case"int64":t=this.la.Td();break;case"int32":t=this.la.ya();break;case"int16":t=this.la.Yc();break;case"string":t=this.la.mua(Math.min(e,i));break;default:throw Error("Invalid type: "+t)}return t},t.Na=!1,t}(),e.Dc=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(150),e.ga=!1,t=function(){function t(t,e,i,n,r){this.la=t,this.type=e,this.byteOffset=i,this.byteLength=n,this.parent=r,this.Ua={},this.Qn=n}return t.xn=function(t,e){var i,n;function r(t){t&&t.xn&&((t=t.xn(e)).length&&(i=i.concat(t)))}if(i=[],t.type===e&&i.push(t),t.Ua)for(var o in t.Ua)n=t.Ua[o],Array.isArray(n)&&n.forEach(r);return i},t.tt=function(t,e){void 0===t.Ua[e.type]&&(t.Ua[e.type]=[]),t.Ua[e.type].push(e)},t.Cl=function(e,i){return t.xn(e,i)[0]},Object.defineProperties(t.prototype,{startOffset:{get:function(){return this.byteOffset},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{length:{get:function(){return this.byteLength},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{u:{get:function(){return this.la},enumerable:!0,configurable:!0}}),t.prototype.Ac=function(){var t;t=this.la.ya(),this.version=t>>24,this.flags=16777215&t},t.prototype.tt=function(e){t.tt(this,e)},t.prototype.xn=function(e){return t.xn(this,e)},t.prototype.Cl=function(e){return t.Cl(this,e)},t.prototype.parse=function(){return!0},t.prototype.Qt=function(){return!0},t.prototype.Rh=function(t){if((t=this.Ua[t])&&Array.isArray(t)&&1===t.length)return t[0]},t.prototype.Ie=function(t,e){e=void 0===e?this.la.offset:e,n.assert(e>=this.startOffset+8&&e+t<=this.startOffset+this.Qn,"Removal range [0x"+e.toString(16)+"-0x"+(e+t).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.Qn).toString(16)+")"),this.la.Ie(t,e,this)},t.prototype.Ru=function(t,e,i){i=void 0===i?this.la.offset:i,n.assert(i>=this.startOffset+8&&i+t<=this.startOffset+this.Qn,"Removal range [0x"+i.toString(16)+"-0x"+(i+t).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.Qn).toString(16)+")"),this.la.Ru(t,e,i,this)},t.prototype.dY=function(t,e,i){if(1<i){for(var n=[];0<i--;)n.push(this.bT(t,e));return n}return this.bT(t,e)},t.prototype.Wi=function(t){var e,i;return i=this,void 0===e&&(e={}),t.forEach((function(t){var n,r;if("offset"===t.type){if(0<(n=t.offset)%8)throw Error("Requested offset "+t.offset+"is not an even byte multiple");i.la.offset+=n/8}else for(n in t)r=t[n],e[n]="string"==typeof r?i.dY(r):i.dY(r.type,r.length,r.gia)})),e},t.prototype.bT=function(t,e){var i;switch(i=this.byteLength-this.la.offset+this.startOffset,void 0===e&&(e=i),t){case"int8":t=this.la.mb();break;case"int64":t=this.la.Td();break;case"int32":t=this.la.ya();break;case"int16":t=this.la.Yc();break;case"string":t=this.la.mua(Math.min(e,i));break;default:throw Error("Invalid type: "+t)}return t},t.Na=!1,t}(),e.Dc=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Hk="PlatformSymbol",e.yB="PlatformMutableSymbol"},function(t,e,i){var n,r;function o(t,e){return t&&t.lu&&(e||!1!==t.St)}function a(t,e,i){return!n.Ba(t)||t<e?e:t>i?i:t}n=i(10),r=new(i(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs"),t.exports={console:r,debug:!1,assert:function(t,e){if(!t)throw t=e?" : "+e:"",r.error("Assertion failed"+t),Error("ASEJS_STREAM_SELECTOR assertion failed"+t)},tH:o,mma:function(t,e,i){var r,o,s,u;function c(e){var n;return!(!(n=t[e]).lu||i&&!i(n,e))&&(u=e,!0)}for(o=0,s=r=t.length,n.isArray(e)&&(o=a(e[0],0,r),s=a(e[1],0,r),e=e[2]),r=(e=a(e,o-1,s))-1;r>=o;--r)if(c(r))return u;for(r=e+1;r<s;++r)if(c(r))return u;return-1},fPb:function(t,e){return Math.floor(t/(125*e)*1e3)},ptb:function(t,e){return Math.ceil(t/1e3*e*125)},aac:function(t,e){return!t.slice(e+1).some(o)},up:function t(e){if(!(this instanceof t))return new t(e);this.Je=n.Ba(e)?e:void 0},ig:function(t,e){var i;return t.some((function(t,n,r){return i=t,e(t,n,r)}))?i:void 0},Mp:function(t,e){var i;return t.some((function(t,n,r){return i=n,e(t,n,r)}))?i:-1},T3:a}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Ci="Base64EncoderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Qba="ConfigurableInputsSymbol",e.Wl="ValidatingConfigurableInputsSymbol",e.F_="ConfigNameSymbol",e.iR="InitParamsSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Uh="ClockSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.iMa="WindowTimersSymbol",e.LE="JSONSymbol",e.NLa="UserAgentSymbol",e.eK="NavigatorSymbol",e.Lhb="MediaSourceSymbol",e.UEa="LocationSymbol",e.ZAa="DateSymbol",e.Rda="PerformanceSymbol",e.KR="PlatformExtraInfoSymbol"},function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.Tm=e.wv=e.Cx=void 0,(i=e.Cx||(e.Cx={}))[i.fLa=0]="Test",i[i.pEa=1]="Int",i[i.akb=2]="Staging",i[i.tjb=3]="Prod",function(t){t[t.MR=0]="PreferMsl",t[t.kJa=1]="PreferNoMsl",t[t.gib=2]="NoMsl"}(e.wv||(e.wv={})),e.Tm="GeneralConfigSymbol"},function(t,e,i){var n;function r(t,e,i,r,o,a,s,u,c,h,f,l){this.code=void 0===t?n.M.Vl:t,this.Cc=e,this.Kd=i,this.un=r,this.mA=o,this.message=a,this.details=s,this.data=u,this.hk=c,this.DSb=h,this.alert=f,this.Uha=l,this.$=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.qd=void 0,n=i(3),r.wd=function(t){var e,i,n;return t?(e=t.stack,i=t.number,(n=t.message)||(n=""+t),e?0!==(t=""+e).indexOf(n)&&(t=n+"\n"+t):t=n,i&&(t+="\nnumber:"+i),t):""},r.prototype.AU=function(t){this.details=r.wd(t),this.data=t},r.prototype.toString=function(){return JSON.stringify(this.toJSON)},r.prototype.toJSON=function(){return{code:this.code,subCode:this.Cc,extCode:this.Kd,edgeCode:this.un,mslCode:this.mA,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.hk,playbackServiceError:this.DSb}},r.Hma=function(t,e){return new r(t,n.L.Lj,void 0,void 0,void 0,void 0,e.message,e.stack)},r.Wbb=function(t,e){return new r(t,e,void 0,void 0,void 0,void 0,void 0,void 0)},r.T2b=function(t,e,i){return new r(t,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,i)},e.qd=r},function(t,e,i){var n,r,o;function a(t,e,i,n,r){var o;Object.getOwnPropertyNames(t).filter((function(t){return r(t)&&(i||!Object.prototype.hasOwnProperty.call(e,t))&&(n||!(t in e))})).forEach((function(i){void 0!==(o=Object.getOwnPropertyDescriptor(t,i))&&Object.defineProperty(e,i,o)}))}function s(t,e,i,r){var o,u;o=[],i||(o=Object.getOwnPropertyNames(e)),r||(o=function(t){var e,i,r,o;for(r=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);t!==Object.prototype;){try{for(var a=(e=void 0,n.__values(Object.getOwnPropertyNames(t))),s=a.next();!s.done;s=a.next())o=s.value,-1===r.indexOf(o)&&r.push(o)}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}t=Object.getPrototypeOf(t)}return r}(e)),null!==(u=Object.getPrototypeOf(t))&&u!==Object.prototype&&s(u,e,i,r),a(t,e,!0,!0,(function(t){return"constructor"!==t&&-1===o.indexOf(t)}))}Object.defineProperties(e,{__esModule:{value:!0}}),e.xf=e.$vb=void 0,n=i(2),r=i(5),e.$vb=s,o=Object.getOwnPropertyNames(Function),e.xf=function(t,e,i,n){return void 0===i&&(i=!0),void 0===n&&(n=!0),n||r.assert(!i),t.prototype?(s(t.prototype,e.prototype,i,n),a(t,e,i,n,(function(t){return-1===o.indexOf(t)}))):a(t,e.prototype,i,n,(function(t){return-1===o.indexOf(t)})),e}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.vB="named",e.E0="name",e.ZR="unmanaged",e.RGa="optional",e.hR="inject",e.QE="multi_inject",e.YKa="inversify:tagged",e.ZKa="inversify:tagged_props",e.Bda="inversify:paramtypes",e.yeb="design:paramtypes",e.HR="post_construct"},function(t,e){function i(){}function n(){}function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Zm=e.ze=e.N=void 0,e.N=r,r.QJ="playready-h264mpl30-dash",r.FE="playready-h264mpl31-dash",r.tca="playready-h264mpl40-dash",r.TCa="playready-h264hpl22-dash",r.LQ="playready-h264hpl30-dash",r.MQ="playready-h264hpl31-dash",r.sca="playready-h264hpl40-dash",r.s1="vp9-profile0-L21-dash-cenc",r.qK="vp9-profile0-L30-dash-cenc",r.rK="vp9-profile0-L31-dash-cenc",r.bS="vp9-profile0-L40-dash-cenc",r.Rfb="hevc-main10-L30-dash-cenc",r.Sfb="hevc-main10-L31-dash-cenc",r.Tfb="hevc-main10-L40-dash-cenc",r.Ufb="hevc-main10-L41-dash-cenc",r.ZQ="hevc-main10-L50-dash-cenc",r.aR="hevc-main10-L51-dash-cenc",r.i0="hevc-main10-L30-dash-cenc-prk",r.k0="hevc-main10-L31-dash-cenc-prk",r.m0="hevc-main10-L40-dash-cenc-prk",r.o0="hevc-main10-L41-dash-cenc-prk",r.j0="hevc-main10-L30-dash-cenc-prk-do",r.l0="hevc-main10-L31-dash-cenc-prk-do",r.n0="hevc-main10-L40-dash-cenc-prk-do",r.p0="hevc-main10-L41-dash-cenc-prk-do",r.$Q="hevc-main10-L50-dash-cenc-prk-do",r.bR="hevc-main10-L51-dash-cenc-prk-do",r.J_="hevc-dv5-main10-L30-dash-cenc-prk",r.L_="hevc-dv5-main10-L31-dash-cenc-prk",r.AQ="hevc-dv5-main10-L40-dash-cenc-prk",r.O_="hevc-dv5-main10-L41-dash-cenc-prk",r.Q_="hevc-dv5-main10-L50-dash-cenc-prk",r.S_="hevc-dv5-main10-L51-dash-cenc-prk",r.K_="hevc-dv5-main10-L30-dash-cenc-prk-do",r.M_="hevc-dv5-main10-L31-dash-cenc-prk-do",r.N_="hevc-dv5-main10-L40-dash-cenc-prk-do",r.P_="hevc-dv5-main10-L41-dash-cenc-prk-do",r.R_="hevc-dv5-main10-L50-dash-cenc-prk-do",r.T_="hevc-dv5-main10-L51-dash-cenc-prk-do",r.VCa="hevc-hdr-main10-L30-dash-cenc",r.WCa="hevc-hdr-main10-L31-dash-cenc",r.XCa="hevc-hdr-main10-L40-dash-cenc",r.YCa="hevc-hdr-main10-L41-dash-cenc",r.ZCa="hevc-hdr-main10-L50-dash-cenc",r.$Ca="hevc-hdr-main10-L51-dash-cenc",r.OQ="hevc-hdr-main10-L30-dash-cenc-prk",r.QQ="hevc-hdr-main10-L31-dash-cenc-prk",r.SJ="hevc-hdr-main10-L40-dash-cenc-prk",r.TQ="hevc-hdr-main10-L41-dash-cenc-prk",r.VQ="hevc-hdr-main10-L50-dash-cenc-prk",r.XQ="hevc-hdr-main10-L51-dash-cenc-prk",r.PQ="hevc-hdr-main10-L30-dash-cenc-prk-do",r.RQ="hevc-hdr-main10-L31-dash-cenc-prk-do",r.SQ="hevc-hdr-main10-L40-dash-cenc-prk-do",r.UQ="hevc-hdr-main10-L41-dash-cenc-prk-do",r.WQ="hevc-hdr-main10-L50-dash-cenc-prk-do",r.YQ="hevc-hdr-main10-L51-dash-cenc-prk-do",r.Aya="av1-main-L20-dash-cbcs-prk",r.Bya="av1-main-L21-dash-cbcs-prk",r.l_="av1-main-L30-dash-cbcs-prk",r.m_="av1-main-L31-dash-cbcs-prk",r.n_="av1-main-L40-dash-cbcs-prk",r.o_="av1-main-L41-dash-cbcs-prk",r.p_="av1-main-L50-dash-cbcs-prk",r.q_="av1-main-L51-dash-cbcs-prk",r.Hjb=[r.QJ],r.Ofb=[r.FE,r.tca],r.Tea=[r.i0,r.k0,r.m0,r.o0,r.ZQ,r.aR],r.Uea=[r.j0,r.l0,r.n0,r.p0,r.$Q,r.bR],r.vca=[r.OQ,r.QQ,r.SJ,r.TQ,r.VQ,r.XQ],r.uca=[r.PQ,r.RQ,r.SQ,r.UQ,r.WQ,r.YQ],r.YAa=[r.J_,r.AQ,r.Q_,r.L_,r.O_,r.S_],r.XAa=[r.K_,r.N_,r.R_,r.M_,r.P_,r.T_],r.pba=[r.LQ,r.MQ,r.sca],r.SLa=[r.qK,r.rK,r.bS],r.Xx=[r.s1,r.qK,r.rK,r.bS],r.Hj=[r.l_,r.m_,r.n_,r.o_,r.p_,r.q_],r.rca=r.Hjb.concat(r.Ofb),e.ze=n,n.GE="heaac-2-dash",n.aDa="heaac-5.1-dash",n.HE="heaac-2hq-dash",n.tF="xheaac-dash",n.xQ="ddplus-2.0-dash",n.Rba="ddplus-5.1-dash",n.yQ="ddplus-atmos-dash",e.Zm=i,i.Ojb="simplesdh",i.Uba="dfxp-ls-sdh",i.u1="webvtt-lssdh-ios8",i.cK="nflx-cmisc"},function(t,e,i){var n,r,o;function a(t){return function(e,i){return e.sua(i,t)}}function s(t,e){return t.X9.nUb[e]||u(t,e)}function u(t,e){switch(typeof(t=t.Iz.data[e])){case"undefined":break;case"string":case"number":case"boolean":return t.toString();default:return JSON.stringify(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Cy=e.Bua=e.object=e.gCb=e.url=e.fa=e.$k=e.Exa=e.nKb=e.cZ=e.string=e.ZA=e.dd=e.hD=e.config=void 0,n=i(52),r=i(4),o=i(139),e.config=function(t,e,i){return i=void 0!==i&&i,function(n,r,a){var c,h;return c=void 0!==e?e:r,void 0!==(h=a.get)&&(a.get=function(){var e;if(!this.bLb(r))return this.bHb(r);t:{if(void 0!==(e=(this.krb||i?s:u)(this,c.toString()))){if(!((e=t(this.jX,e))instanceof o.pp))break t;this.DWa(c,e)}e=h.bind(this)()}return this.Q7a(r,e),e}),a}},e.hD=function(t,e){return t.G6a(e)},e.dd=function(t,e){return t.lua(e)},e.ZA=function(t,e){return t.Gq(e)},e.string=function(t,e){return t.sua(e)},e.cZ=function(t,i){return t.Mh(i,e.string)},e.nKb=function(t,i){return t.Mh(i,e.hD)},e.Exa=function(t,i){return t.Mh(i,e.ZA)},e.$k=function(t,e){return(t=t.Gq(e))instanceof o.pp?t:r.Nc(t)},e.fa=function(t,e){return(t=t.Gq(e))instanceof o.pp?t:n.fa(t)},e.url=a(/^\S+$/),e.gCb=function(t){return function(e,i){return e.F6a(i,t)}},e.object=function(){return function(t,e){return t.H6a(e)}},e.Bua=a,e.Cy=function(t,e){return function(i,n){return i.Mh(n,t,e)}}},function(t,e,i){var n,o,a,s;function u(t,e){var i;return(i=s.call(this,t,e)||this).NSa=e,i.debug=t.debug,i.ta=t.Wf.ib(i.NSa),i}function c(t,e){this.NSa=e,this.$ta={},this.Iz=t.Iz,this.jX=t.jX,this.X9=t.X9}Object.defineProperty(e,"__esModule",{value:!0}),e.Ze=e.nQ=e.$Ka=void 0,t=i(1),n=i(606),o=i(0),a=i(139),e.$Ka="isTestAccount",c.prototype.DWa=function(){},c.prototype.Q7a=function(t,e){this.$ta[t]=[e,this.Iz.q$]},c.prototype.bLb=function(t){return n.Ada.of(this.$ta[t]).map((function(t){return t[1]})).or(-1)<this.Iz.q$},c.prototype.bHb=function(t){return n.Ada.of(this.$ta[t]).map((function(t){return t[0]})).or((function(){throw Error("Invalid State Error")}))},r.Object.defineProperties(c.prototype,{krb:{configurable:!0,enumerable:!0,get:function(){var t,i;return this&&this.Iz&&this.Iz.data?(void 0!==(t=this.Iz.data[e.$Ka])&&(i=t.toString()),t=!((t=this.jX.lua(i))instanceof a.pp)&&t):t=!1,t}}}),s=c,s=t.__decorate([o.R(),t.__param(0,o.nl()),t.__param(1,o.nl())],s),e.nQ=s,g(u,s),u.prototype.DWa=function(t,e){this.ta.error("Invalid configuration value.",{name:t},e),this.debug.assert(!1)},i=u,i=t.__decorate([t.__param(0,o.nl()),t.__param(1,o.nl())],i),e.Ze=i},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.ePb=e.platform=e.oj=e.Tb=e.cGb=e.EV=e.bH=e.V1a=e.pF=e.de=e.Jj=e.rF=void 0,(n=i(2)).__exportStar(i(168),e),n.__exportStar(i(348),e),n.__exportStar(i(715),e),n.__exportStar(i(716),e),n.__exportStar(i(717),e),r=i(99),Object.defineProperties(e,{rF:{enumerable:!0,get:function(){return r.rF}}}),n.__exportStar(i(728),e),n.__exportStar(i(352),e),n.__exportStar(i(215),e),n.__exportStar(i(22),e),o=i(353),Object.defineProperties(e,{Jj:{enumerable:!0,get:function(){return o.Jj}}}),a=i(54),Object.defineProperties(e,{de:{enumerable:!0,get:function(){return a.de}}}),s=i(217),Object.defineProperties(e,{pF:{enumerable:!0,get:function(){return s.pF}}}),n.__exportStar(i(356),e),e.V1a=function(t){return e.platform.bW(t),i(742).BFa},e.bH=function(t){return e.platform.bW(t),Promise.resolve().then((function(){return n.__importStar(i(251))})).then((function(t){return t.bH()}))},e.EV=function(t,r){return e.platform.bW(t),Promise.resolve().then((function(){return n.__importStar(i(415))})).then((function(t){return t.EV(r)}))},e.cGb=function(){return i(220)},t=n.__importDefault(i(28)),e.Tb=t.default,t=i(960),e.oj=t.oj,t=n.__importDefault(i(6)),e.platform=t.default,u=i(961),e.ePb=function(){return{dr:u.dr}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Qj="SchedulerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Vca="LogBatcherConfigSymbol",e.Um="LogBatcherSymbol",e.XEa="LogBatcherProviderSymbol"},function(t,e,i){var n,r,o,a,s,u,c,h;function f(){var t,i;return(t=e.l6.BOa)?t:(0<=(i=(t=u.H0.search.substr(1)).indexOf("#"))&&(t=t.substr(0,i)),t=l(t),e.l6.BOa=t)}function l(t){for(var e,i=/[+]/g,n=(t||"").split("&"),r={},o=0;o<n.length;o++)0<=(e=(t=a.trim(n[o])).indexOf("="))?r[decodeURIComponent(t.substr(0,e).replace(i,"%20")).toLowerCase()]=decodeURIComponent(t.substr(e+1).replace(i,"%20")):r[t.toLowerCase()]=null;return r}function d(t){return(t=/function (.{1,})\(/.exec(t.toString()))&&1<t.length?t[1]:""}function p(t){return d(t.constructor)}function b(t){return u.sort.call(t,(function(t,e){return t-e}))}function v(t){for(var e=0,i=t.length;i--;)e+=t[i];return e}Object.defineProperty(e,"__esModule",{value:!0}),e.YSb=e.dH=e.LXa=e.z7=e.VSb=e.q0a=e.pdb=e.qdb=e.yDb=e.At=e.xvb=e.LM=e.UCb=e.ZH=e.Ecb=e.iQ=e.Fcb=e.r_=e.Dcb=e.jKb=e.yG=e.ATb=e.tsa=e.$ma=e.getFunctionName=e.kO=e.zX=e.l6=e.UGb=e.D6a=e.OPa=e.SSa=e.uUb=e.Bt=e.ASa=void 0,n=i(12),r=i(21),o=i(8),a=i(24),s=i(30),u=i(11),c=i(19),h=i(63),e.ASa=function(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var i in t)if(t.hasOwnProperty(i)&&(!e.hasOwnProperty(i)||t[i]!==e[i]))return!1;return!0},e.Bt=e.Bt||function(t,e){if(t.length==e.length){for(var i=t.length;i--;)if(t[i]!=e[i])return!1;return!0}return!1},e.uUb=function(t){var e;if(t&&(e=t.length))return t[e=a.iua(0,e-1)]},e.SSa=function(t,e){if(t.length!=e.length)return!1;t.sort(),e.sort();for(var i=t.length;i--;)if(t[i]!==e[i])return!1;return!0},e.OPa=function(t,e,i){t.addEventListener(e,(function n(){t.removeEventListener(e,n),i.apply(this,arguments)}))},e.D6a=function(){var t,e,i,n,r,o;for(e=(t=u.Be.cookie.split("; ")).length,r={},i=0;i<e;i++)(n=a.trim(t[i]))&&0<(o=n.indexOf("="))&&(r[n.substr(0,o)]=n.substr(o+1));return r},e.UGb=f,e.l6=Object.assign(f,{BOa:void 0}),e.zX=l,e.kO=function(t){var e;return e="",a.te(t,(function(t,i){e&&(e+="&"),r.hb(s.Se(i)||c.Ba(i)||c.rpa(i)),e+=encodeURIComponent(t)+"="+encodeURIComponent(i)})),e},e.getFunctionName=d,e.$ma=p,e.tsa=function(t){var e;return e="",c.isArray(t)||c.Tpa(t)?e=u.reduce.call(t,(function(t,e){return t+(32<=e&&128>e?u.UKa(e):".")}),""):s.Se(t)?e=t:a.te(t,(function(t,i){e+=(e?", ":"")+"{"+t+": "+(c.gd(i)?d(i)||"function":i)+"}"})),"["+p(t)+" "+e+"]"},e.ATb=function(t,e){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},e.yG=e.yG||function(t){var e;return e="",a.te(t,(function(t,i){e+=(e?";":"")+t+":"+i})),e},e.jKb=function(t,e){var i;if(e<=(i=t[0])[0])return i.slice(1);for(var n,r=1;n=t[r++];){if(e<=n[0]){for(t=(e-i[0])/(n[0]-i[0]),e=[],r=1;r<i.length;r++)e.push((i[r]||0)+t*((n[r]||0)-(i[r]||0)));return e}i=n}return i.slice(1)},e.Dcb=function(t,e){for(var i,n={},r=0;r<e.length;r++){if("string"!=typeof(i=e[r])&&"number"!=typeof i)return!1;n[e[r]]=1}for(r=0;r<t.length;r++)if(!n[i=t[r]])return!1;return!0},e.r_=b,e.Fcb=v,e.iQ=function(t,e){var i,n,r,o;if(i=-1,n=t.length,1===arguments.length){for(;++i<n&&!(null!=(r=t[i])&&r<=r);)r=void 0;for(;++i<n;)null!=(o=t[i])&&o>r&&(r=o)}else{for(;++i<n&&!(null!=(r=e.call(t,t[i],i))&&r<=r);)r=void 0;for(;++i<n;)null!=(o=e.call(t,t[i],i))&&o>r&&(r=o)}return r},e.Ecb=function(t,e){var i,n,r,o;if(i=-1,n=t.length,1===arguments.length){for(;++i<n&&!(null!=(r=t[i])&&r<=r);)r=void 0;for(;++i<n;)null!=(o=t[i])&&r>o&&(r=o)}else{for(;++i<n&&!(null!=(r=e.call(t,t[i],i))&&r<=r);)r=void 0;for(;++i<n;)null!=(o=e.call(t,t[i],i))&&r>o&&(r=o)}return r},e.ZH=function(t){return c.gd(t.then)?t:new Promise((function(e,i){t.oncomplete=function(){e(t.result)},t.onerror=function(){i(t.error)}}))},e.UCb=function(t,e){var i,n,r,o,a,u;function h(t){0>i.indexOf(t)&&c.Ba(t)&&i.push(t)}if(b(t=t.slice()),i=[],!e||!e.length)return t;if(!t.length)return[];n=e.length;try{for(;n--;)switch(o=""+e[n],a=s.He(o),o[o.length-1]){case"-":for(r=t.length;r--;)if((u=t[r])<a){h(u);break}break;case"+":for(r=0;r<t.length;r++)if((u=t[r])>a){h(u);break}break;default:0<=t.indexOf(a)&&h(a)}}catch(t){}return i.length||i.push(t[0]),b(i),i},e.LM=e.LM||function(t,e,i){var n;return t/e>i?(n=u.bj(e*i),t=e):(n=t,t=u.bj(t/i)),{width:n,height:t}},e.xvb=function(t,e,i){for(var n=[],r=0;r<e;r++)n.push(u.B0(t[r]-i,2));return u.OFa(v(n)/n.length)},e.At=function(t,e){var i;return 1===(e=((i=t.length)-1)*e+1)?t[0]:e==i?t[i-1]:t[(i=u.Kx(e))-1]+(e-i)*(t[i]-t[i-1])},e.yDb=function(t,e){if(!c.isArray(t))throw Error("boxes is not an array");if(0>=t.length)throw Error("There are no boxes in boxes");e=c.isArray(e)?e:[e];for(var i=t.length,n=0;n<i;n++)for(var r=0;r<e.length;r++)if(t[n].type==e[r])return t[n];throw Error("Box not found "+e)},e.qdb=function(t){return t.eFb("trak/mdia/minf/stbl/stsd/"+n.Aza+"|"+n.Bza).children.filter((function(t){return"sinf"==t.type&&t.h$b.schm.acc==h.wx}))[0].eFb("schi/tenc").pj},e.pdb=function(t){var e;function i(t,i){var n;n=e[t],e[t]=e[i],e[i]=n}return e=new Uint8Array(t),i(0,3),i(1,2),i(4,5),i(6,7),e},e.q0a=function(){return c.gd(u.kf.requestMediaKeySystemAccess)},e.VSb=function(t){return function(e){return e&&e[t]}},c.gd(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(t,e){var i,n;return void 0===t&&(t=0),void 0===e&&(e=this.byteLength),t=Math.floor(t),e=Math.floor(e),0>t&&(t+=this.byteLength),0>e&&(e+=this.byteLength),t=Math.min(Math.max(0,t),this.byteLength),0>=(e=Math.min(Math.max(0,e),this.byteLength))-t?new ArrayBuffer(0):(i=new ArrayBuffer(e-t),n=new Uint8Array(i),t=new Uint8Array(this,t,e-t),n.set(t),i)}),e.z7=function(t){return t&&0==t.toLowerCase().indexOf("https")},e.LXa=function(){var t,e;return t=new ArrayBuffer(4),e=new Uint8Array(t),t=new Uint32Array(t),e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041==t[0]?"LE":2712847316==t[0]?"BE":"undefined"},e.dH=function(){var t,e,i;try{if(t=/playercore.*js/,(e=u.xv.getEntries("resource").filter((function(e){return null!==t.exec(e.name)})))&&0<e.length)return i=u.bj(e[0].duration),JSON.stringify(i)}catch(t){}},e.YSb=function(t,e,i){if(t&&t.length)if(i&&i.Jub)try{t.forEach((function(t,n){var r;(r=(n=i.Jub[n])&&n.media)&&s.Se(r)?(r=o.Ar(r).buffer,t.media={arrayBuffer:r,length:r.byteLength,stream:e,qc:n.cdn}):o.log.warn("chunk not in cache",t.Ri)}))}catch(t){o.log.error("error reading cached chunks",t)}else o.log.warn("chunks not available in cached stream",i.type);else o.log.warn("chunks not available in mediabuffer",i.type)}},function(t,e,i){var n,r,o,a,s;function u(){return n.cc.get(o.jd).Vz.da(s.ja)}Object.defineProperty(e,"__esModule",{value:!0}),e.evb=e.W3=e.pSa=e.cvb=e.dvb=e.V3=e.lj=void 0,n=i(196),r=i(38),o=i(18),a=i(81),s=i(4),e.lj=function(){return n.cc.get(o.jd).Yb().da(s.ja)},e.V3=function(){return n.cc.get(r.Uh).ff.da(s.io)},e.dvb=function(){return n.cc.get(o.jd).Vz.da(s.io)},e.cvb=function(){return n.cc.get(a.Gx).Wy()},e.pSa=u,e.W3=function(){return n.cc.get(r.Uh).ff.da(s.ja)},e.evb=function(){return u()}},function(t,e,i){var n;function r(){return n.$R.apply(this,arguments)||this}function o(t){return new n.Us(t,e.yE)}Object.defineProperty(e,"__esModule",{value:!0}),e.Gb=e.lGa=e.Qca=e.ov=e.yE=e.pOb=e.MLb=e.fa=e.Hy=e.Cdb=void 0,g(r,(n=i(314)).$R),e.Cdb=r,e.Hy=o,e.fa=function(t){return new n.Us(t,e.ov)},e.MLb=function(t){return new n.Us(t,e.Qca)},e.pOb=function(t){return new n.Us(t,e.lGa)},e.yE=new r(1,"b"),e.ov=new r(8*e.yE.wg,"B",e.yE),e.Qca=new r(1024*e.ov.wg,"KB",e.yE),e.lGa=new r(1024*e.Qca.wg,"MB",e.yE),e.Gb=o(0)},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Wm="PboCommandContextSymbol"},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.wea=e.de=void 0,n=i(2),r=i(735),(o=e.de||(e.de={}))[o.ap=0]="startPlayback",o[o.$p=1]="endPlayback",o[o.Zn=2]="underflow",t=function(){function t(t){this.config=t,this.OO=[]}return t.prototype.Ji=function(t){var e,i;(null!==(e=null==(i=n.__read(this.config.E4.filter((function(e){return e.mj===t.mj})),1)[0])?void 0:i.enabled)&&void 0!==e?e:t.enabled)?this.OO.push(t):t.Nb&&t.Nb()},t.prototype.Ho=function(t){var e,i,o,a,s;i={},o=[];try{for(var u=n.__values(this.OO),c=u.next();!c.done;c=u.next()){a=c.value;try{(s=a.Ho({Qi:t}))&&(a.ED?i[a.ED]=s:i=n.__assign(n.__assign({},i),s))}catch(t){o.push(t)}}}catch(t){var h;h={error:t}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(h)throw h.error}}return o.length&&(i["rpt-error"]=new r.Fya("Reporting error",o)),i},t}(),e.wea=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.$eb="Cannot apply @injectable decorator multiple times.",e.afb="Metadata key was used more than once in a parameter:",e.BR="NULL argument",e.vEa="Key Not Found",e.kcb="Ambiguous match found for serviceIdentifier:",e.Ddb="Could not unbind serviceIdentifier:",e.Xhb="No matching bindings found for serviceIdentifier:",e.uhb="Missing required @injectable annotation in:",e.vhb="Missing required @inject or @multiInject annotation in:",e.skb=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.Fdb="Circular dependency found:",e.s6b="Sorry, this feature is not fully implemented yet.",e.Ngb="Invalid binding type:",e.Zhb="No snapshot available to restore.",e.Rgb="Invalid return type in middleware. Middleware must return!",e.Qgb="Value provided to function binding must be a function!",e.Tgb="The toSelf function can only be applied when a constructor is used as service identifier",e.Ogb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.mcb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.Udb="Invalid Container constructor argument. Container options must be an object.",e.Sdb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.Rdb="Invalid Container option. Auto bind injectable must be a boolean",e.Tdb="Invalid Container option. Skip base check must be a boolean",e.Ihb="Cannot apply @postConstruct decorator multiple times in the same class",e.cjb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.Gdb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.Sjb="Maximum call stack size exceeded"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Qo=e.EZb=e.h4a=void 0,e.h4a=function(t,e){return t-e},e.EZb=function(t,e){return t.localeCompare(e)},e.Qo=function(t,e){var i;(i=Object.getOwnPropertyDescriptor(t,e))&&Object.defineProperty(t,e,{configurable:i.configurable,enumerable:!1,value:i.value,writable:i.writable})}},function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.tqa=e.Xh=void 0,(i=e.Xh||(e.Xh={}))[i.rp=0]="STANDARD",i[i.eo=1]="LIMITED",e.tqa=function(t){return["STANDARD","LIMITED"][t]}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.vIa=e.uIa=e.Xda=e.Yda=e.zB=e.$da=e.Zda=e.cea=e.bea=e.ho=e.dea=e.aea=void 0,n=i(12),r=i(21),e.aea=function t(i,r){var o;(o=e.ho[0])==r&&(o=e.ho[1]),o?o.close((function(){t(i,r)})):i&&i(n.Ye)},e.dea=function(t,i){switch(t){case e.Zda:return void e.bea.push(i);case e.$da:return void e.cea.push(i)}r.hb(!1)},e.ho=[],e.bea=[],e.cea=[],e.Zda=1,e.$da=3,e.zB={index:0,r3a:void 0,rma:void 0},e.Yda="network",e.Xda="media",e.uIa="timedtext",e.vIa="playback"},function(t,e,i){var n,r;n=i(130),r=i(178),t.exports=function(t){return function e(i,o){switch(arguments.length){case 0:return e;case 1:return r(i)?e:n((function(e){return t(i,e)}));default:return r(i)&&r(o)?e:r(i)?n((function(e){return t(e,o)})):r(o)?n((function(e){return t(i,e)})):t(i,o)}}}},function(e,i,n){var r,o;Object.defineProperty(i,"__esModule",{value:!0}),i.w6=i.Nr=i.x6=i.YC=i.El=i.ve=void 0,e=n(73),r=n(61),o=n(11),i.ve=new e.Gk,i.El=1,i.YC=2,i.x6=3,i.Nr=4,i.w6=5,r.Rf((function(){var e,n,r;function a(e,i){n?n.on(e,i):t.addEventListener(e,i)}e=t.jQuery,n=e&&e(t),e=(e=t.netflix)&&e.cadmium&&e.cadmium.addBeforeUnloadHandler,r=o.Be.hidden,e?e((function(t){i.ve.Fc(i.El,t)})):a("beforeunload",(function(t){i.ve.Fc(i.El,t)})),a("keydown",(function(t){i.ve.Fc(i.YC,t)})),a("resize",(function(){i.ve.Fc(i.x6)})),o.Be.addEventListener("visibilitychange",(function(){r!==o.Be.hidden&&(r=o.Be.hidden,i.ve.Fc(i.Nr))}))})),t.addEventListener("error",(function(t){return i.ve.Fc(i.w6,t),!0}))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Rf=void 0,e.Rf=function(t){return setTimeout(t,0)}},function(t,e){var i,n,r;function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.co=e.Ia=e.Rj=void 0,(r=i||(i={}))[r.rp=0]="STANDARD",r[r.eo=1]="LIMITED",r[r.g7b=2]="PREVIEW",function(t){t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(n||(n={})),function(t){t.ycb="asl_start",t.wcb="asl_comp",t.g3b="asl_exc",t.xcb="asl_fail",t.Ujb="stf_creat",t.igb="idb_open",t.fgb="idb_block",t.pgb="idb_upgr",t.ogb="idb_succ",t.ggb="idb_error",t.hgb="idb_invalid_state",t.kgb="idb_open_timeout",t.mgb="idb_open_wrkarnd",t.ngb="idb_storelen_exc",t.jgb="idb_open_exc",t.lgb="idb_timeout_invalid_storelen",t.Chb="msl_load_data",t.Ehb="msl_load_no_data",t.Dhb="msl_load_failed"}(t=e.Rj||(e.Rj={})),function(t){t.Eda="PlaybackRequestStart",t.Dda="PlaybackRequestEnd",t.a1="RequestPrefetchManifestStart",t.$0="RequestPrefetchManifestEnd",t.Z0="RequestManifestStart",t.Y0="RequestManifestEnd",t.X0="RequestLicenseStart",t.W0="RequestLicenseEnd",t.sQ="RequestTimedTextUrlStart",t.rQ="RequestTimedTextUrlEnd",t.qQ="RequestAudioUrlStart",t.pQ="RequestAudioUrlEnd",t.uQ="RequestVideoUrlStart",t.tQ="RequestVideoUrlEnd",t.eba="AppendBufferStart",t.dba="AppendBufferEnd",t.yea="SetMediaKeysStart",t.xea="SetMediaKeysEnd",t.f0="GenerateChallengeStart",t.e0="GenerateChallengeEnd",t.j_="ApplyLicenseStart",t.i_="ApplyLicenseEnd"}(e.Ia||(e.Ia={})),e.co=o,o.Rca=i,o.$Sa=function(t){return["STANDARD","LIMITED","PREVIEW"][t]},o.Rj=t,o.q0=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.d6=e.TJ=e.Cea=e.h1=e.eMa=e.fMa=e.Fda=e.b0=e.wx=void 0,e.wx="cenc",e.b0="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==",e.Fda="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=",e.fMa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=",e.eMa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==",e.h1="SW_SECURE_CRYPTO",e.Cea="SW_SECURE_DECODE",e.TJ="HW_SECURE_DECODE",e.d6=function(t){var i;return i=t.getConfiguration(),[e.TJ,e.Cea,e.h1].find((function(t){var e;return null===(e=i.videoCapabilities)||void 0===e?void 0:e.some((function(e){return e.robustness===t}))}))}},function(t,e){function i(t){var e;e=Error.call(this,"TimeoutError"),this.message=e.message,"stack"in e&&(this.stack=e.stack),this.interval=t}Object.defineProperty(e,"__esModule",{value:!0}),e.Rx=e.hr=void 0,g(i,Error),e.hr=i,e.Rx="PromiseTimerSymbol"},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),t=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===n.vB?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}(),e.Metadata=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Xs="PboConfigSymbol"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),(t=i(1)).__exportStar(i(736),e),t.__exportStar(i(169),e),t.__exportStar(i(737),e),t.__exportStar(i(738),e),t.__exportStar(i(739),e),t.__exportStar(i(740),e),t.__exportStar(i(358),e),t.__exportStar(i(741),e)},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fj={G1a:"logblob",oa:"manifest",Hg:"license",events:"events",bind:"bind",S4a:"pair",ping:"ping",config:"config"},e.BB={Djb:"reqAttempt",Ejb:"reqName",vdb:"browsername",Adb:"browserversion",kib:"osname",lib:"osversion",$db:"clienttype",rkb:"uiversion"}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sv="EmeConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Vs="MediaKeySystemAccessServicesSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.oF="TimingApiSymbol",e.xR="MilestoneTimingApiSymbol"},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),(t=i(2)).__exportStar(i(148),e),t.__exportStar(i(815),e),t.__exportStar(i(174),e)},function(t,e,i){var n,r;function o(){var t,e;t=this,this.et={},this.on=function(e,i,n){t.addListener(e,i,n)},this.addListener=function(e,i,n){t.et&&(t.et[e]=t.et[e]||new r.nea(!0)).add(i,n)},this.removeListener=function(e,i){t.et&&t.et[e]&&t.et[e].removeAll(i)},this.kna=function(e){return t.et&&t.et[e]?t.et[e].flatten():[]},e=this,this.Fc=function(t,i,r){var o;if(e.et)for(o=e.kna(t),t={wJ:0};t.wJ<o.length;(t={wJ:t.wJ}).wJ++)r?function(t){return function(){var e;e=o[t.wJ],n.Rf((function(){e(i)}))}}(t)():o[t.wJ].call(this,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Gk=void 0,n=i(61),r=i(333),o.prototype.Fh=function(){this.et=void 0},e.Gk=o},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m;function _(t){var e,i,n,r;return i=(e=t.url.split("?"))[0],n="sc="+t.NWb,r=t.CRa?"random="+(1e17*p.TE()).toFixed(0):"",i=e[1]?i+"?"+e[1]+"&"+n:i+"?"+n,i+=r?"&"+r:"",t.qc&&!s.z7(i)&&(t=o.config&&o.config.qja)&&(i=t.replace("{URL}",i).replace("{EURL}",encodeURIComponent(i))),i}function w(t){var e,i,n,r;return i=(e=t.url.split("?"))[0],n="bb_reason="+t.reason,r=t.CRa?"random="+(1e17*p.TE()).toFixed(0):"",i=e[1]?i+"?"+e[1]+"&"+n:i+"?"+n,i+=r?"&"+r:"",t.qc&&!s.z7(i)&&(t=o.config&&o.config.qja)&&(i=t.replace("{URL}",i).replace("{EURL}",encodeURIComponent(i))),i}function E(t,e){var i,n,r;n=(i=t.url.split("?"))[0],(r=k(t))&&(e.ls=r,(void 0===t.Js?o.config.Js:t.Js)?(t.headers=t.headers||{},t.headers.Range="bytes="+r):(e.ls=r,n="/"==n[n.length-1]?n+"range/":n+"/range/",n+=r)),r=t.CRa?"random="+(1e17*p.TE()).toFixed(0):"",o.config.jz&&t.Q$&&(r="sc="+t.Q$+(r?"&"+r:"")),n=i[1]?n+"?"+i[1]+(r?"&"+r:""):n+(r?"?"+r:""),t.qc&&!s.z7(n)&&(t=o.config&&o.config.qja)&&(n=t.replace("{URL}",n).replace("{EURL}",encodeURIComponent(n))),e.url=n}function k(t){var e;if(void 0!==(e=t.offset))return l.tU(e),void 0!==t.length?(t=t.offset+t.length-1,l.tU(t),e+"-"+t):e+"-"}function O(){return!1!==p.kf.onLine}function S(t,e,n,r){var o,a;switch(o=r.Fta,a=r.headers,t.open(o?"POST":"GET",e,!n),r.responseType){case i.YV:t.responseType="arraybuffer";break;case i.Poa:d.ORa(t,"overrideMimeType",void 0,"text/xml")}o&&(e={"Content-Type":c.Se(o)?"text/plain":"application/x-octet-stream"},a=a?c.Zb(e,a):e),a&&d.te(a,(function(e,i){t.setRequestHeader(e,i)})),r.withCredentials&&(t.withCredentials=!0),void 0!==t.msCaching&&(t.msCaching="disabled"),o?t.send(o):t.send()}function T(t,e){switch(e.type){case i.YV:return t.response||new ArrayBuffer(0);case i.Poa:return t.responseXML;default:return t.responseText}}Object.defineProperty(i,"__esModule",{value:!0}),i.YV=i.Poa=i.Ooa=i.Qoa=i.N6=i.a_a=i.$Za=i.L6=i.Dkb=i.Ekb=i.fJb=i.M6=i.cJb=i.dJb=i.bJb=i.eJb=i.hf=void 0,r=n(73),o=n(14),a=n(12),s=n(50),u=n(51),c=n(30),h=n(3),f=n(8),l=n(21),d=n(24),p=n(11),b=n(61),v=n(19),y=n(31),g={Xm:1,t8b:2,Ncb:3},i.hf=function(){var e,n,s,d;function p(){n.Fc(i.a_a),n.Fc(i.Qoa)}function k(){n.Fc(i.N6),n.Fc(i.Qoa)}return e=f.Oi("Http"),n=new r.Gk,s=0,d={ssl:0,"non-ssl":0,invalid:0},f.ka.get(y.fh).register(h.M.$Da,(function(e){o.config.O1b&&(t.addEventListener("online",p),t.addEventListener("offline",k),i.M6=O),e(a.Ye)})),{addEventListener:n.addListener,removeEventListener:n.removeListener,download:function(t,r){var a,p,y,g,_,w,k,O,A,P,j,I,x,M;function R(){var t;R=c.ql,j&&(clearTimeout(j),j=null),n.removeListener(i.N6,D),A&&(A.onloadstart=null,A.onreadystatechange=null,A.onprogress=null,A.onerror=null,A.onload=null,A=A.onabort=null),!O.$&&(O.na!=h.L.qB?a.warn("Download failed",p,h.Ts(O)):a.trace("Download aborted",p)),t=y,y=void 0;for(var e=t.length;e--;)!function(){var i;i=t[e],b.Rf((function(){i(O)}))}();n.Fc(i.$Za,O,!0)}function N(){j&&(clearTimeout(j),j=null),j=setTimeout(U,P?k:w)}function C(t,e,i,n){var r,o;O.$=!1,O.na=t,r=u.lj(),(o=O.zm).vi=o.vi||r,o.Zo=o.Zo||r,0<e&&(O.ik=O.pf=e),i&&(O.ub=i),n&&(O.XD=n),t!==h.L.cR&&t!==h.L.IE&&t!==h.L.fR||!A||(A.onabort=null,B()),R()}function L(t){var e,i;try{(i=t.getResponseHeader("X-Netflix.Retry.Server.Policy"))&&(e=JSON.parse(i))}catch(t){}return e}function D(){i.M6()||C(h.L.cR)}function U(){C(P?h.L.IE:h.L.fR)}function B(){try{A&&A.abort()}catch(t){}}function F(){C(h.L.qB)}return l.hb(r),a=t.j&&t.j.log&&f.Ih(t.j,"Http")||e,p={Num:s++},y=[r],g={},w=t.d4||o.config.d4,k=t.esa||o.config.esa,function(t){var e;try{e=t.url,v.Vpa(e)?0===e.indexOf("https")?d.ssl++:0===e.indexOf("http")?d["non-ssl"]++:d.invalid++:d.invalid++}catch(t){}}(t),I=c.ql,x=c.ql,M=c.ql,O={request:t,type:t.responseType,zm:g,abort:B,timeout:U,Eha:function(t){R!==c.ql&&(l.hb(y,"Callback should be added before download starts."),y&&y.unshift(t))},k9:function(t){M(t)},m9:function(t){I(t)},Mn:function(t){x(t)},MXb:function(t){M=t},SXb:function(t){I=t},DXb:function(t){x=t}},b.Rf((function(){var e,r;if(v.Vpa(t.url))try{E(t,O),_=O.url,l.lM(_),p.Url=_,i.M6()?(A=new XMLHttpRequest,(e=o.config.V1b&&void 0!==A.onloadstart)&&(A.onloadstart=function(){var e;e=u.lj(),g.Iq=e,O.k9({mediaRequest:t,timestamp:e})}),A.onreadystatechange=function(){if(2==A.readyState){P=!0,g.vi=u.lj(),A.onreadystatechange=null,N();for(var e,i,n=O,r=A.getAllResponseHeaders().split("\n"),o=r.length,a={};o--;)(e=r[o])&&(1<=(i=e.indexOf(": "))&&i<e.length-1&&(a[e.substr(0,i)]=e.substr(i+2)));n.headers=a,O.m9({timestamp:g.vi,connect:!0,mediaRequest:t,start:g.Iq,rt:[g.vi-g.Iq]})}},A.onprogress=function(e){P=!0,g.eka=e.loaded,N(),e={mediaRequest:t,bytes:e.loaded,timestamp:u.lj(),bytesLoaded:e.loaded},O.m9(e)},A.onload=function(){var t;R!==c.ql&&(l.hb(void 0===g.Zo),g.Zo=u.lj(),g.vi=g.vi||g.Zo,200<=A.status&&299>=A.status?(t=T(A,O),O.parsed=!1,O.content=t,O.$=!0):A.status==m?C(h.L.eR,A.status):C(h.L.dR,A.status,A.response,L(A)),R())},A.onabort=F,A.onerror=function(){var t,e;if(t=A.status,void 0!==o.config.zWa&&(t=o.config.zWa),0<t)if(t==m)C(h.L.eR,t);else{try{e=A.responseText}catch(t){}C(h.L.dR,t,e,L(A))}else C(h.L.gR)},r=u.lj(),S(A,_,!1,t),n.Fc(i.L6,O,!0),e||(g.Iq=r,O.k9({mediaRequest:t,timestamp:r})),N(),n.addListener(i.N6,D)):b.Rf(C.bind(void 0,h.L.cR))}catch(t){a.error("Exception starting download",t,p),C(h.L.Bca,void 0,c.wd(t))}else C(h.L.jDa)})),O},ec:d,lbc:function(t){var e;e=new XMLHttpRequest,t=w(t),e.open("HEAD",t),e.onreadystatechange=function(){e.readyState},e.send()},KYb:function(t){var e;e=new XMLHttpRequest,t=_(t),e.open("HEAD",t),e.onreadystatechange=function(){e.readyState},e.send()},PTb:function(t){var e,i,n;e=new XMLHttpRequest,i=t.url,n=t.MTb,e.open("HEAD",i),e.timeout=Math.max(2*n.QMb,o.config.Sta),e.onreadystatechange=function(){2==e.readyState&&n&&n.gO({url:i})},e.ontimeout=e.onerror=function(){n&&n.msa({url:i})},e.send()},Ajb:g}}(),i.eJb=_,i.bJb=w,i.dJb=E,i.cJb=k,i.M6=a.BJa,i.fJb=O,i.Ekb=S,i.Dkb=T,i.L6=1,i.$Za=2,i.a_a=3,i.N6=4,i.Qoa=5,i.Ooa=1,i.Poa=2,i.YV=3,m=420,t._cad_global.http=i.hf},function(t,e,i){var n,o,a,s,u;function c(t,e,i,n,r){this.context=t,this.errorCode=e,this.pWb=i,this.x2=r,this.name=n}Object.defineProperty(e,"__esModule",{value:!0}),e.Di=void 0,t=i(1),n=i(0),o=i(517),a=i(4),s=i(41),u=i(40),c.prototype.send=function(t,e,i,n,r,o){var a;return a=this,o=void 0===o?u.wv.MR:o,this.jFb(t,e,i,o,n,r).then((function(t){return a.context.tAb.send(t.context,t.request)}))},c.prototype.jFb=function(t,e,i,n,r,o){var a,s;try{return a=this.context.QVb.create(this.context.Gz.Wy(),e,i,r,n),s=this.itb(t,n,o),Promise.resolve({context:s,request:a})}catch(t){return Promise.reject(t)}},c.prototype.itb=function(t,e,i){return{hf:this.context.hf,log:t,zl:this.name,url:this.context.G1b(o.BRa(this.context.Ch,this.context.Yg,this.name,e)),jva:this.pWb,timeout:a.vh(59),headers:o.ARa(this.context.Yg,this.context.FG),Vua:this.Vua,Nsb:i}},c.prototype.Bn=function(t){return t instanceof s.qd?t:o.Bn(this.errorCode,t)},r.Object.defineProperties(c.prototype,{Vua:{configurable:!0,enumerable:!0,get:function(){return this.x2}}}),i=c,i=t.__decorate([n.R(),t.__param(0,n.nl()),t.__param(1,n.nl()),t.__param(2,n.nl()),t.__param(3,n.nl()),t.__param(4,n.nl())],i),e.Di=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Ps={Request:"Request",Gea:"Singleton",q1:"Transient"},e.Kj={AAa:"ConstantValue",BAa:"Constructor",LBa:"DynamicValue",pca:"Factory",Function:"Function",Instance:"Instance",chb:"Invalid",yJa:"Provider"},e.Vx={tAa:"ClassProperty",CAa:"ConstructorArgument",Xea:"Variable"}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.tx="Base16EncoderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Bv="Utf8EncoderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OKa="StorageValidatorSymbol",e.jB="AppStorageFactorySymbol"},function(t,e,i){var n,o,a;function s(t,e){this.Jv=e?[e]:[],this.fga="$op$"+a++,this.G=t}Object.defineProperty(e,"__esModule",{value:!0}),e.dc=void 0,n=i(12),o=i(21),a=0,s.prototype.addListener=function(t,e){var i;i=this,o.Fka(t),o.hb(0>this.Jv.indexOf(t)),t[n.O0+this.fga]=e,this.Jv=this.Jv.slice(),this.Jv.push(t),this.Jv.sort((function(t,e){return i.XYb(t,e)}))},s.prototype.removeListener=function(t){var e;o.Fka(t),this.Jv=this.Jv.slice(),0<=(e=this.Jv.indexOf(t))&&this.Jv.splice(e,1)},s.prototype.set=function(t,e){if(this.G!==t){e={oldValue:this.G,newValue:t,om:e},this.G=t;for(var i=(t=this.Jv).length,n=0;n<i;n++)t[n](e)}},s.prototype.when=function(t){var e;return e=this,new Promise((function(i){if(t(e.G))return i(e.G);e.addListener((function n(r){if(t(r.newValue))return e.removeListener(n),i(r.newValue)}))}))},s.prototype.XYb=function(t,e){return(t[n.O0+this.fga]||0)-(e[n.O0+this.fga]||0)},r.Object.defineProperties(s.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G}}}),e.dc=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Gx="IdProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.mp={start:"start",stop:"stop",pW:"keepAlive",AM:"engage",splice:"splice"},e.mca="EventPboCommandFactorySymbol",e.JKa="StartEventPboCommandSymbol",e.NKa="StopEventPboCommandSymbol",e.xEa="KeepAliveEventPboCommandSymbol",e.EKa="SpliceEventPboCommandSymbol",e.jCa="EngageEventPboCommandSymbol"},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.kv=void 0,t=function(){function t(t){this.af=t}return t.prototype.$va=function(t){this.af=t},t.prototype.jSa=function(){this.af=void 0},t.prototype.jV=function(t){return this.af&&this.af.p9&&this.af.p9(t)},t.prototype.NM=function(t){this.af&&this.af.qA&&this.af.qA(t)},t.prototype.MC=function(t){this.af&&this.af.XH&&this.af.XH(t)},t.prototype.TG=function(t){this.af&&this.af.YH&&this.af.YH(t)},t.prototype.BWa=function(t){this.af&&this.af.Qsa&&this.af.Qsa(t)},t.prototype.Ut=function(t){this.af&&this.af.tk&&this.af.tk(t)},t.prototype.y5=function(t){this.af&&this.af.uX&&this.af.uX(t)},t.prototype.MM=function(t,e,i){this.af&&this.af.tX&&this.af.tX(t,e,i)},t}(),e.kv=t,t.prototype.p9=t.prototype.jV,t.prototype.qA=t.prototype.NM,t.prototype.XH=t.prototype.MC,t.prototype.YH=t.prototype.TG,t.prototype.tk=t.prototype.Ut,t.prototype.uX=t.prototype.y5,t.prototype.tX=t.prototype.MM,t.prototype.Qsa=t.prototype.BWa},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(145),e.ko=function(t){return n.assert("number"==typeof t),String.fromCharCode(t>>>24&255)+String.fromCharCode(t>>>16&255)+String.fromCharCode(t>>>8&255)+String.fromCharCode(255&t)},e.pS=function(t){return t.charCodeAt(3)+(t.charCodeAt(2)<<8)+(t.charCodeAt(1)<<16)+(t.charCodeAt(0)<<24)},e.ylb=function(t,e){return Math.floor(1e3*t/e)}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(e){return t.prototype.parse.call(this,e),this.ic=this.Wi([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{ZIb:"int32"},{n2b:"int32"},{offset:32,type:"offset"},{ODb:"int16"},{vvb:{type:"int8",gia:32}},{depth:"int16"},{offset:16,type:"offset"}]),!0},e.Na=!0,e}(i(225).default),e.default=t,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc1",e}(t),e.lba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc2",e}(t),e.mba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc3",e}(t),e.nba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc4",e}(t),e.oba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="hvc1",e}(t),e.Cca=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="hev1",e}(t),e.wca=i,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="av01",e}(t),e.Ccb=t},function(t){t.exports=function(t,e){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Hx=e.ResponseType=void 0,e.ResponseType={Text:1,u8b:2,ddb:3},e.Hx="LegacyHttpSymbol"},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(150),e.ko=function(t){return n.assert("number"==typeof t),String.fromCharCode(t>>>24&255)+String.fromCharCode(t>>>16&255)+String.fromCharCode(t>>>8&255)+String.fromCharCode(255&t)},e.pS=function(t){return t.charCodeAt(3)+(t.charCodeAt(2)<<8)+(t.charCodeAt(1)<<16)+(t.charCodeAt(0)<<24)},e.ylb=function(t,e){return Math.floor(1e3*t/e)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Ix="LogMessageFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Ei={audio:"audio",video:"video",laa:"timedtext",vxa:"trickplay"}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.zx="DeviceFactorySymbol"},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.cj=e.iib=e.op=void 0,n=i(19),e.op=e.op||function(t,e,i){return t>=e?t<=i?t:i:e},e.iib=function(t,e,i,n,r){return(t-e)*(r-n)/(i-e)+n},e.cj=function(t){if(n.Ba(t))return(t/1e3).toFixed(3)}},function(t,e,i){var n,r;function o(t,e,i,r,o){var a,s,u;if(a={},s="number"==typeof o,o=void 0!==o&&s?o.toString():i,s&&void 0!==i)throw Error(n.Ogb);if(Reflect.zoa(t,e)&&(a=Reflect.getMetadata(t,e)),i=a[o],Array.isArray(i)){s=0;for(var c=i;s<c.length;s++)if((u=c[s]).key===r.key)throw Error(n.afb+" "+u.key.toString())}else i=[];i.push(r),a[o]=i,Reflect.B4(t,a,e)}function a(t,e){return function(i,n){e(i,n,t)}}Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),r=i(43),e.ZI=function(t,e,i,n){o(r.YKa,t,e,n,i)},e.mZ=function(t,e,i){o(r.ZKa,t.constructor,e,i)},e.Fr=function(t,e,i){"number"==typeof i?(t=[a(i,t)],Reflect.Fr(t,e)):"string"==typeof i?Reflect.Fr([t],e,i):Reflect.Fr([t],e)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.nEa="Injector",e.tB=145152e5,e.OR="ProfileSymbol"},function(t,e,i){var n,r;function o(t,e,i,o,a){return t=void 0===t?n.M.Vl:t,r.qd.call(this,t,e,i,void 0,void 0,o,r.qd.wd(a),a)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.Ng=void 0,n=i(3),g(o,(r=i(41)).qd),e.Ng=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.cBa="DebugConfigSymbol",e.pv="DebugSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.nca="EventSourceSymbol",e.qca="GlobalEventSourceSymbol",e.U_="DebugEventSourceSymbol",e.oBa="DiagnosticsEventSourceSymbol"},function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.jQ=e.Hcb=e.tba=e.uba=void 0,(i=e.uba||(e.uba={}))[i.NUa=0]="downloading",i[i.QAb=1]="downloaded",i[i.ef=2]="appended",i[i.buffered=3]="buffered",i[i.MO=4]="removed",i[i.Scc=5]="unused",function(t){t[t.waiting=1]="waiting",t[t.tbc=2]="ondeck",t[t.NUa=4]="downloading",t[t.QAb=8]="downloaded",t[t.fW=6]="inprogress"}(e.tba||(e.tba={})),e.Hcb="AseBufferViewSymbol",e.jQ="AseBufferAccountingSymbol"},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),(t=i(2)).__exportStar(i(718),e),t.__exportStar(i(719),e),t.__exportStar(i(720),e),t.__exportStar(i(721),e),t.__exportStar(i(722),e),t.__exportStar(i(723),e),t.__exportStar(i(724),e),t.__exportStar(i(725),e),t.__exportStar(i(350),e),t.__exportStar(i(351),e),t.__exportStar(i(726),e),t.__exportStar(i(727),e)},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.YE="6674654e-696c-5078-6966-665374726d21",e.ZE="6674654e-696c-4878-6165-6465722e7632",e.zR="6674654e-696c-5078-6966-66496e646578",e.Nx="6674654e-696c-4d78-6f6f-6653697a6573",e.Mx="6674654e-696c-5378-6565-6b506f696e74",e.ER="cedb7489-e77b-514c-84f9-7148f9882554",e.DR="524f39a2-9b5a-144f-a244-6c427c648df4",e.XE="6674654e-696c-4678-7261-6d6552617465"},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.Rm=void 0,n=i(2),r=i(5),o=n.__importDefault(i(28)),a=n.__importDefault(i(124)),s=i(377),u=i(22),t=i(42),c=i(173),h=i(232),i=i(102),f=function(t){function e(i,n){var r;return r=t.call(this,i,n)||this,e.xb(r,i,n),r}return n.__extends(e,t),e.xb=function(t,e,i,n){var r;c.mv.xb(t,e,i),t.Me=i.index,t.JK=i.Wa,t.Ev=i.ob,t.Wpb=i.sb?i.sb:e.sb,t.FI=i.FI,t.Dna=n,t.JNa=!!i.uq,t.FOa=null!==(r=i.region)&&void 0!==r?r:0,t.gNa=!!i.sma,t.INa=!!i.zw,t.Ld=void 0===i.z5||void 0===i.Dma||i.z5===i.Wa&&i.Dma===i.ob?t:new h.lB(t,{Wa:i.z5,ob:i.Dma}),t.snb=i.Sra,t.Pkb=i.di,t.Fmb=e.CIb,t.Ap=i.wa?t.Q3a(i.wa):void 0,t.bPa=i.av,t.ef=!1},e.xTa=function(t){for(var e,i,n=new Uint32Array(t.length),r=new Uint32Array(t.length),o=new Uint8Array(t.length),a=new Uint8Array(t.length),u=0,c=0;c<t.length;++c)i=(e=t[c]).Qc,n[c]=e.Ev-e.JK,r[c]=i,o[c]=e.stream.Lf,void 0!==e.sb&&null!==e.sb&&(a[c]=e.sb),u+=i;return new s.Fea(n,r,o,a,t.length?t[0].S:1e3,u)},Object.defineProperties(e.prototype,{kD:{get:function(){return!0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{index:{get:function(){return this.Me},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{sb:{get:function(){return this.Wpb},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gRa:{get:function(){return 8*this.fa/this.duration},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Wa:{get:function(){return this.JK},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ob:{get:function(){return this.Ev},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zj:{get:function(){var t,e;return null!==(e=null===(t=this.Dna)||void 0===t?void 0:t.call(this))&&void 0!==e?e:0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{uq:{get:function(){return this.JNa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{region:{get:function(){return this.FOa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{sma:{get:function(){return this.gNa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zw:{get:function(){return this.INa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Sra:{get:function(){return this.snb},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{di:{get:function(){return this.Pkb},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wa:{get:function(){return this.Ap},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{av:{get:function(){return this.bPa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{z5:{get:function(){return this.Ld.Wa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Dma:{get:function(){return this.Ld.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{NDb:{get:function(){return this.Ld.Lt},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{OM:{get:function(){return this.Ld.zd},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{B5:{get:function(){return this.Ld.me},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{A5:{get:function(){return this.Ld.duration},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Ema:{get:function(){return this.Ld.fd},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{MDb:{get:function(){return this.Ld.Lc},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{NC:{get:function(){var t;return t=this.NDb,r.assert(t),t/this.stream.sa.vc},enumerable:!1,configurable:!0}}),e.prototype.j2a=function(){this.JNa=!0},e.prototype.WXb=function(t){this.FI={ae:t.vXa(),x7:t.bv}},e.prototype.nP=function(t){this.bPa=t},e.prototype.UXb=function(t,e,i){this.FOa=t,this.gNa=e,this.INa=i},e.prototype.Bk=function(t){var e,i;void 0===t&&(t={}),e=this.stream.sa.vc,i=this.Ap||{start:0,end:this.NC},t=this.Q3a(t),this.Ld&&this.Ld!==this||(this.Ld=new h.lB(this,this)),t.start>i.start&&(this.JK=this.Ld.Wa+t.start*e),t.end<i.end&&(this.Ev=this.Ld.Wa+t.end*e),this.Ap=t},e.prototype.qla=function(t){void 0===t&&(t=1),this.Ap?this.Bk({start:this.Ap.start+t,end:this.Ap.end}):this.Bk({start:t})},e.prototype.rla=function(t){this.Ap?this.Bk({start:this.Ap.start,end:(this.Ap.end||0)-t}):this.Bk({start:0,end:-t})},e.prototype.pla=function(){this.Bk({start:0,end:0})},e.prototype.XXb=function(t){this.Ap||this.Bk(),this.Ap.nwa=t},e.prototype.jWa=function(t){var e;if(!(t<this.Z||t>=this.Ha)&&this.di&&this.di.length){t=new u.T(t+1-this.Z,1e3).qm(this.stream.sa);for(var i=this.di.length-1;0<=i;--i)if((e=this.di[i]).il<=t)return e;return{il:0,Ed:this.Ema}}},e.prototype.mDb=function(t){var e;if(!(t<this.Z||t>=this.Ha)&&this.di&&this.di.length){t=new u.T(t+1-this.Z,1e3).qm(this.stream.sa);for(var i=this.di.length-1;0<=i;--i)if((e=this.di[i]).il<=t)return e;return{il:0,Ed:this.Ema}}},e.prototype.dWa=function(t,e){var i,n,r;if(!(t<this.Z||t>=this.Ha))return!e&&this.Fmb?{il:0,Ed:this.Z}:(i=this.sa.vc,n=this.sa.S,r=Math.floor(this.Lt/i),t=Math.min((e?Math.ceil:Math.floor)((u.T.Tra(t,n)-this.Wa+(e?-1:1)*(n/1e3-1))/i),r),i=u.T.vZ(this.Wa+t*i,n),t===r?void 0:{il:t,Ed:i})},e.prototype.jma=function(t){return this.mediaType===o.default.Ta.Mb?this.jWa(t):this.dWa(t,!1)},e.prototype.ima=function(t){return this.mediaType===o.default.Ta.Mb?this.mDb(t):this.dWa(t,!0)},e.prototype.f3=function(t){this.Qc+=t.fa,this.Ev=t.ob,this.Ap&&(this.Ld=new h.lB(this,{Wa:this.z5,ob:this.Ev}),this.Ap.end=this.NC)},e.prototype.toString=function(){return"["+this.Oa+", "+this.bitrate+"kbit/s, c:"+this.fd+"-"+this.Lc+",p:"+this.zd+"-"+this.me+",d:"+this.duration+"]"},e.prototype.toJSON=function(){var t;return t=c.mv.prototype.toJSON.call(this),a.default({index:this.index,startPts:this.Z,endPts:this.Ha,"contentStartTicks:":this.Wa,contentEndTicks:this.ob,contentStartPts:this.fd,contentEndPts:this.Lc,fragmentStartPts:this.OM!==this.Z?this.OM:void 0,fragmentEndPts:this.B5!==this.Ha?this.B5:void 0,edit:this.wa},t),t},e.prototype.iWa=function(t){var e;if(this.di)for(var i=0;i<this.di.length;++i)this.di[i].il===t&&(e=this.di[i].offset);return e},e.prototype.Q3a=function(t){var e;return{start:e=t.start||0,end:void 0===t.end?this.NC:Math.min(this.NC,Math.max(e,0>t.end?this.NC+t.end:t.end)),nwa:t.nwa,MYb:t.MYb}},e}(c.mv),e.Rm=f,t.xf(i.rx,f),t.xf(i.kB,f)},function(t,e,i){var n;function r(t,e){return void 0===t?void 0:0===t?n.T.Gb:new n.T(t,e)}function o(t,e){return t&&Math.floor(n.T.vZ(t,e))}function a(t,e){return void 0===t||void 0===e?void 0:t+e}function s(t,e){return void 0===t||void 0===e?void 0:t-e}Object.defineProperties(e,{__esModule:{value:!0}}),e.kB=e.rx=void 0,n=i(22),t=function(){function t(){}return Object.defineProperties(t.prototype,{Lt:{get:function(){return s(this.ob,this.Wa)||0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{LSb:{get:function(){return a(this.Wa,this.zj)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ISb:{get:function(){return a(this.ob,this.zj)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{LU:{get:function(){return r(this.Lt,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Vc:{get:function(){return r(this.Wa,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Pd:{get:function(){return r(this.ob,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{xj:{get:function(){return r(this.LSb,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{xe:{get:function(){return r(this.ISb,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{bua:{get:function(){return r(this.zj,this.S)},enumerable:!1,configurable:!0}}),t}(),e.rx=t,t=function(){function t(){}return Object.defineProperties(t.prototype,{duration:{get:function(){return s(this.Ha,this.Z)||0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Z:{get:function(){return o(a(this.Wa,this.zj),this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ha:{get:function(){return o(a(this.ob,this.zj),this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ou:{get:function(){return o(this.zj,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ek:{get:function(){return o(this.Wa,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{fd:{get:function(){return o(this.Wa,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Lc:{get:function(){return o(this.ob,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{zd:{get:function(){return o(a(this.Wa,this.zj),this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{me:{get:function(){return o(a(this.ob,this.zj),this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Hr:{get:function(){return this.duration},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{AA:{get:function(){return this.Z},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Vw:{get:function(){return this.Ha},enumerable:!1,configurable:!0}}),t}(),e.kB=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Pda=e.Vm=void 0,(t=e.Vm||(e.Vm={})).eF="PRE_FETCH",t.ujb="QC",t.rp="STANDARD",t.g1="SUPPLEMENTAL",t.l4b="DOWNLOAD",e.Pda="PboManifestCommandSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.YE="6674654e-696c-5078-6966-665374726d21",e.ZE="6674654e-696c-4878-6165-6465722e7632",e.zR="6674654e-696c-5078-6966-66496e646578",e.Nx="6674654e-696c-4d78-6f6f-6653697a6573",e.Mx="6674654e-696c-5378-6565-6b506f696e74",e.ER="cedb7489-e77b-514c-84f9-7148f9882554",e.DR="524f39a2-9b5a-144f-a244-6c427c648df4",e.XE="6674654e-696c-4678-7261-6d6552617465"},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(e){return t.prototype.parse.call(this,e),this.ic=this.Wi([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{ZIb:"int32"},{n2b:"int32"},{offset:32,type:"offset"},{ODb:"int16"},{vvb:{type:"int8",gia:32}},{depth:"int16"},{offset:16,type:"offset"}]),!0},e.Na=!0,e}(i(265).default),e.default=t,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc1",e}(t),e.lba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc2",e}(t),e.mba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc3",e}(t),e.nba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="avc4",e}(t),e.oba=i,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="hvc1",e}(t),e.Cca=i,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="hev1",e}(t),e.wca=t},function(t,e){var i;function n(t,e){var n;n=this,this.Vfa=[],i.forEach((function(i){(i=i(t,e))&&n.Vfa.push(i)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.UE=e.kGa=void 0,i=[],n.prototype.Yu=function(t){for(var e,i=[],n=this.Vfa.length;n--;)(e=this.Vfa[n]).Yu(t)&&i.push(e.IM);if(i.length)return i},e.kGa=n,e.UE=function(t){i.push(t)}},function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),i=0,e.id=function(){return i++}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fF="PlatformConfigDefaultsSymbol"},function(t,e,i){var n,r,o;function a(){}Object.defineProperty(e,"__esModule",{value:!0}),e.KJ=e.Hb=void 0,n=i(137),r=i(41),o=i(3),a.ina=function(t){if(t){if(t.includes(e.KJ.RD))return n.bo.RD;if(t.includes("fps"))return n.bo.PG;if(t.includes(e.KJ.Xaa))return n.bo.Xaa}throw new r.qd(o.M.qfb,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+t)},a.BXa=function(t){switch(t){case n.bo.RD:return e.KJ.RD;case n.bo.PG:return e.KJ.PG;default:return e.KJ.Xaa}},e.Hb=a,a.Qx="com.microsoft.playready",a.Ud="com.microsoft.playready.hardware",a.gF="com.microsoft.playready.software",a.Ifb="com.apple.fps.2_0",a.hMa="com.widevine.alpha",a.njb="com.microsoft.playready.recommendation.3000",a.rIa="com.microsoft.playready.recommendation.2000",e.KJ={PG:"fairplay",Xaa:"widevine",RD:"playready"}},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Gd=void 0,n=i(26),r.DTa=function(t){var e;return(e={})[n.se.RR]=r.KQ,e[n.se.g0]=r.KQ,e[n.se.pK]=r.NQ,e[n.se.Ex]=r.Ex,e[n.se.Qs]=t||r.Qs,e[n.se.iB]=r.KQ,e[n.se.Xx]=r.aS,e[n.se.Hj]=r.Hj,e},e.Gd=r,r.Ira='video/mp4; codecs="avc1.4d0028"',r.KQ="avc1.4d0028",r.NQ="hev1.1.6.L93.B0",r.I_="dvhe.05.01",r.Wba="dvhe.05.04",r.Xba="dvhe.05.05",r.Yba="dvhe.05.06",r.Zba="dvhe.05.07",r.$ba="dvhe.05.09",r.Qs=r.I_,r.Ex=r.NQ,r.g_="mp4a.40.2",r.tF="mp4a.40.42",r.deb="ec-3",r.aS="vp09.00.11.08.02",r.Hj="av01.0.04M.08",r.Xdb=[r.$ba,r.Zba,r.Yba,r.Xba,r.Wba,r.I_]},function(t,e,i){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.FB=void 0,t=i(1),i=i(0),n.prototype.format=function(t,e){for(var i,n=1;n<arguments.length;++n);return i=Array.prototype.slice.call(arguments,1),t.replace(/{(\d+)}/g,(function(t,e){return void 0!==i[e]?i[e]:t}))},n.prototype.g$a=function(t){for(var e=t.length,i=new Uint16Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);return i.buffer},n.prototype.j$a=function(t){return JSON.stringify(t,null,"  ")},i=t.__decorate([i.R()],n),e.FB=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.nK="ThrottleFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ZJ="LoggerSinksSymbol"},function(t){var e,i,n,r;function o(){o.xb.call(this)}function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function s(t,e,i,n){var r,s;return a(i),void 0===(r=t.Zh)?(r=t.Zh=Object.create(null),t.AF=0):(void 0!==r.ibc&&(t.emit("newListener",e,i.listener?i.listener:i),r=t.Zh),s=r[e]),void 0===s?(r[e]=i,++t.AF):("function"==typeof s?s=r[e]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),0<(i=void 0===t.QS?o.xzb:t.QS)&&s.length>i&&!s.H2b&&(s.H2b=!0,(i=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",i.Mt=t,i.type=e,i.count=s.length,console&&console.warn&&console.warn(i))),t}function u(){if(!this.nWa)return this.target.removeListener(this.type,this.Ybb),this.nWa=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,i){return t={nWa:!1,Ybb:void 0,target:t,type:e,listener:i},(e=u.bind(t)).listener=i,t.Ybb=e}function h(t){var e;if(void 0!==(e=this.Zh)){if("function"==typeof(t=e[t]))return 1;if(void 0!==t)return t.length}return 0}function f(t,e,i,n){if("function"==typeof t.on)n.once?t.once(e,i):t.on(e,i);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(o){n.once&&t.removeEventListener(e,r),i(o)}))}}e="object"==typeof Reflect?Reflect:null,i=e&&"function"==typeof e.apply?e.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)},n=Number.isNaN||function(t){return t!=t},t.exports=o,t.exports.once=function(t,e){return new Promise((function(i,n){function r(i){t.removeListener(e,o),n(i)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",r),i([].slice.call(arguments))}f(t,e,o,{once:!0}),"error"!==e&&function(t,e,i){"function"==typeof t.on&&f(t,"error",e,i)}(t,r,{once:!0})}))},o.EventEmitter=o,o.prototype.Zh=void 0,o.prototype.AF=0,o.prototype.QS=void 0,r=10,Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(t){if("number"!=typeof t||0>t||n(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");r=t}}),o.xb=function(){void 0!==this.Zh&&this.Zh!==Object.getPrototypeOf(this).Zh||(this.Zh=Object.create(null),this.AF=0),this.QS=this.QS||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||0>t||n(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.QS=t,this},o.prototype.emit=function(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r.push(arguments[o]);if(e="error"===t,void 0!==(o=this.Zh))e=e&&void 0===o.error;else if(!e)return!1;if(e){if(0<r.length&&(n=r[0]),n instanceof Error)throw n;throw(r=Error("Unhandled error."+(n?" ("+n.message+")":""))).context=n,r}if(void 0===(o=o[t]))return!1;if("function"==typeof o)i(o,this,r);else{n=o.length,e=Array(n);for(var a=0;a<n;++a)e[a]=o[a];for(o=0;o<n;++o)i(e[o],this,r)}return!0},o.prototype.addListener=function(t,e){return s(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.OX=function(t,e){return s(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.b6a=function(t,e){return a(e),this.OX(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var i,n,r,o,s;if(a(e),void 0===(n=this.Zh))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this.AF?this.Zh=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;0<=i;i--)if(r[i]===e||r[i].listener===e){s=r[i].listener,o=i;break}if(0>o)return this;if(0===o)r.shift();else{for(;o+1<r.length;o++)r[o]=r[o+1];r.pop()}1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.HD=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,i,n;if(void 0===(e=this.Zh))return this;if(void 0===e.removeListener)return 0===arguments.length?(this.Zh=Object.create(null),this.AF=0):void 0!==e[t]&&(0==--this.AF?this.Zh=Object.create(null):delete e[t]),this;if(0===arguments.length){for(i=Object.keys(e),e=0;e<i.length;++e)"removeListener"!==(n=i[e])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this.Zh=Object.create(null),this.AF=0,this}if("function"==typeof(i=e[t]))this.removeListener(t,i);else if(void 0!==i)for(e=i.length-1;0<=e;e--)this.removeListener(t,i[e]);return this},o.prototype.listeners=function(t){var e;if(void 0===(e=this.Zh))t=[];else if(void 0===(t=e[t]))t=[];else if("function"==typeof t)t=[t.listener||t];else{e=Array(t.length);for(var i=0;i<e.length;++i)e[i]=t[i].listener||t[i];t=e}return t},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},o.prototype.listenerCount=h},function(t,e,i){var n;function r(t,e){if(t.length==e.length&&1<t.length){for(var i=t.length,n=0,r=u(t),o=u(e),a=0;a<i;a++)n+=t[a]*e[a];return(n-r*o/i)/i}return!1}function o(t){return!(!Array.isArray(t)||2>t.length)&&(t=a(t),Math.sqrt(t))}function a(t){var e;return!(!Array.isArray(t)||2>t.length)&&(e=s(t),u(t.map((function(t){return(t-e)*(t-e)})))/(t.length-1))}function s(t){return!(!Array.isArray(t)||!t.length)&&u(t)/t.length}function u(t){return!!Array.isArray(t)&&t.reduce((function(t,e){return t+e}),0)}function c(t,e,i){return Math.max(Math.min(t,i),e)}function h(t,e){return"number"==typeof t?t:e}function f(t){return 1/(1+Math.exp(-t))}n=i(10),t.exports={Va:function(t,e,i){try{t.emit(e,i)}catch(e){t.Kk("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",e,"Event:",i)}},AC:function(){var t,e,i;return e=(t=Array.prototype.concat.apply([],arguments)).reduce((function(t,e){return t+e.byteLength}),0),i=new Uint8Array(e),t.reduce((function(t,e){return i.set(new Uint8Array(e),t),t+e.byteLength}),0),i.buffer},T3:c,Pub:function(t,e,i,n){return{min:c(h(t.min,e),i,n),max:c(h(t.max,e),i,n),Py:c(t.Py||6e4,0,6e5),SRa:c(t.SRa||0,-3e5,3e5),scale:c(t.scale||6e4,0,3e5),h8a:c(t.h8a||0,-3e5,3e5),gamma:c(t.gamma||1,.1,10)}},te:function(t,e){void 0!==t&&n.GRb(t).forEach((function(t){e(t[0],t[1])}))},HVa:function(t,e,i){return t.min+(t.max-t.min)*(1-Math.pow(f(6*(e-(t.Py+(t.SRa||0)*(1-i)))/(t.scale+(t.h8a||0)*(1-i))),t.gamma))},jCb:function(t,e){return t.min+(t.max-t.min)*Math.pow(f(6*(e-t.Py)/t.scale),t.gamma)},C$b:u,yEb:s,MHb:a,A$b:o,u$b:r,t$b:function(t,e){var i;return t.length==e.length&&(i=r(t,e),t=o(t),e=o(e),0<t&&0<e)&&i/(t*e)},wq:function(t,e,i){return e.zTa?e.zTa(i):new t.Console("ASEJS","media|asejs",e.prefix?e.prefix+" "+i:i)},VWb:function(t){return t.length?"{"+t+"} ":""},IWb:function(t,e,i){return{min:t.min*i+(1-i)*e.min,max:t.max*i+(1-i)*e.max,Py:t.Py*i+(1-i)*e.Py,scale:t.scale*i+(1-i)*e.scale,gamma:t.gamma*i+(1-i)*e.gamma}},tanh:Math.tanh||function(t){var e;return e=Math.exp(+t),t=Math.exp(-t),1/0==e?1:1/0==t?-1:(e-t)/(e+t)},mwa:f,vq:function(t){var e;return e=t.Pa.gb.O.id,{Z:t.Z,duration:t.duration,offset:t.offset,fa:t.fa,bitrate:t.bitrate,profile:t.profile,ad:t.ad,xa:e,Oa:t.Oa,Md:t.Md,location:t.location,mi:t.mi,ek:t.ek,Rw:{gb:{O:{id:e}}}}}}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),t=i(223),n=i(146),e.bfb=n,n=i(370),e.YR=n,n=i(374),e.isb=n,e.j1=t.xq.Ua.sidx,t=i(794),e.dr=t.dr,t=i(231),e.ar=t.ar,t=i(798),e.cr=t.cr,e.bA=t.bA,t=i(799),e.WJ=t.WJ,t=i(84),e.ko=t.ko,i=i(800),e.Pj=i.Pj},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;Object.defineProperties(e,{__esModule:{value:!0}}),e.v_=e.Ij=void 0,t=(n=i(2)).__importDefault(i(17)),r=n.__importStar(i(10)),o=t.default.Wh,a=n.__importDefault(i(6)),s=a.default.$q,u=i(170),c=n.__importDefault(i(144)),h=i(9),t=i(42),f=i(234),l=i(173),(p=d=e.Ij||(e.Ij={}))[p.Vhb=0]="NOTHING_APPENDED",p[p.qib=1]="PARTIAL",p[p.xx=2]="COMPLETE",p[p.Mf=3]="ERROR",i=function(t){function e(e,i,n,r,a,u,c){return i=t.call(this,i,n)||this,f.AJ.xb(i,e,r,a,u,c),l.mv.xb(i,e,r),i.Ikb=e.url||r.url,i.efa=r.responseType,i.Hkb=r.Q$,void 0===i.efa&&(i.efa=s.pc&&!s.pc.wY.SR?0:1),i.Gi=new o,i.Gi.on(i,s.Le.OGa,i.Jga),i.Gi.on(i,s.Le.NGa,i.cob),i.Gi.on(i,s.Le.PGa,i.fob),i.Gi.on(i,s.Le.CR,i.Iga),i.Gi.on(i,s.Le.bF,i.RS),i.uK=!1,i.$e=!1,i.bm=!1,i.qo=!1,i.AS=!1,i.bpb=r.vI,i.ks=0,i}return n.__extends(e,t),Object.defineProperties(e.prototype,{active:{get:function(){return this.$e},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wua:{get:function(){return this.bm},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{complete:{get:function(){return!this.uK&&5===this.readyState},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{aborted:{get:function(){return this.uK},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Hpa:{get:function(){return this.qo&&!this.AS},enumerable:!1,configurable:!0}}),e.prototype.xb=function(t){f.AJ.prototype.xb.call(this,t),this.fg||!this.Oe.Jha&&this.ad||(this.fg=c.default.instance(),this.active&&(this.fg.SO(a.default.time.ea(),this.sY),this.bm&&(a.default.time.ea(),this.connect&&0<this.ps.length&&this.fg.zy(this.ps[0]))))},e.prototype.iu=function(){return this.ef||1!==this.responseType?5===this.readyState:3<=this.readyState},e.prototype.eG=function(t,e,i,n){return this.ef=t.appendBuffer(this.response,n||h.vq(this)),{status:this.ef?d.xx:d.Mf}},e.prototype.oO=function(){return(this.qo=s.prototype.open.call(this,this.Ikb,{start:this.offset,end:this.offset+this.fa-1},this.efa,{},void 0,void 0,this.Hkb))&&this.jV(this),this.qo},e.prototype.abort=function(){var t;return this.aborted||(t=this.$e,this.fg&&t&&this.fg.rY(a.default.time.ea(),this.bm,{requestId:this.Z1(),ki:this.Md,type:this.mediaType}),this.uK=!0,this.bm=this.$e=!1,s.prototype.abort.call(this),this.MM(this,t,this.Hpa)),!0},e.prototype.ed=function(){7!==this.readyState&&5!==this.readyState&&(this.H.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort()),this.Gi&&this.Gi.clear(),t.prototype.ed.call(this)},e.prototype.Jga=function(){var t;t=this.rf||this.loadTime,u.ux.instance().push(a.default.time.ea()-t),this.$e||(this.$e=!0,this.ku=this.track.ku(),this.stream.I.l2a||this.fg&&this.fg.SO(t,{requestId:this.Z1(),ki:this.Md,type:this.mediaType}),this.NM(this),this.Hu=this.rf)},e.prototype.cob=function(){var t,e,i;t=this.rf||this.nma,e=this.connect,i=this.ps,u.ux.instance().push(a.default.time.ea()-t),this.$e||(this.$e=!0),this.bm||(this.bm=!0,this.stream.I.l2a&&this.fg&&this.fg.SO(t,{requestId:this.Z1(),ki:this.Md,type:this.mediaType}),e&&0<i.length&&this.fg&&this.fg.zy(i[0]),this.MC(this),this.Hu=t)},e.prototype.fob=function(){var t,e,i;t=this,e=this.rf,i=this.bytesReceived-this.ks,u.ux.instance().push(a.default.time.ea()-e),this.bm||(this.bm=!0),this.fg&&(void 0===this.Hu||this.fg.Wv(i,this.Hu,e,this.sY),this.ps&&this.ps.length&&this.ps.forEach((function(e){t.fg.xy(e)}))),this.TG(this),this.Hu=e,this.ks=this.bytesReceived},e.prototype.Iga=function(){var t,e,i;t=this,e=this.rf,i=this.bytesReceived-this.ks,u.ux.instance().push(a.default.time.ea()-e),this.fg&&(0<i&&this.fg.Wv(i,this.Hu,e,this.sY),this.ps&&this.ps.length&&this.ps.forEach((function(e){t.fg.xy(e)})),this.fg.rY(e,this.bm,this.sY)),this.bm=this.$e=!1,this.AS=!0,this.Ut(this),this.Hu=e,this.ks=this.bytesReceived,this.ed()},e.prototype.Z1=function(){var t,e;return t=(t=this.stream)?t.toString():this.url,(e=this.J3)&&(t+=",range "+e.start+"-"+e.end),t},Object.defineProperties(e.prototype,{sY:{get:function(){return{requestId:this.Z1(),ki:this.Md,type:this.mediaType,vI:this.bpb}},enumerable:!1,configurable:!0}}),e.prototype.RS=function(){var t,e,i,n;this.H.warn("AseMediaRequest._onError:",this.toString()),t=this.rf,e=this.status,i=this.ph,n=this.uj,u.ux.instance().push(a.default.time.ea()-t),this.complete?this.H.warn("Error on a done request "+this.toString()+", failurecode: "+i):this.aborted?this.H.warn("Error on an aborted request "+this.toString()+", failurecode: "+i):r.Ba(i)?(this.fg&&this.Oe&&this.Oe.Tua&&this.loadTime&&void 0===e&&this.fg.Wv(this.ks?this.bytesReceived-this.ks:this.bytesReceived,this.Hu?this.Hu:this.loadTime,t,this.sY),this.y5(this)):this.H.warn("ignoring undefined request error (nativecode: "+n+")")},e}(s),e.v_=i,t.xf(f.AJ,i,!1),t.xf(l.mv,i,!1)},function(t,e,i){var n,r,o,a;function s(t,e,i){var r,o,a;if(e=n.__assign({},null===(o=null==t?void 0:t.context)||void 0===o?void 0:o.call(t,{j4a:e,xr:i})),null!=t&&t.xr&&i)if(!0===t.xr)e.args=i;else{o={},e.args=o;try{for(var s=n.__values(t.xr),u=s.next();!u.done;u=s.next())o[a=u.value]=i[a]}catch(t){var c;c={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(c)throw c.error}}}return e}Object.defineProperties(e,{__esModule:{value:!0}}),e.IB=e.ioa=e.bc=void 0,n=i(2),r=i(20),o=n.__importDefault(i(6)),a=i(9),e.bc=function(t){return function(i,n,r){var o;o=r.value,r.value=function(){var i,r,u,c,h,f;(r=e.ioa(this))&&(u=s(t,this,arguments),c=null!==(i=null==t?void 0:t.methodName)&&void 0!==i?i:String(n),h=r.xT(c,u,null==t?void 0:t.pm,null==t?void 0:t.O$b)),i=null==r?void 0:r.Bka,r&&(r.Bka=h);try{return f=null==o?void 0:o.apply(this,arguments)}catch(t){var l;throw l=t,t}finally{r&&(r.Bka=i),h&&(h.data||(h.data={}),l?h.data.error=""+l:a.p0a(f)?f.then((function(e){h&&null!=t&&t.return&&(h.data.resolve=e)}),(function(t){h&&(h.data.reject=""+t)})):null!=t&&t.return&&(h.data.lRet=f))}}}},e.ioa=function(t){if(null!=t&&t.ffa)return t.ffa},t=function(){function t(t){this.tq=[],this.h2=!1,this.ega={},this.I=n.__assign({xD:10},t),Object.defineProperties(t.wu,{ffa:{enumerable:!1,value:this,configurable:!0}})}return Object.defineProperties(t.prototype,{source:{get:function(){return this.I.source},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return!this.h2},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{zLb:{get:function(){return n.__spread(this.tq)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{WIb:{get:function(){return this.ega},enumerable:!1,configurable:!0}}),t.prototype.wy=function(t){var i,r;this.h2||(r=null===(i=e.ioa(this.I.wu))||void 0===i?void 0:i.Bka)&&(r.data=n.__assign(n.__assign({},r.data),t))},t.prototype.xT=function(t,e,i,r){var a,u,c,h;if(!this.h2)return c=!1,h=null===(u=(a=this.I).Sha)||void 0===u?void 0:u.call(a,this.I.wu),a=s({},this.I.wu),e=n.__assign(n.__assign(n.__assign({},h),a),e),e={methodName:t,data:(h=0<Object.keys(e).length)?e:void 0,time:o.default.time.ea()},r&&this.ega[t]++,i&&this.tq.length&&((i=this.tq[this.tq.length-1]).methodName===t&&(i.data=i.data||{},i.data.dedup=i.data.dedup||{hitCount:1},i.data.dedup.hitCount++,i.data.dedup.lJournal=e,c=!0)),this.Gvb(e),c||this.tq.push(e),this.tq.length>this.I.xD&&this.tq.shift(),e},t.prototype.Gvb=function(t){var e;r.ga&&(null===(e=this.I.console)||void 0===e||e.trace(this.I.source+"::"+t.methodName,t.data)),"object"==typeof __ASE_DEVTOOLS_EXTENSION__&&__ASE_DEVTOOLS_EXTENSION__.register(this.I,t)},t.prototype.Nb=function(){Object.defineProperties(this.I.wu,{ffa:{enumerable:!1,value:null,configurable:!0}}),this.h2=!0,this.clear()},t.prototype.clear=function(){this.tq=[],this.ega={}},t}(),e.IB=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RE="ManifestFetcherSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sF="VideoPreparerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hK=e.jF=void 0,(t=e.jF||(e.jF={})).v5b="ident",t.bda="main",t.Zza="credits",e.hK="PlaygraphHelperSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EBa="DrmServicesSymbol",e.X_="DrmServicesProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.zJ="ApiInfoSymbol"},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.default=function t(e,i){var n;e.__proto__&&e.__proto__!==Object.prototype&&t(e.__proto__,i),Object.getOwnPropertyNames(e).forEach((function(t){void 0!==(n=Object.getOwnPropertyDescriptor(e,t))&&Object.defineProperty(i,t,n)}))}},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.lp=void 0,n=i(2),r=n.__importDefault(i(28)),o=n.__importDefault(i(6)),a=i(805),t=function(){function t(t){this.tK=t,this.vg=[],this.console=new o.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs")}return Object.defineProperties(t,{instance:{get:function(){var e;return void 0===t.WK&&(e=i(6).default,t.WK=new t(e.JJ)),t.WK},enumerable:!1,configurable:!0}}),t.reset=function(){t.WK=void 0},t.prototype.Ht=function(t,e,i,n,r,o){var s,u,c,h;return s=!1,-1===(u=o.pYb?this.gDb(i,e,t,o.qYb):-1)?(c={track:this.Txb(i,n,t,r,o),yj:i,J:e,x6a:t,GO:[],Co:!1,pM:!1},this.vg.push(c),h=function(){c.Co=!0,c.track.removeListener("created",h)},c.track.on("created",h),s=!1):(s=!0,c=this.vg[u]),t=new a.UJa(this.console,c.track,c.Co,s),c.GO.push(t),t},t.prototype.oM=function(t){var e,i;t.Yp(),-1!==(e=this.p5((function(e){return e.track===t.track})))?1===(e=this.vg[e]).GO.length?(e.track.Yp(),e.pM=!0):0<=(i=e.GO.indexOf(t))&&e.GO.splice(i,1):t.track.Yp()},t.prototype.og=function(){this.tK.og()},t.prototype.Txb=function(t,e,i,o,a){var s,u,c;return s=this,u=!1,t?1===i?(t=!1,e=1,a.zq?(t=!0,e=a.RN):a.Fw&&2<a.Fw&&(t=!0,e=a.Fw),t={type:this.tK.Mb,openRange:!t,pipeline:t,connections:e,socketBufferSize:a.UP,minRequestSize:a.YN}):0===i?(u=a.zq&&(a.Q1b||e&&a.R1b),t={type:this.tK.Wb,openRange:!u,pipeline:u,connections:1,socketBufferSize:a.s3,minRequestSize:a.YN}):t={type:a.kAb?this.tK.Mb:this.tK.Pfb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:a.Doa,minRequestSize:a.YN}:t={type:0===i?r.default.Ta.Wb:r.default.Ta.Mb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0===i?a.s3:a.UP,minRequestSize:a.YN},(c=new this.tK(t,o)).on("transportreport",(function(t){var e;-1!==(e=s.p5((function(t){return t.track===c})))&&((e=s.vg[e]).GO.length&&e.GO[0].emit("transportreport",t))})),c.on("destroyed",(function(){var t;-1!==(t=s.p5((function(t){return t.track===c})))&&s.vg.splice(t,1),c.removeAllListeners()})),(u&&a.P1b||a.tbb)&&c.on("pipelinedisabled",(function(){a.tbb&&1===c.config.type?c.c$(n.__assign(n.__assign({},c.config),{socketBufferSize:a.SOb,pipeline:!1,openRange:!0,connections:1})):c.c$(n.__assign(n.__assign({},c.config),{pipeline:!1,openRange:!0}))})),c},t.prototype.gDb=function(t,e,i,n){return this.p5((function(r){return!r.pM&&(!n&&r.track.config.wbc||!t?!r.yj&&r.x6a===i:r.yj&&r.J===e&&r.x6a===i)}))},t.prototype.p5=function(t){for(var e=0;e<this.vg.length;++e)if(t(this.vg[e]))return e;return-1},t}(),e.lp=t},function(t,e,i){(function(e,i){function n(t,e,i,n){this.console=new t("ASEJS_PROGRESS","media|asejs"),this.now=e,this.E8a=this.fZb=t=this.now(),this.Y4=t+i,this.jSb=i,this.OTa=t+n,this.debug=!1,this.counter=this.eA=0,this.gw=1e4,this.Q$a=i/100,this.S$a=t,this.R$a=1*this.Q$a/4,this.iaa=0,this.uU="",this.Dg(t,"progress tracking start")}n.prototype.constructor=n,n.prototype.Dg=function(t,i){var n,r;n=((t-this.E8a)/1e3).toFixed(3),n="     ".slice(n.length-4)+n,r=e.uOb(),this.console.info(n+" "+((this.OTa-t)/1e3).toFixed(3)+" "+Math.round(this.gw)+" M:("+Math.floor(r.M$b/1024/1024)+" MB/"+Math.floor(r.SZa/1024/1024)+" MB) "+this.uU+i)},n.prototype.ppb=function(t){var e;e=this.now(),this.uU=t?t+": ":t,this.eA=0,this.E8a=e,this.Dg(e,"starting")},n.prototype.Npb=function(t){var i,n;if(this.counter++,!(this.counter<this.gw)){if(this.counter=0,n=(i=this.now())-(this.S$a+this.Q$a),this.S$a=i,this.iaa=.9*this.iaa+.1*n,this.iaa>this.R$a?(this.gw*=.875,this.gw=Math.max(1,this.gw)):this.iaa<-this.R$a&&(this.gw*=1.5,this.gw=Math.min(this.gw,1e5)),i>=this.OTa)throw this.Dg("Execution deadline exceeded after "+(i-this.fZb)+" ms"+this.uU),Error("Execution deadline exceeded"+this.uU);if(n=e.uOb(),this.eA=Math.max(this.eA,n.SZa),7516192768<n.SZa)throw Error("Heap total limit exceeded"+this.uU);if(!(i<=this.Y4)){for(;i>this.Y4;)this.Y4+=this.jSb;this.Dg(i,t)}}},n.xb=function(t,e,r,o){i.UD=new n(t,e,r||5e3,o||33e5)},n.Tva=function(t){i.UD&&i.UD.ppb(t)},n.update=function(t){i.UD&&i.UD.Npb(t)},n.nYa=function(){if(i.UD)return i.UD.eA},n.now=function(){return i.UD?i.UD.now():Date.now()},t.exports=n}).call(this,i(248),i(194))},function(t){var e;e={bW:function(t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}},t.exports=e},function(t,e,i){var n,r;function o(t){return t instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(t)}function a(t){return n.Se(t)}function s(t){return n.Ba(t)}function u(t){return!o(t)&&!a(t)&&!s(t)&&!Array.isArray(t)&&n.Jh(t)}n=i(10),r={BE:0,f1:1,$hb:2,L0:3,Vl:4},t.exports={joa:function(t){return o(t)?r.BE:a(t)?r.f1:s(t)?r.$hb:u(t)?r.L0:r.Vl},j7:o,Se:a,Ba:s,Jh:u,Zq:r}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.yu=e.u8=e.U2a=void 0,t=i(962),i=i(965),e.U2a=t,e.u8=function(t,i){return e.U2a((function(t,e){return void 0!==e?e:t}),t,i)},e.yu=i},function(t,e,i){var n;n=i(178),t.exports=function(t){return function e(i){return 0===arguments.length||n(i)?e:t.apply(this,arguments)}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.p1=void 0,e.vp={gK:"PRIMARY",fba:"ASSISTIVE",Sza:"COMMENTARY",NONE:"NONE"},e.p1={assistive:e.vp.fba,closedcaptions:e.vp.fba,directorscommentary:e.vp.Sza,commentary:e.vp.Sza,subtitles:e.vp.gK,primary:e.vp.gK,none:e.vp.NONE}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Ik=void 0,(t=e.Ik||(e.Ik={})).Co="created",t.ex="started",t.EP="succeeded",t.Pt="failed",t.Eh="cancelled",t.Ztb="cancelled_on_start",t.nja="cancelled_not_encrypted"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.tv=void 0,(t=e.tv||(e.tv={}))[t.G3b=8]="Backspace",t[t.h8b=9]="Tab",t[t.R4b=13]="Enter",t[t.$7b=16]="Shift",t[t.d4b=17]="Ctrl",t[t.j3b=18]="Alt",t[t.o7b=19]="PauseBreak",t[t.X3b=20]="CapsLock",t[t.T4b=27]="Escape",t[t.b8b=32]="Space",t[t.n7b=33]="PageUp",t[t.m7b=34]="PageDown",t[t.Q4b=35]="End",t[t.u5b=36]="Home",t[t.L5b=37]="LeftArrow",t[t.o8b=38]="UpArrow",t[t.v7b=39]="RightArrow",t[t.x4b=40]="DownArrow",t[t.I5b=45]="Insert",t[t.u4b=46]="Delete",t[t.x8b=48]="Zero",t[t.R6b=49]="One",t[t.k8b=50]="Two",t[t.i8b=51]="Three",t[t.m5b=52]="Four",t[t.k5b=53]="Five",t[t.a8b=54]="Six",t[t.Z7b=55]="Seven",t[t.P4b=56]="Eight",t[t.C6b=57]="Nine",t[t.a3b=65]="A",t[t.k3b=66]="B",t[t.N3b=67]="C",t[t.ceb=68]="D",t[t.E=69]="E",t[t.U4b=70]="F",t[t.n5b=71]="G",t[t.q5b=72]="H",t[t.$fb=73]="I",t[t.J5b=74]="J",t[t.Oca=75]="K",t[t.ehb=76]="L",t[t.P5b=77]="M",t[t.Qhb=78]="N",t[t.P6b=79]="O",t[t.T6b=80]="P",t[t.Q=81]="Q",t[t.s7b=82]="R",t[t.Fjb=83]="S",t[t.jkb=84]="T",t[t.l8b=85]="U",t[t.p8b=86]="V",t[t.r8b=87]="W",t[t.dfa=88]="X",t[t.v8b=89]="Y",t[t.w8b=90]="Z",t[t.M5b=91]="LeftWindowKey",t[t.w7b=92]="RightWindowKey",t[t.X7b=93]="SelectKey",t[t.F6b=96]="Numpad0",t[t.G6b=97]="Numpad1",t[t.H6b=98]="Numpad2",t[t.I6b=99]="Numpad3",t[t.J6b=100]="Numpad4",t[t.K6b=101]="Numpad5",t[t.L6b=102]="Numpad6",t[t.M6b=103]="Numpad7",t[t.N6b=104]="Numpad8",t[t.O6b=105]="Numpad9",t[t.b6b=106]="Multiply",t[t.i3b=107]="Add",t[t.c8b=109]="Subtract",t[t.t4b=110]="DecimalPoint",t[t.w4b=111]="Divide",t[t.V4b=112]="F1",t[t.Z4b=113]="F2",t[t.$4b=114]="F3",t[t.a5b=115]="F4",t[t.b5b=116]="F5",t[t.c5b=117]="F6",t[t.d5b=118]="F7",t[t.e5b=119]="F8",t[t.f5b=120]="F9",t[t.W4b=121]="F10",t[t.X4b=122]="F11",t[t.Y4b=123]="F12",t[t.E6b=144]="NumLock",t[t.V7b=145]="ScrollLock",t[t.Y7b=186]="SemiColon",t[t.S4b=187]="Equals",t[t.$3b=188]="Comma",t[t.s4b=189]="Dash",t[t.p7b=190]="Period",t[t.l5b=191]="ForwardSlash",t[t.j8b=192]="Tilde",t[t.S6b=219]="OpenBracket",t[t.F3b=220]="BackSlash",t[t.Z3b=221]="CloseBracket",t[t.r7b=222]="Quote"},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.ln=e.Icb=void 0,e.Icb=i,e.ln=new i},function(t,e,i){var n;function r(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function o(t,e){return null!==t.rA&&(t.rA.Lg===e||o(t.rA,e))}function a(t){var e;return t.name?t.name:(e=(t=t.toString()).match(/^function\s*([^\s(]+)/))?e[1]:"Anonymous function: "+t}Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),e.gN=r,e.q1a=function(t,e,i){var n;return n="",0!==(t=i(t,e)).length&&(n="\nRegistered bindings:",t.forEach((function(t){var e;e="Object",null!==t.wm&&(e=a(t.wm)),n=n+"\n "+e,t.uG.W2a&&(n=n+" - "+t.uG.W2a)}))),n},e.Lub=function t(e){e.Bja.forEach((function(e){if(o(e,e.Lg))throw e=function(t){return function t(e,i){var n;return void 0===i&&(i=[]),n=r(e.Lg),i.push(n),null!==e.rA?t(e.rA,i):i}(t).reverse().join(" --\x3e ")}(e),Error(n.Fdb+" "+e);t(e)}))},e.mMb=function(t,e){var i,n;return e.Rpa()||e.Epa()?(i="",n=e.qGb(),e=e.bFb(),null!==n&&(i+=n.toString()+"\n"),null!==e&&e.forEach((function(t){i+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+i):" "+t},e.getFunctionName=a},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.UM=e.TM=e.VM=e.E0a=e.kW=void 0,n=i(4),r=i(109),i(44),e.kW=function(t,e,i,n){var r,o;return r=t.wRb,o=t.xRb,t=t.yRb,r>e||r===e&&o>i||r===e&&o===i&&(void 0===n||t>=n)},e.E0a=function(t,e){return t.Pp>=e},e.VM=function(){return{version:"6.0033.414.911",L8:!0,PM:!0,bla:"browser",aUa:["en-US"],Hqa:"",BU:"cadmium",eya:!0,g3:!0,jY:!1}},e.TM=function(){return{oC:["heaac-2-dash"],gv:["playready-h264mpl30-dash","playready-h264mpl31-dash","playready-h264mpl40-dash","playready-h264hpl22-dash","playready-h264hpl30-dash","playready-h264hpl31-dash","playready-h264hpl40-dash"],xm:r.Hb.hMa,dA:n.Nc(31e3)}},e.UM=function(t){return{a0:t.Fo}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GBa=e.bo=void 0,(t=e.bo||(e.bo={}))[t.RD=0]="playready",t[t.Xaa=1]="widevine",t[t.PG=2]="fairplay",t[t.w9b=3]="clearkey",e.GBa="DrmTypeSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uR="MediaKeysStorageFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.m1=e.pp=void 0,e.pp=function(){},e.m1="StringObjectReaderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.XKa="SystemRandomSymbol",e.b1="RandomGeneratorSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.LR="PlayerErrorFactorySymbol"},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.Qm=void 0,n=i(2).__importDefault(i(6)),r=i(115),t=function(){function t(t){this.H=new n.default.Console("ASEJS","media|asejs","("+t+")"),this.Aga=[]}return t.prototype.kq=function(t){return this.Aga[t]||(this.Aga[t]=r.wq(n.default,this.H,"["+t+"]")),this.Aga[t]},t}(),e.Qm=new t(0)},function(t,e,i){function n(t,e){this.wL=t,this.bk=Math.floor((t+e-1)/e),this.Hd=e,this.reset()}i(5),n.prototype.shift=function(){this.Od.shift(),this.Uv.shift()},n.prototype.Pw=function(t){return this.GRa(this.Od[t],t)},n.prototype.update=function(t,e){this.Od[t]=(this.Od[t]||0)+e},n.prototype.push=function(){this.Od.push(0),this.Uv.push(0),this.tb+=this.Hd},n.prototype.add=function(t,e,i){var n,r,o;if(null===this.tb)for(n=Math.max(Math.floor((i-e+this.Hd-1)/this.Hd),1),this.tb=e;this.Od.length<n;)this.push();for(;this.tb<=i;)this.push(),this.Od.length>this.bk&&this.shift();if((null===this.jo||e<this.jo)&&(this.jo=e),e>this.tb-this.Hd)this.update(this.Od.length-1,t);else if(e==i)0<=(n=this.Od.length-Math.max(Math.ceil((this.tb-i)/this.Hd),1))&&this.update(n,t);else for(n=1;n<=this.Od.length;++n)if(o=(r=this.tb-n*this.Hd)+this.Hd,!(r>i)){if(o<e)break;this.update(this.Od.length-n,Math.round(t*(Math.min(o,i)-Math.max(r,e))/(i-e)))}for(;this.Od.length>this.bk;)this.shift()},n.prototype.start=function(t){null===this.jo&&(this.jo=t),null===this.tb&&(this.tb=t)},n.prototype.stop=function(t){var e,i;if(null!==this.tb)if(t-this.tb>10*this.wL)this.reset();else{for(;this.tb<=t;)this.push(),this.Od.length>this.bk&&this.shift();if(e=this.Od.length-Math.ceil((this.tb-this.jo)/this.Hd),0<=(i=this.Od.length-Math.ceil((this.tb-t)/this.Hd)))if(0>e&&(this.jo=this.tb-this.Hd*this.Od.length,e=0),e===i)this.Uv[e]+=t-this.jo;else if(i>e)for(this.Uv[e]+=(this.tb-this.jo)%this.Hd,this.Uv[i]+=this.Hd-(this.tb-t)%this.Hd,t=e+1;t<i;++t)this.Uv[t]=this.Hd;this.jo=null}},n.prototype.GRa=function(t,e){return 0===(e=this.Nma(e))?null:8*t/e},n.prototype.Nma=function(t){var e;return e=this.Uv[t],null!==this.jo&&((t=this.tb-(this.Od.length-t-1)*this.Hd)>this.jo&&(e=t-this.jo<=this.Hd?e+(t-this.jo):this.Hd)),e},n.prototype.get=function(t,e){var i,n;if(i=this.Od.map(this.GRa,this),"last"===t)for(t=0;t<i.length;++t)null===i[t]&&(i[t]=0<t?i[t-1]:0);else if("average"===t)for(e=1-Math.pow(.5,1/((e||2e3)/this.Hd)),t=0;t<i.length;++t)null===i[t]?i[t]=Math.floor(n||0):n=void 0!==n?e*i[t]+(1-e)*n:i[t];return i},n.prototype.reset=function(){this.gga||(this.Od=[],this.Uv=[],this.jo=this.tb=null)},n.prototype.setInterval=function(t){this.bk=Math.floor((t+this.Hd-1)/this.Hd)},t.exports=n},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t){var e;t.qha||(e=t.kZa(),t.no.cG(e.default.Ga,t.Sj),t.no.qJ(e.hu?e.hu.A9:void 0,e.hu?e.hu.sampleSize:void 0),n.Bb(t.Tc)||(t.qha=!0))}function p(t,e,i){var n;this.I=i,this.Hp={},this.OK=i.OK,this.aNa=new a(this.OK),this.yS=new u(!0),this.cS=new u(!1),this.nob=i.t9,this.Hmb=i.vJb,this.Imb=i.wJb,i.lVa&&(this.iL=new c(this.I)),i.S4&&(this.QB=new h(i.ora)),this.reset(),this.cOa=t,this.no=e,this.ENa=r.Uo.name(),this.no.K$(this.ENa),this.uF=0,this.dS=[],r.events.on("networkchange",function(t){this.ENa=t,this.no.K$(t)}.bind(this)),(n=i.Jka)&&(n={confidence:o.Nf.RJ,Ra:{Ga:parseInt(n,10),aj:0},Aj:{usb:0,aj:0},gu:{usb:0,aj:0}},this.get=function(){return n}),l=this}n=i(10),r=i(6).default,o=i(28).default,i(9),e=i(17).EventEmitter,a=i(361).ECa,s=new r.Console("ASEJS_NETWORK_MONITOR","media|asejs"),u=i(763).hCa,c=i(765).nHa,h=i(766).mEa,f=i(143),l=void 0,p.prototype.constructor=p,p.prototype=Object.create(e.prototype),p.instance=function(){return l},p.reset=function(){l&&l.reset()},Object.defineProperties(p.prototype,{startTime:{get:function(){return this.Af}},confidence:{get:function(){return this.Sj}},Jp:{get:function(){return this.uF}},tPa:{get:function(){return this.dS}}}),p.prototype.Glb=function(){var t,e,i,n;return e=(t=this.I).Wlb.concat(t.emb),i=t.Ufa,n=this.aNa,e.reduce((function(t,e){return t[e]=n.create(e,i),t}),{})},p.prototype.reset=function(){var t,e,i,n;t=this.I.Ufa,e=this.aNa,i=this.I,this.location=null,this.Hp=this.Glb(),this.I.oVa&&(n=this.I.K$a,this.Hp.F_b=new f(n.numB*n.bSizeMs,n.bSizeMs)),this.yS.reset(),this.cS.reset(),this.qy=e.create("respconn-ewma",t),this.iy=e.create("respconn-ewma",t),this.iL&&this.iL.reset(),this.QB&&this.QB.reset(),this.Sj=o.Nf.HAVE_NOTHING,this.Opb=function(){d(this)}.bind(this),this.W2=void 0,this.RB=this.Qc=this.Tc=this.Af=null,this.KB=this.Q2=0,this.Aob=!1,i.G7a&&(this.uF=0,this.dS=[])},p.prototype.lP=function(t){var e;if(e=this.Hp,t!==this.location){if(n.ia(this.W2)||(clearInterval(this.W2),this.W2=void 0),n.Bb(this.location)&&(this.Q2=0,this.Af=null),!n.Bb(t)){for(var i in this.Sj=o.Nf.HAVE_NOTHING,e)e[i]&&e[i].reset&&e[i].reset();this.qy.reset(),this.iy.reset()}n.Bb(this.Af)||(this.Q2+=(n.Bb(this.Tc)?r.time.ea():this.Tc)-this.Af),this.Tc=this.Af=null,this.Qc=0,this.location=t,this.no.lP(t)}},p.prototype.K$=function(t){this.no.K$(t)},p.prototype.uqb=function(t){this.Hp.QoEEvaluator?s.warn("monitor (QoEEvaluator) already existed."):this.Hp.QoEEvaluator=t},p.prototype.tVb=function(){delete this.Hp.QoEEvaluator},p.prototype.Wv=function(t,e,i,r){var a,u;if(this.X0a=Math.max(this.X0a||0,i),a=this.I,u=this.Hp,!0===r.aQ)(r=u["throughput-wssl"])&&r.add(t,e,i,!0);else if(n.ia(e))s.warn("addDataReceived called with undefined start time");else{if(this.iL&&this.iL.Wv(t,e,i,r),r.vI)if(this.Hmb){if(r.vI.m2a(t,e,i,this.nob))return}else if(this.Imb&&r.vI.v7())return;for(var c in a.dmb&&10>i-e?e=i-10:0==i-e&&(e=i-1),this.QB&&this.QB.Wv(t,e,i),this.yS.Wv(t,e,i,r),this.cS.Wv(t,e,i,r),u)u[c]&&u[c].add&&u[c].add(t,e,i);this.Sj=Math.max(this.Sj,o.Nf.pB),n.Bb(this.Af)&&(this.Af=e,this.Tc=null,this.qha=!1,this.Qc=0),n.Bb(this.Tc)||(e>this.Tc&&(this.Af+=e-this.Tc),this.Tc=null,this.qha=!1),this.Qc+=t,this.Sj<o.Nf.Dx&&(i-this.Af>a.qnb||this.Qc>a.pnb)&&(this.Sj=o.Nf.Dx),this.Sj<o.Nf.RJ&&(i-this.Af>a.Dob||this.Qc>a.Cob)&&(!this.Aob||this.KB>a.onb)&&(this.Sj=o.Nf.RJ,d(this),this.W2=setInterval(this.Opb,a.$mb)),n.Bb(this.RB)||(e-this.RB>a.dOa?this.cOa.U_a(this.RB,e):i-e>a.dOa&&this.cOa.U_a(e,i)),this.RB=Math.max(i,this.RB)}},p.prototype.zy=function(t){this.qy.add(t),this.no.zy(t)},p.prototype.xy=function(t){this.iy.add(t),this.no.xy(t)},p.prototype.start=function(t){var e;if(n.Bb(this.RB)&&!n.Bb(this.Tc)&&(this.RB=t),e=this.Hp,this.I.Bwa)for(var i in e)e[i]&&e[i].start&&e[i].start(t)},p.prototype.stop=function(t){var e,i;for(i in e=this.Hp)e[i]&&e[i].stop&&e[i].stop(t);this.Tc=n.Bb(this.Tc)?t:Math.min(this.Tc,t),this.RB=null},p.prototype.flush=function(){var t,e;for(e in t=this.Hp)t[e]&&t[e].flush&&t[e].flush()},p.prototype.fail=function(){this.Af=null},p.prototype.MXa=function(){var t,e;return(t=this.Hp.entropy)&&(e=t.utb(),t.reset()),e},p.prototype.kZa=function(){var t,e,i,n,o,a,s;for(s in t=r.time.ea(),e={},i=this.Hp,o=(n=this.I).Llb,a=n.kpb,i)i[s]&&i[s].get&&(e[s]=i[s].get(t),"iqr"===i[s].type&&(e.hu=e[s]),"tdigest"===i[s].type&&(e.Dk=e[s]),"wssl"===i[s].type&&(e.aQ=e[s]));return e.cdnavtp=this.yS.Zt(),e.activecdnavtp=this.cS.Zt(),e.default=o&&e[o]?e[o]:e["throughput-ewma"],"none"!==n.zva&&"none"!==a&&(e.l8a=a&&e[a]?e[a]:e["throughput-sw"]),e},p.prototype.i6=function(){return this.iL?this.iL.i6():void 0},p.prototype.Z5=function(){return this.QB?this.QB.Z5():void 0},p.prototype.get=function(){var t,e,i,o,a,s;return e=(t=this.kZa()).default,i=this.qy.get(),o=this.iy.get(),a=this.I,t.l8a&&(s=t.l8a,e=n.Ba(e.Ga)&&n.Ba(s.Ga)&&e.Ga>s.Ga&&0<s.Ga?s:e),t.confidence=this.Sj,t.Ra=e,!a.Bla||!e||n.Bb(e.Ga)||isNaN(e.Ga)||!t.aQ||n.Bb(t.aQ.Ga)||isNaN(t.aQ.Ga)||("max"===a.acb?t.Ra.Ga=Math.max(t.aQ.Ga,e.Ga):"sum"===a.acb&&(t.Ra.Ga+=t.aQ.Ga)),t.Aj=i,t.gu=o,this.I.oVa&&(e=this.I.K$a,t.Ncc=this.Hp.F_b.get(e.fillS,e.fillHl)),e=this.Q2+!n.Bb(this.Af)?(n.Bb(this.Tc)?r.time.ea():this.Tc)-this.Af:0,t.time=e,t},p.prototype.DHb=function(){var t,e,i;return t={},(e=this.get(!0)).confidence&&e.Ra&&(t.aseavtp=Number(e.Ra.Ga).toFixed(2),t.asevartp=Number(e.Ra.aj).toFixed(2),e.hu&&(!(i=e.hu.A9)||isNaN(i.Kl)||isNaN(i.Jl)||isNaN(i.uk)||(t.aseniqr=0<i.uk?Number((i.Kl-i.Jl)/i.uk).toFixed(2):-1,t.aseiqr=Number(i.Kl-i.Jl).toFixed(2),t.asemedtp=Number(i.uk).toFixed(2)),t.iqrsamples=e.hu.sampleSize),e.Dk&&e.Dk.wz&&(t.tdigest=e.Dk.wz())),t},p.prototype.SO=function(t,e){var i;i=e.requestId,1==++this.uF&&(this.emit("active",t),this.start(t)),i&&this.dS.push(i),this.yS.SO(t,e),this.cS.SO(t,e)},p.prototype.rY=function(t,e,i){e=i.requestId,--this.uF,this.I.G7a&&(this.uF=Math.max(this.uF,0)),0===this.uF&&(this.stop(t),this.emit("inactive",t)),e&&(0<=(e=this.dS.indexOf(e))&&this.dS.splice(e,1)),this.yS.rY(t,i),this.cS.rY(t,i),this.QB&&this.QB.LJb(i.type)},t.exports=p},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(Error),e.assert=function(t,e){if(!t)throw new r(e||"Assertion failed")}},function(t){var e,i;function n(){var t;if(DataView.prototype&&DataView.prototype.$t&&!i){try{t=new ArrayBuffer(4),new DataView(t).nq(0,4,1)}catch(t){return}try{t=new ArrayBuffer(4),new DataView(t).nq(1,2,2)}catch(t){DataView.prototype.nq=r(DataView.prototype.nq,DataView.prototype.getUint8,Uint8Array),DataView.prototype.zz=r(DataView.prototype.zz,DataView.prototype.getUint16,Uint16Array),DataView.prototype.$t=r(DataView.prototype.$t,DataView.prototype.getUint32,Uint32Array),DataView.prototype.$G=r(DataView.prototype.$G,DataView.prototype.getInt8,Int8Array),DataView.prototype.YG=r(DataView.prototype.YG,DataView.prototype.getInt16,Int16Array),DataView.prototype.ZG=r(DataView.prototype.ZG,DataView.prototype.getInt32,Int32Array)}e.moa=function(t,e,i,n,r){return i?t.nq(e,i,n||1,r):new Uint8Array(0)},e.koa=function(t,e,i,n,r){return i?t.zz(e,i,n||2,r):new Uint16Array(0)},e.loa=function(t,e,i,n,r){return i?t.$t(e,i,n||4,r):new Uint32Array(0)},e.RFb=function(t,e,i,n,r){return i?t.$G(e,i,n||1,r):new Int8Array(0)},e.PFb=function(t,e,i,n,r){return i?t.YG(e,i,n||2,r):new Int16Array(0)},e.QFb=function(t,e,i,n,r){return i?t.ZG(e,i,n||4,r):new Int32Array(0)},i=!0}}function r(t,e,i){return function(n,r,o,a){var s;return n+r*(o=o||i.BYTES_PER_ELEMENT)>this.byteLength?((s=new i(r)).set(t.call(this,n,r-1,o,a)),s[r-1]=e.call(this,n+(r-1*o),a),s):t.call(this,n,r,o,a)}}i=!1,(e={nq:function(t,e,i,n,r){var o;o=new Uint8Array(i),n=n||1;for(var a=0;a<i;++a,e+=n)o[a]=t.getUint8(e,r);return o},zz:function(t,e,i,n,r){var o;o=new Uint16Array(i),n=n||2;for(var a=0;a<i;++a,e+=n)o[a]=t.getUint16(e,r);return o},$t:function(t,e,i,n,r){var o;o=new Uint32Array(i),n=n||4;for(var a=0;a<i;++a,e+=n)o[a]=t.getUint32(e,r);return o},$G:function(t,e,i,n,r){var o;o=new Int8Array(i),n=n||1;for(var a=0;a<i;++a,e+=n)o[a]=t.getInt8(e,r);return o},YG:function(t,e,i,n,r){var o;o=new Int16Array(i),n=n||2;for(var a=0;a<i;++a,e+=n)o[a]=t.getInt16(e,r);return o},ZG:function(t,e,i,n,r){var o;o=new Int32Array(i),n=n||4;for(var a=0;a<i;++a,e+=n)o[a]=t.getInt32(e,r);return o},uCb:n}).fna=function(){return i},n(),t.exports=e},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(226),t=function(){function t(t,e,i){this.tag=t,this.view=e,this.u=i,this.startOffset=i.offset}return t.bY=function(e,i){var n,o;return n=e.mb(),o=e.pua(),(e=new(r.Xp[n]||t)(n,e.cna(o),e)).parse(i),e},Object.defineProperties(t.prototype,{length:{get:function(){return this.view.byteLength},enumerable:!0,configurable:!0}}),t.prototype.parse=function(){return this.u.offset=this.startOffset+this.length,this.u.Hn=0,!0},t.prototype.aV=function(t){var e;if(e=[],this.tag===t&&e.push(this),this.Xp)for(var i=0;i<this.Xp.length;i++)e=n.__spreadArrays(e,this.Xp[i].aV(t));return e},t.prototype.Cl=function(t){for(t=this.aV(t);0<t.length;)return t[0]},t.prototype.aT=function(){for(this.Xp=[];this.u.offset<this.startOffset+this.length;)this.Xp.push(t.bY(this.u,this))},t}(),e.CE=t,t.prototype.skip=t.prototype.parse},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.Jk=e.Dea=void 0,n=i(22),(s=r=e.Dea||(e.Dea={}))[s.absolute=0]="absolute",s[s.Z6a=1]="relative",a=function(){function t(t,e){this.type=t,this.timestamp=e}return t.prototype.toString=function(){return"timeStamp: "+this.timestamp+", type: "+r[this.type]},Object.defineProperties(t,{Gb:{get:function(){return o||(o=new t(r.Z6a,n.T.Gb)),o},enumerable:!1,configurable:!0}}),t}(),t=function(){function t(){}return t.XP=function(t){return new a(r.absolute,t)},Object.defineProperties(t,{F2b:{get:function(){return a.Gb},enumerable:!1,configurable:!0}}),t.tJ=function(t){return new a(r.Z6a,t)},t.mya=new a(r.absolute,n.T.fD),t}(),e.Jk=t},function(t,e,i){var n,r,o,a,s,u,c;function h(t){return!(!t||"function"!=typeof t.Fh)}function f(t){return!(!h(t)||(t=typeof t.EKb,"boolean"!==t&&"undefined"!==t))}Object.defineProperties(e,{__esModule:{value:!0}}),e.flatten=e.map=e.beb=e.wCb=e.DKb=e.Gcb=e.AsyncIterator=void 0,n=i(2),r=i(20),a=function(){function t(t){var e;e=this,this.Emb=t,this.IS=!1,this.Gob=function(t){return e.TTb(t)},this.gTa()}return t.wLb=function(t,e){!function i(){var n;(n=t.next()).then((function(i){f(t)&&t.EKb||e(i)})),n.then((function(t){return!t.done&&i()}))}()},Object.defineProperties(t.prototype,{Pz:{get:function(){return this.IS},enumerable:!1,configurable:!0}}),t.KXa=function(){return new s([])},t.boa=function(){return o||(o=Promise.resolve({done:!0})),o},Object.defineProperties(t.prototype,{wN:{get:function(){return this.Xl||!1},enumerable:!1,configurable:!0}}),t.prototype.Fh=function(){this.cancel()},t.prototype.cancel=function(){return this.qOa(),this.Xl=!0,this.tfa},t.prototype.next=function(){return this.Xl?this.tfa:Promise.race([this.tfa,this.Emb()]).then(this.Gob)},t.prototype.TTb=function(t){return t.done&&(this.IS=!0,this.Fh()),this.wN||(this.qOa(),this.gTa()),t},t.prototype.gTa=function(){var t;t=this,this.tfa=new Promise((function(e){t.qOa=function(){e({done:!0})}}))},t}(),e.AsyncIterator=a,s=function(t){function e(e){var i;return(i=t.call(this,(function(){return i.sGb()}))||this).Cy=e,i.index=0,i}return n.__extends(e,t),e.prototype.Fh=function(){h(this.Cy)&&this.Cy.Fh(),t.prototype.Fh.call(this)},e.prototype.sGb=function(){return this.Cy.length>this.index?Promise.resolve({value:this.Cy[this.index++],done:!1}):Promise.resolve({done:!0})},e}(a),e.Gcb=s,e.DKb=h,e.wCb=f,u=function(t){function e(e,i,n){var r;return(r=t.call(this,(function(){return r.$ra()}))||this).console=i,r.tl=n,r.Xta=!1,Array.isArray(e)?r.SS=new s(e):r.SS=e,r}return n.__extends(e,t),e.prototype.VTb=function(t){var e;return this.Xta=!1,e=this.console,r.ga&&e&&e.trace("CompoundIterator: processNextOuterIterator"),t.done?t:(t=t.value,this.YK?(h(t)&&t.Fh(),a.boa()):(Array.isArray(t)?this.tl=new s(t):this.tl=t,this.$ra()))},e.prototype.UTb=function(t){var e;return e=this.console,r.ga&&e&&e.trace("CompoundIterator: processNextInnerResult",this.YK,t.done),!t.done||this.YK?t:(this.tl=void 0,this.$ra())},e.prototype.Fh=function(){var e;e=this.console,r.ga&&e&&e.trace("CompoundIterator: dispose"),this.YK=!0,t.prototype.Fh.call(this),h(this.SS)&&this.SS.Fh(),h(this.tl)&&this.tl.Fh()},e.prototype.toString=function(){return"CompoundIterator "+this.YK+" "+this.SS+" "+this.tl},e.prototype.$ra=function(){var t,e;return t=this,e=this.console,r.ga&&e&&e.trace("CompoundIterator: nextImpl"),this.tl?(r.ga&&e&&e.trace("CompoundIterator: getNextInner"),this.tl.next().then((function(e){return t.UTb(e)}))):(this.Xta=!0,r.ga&&e&&e.trace("CompoundIterator: getNextOuter"),this.SS.next().then((function(e){return t.VTb(e)})))},e}(a),e.beb=u,e.map=function(t,e,i){return new c(t,e,i)},c=function(t){function e(e,i,n){var r;return(r=t.call(this,(function(){return r.rmb()}))||this).source=e,r.bra=i,r.zvb=n,r}return n.__extends(e,t),e.prototype.Fh=function(){h(this.source)&&this.source.Fh(),t.prototype.Fh.call(this)},e.prototype.rmb=function(){var t,e,i;return t=this.zvb,e=this.bra,i=this.source,r.ga&&t&&t.trace("MappedIterator: Requesting next"),i.next().then((function(t){return t.done?t:e(t.value)}))},e}(a),e.flatten=function(t,e,i){return new u(t,e,i)}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(Error),e.assert=function(t,e){if(!t)throw new r(e||"Assertion failed")}},function(t){var e,i;function n(){var t;if(DataView.prototype&&DataView.prototype.$t&&!i){try{t=new ArrayBuffer(4),new DataView(t).nq(0,4,1)}catch(t){return}try{t=new ArrayBuffer(4),new DataView(t).nq(1,2,2)}catch(t){DataView.prototype.nq=r(DataView.prototype.nq,DataView.prototype.getUint8,Uint8Array),DataView.prototype.zz=r(DataView.prototype.zz,DataView.prototype.getUint16,Uint16Array),DataView.prototype.$t=r(DataView.prototype.$t,DataView.prototype.getUint32,Uint32Array),DataView.prototype.$G=r(DataView.prototype.$G,DataView.prototype.getInt8,Int8Array),DataView.prototype.YG=r(DataView.prototype.YG,DataView.prototype.getInt16,Int16Array),DataView.prototype.ZG=r(DataView.prototype.ZG,DataView.prototype.getInt32,Int32Array)}e.moa=function(t,e,i,n,r){return i?t.nq(e,i,n||1,r):new Uint8Array(0)},e.koa=function(t,e,i,n,r){return i?t.zz(e,i,n||2,r):new Uint16Array(0)},e.loa=function(t,e,i,n,r){return i?t.$t(e,i,n||4,r):new Uint32Array(0)},e.RFb=function(t,e,i,n,r){return i?t.$G(e,i,n||1,r):new Int8Array(0)},e.PFb=function(t,e,i,n,r){return i?t.YG(e,i,n||2,r):new Int16Array(0)},e.QFb=function(t,e,i,n,r){return i?t.ZG(e,i,n||4,r):new Int32Array(0)},i=!0}}function r(t,e,i){return function(n,r,o,a){var s;return n+r*(o=o||i.BYTES_PER_ELEMENT)>this.byteLength?((s=new i(r)).set(t.call(this,n,r-1,o,a)),s[r-1]=e.call(this,n+(r-1*o),a),s):t.call(this,n,r,o,a)}}i=!1,(e={nq:function(t,e,i,n,r){var o;o=new Uint8Array(i),n=n||1;for(var a=0;a<i;++a,e+=n)o[a]=t.getUint8(e,r);return o},zz:function(t,e,i,n,r){var o;o=new Uint16Array(i),n=n||2;for(var a=0;a<i;++a,e+=n)o[a]=t.getUint16(e,r);return o},$t:function(t,e,i,n,r){var o;o=new Uint32Array(i),n=n||4;for(var a=0;a<i;++a,e+=n)o[a]=t.getUint32(e,r);return o},$G:function(t,e,i,n,r){var o;o=new Int8Array(i),n=n||1;for(var a=0;a<i;++a,e+=n)o[a]=t.getInt8(e,r);return o},YG:function(t,e,i,n,r){var o;o=new Int16Array(i),n=n||2;for(var a=0;a<i;++a,e+=n)o[a]=t.getInt16(e,r);return o},ZG:function(t,e,i,n,r){var o;o=new Int32Array(i),n=n||4;for(var a=0;a<i;++a,e+=n)o[a]=t.getInt32(e,r);return o},uCb:n}).fna=function(){return i},n(),t.exports=e},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(266),t=function(){function t(t,e,i){this.tag=t,this.view=e,this.u=i,this.startOffset=i.offset}return t.bY=function(e,i){var n,o;return n=e.mb(),o=e.pua(),(e=new(r.Xp[n]||t)(n,e.cna(o),e)).parse(i),e},Object.defineProperties(t.prototype,{length:{get:function(){return this.view.byteLength},enumerable:!0,configurable:!0}}),t.prototype.parse=function(){return this.u.offset=this.startOffset+this.length,this.u.Hn=0,!0},t.prototype.aV=function(t){var e;if(e=[],this.tag===t&&e.push(this),this.Xp)for(var i=0;i<this.Xp.length;i++)e=n.__spreadArrays(e,this.Xp[i].aV(t));return e},t.prototype.Cl=function(t){for(t=this.aV(t);0<t.length;)return t[0]},t.prototype.aT=function(){for(this.Xp=[];this.u.offset<this.startOffset+this.length;)this.Xp.push(t.bY(this.u,this))},t}(),e.CE=t,t.prototype.skip=t.prototype.parse},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.$Ha="PboPlaydataServicesSymbol",e.IR="PboPlaydataServicesProviderSymbol"},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.IJ=e.cfb=void 0,n=i(26),e.cfb=function(){this.oC=[],this.gv=[],this.qia=n.nv.qv,this.Paa=n.gj.qv},e.IJ="DeviceCapabilitiesConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TR="SourceBufferTypeProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.yR="MslProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.tR="ManifestFactorySymbol"},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.pNb=e.g5a=e.NRb=e.wXa=e.VRb=e.uE=e.Zaa=e.Ms=e.cQ=e.bQ=e.Fk=void 0,n=i(24),r=i(21),e.Fk="$attributes",e.bQ="$children",e.cQ="$name",e.Ms="$text",e.Zaa="$parent",e.uE="$sibling",e.VRb=/^\s*<\?xml.*\?>/i,e.wXa=function(t,e,i){for(var n=2;n<arguments.length;++n);for(n=1;(e=arguments[n++])&&(t=t[e]););return t},e.NRb=function(t,i){var o;return t?o=n.He(t[e.Ms]):void 0!==i&&(o=i),r.tU(o),o},e.g5a=function(t,i){var n;return t?n=t[e.Ms]:void 0!==i&&(n=i),r.PTa(n),n},e.pNb=function(t,i){var n;return(n={})[e.Fk]=t,n[e.Ms]=i,n}},function(t){function e(t,e){return t.some((function(t){return t.id===e}))}function i(t,e){return t.filter(n.bind(null,e)).map(r).reduce(o,0)}function n(t,e){return t.id===e.id&&t.displayTime+t.duration===e.displayTime}function r(t){return t.duration}function o(t,e){return t+e}t.exports={ovb:function(t,e,i){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return i.error("indexId mismatch in sidx",{sIndexId:t,mIndexId:e}),!1;return!0},ska:function(t,e,i){var n;return(n={}).displayTime=t.displayTime,n.duration=t.duration,n.originX=t.nRb,n.originY=t.oRb,n.sizeX=t.RYb,n.sizeY=t.SYb,n.imageData=e,n.id=t.lH,n.rootContainerExtentX=i.rWb,n.rootContainerExtentY=i.sWb,n},hna:function(t,e){return"o_"+t+"s_"+e},g2b:function(t,e){e("P"===String.fromCharCode(t[1])),e("N"===String.fromCharCode(t[2])),e("G"===String.fromCharCode(t[3]))},Xc:function(t){return void 0!==t},ecc:e,V9b:i,wV:function(t,e){var i,n;for(n in i=Object.create({}),t)i[n]=t[n];return t instanceof Error&&(i.message=t.message,i.stack=t.stack),i.errorString=e,i},assert:function(t,e){if(!t)throw e&&e.error(Error("Assertion Failed").stack),Error("Assertion Failed")},i_a:function(t){return t&&0<t.entries.length&&0===t.images.length},QZb:function(t,e){for(var i,n=e.entries.length,r=0;r<n;r++)if((i=e.entries[r]).displayTime<=t&&i.displayTime+i.duration>=t)return!0;return!1},RZb:function(t,e,i){for(var n,r,o=i.entries.length,a=0;a<o&&(n=(r=(n=i.entries[a]).displayTime)+n.duration,!(e<r));a++)if(r<=t&&n>=t||r>t&&r<=e)return!0;return!1},PSa:function(t){return t.map((function(e,n){return e.duration+=i(t.slice(n+1),e),e})).reduce((function(t,i){return e(t,i.id)||t.push(i),t}),[])},Vna:function(t){return t.reduce((function(t,e){return t+e.entries.reduce((function(t,e){return e.Uoa+t}),0)}),0)},BAb:function(t,e){return t&&t.Xw<=e&&t.Eq>=e},zFb:function(t){if(t)return t.endTime},$Fb:function(t){try{return String.fromCharCode.apply(String,t)}catch(t){}return""}}},function(e,i,n){var r,o;function a(t){switch(t){case r.L.dR:return"http";case r.L.fR:return"connectiontimeout";case r.L.IE:return"readtimeout";case r.L.nDa:return"corruptcontent";case r.L.qB:return"abort";case r.L.gR:case r.L.Bca:return"unknown"}}Object.defineProperty(i,"__esModule",{value:!0}),i.Pna=i.Ena=i.Bna=void 0,r=n(3),o=n(11),i.Bna=a,i.Ena=function(t,e){return t={errorcode:t+(e.errorCode||r.M.Vl)},e.na&&(t.errorsubcode=e.na),e.pf&&(t.errorextcode=e.pf),e.Kla&&(t.erroredgecode=e.Kla),e.ub&&(t.errordetails=e.ub),e.ik&&(t.httperr=e.ik),e.O8&&(t.aseneterr=e.O8),e.DM&&(t.errordata=e.DM),e.OW&&(t.mediaerrormessage=e.OW),(e=a(Number(e.na)))&&(t.nwerr=e),t},i.Pna=function(){return{screensize:o.yv.width+"x"+o.yv.height,screenavailsize:o.yv.availWidth+"x"+o.yv.availHeight,clientsize:t.innerWidth+"x"+t.innerHeight,devicePixelRatio:o.BGa}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hF="PlaygraphConfigSymbol"},function(t,e,i){var n,r,o;function a(t,e,i,n){return(e=o.Di.call(this,t,e,n,r.fj.events,r.fj.events+"/"+i)||this).context=t,e.kCb=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.Vq=void 0,t=i(1),n=i(0),r=i(68),o=i(75),i(187),g(a,o.Di),a.prototype.og=function(t,e){var i,n;return i=this,n=this.G3(e),this.send(t,e.href,n).then((function(){return e})).catch((function(t){throw i.Bn(t)}))},a.prototype.gq=function(t,e,i){var n,r;return n=this,r=this.G3(i),this.send(t,e.zV("events").href,r).then((function(t){return e.EPa(t.result.links),i})).catch((function(t){throw n.Bn(t)}))},a.prototype.G3=function(t){return{event:this.kCb,xid:t.ba,position:t.position||0,clientTime:t.aU,sessionStartTime:t.HY,videoTrackId:t.VP,audioTrackId:t.pn,timedTextTrackId:t.KP,mediaId:t.TN,trackId:t.trackId,sessionId:t.sessionId,appId:t.appId,playTimes:this.ktb(t.GX),sessionParams:t.Jm,mdxControllerEsn:t.rra}},a.prototype.Zia=function(t){return{downloadableId:t.Bc,duration:t.duration}},a.prototype.ktb=function(t){var e;return e={total:t.total,audio:t.audio.map(this.Zia),video:t.video.map(this.Zia),text:t.text.map(this.Zia)},t.total!==t.gJ&&(e.totalContentTime=t.gJ),e},i=a,i=t.__decorate([n.R(),t.__param(0,n.nl()),t.__param(1,n.nl()),t.__param(2,n.nl()),t.__param(3,n.nl())],i),e.Vq=i},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_;function w(e){var i,n;i=this,this.F9=new _.fea,this.createPlaygraphPlayer=function(t,e,n){var r;return t=v.pjb.encode(t),r=s.ka.get(y.tR),n=n?r.create(n):void 0,(r=s.ka.get(d.iea).create(t)).uyb(t.Yd,i.F9.ara(i.SQa(e,r.Q5())),n)},this.closeAllPlayers=function(t){a.aea(void 0===t?function(){}:t)},this.init=function(t){t=void 0===t?function(){}:t,i.mC.LN((function(e){e.$?(o.config.D$?i.hXb().then((function(){r.oIa()})).catch((function(t){s.log.error("Unable to initialize the playdata services",t)})):Promise.resolve()).then((function(){Object.assign(i,w.CT),t(Object.assign({success:!0},w.CT))})):t({success:!1,error:s.LIa(e.errorCode||c.M.Gca,e)})}))},this.applyConfig=function(t){i.Sab(t),o.Xja(t)},this.prepare=function(t,e){var n;if(t=i.Y5a.Uzb(t)||[],n=new Set,t=t.filter((function(t){var e;return e=n.has(t.J),n.add(t.J),!e})),o.config.Sw&&i.Fd)try{i.Fd.iI(t,e)}catch(t){s.log.warn("Prepare call failed",t)}},this.ppmUpdate=function(e){t._cad_global.playerPredictionModel?(e=i.Y5a.Wzb(e))&&t._cad_global.playerPredictionModel.update(e):s.log.error("ppmUpdate called but there is no ppmModel")},this.supportsHdr=function(t){s.XM().fZ().then((function(e){return t(e.result)})).catch((function(){return t(!1)}))},this.supportsUltraHd=function(t){s.XM().gZ().then(t).catch((function(){return t(!1)}))},this.supportsDolbyAtmos=function(t){s.XM().dZ().then(t).catch((function(){return t(!1)}))},this.supportsDolbyVision=function(t){s.XM().caa().then((function(e){return t(e.result)})).catch((function(){return t(!1)}))},this.close=function(){},this.deviceThroughput=function(){var t;return(t=s.ka.get(f.K0).mka())?Promise.resolve(t.Zt()):Promise.resolve(void 0)},this.deviceThroughputNiqr=function(){var t;return(t=s.ka.get(f.K0).mka())?Promise.resolve(t.wGb()):Promise.resolve(void 0)},this.isSeamlessEnabled=function(){return o.config.LBb},this.Sab(e),s.ka.get(m.Jya),this.Y5a=s.ka.get(u.qIa),this.mC=s.ka.get(b.fh),n=s.ka.get(g.lIa).apply(),o.MSa([e],n),this.Fd=s.ka.get(p.sF),s.XM().gZ()}Object.defineProperty(i,"__esModule",{value:!0}),i.sK=void 0,r=n(297),o=n(14),a=n(58),s=n(8),u=n(508),c=n(3),h=n(37),f=n(284),l=n(153),d=n(303),p=n(120),b=n(31),v=n(67),y=n(157),g=n(315),m=n(486),_=n(551),w.prototype.SQa=function(t,e){var i,n,r,o;return o=null!==(n=null===(i=(t=void 0===t?{}:t).playbackState)||void 0===i?void 0:i.currentTime)&&void 0!==n?n:e.Jb,Object.assign(Object.assign({startPts:o,uiPlayStartTime:Date.now()},t),{endPts:null!==(r=e.Ob)&&void 0!==r?r:void 0,isPlaygraph:!0})},w.prototype.Sab=function(t){s.ka.get(h.iR).vOb(t)},w.prototype.hXb=function(){return s.ka.get(l.IR)().catch((function(t){throw s.log.error("Unable to initialize the playdata services",t),t})).then((function(t){return t.send(1/0)})).catch((function(t){s.log.error("Unable to send deferred playdata",t)}))},i.sK=w,w.CT={}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.mB="BrowserInfoSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t){this.buffer=t,this.position=0}return t.prototype.seek=function(t){this.position=t},t.prototype.skip=function(t){this.position+=t},t.prototype.Mna=function(){return this.buffer.length-this.position},t.prototype.DA=function(){return this.buffer[this.position++]},t.prototype.Mh=function(t){var e;return e=this.position,this.position+=t,this.oLb(this.buffer)?this.buffer.subarray(e,this.position):this.buffer.slice(e,this.position)},t.prototype.oLb=function(t){return void 0!==t.subarray},t.prototype.Fq=function(t){for(var e=0;t--;)e=256*e+this.buffer[this.position++];return e},t.prototype.nua=function(t){for(var e="";t--;)e+=String.fromCharCode(this.buffer[this.position++]);return e},t.prototype.uh=function(){return this.Fq(2)},t.prototype.Gq=function(){return this.Fq(4)},t.prototype.IO=function(){return this.Fq(8)},t.prototype.Yw=function(t){for(var e,i="";t--;)i+="0123456789ABCDEF"[(e=this.DA())>>>4]+"0123456789ABCDEF"[15&e];return i},t.prototype.qua=function(t){for(var e=0,i=0;i<t;i++)e+=this.DA()<<(i<<3);return e},t.prototype.HO=function(){return this.qua(4)},t.prototype.d_=function(t){this.$P(t,2)},t.prototype.hB=function(t){this.$P(t,4)},t.prototype.Yaa=function(t){this.buffer[this.position++]=t},t.prototype.$P=function(t,e){this.position+=e;for(var i=1;i<=e;i++)this.buffer[this.position-i]=255&t,t=Math.floor(t/256)},t.prototype.gB=function(t){for(var e=0;e<t.length;e++)this.buffer[this.position++]=t.charCodeAt(e)},t.prototype.c_=function(t){for(var e=t.length,i=0;i<e;i++)this.buffer[this.position++]=t[i]},t.prototype.ZP=function(t,e){this.c_(t.Mh(e))},t.prototype.$bb=function(e){e=new t(e);for(var i,n;;){if(!(n=(i=e.Mna())>>>14)){128>i?this.Yaa(i):this.$P(32768|i,2),this.ZP(e,i);break}n=Math.min(4,n),this.Yaa(192|n),this.ZP(e,16384*n)}},t.prototype.C6a=function(){for(var e,i=[],n=new t(i);;){if(128&(e=this.DA())){if(128!=(192&e)){if(0<(e&=63)&&4>=e){n.ZP(this,16384*e);continue}throw Error("bad asn1")}e=((e&=63)<<8)+this.DA(),n.ZP(this,e)}else n.ZP(this,e);break}return new Uint8Array(i)},t}(),e.BQ=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.C_="CannedChallengeProvider"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MJa="ReportSyncSymbol",e.KJa="ReportApiErrorSyncSymbol",e.ICa="FtlProbeConfigSymbol",e.KCa="FtlProbeSymbol"},function(t,e){function i(t){var e;return e={profile:t.spoofedProfile||t.profile,Gma:t.max_framerate_value,Fma:t.max_framerate_scale,maxWidth:t.maxWidth,maxHeight:t.maxHeight,qSb:t.pixelAspectX,rSb:t.pixelAspectY,channels:t.channels,sampleRate:t.channels?48e3:void 0},t.spoofedProfile&&(e.xbc=t.profile),e}Object.defineProperties(e,{__esModule:{value:!0}}),e.qYa=e.pYa=void 0,e.pYa=function(t,e,n){var r;return r=[{},{}],(0===n?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach((function(n,o){t[n].some((function(t,n){return n===e[o]&&(r[o]=i(t),!0)}))})),r},e.qYa=i},function(t,e){function i(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(i):Object.keys(t).reduce((function(e,n){return e[n]=i(t[n]),e}),{}):t}Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t){t&&(this.JI(t.Yd),this.hwa(t.ae),this.bwa(t.qa))}return t.prototype.JI=function(t){return this.Yd=t,this},t.prototype.hwa=function(t){return this.ae=t,this},t.prototype.T8a=function(t){return this.Bd=t,this},t.prototype.Nk=function(t,e){return this.qa||(this.qa={}),this.qa[t]=i(e),this},t.prototype.bwa=function(t,e){void 0===e&&(e=function(){return!0}),this.qa={},this.NPa(t,e)},t.prototype.NPa=function(t,e){var i;i=this,void 0===e&&(e=function(){return!0}),Object.keys(t).filter((function(i){return e(t[i])})).forEach((function(e){return i.Nk(e,t[e])}))},t.prototype.FIb=function(t){var e;return!(null===(e=this.qa)||void 0===e||!e[t])},t.prototype.gi=function(){var t;if(!this.qa)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Yd)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.qa[this.Yd])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return t={Yd:this.Yd,qa:this.qa},this.ae&&(t.ae=this.ae),this.Bd&&(t.Bd=this.Bd),t},t}(),e.AB=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.ux=void 0,n=i(219),r=i(5),t=function(){function t(t){this.config=t,this.reset()}return t.instance=function(){return r.assert(void 0!==t.WK),t.WK},t.Evb=function(e){t.WK=new t(e)},t.prototype.push=function(t){this.Dk&&this.Dk.push(t)},t.prototype.wb=function(){if(this.Dk)return this.Dk.Ty(),this.Dk.wj([.25,.5,.75,.9,.95,.99]).map((function(t){return t?parseFloat(t.toFixed(1)):0}))},t.prototype.reset=function(){this.config.nVa&&this.config.Nca&&(this.Dk=new n.d8b(this.config.Nca.c,this.config.Nca.maxc))},t}(),e.ux=t},function(t){!function(){var e;for(e=2;8!==e;)switch(e){case 2:i.prototype.start=function(t){var e;for(e=2;1!==e;)if(2===e)this.Af?t<this.Af?(this.YB+=this.Af-t,this.Af=t):t>this.tb&&(this.tb=this.Af=t):this.tb=this.Af=t,e=1},i.prototype.stop=function(t){var e;for(e=2;1!==e;)if(2===e)this.tb&&t>this.tb&&(this.YB+=t-this.tb,this.tb=t),e=1},e=5;break;case 5:"S","IYbZrNJCp","9",i.prototype.add=function(t,e,i){var n;for(n=2;4!==n;)if(2===n)this.start(e),this.stop(i),this.Qc+=t,n=4},i.prototype.get=function(){for(2;;)return{Ga:this.YB?Math.floor(8*this.Qc/this.YB):null,GC:this.YB?this.YB:0}},t.exports=i,e=8}function i(){var t;for(t=2;5!==t;)switch(t){case 1:this.tb=this.Af=void 0,t=5;break;case 3:this.YB=this.Qc=2,t=3;break;case 2:this.YB=this.Qc=0,t=1}}}()},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(32),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(e){return e=t.prototype.parse.call(this,e),this.u.offset+=8,this.sja=this.u.Yc(),this.qva=this.u.Yc(),this.u.offset+=4,this.samplerate=this.u.Yc(),this.u.offset+=2,r.ga&&this.u.console.trace("MP4AudioSampleEntry: channelcount: "+this.sja+", samplesize: "+this.qva+", samplerate: "+this.samplerate),e},e.Na=!1,e}(i(225).default),e.default=t},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),e.mv=void 0,i(5),t=function(){function t(e,i){t.xb(this,e,i)}return t.xb=function(t,e,i){t.kd=e,t.Qc=i.fa,t.Ne=i.offset},Object.defineProperties(t.prototype,{stream:{get:function(){return this.kd},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{fa:{get:function(){return this.Qc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{offset:{get:function(){return this.Ne},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{P:{get:function(){return this.kd.P},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{J:{get:function(){return this.kd.J},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.kd.mediaType},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Oa:{get:function(){return this.kd.Oa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{bitrate:{get:function(){return this.kd.bitrate},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{profile:{get:function(){return this.kd.profile},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.kd.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{$N:{get:function(){return this.kd.$N},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sa:{get:function(){return this.kd.sa},enumerable:!1,configurable:!0}}),t.prototype.toJSON=function(){return{movieId:this.J,streamId:this.Oa,offset:this.offset,bytes:this.fa}},t}(),e.mv=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.Qea=e.Ym=void 0,n=i(148),(o=r=e.Ym||(e.Ym={}))[o.pending=0]="pending",o[o.s$=1]="running",o[o.complete=2]="complete",o[o.pM=3]="destroyed",t=function(){function t(t,e){void 0===e&&(e=0),this.name=t,this.priority=e,this.$c=r.pending}return Object.defineProperties(t.prototype,{state:{get:function(){return this.$c},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{tKb:{get:function(){return this.$c===r.pending||this.$c===r.s$},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Yf:{get:function(){return this.Tv},enumerable:!1,configurable:!0}}),t.prototype.Prb=function(t){var e;null===(e=this.Tv)||void 0===e||e.Mua(this),this.Tv=t},t.prototype.ax=function(){this.$c=r.s$,this.og(),this.W8()===n.Jk.mya&&(this.$c=r.complete)},t.prototype.Nb=function(){var t;this.$c=r.pM,null===(t=this.Tv)||void 0===t||t.Mua(this)},t}(),e.Qea=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),t=i(842),n=i(391),i=i(844),e.default={STARTING:i.o8a,BUFFERING:t.A$,REBUFFERING:t.A$,PLAYING:n.bx,PAUSED:n.bx}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.eN=e.CJ=void 0,n=i(854),r=i(855),o=i(245),Object.defineProperties(e,{CJ:{enumerable:!0,get:function(){return o.CJ}}}),e.eN=function(t,e){return"manifold"===t.cra?new n.NFa(t,e):new r.zKa(t,e)}},function(t,e,i){var n,r,o;n=i(130),r=i(59),o=i(178),t.exports=function(t){return function e(i,a,s){switch(arguments.length){case 0:return e;case 1:return o(i)?e:r((function(e,n){return t(i,e,n)}));case 2:return o(i)&&o(a)?e:o(i)?r((function(e,i){return t(e,a,i)})):o(a)?r((function(e,n){return t(i,e,n)})):n((function(e){return t(i,a,e)}));default:return o(i)&&o(a)&&o(s)?e:o(i)&&o(a)?r((function(e,i){return t(e,i,s)})):o(i)&&o(s)?r((function(e,i){return t(e,a,i)})):o(a)&&o(s)?r((function(e,n){return t(i,e,n)})):o(i)?n((function(e){return t(e,a,s)})):o(a)?n((function(e){return t(i,e,s)})):o(s)?n((function(e){return t(i,a,e)})):t(i,a,s)}}}},function(t){t.exports=function(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(33),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(e){return e=t.prototype.parse.call(this,e),this.u.offset+=8,this.sja=this.u.Yc(),this.qva=this.u.Yc(),this.u.offset+=4,this.samplerate=this.u.Yc(),this.u.offset+=2,r.ga&&this.u.console.trace("MP4AudioSampleEntry: channelcount: "+this.sja+", samplesize: "+this.qva+", samplerate: "+this.samplerate),e},e.Na=!1,e}(i(265).default),e.default=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.nR="LogblobBuilderFactorySymbol",e.Yca="LogblobBuilderCommonSymbol"},function(t,e,i){var n,r,o,a,s;function u(t,e,i,r){var s;return(s=o.wQ.call(this,t,e,n.Pj.VLa,r)||this).config=t,s.sj=e,s.is=i,s.m8=r,s.type=n.gj.qv,s.XZ=a.Gd.DTa(),s}Object.defineProperty(e,"__esModule",{value:!0}),e.ao=void 0,n=i(26),r=i(44),o=i(448),t=i(111),a=i(110),s=i(440),new t.FB,g(u,o.wQ),u.prototype.fx=function(){return Promise.resolve(!1)},u.prototype.Wt=function(){return Promise.resolve("")},u.prototype.T5=function(){return Promise.resolve("")},u.prototype.fZ=function(){return this.config().zla?this.m8.ypa()?this.m8.mz(r.N.SJ).then((function(t){return{result:t,reason:"media-capabilities"}})):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"})},u.prototype.caa=function(){return this.config().zla?this.m8.ypa()?this.m8.mz(r.N.AQ).then((function(t){return{result:t,reason:"media-capabilities"}})):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"})},u.prototype.gZ=function(){return Promise.resolve(!1)},u.prototype.dZ=function(){return Promise.resolve(!1)},u.prototype.SM=function(t){return this.XZ[t]},u.prototype.Hha=function(){},u.prototype.d2a=function(t){switch(t){case n.Mj.NE:return"1.4";case n.Mj.uv:return"2.2"}},u.prototype.Up=function(){return s.eca.Up()},u.prototype.OYa=function(t){return t||this.config().gv},u.prototype.cN=function(){return Promise.resolve(void 0)},u.prototype.j6=function(){return Promise.resolve(void 0)},u.prototype.lU=function(t){var e;return e=[],this.is.Gg(t)&&e.push(this.d2a(t)),[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:e,isHdcpEngaged:!!e.length}]},e.ao=u,u.PP="video/mp4;codecs={0};"},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Xe=void 0,e.Xe=i,i.bDa=/^hevc-main/,i.UCa=/^hevc-hdr-|hevc-dv/,i.Ex=/^hevc-hdr-/,i.Qs=/^hevc-dv/,i.KQ=/-h264mpl/,i.QJ=/-h264mpl30/,i.FE=/-h264mpl31/,i.iB=/-h264hpl/,i.Xx=/^vp9-/,i.Hj=/^av1-/,i.pK=/-L5[0-1]-/,i.g_=/^heaac-2-/,i.gDa=/^heaac-2hq-dash/,i.tF=/^xheaac-dash/,i.eeb=/ddplus-2/,i.feb=/ddplus-5/,i.geb=/ddplus-atmos/},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.aib="NativeLocalStorageSymbol",e.CGa="NativeLocalStorageFactorySymbol",e.HDa="IDBFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GDa="IDBDatabaseFactorySymbol",e.jEa="IndexedDBFactorySymbol",e.Kca="IndexedDBStorageFactorySymbol"},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.CJa=e.e1=e.V5=void 0,n=i(47),r=i(3),e.V5=function(t){return t===n.Tb.ol.Wb?r.L.hda:r.L.ida},e.e1=50,e.CJa=1e3},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t.exports=function(t){return{minInitVideoBitrate:t.Lw,minHCInitVideoBitrate:t.Kra,maxInitVideoBitrate:t.fA,minInitAudioBitrate:t.WW,maxInitAudioBitrate:t.HW,minHCInitAudioBitrate:t.VW,minAcceptableVideoBitrate:t.w8,minRequiredBuffer:t.XW,minPrebufSize:t.tj,minCheckBufferingCompleteInterval:t.z8,rebufferingFactor:t.vua,useMaxPrebufSize:t.Zxa,maxPrebufSize:t.wD,maxRebufSize:t.nra,maxBufferingTime:t.$r,minAudioMediaRequestSizeBytes:t.x8,minVideoMediaRequestSizeBytes:t.F8,initialBitrateSelectionCurve:t.Y6,initSelectionLowerBound:t.D_a,initSelectionUpperBound:t.E_a,throughputPercentForAudio:t.haa,bandwidthMargin:t.Eia,bandwidthMarginContinuous:t.Fia,bandwidthMarginCurve:t.Gia,conservBandwidthMargin:t.$ja,switchConfigBasedOnInSessionTput:t.$wa,conservBandwidthMarginTputThreshold:t.hU,conservBandwidthMarginCurve:t.aka,switchAlgoBasedOnHistIQR:t.w$a,switchConfigBasedOnThroughputHistory:t.kE,maxPlayerStateToSwitchConfig:t.mra,lowEndMarkingCriteria:t.Mqa,IQRThreshold:t.Ica,histIQRCalcToUse:t.Moa,maxTotalBufferLevelPerSession:t.ru,highWatermarkLevel:t.VZa,toStableThreshold:t.cab,toUnstableThreshold:t.naa,skipBitrateInUpswitch:t.swa,watermarkLevelForSkipStart:t.qya,highStreamRetentionWindow:t.Goa,lowStreamTransitionWindow:t.Nqa,highStreamRetentionWindowUp:t.Ioa,lowStreamTransitionWindowUp:t.Pqa,highStreamRetentionWindowDown:t.Hoa,lowStreamTransitionWindowDown:t.Oqa,highStreamInfeasibleBitrateFactor:t.Foa,lowestBufForUpswitch:t.Zz,lockPeriodAfterDownswitch:t.V7,lowWatermarkLevel:t.Rqa,lowestWaterMarkLevel:t.$z,lowestWaterMarkLevelBufferRelaxed:t.Sqa,mediaRate:t.xra,maxTrailingBufferLen:t.i8,audioBufferTargetAvailableSize:t.ET,videoBufferTargetAvailableSize:t.RZ,maxVideoTrailingBufferSize:t.I2a,maxAudioTrailingBufferSize:t.p2a,fastUpswitchFactor:t.l5,fastDownswitchFactor:t.Yla,maxMediaBufferAllowed:t.gA,simulatePartialBlocks:t.qwa,simulateBufferFull:t.u9a,considerConnectTime:t.bka,connectTimeMultiplier:t.Zja,lowGradeModeEnterThreshold:t.M1a,lowGradeModeExitThreshold:t.N1a,maxDomainFailureWaitDuration:t.s2a,maxAttemptsOnFailure:t.o2a,exhaustAllLocationsForFailure:t.LVa,maxNetworkErrorsDuringBuffering:t.y2a,maxBufferingTimeAllowedWithNetworkError:t.c8,fastDomainSelectionBwThreshold:t.TVa,throughputProbingEnterThreshold:t.I$a,throughputProbingExitThreshold:t.J$a,locationProbingTimeout:t.z1a,finalLocationSelectionBwThreshold:t.aWa,throughputHighConfidenceLevel:t.G$a,throughputLowConfidenceLevel:t.H$a,locationStatisticsUpdateInterval:t.zqa,enablePerfBasedLocationSwitch:t.mVa,probeServerWhenError:t.Ju,probeRequestTimeoutMilliseconds:t.Sta,allowSwitchback:t.Ay,probeDetailDenominator:t.mI,maxDelayToReportFailure:t.d8,countGapInBuffer:t.cTa,bufferThresholdForAbort:t.rRa,allowCallToStreamSelector:t.$Pa,pipelineScheduleTimeoutMs:t.nta,maxPartialBuffersAtBufferingStart:t.hA,maxActiveRequestsSABCell100:t.a8,maxStreamingSkew:t.pra,maxPendingBufferPercentage:t.kra,headerRequestSize:t.G6,estimateHeaderSize:t.Ola,minBufferLenForHeaderDownloading:t.TW,reserveForSkipbackBufferMs:t.XO,numExtraFragmentsAllowed:t.psa,pipelineEnabled:t.zq,maxParallelConnections:t.RN,socketReceiveBufferSize:t.D9a,audioSocketReceiveBufferSize:t.s3,videoSocketReceiveBufferSize:t.UP,headersSocketReceiveBufferSize:t.Doa,updatePtsIntervalMs:t.Faa,bufferTraceDenominator:t.Ria,bufferLevelNotifyIntervalMs:t.ML,aseReportDenominator:t.GL,aseReportIntervalMs:t.n3,enableAbortTesting:t.oBb,abortRequestFrequency:t.bqb,streamingStatusIntervalMs:t.Rwa,prebufferTimeLimit:t.vA,minBufferLevelForTrackSwitch:t.y8,penaltyFactorForLongConnectTime:t.fta,longConnectTimeThreshold:t.Kqa,additionalBufferingLongConnectTime:t.Qha,additionalBufferingPerFailure:t.Rha,rebufferCheckDuration:t.eY,enableLookaheadHints:t.jVa,lookaheadFragments:t.J1a,enableOCSideChannel:t.jz,OCSCBufferQuantizationConfig:t.M0,updateDrmRequestOnNetworkFailure:t.Pab,deferAseScheduling:t.dUa,maxDiffAudioVideoEndPtsMs:t.r2a,defaultHeaderCacheSize:t.y4,defaultHeaderCacheDataPrefetchMs:t.x4,neverWipeHeaderCache:t.RH,networkFailureResetWaitMs:t.Yra,networkFailureAbandonMs:t.Xra,maxThrottledNetworkFailures:t.h8,throttledNetworkFailureThresholdMs:t.gaa,lowThroughputThreshold:t.Qqa,excludeSessionWithoutHistoryFromLowThroughputThreshold:t.Sla,mp4ParsingInNative:t.s3a,sourceBufferInOrderAppend:t.F9a,requireAudioStreamToEncompassVideo:t.WD,allowAudioToStreamPastVideo:t.ZPa,enableManagerDebugTraces:t.ji,managerDebugMessageInterval:t.$1a,managerDebugMessageCount:t.Z1a,bufferThresholdToSwitchToSingleConnMs:t.Qia,bufferThresholdToSwitchToParallelConnMs:t.Pia,netIntrStoreWindow:t.oPb,minNetIntrDuration:t.MOb,fastHistoricBandwidthExpirationTime:t.GCb,bandwidthExpirationTime:t.ysb,failureExpirationTime:t.DCb,historyTimeOfDayGranularity:t.VIb,expandDownloadTime:t.qCb,minimumMeasurementTime:t.YOb,minimumMeasurementBytes:t.XOb,throughputMeasurementTimeout:t.C_b,initThroughputMeasureDataSize:t.VJb,throughputMeasureWindow:t.B_b,throughputIQRMeasureWindow:t.A_b,IQRBucketizerWindow:t.ahb,connectTimeHalflife:t.Fvb,responseTimeHalflife:t.jWb,historicBandwidthUpdateInterval:t.UIb,throughputWarmupTime:t.G_b,minimumBufferToStopProbing:t.WOb,throughputPredictor:t.D_b,ase_stream_selector:t.Erb,enableFilters:t.sBb,filterDefinitionOverrides:t.XCb,defaultFilter:t.vzb,secondaryFilter:t.PWb,defaultFilterDefinitions:t.wzb,initBitrateSelectorAlgorithm:t.gpa,bufferingSelectorAlgorithm:t.Wia,ase_ls_failure_simulation:t.RTa,ase_dump_fragments:t.Gka,ase_location_history:t.Ika,ase_throughput:t.Jka,ase_simulate_verbose:t.TTa,secondThroughputEstimator:t.zva,secondThroughputMeasureWindowInMs:t.k8a,marginPredictor:t.cra,networkMeasurementGranularity:t.Zra,HistoricalTDigestConfig:t.xDa,maxIQRSamples:t.v2a,minIQRSamples:t.g3a,periodicHistoryPersistMs:t.B9,saveVideoBitrateMs:t.t$,needMinimumNetworkConfidence:t.bX,biasTowardHistoricalThroughput:t.Jia,maxFastPlayBufferInMs:t.ira,maxFastPlayBitThreshold:t.hra,minAudioMediaRequestDuration:t.Kw,minVideoMediaRequestDuration:t.lA,minAudioMediaRequestDurationCache:t.Kw,minVideoMediaRequestDurationCache:t.lA,addHeaderDataToNetworkMonitor:t.Jha,hindsightDenominator:t.Loa,hindsightDebugDenominator:t.Koa,hindsightParam:t.K6,minimumTimeBeforeBranchDecision:t.BD,enableSessionHistoryReport:t.UU,earlyStageEstimatePeriod:t.ula,lateStageEstimatePeriod:t.i1a,maxNumSessionHistoryStored:t.f8,minSessionHistoryDuration:t.E8,appendMediaRequestOnComplete:t.pQa,waitForDrmToAppendMedia:t.Vaa,forceAppendHeadersAfterDrm:t.u5,startMonitorOnLoadStart:t.Bwa,reportFailedRequestsToNetworkMonitor:t.Tua,reappendRequestsOnSkip:t.BUb,maxActiveRequestsPerSession:t.Fw,limitAudioDiscountByMaxAudioBitrate:t.uqa,appendFirstHeaderOnComplete:t.$ha,maxAudioFragmentOverlapMs:0,editVideoFragments:t.eBb,declareBufferingCompleteAtSegmentEnd:t.Kka,applyProfileTimestampOffset:t.fG,applyProfileStreamingOffset:t.fm,requireDownloadDataAtBuffering:t.j$,requireSetupConnectionDuringBuffering:t.k$,recordFirstFragmentOnSubBranchCreate:t.yua,earlyAppendSingleChildBranch:t.P4,selectStartingVMAFMethod:t.cP,activateSelectStartingVMAF:t.uT,minStartingVideoVMAF:t.uu,minAcceptableVMAF:t.SW,minAllowedVmaf:t.KH,alwaysNotifyEOSForPlaygraph:t.qrb,enableNewAse:t.TU,useNewApi:t.Iaa,enableCombinedPlaygraphs:t.wla,enableDiscontiguousBuffering:t.R4,forceImmediateTransitionTypeForTitles:t.Ama,forceImmediateTransitionExitZone:t.zma,useBufferSizeLimiter:t.Wxa,enableHudsonFieldTest:t.wBb,hudsonTitles:t.jJb,maxPartialBuffersAtHudson:t.SNb,numberOfChunksPerSegment:t.dQb,targetContentLatency:t.o_b,targetLongContentLatency:t.p_b,minimumTimeDelay:t.ZOb,enableWsslEstimate:t.Bla,maxAllowedOutstandingRequests:t.b8,alwaysRunUnderflowTimer:t.BL,minStreamableConcurrencyWindow:t.Lra,streamableConcurrencyFactor:t.Nwa,bufferingConcurrencyWindow:t.VT,singleStreamablePerBranch:t.QYb,enableResolutionVMAFStreamFilter:t.U4,resolutionVMAFCappingRuleList:t.o$,percentCapTitlesForResolutionVMAFStreamFilter:t.hta,useExitZones:t.Xxa,perFragmentVMAFConfig:t.tA,enableInitialTputLogging:t.S4,maxResponsesInitialTput:t.ora}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.aca=void 0,(e.aca||(e.aca={})).gjb="PboDebugEvent",e.dBa={Jhb:"Manifest",Event:"Event",N5b:"Logblob"}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lR="LicenseProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.PJ=void 0,e.PJ=function(){return""}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fca=e.wBa=void 0,e.wBa=function(){this.Wb=0,this.Mb=1,this.Pfb=2,this.og=function(){}},e.fca="DownloadTrackConstructorFactorySymbol"},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.wc=void 0,e.wc=i,i.Le={OGa:"mr1",NGa:"mr2",PGa:"mr3",CR:"mr4",jib:"mr5",bF:"mr6"},i.Sc={UNSENT:0,OPENED:1,Tx:2,Sx:3,DONE:5,OJ:6,hQ:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")},i.$_={NO_ERROR:-1,Jeb:0,UAa:1,Veb:2,Neb:3,Mdb:4,Xza:5,Vza:6,Ndb:7,Odb:8,Pdb:9,Jdb:10,Ldb:11,Wza:12,Kdb:13,Idb:14,Xfb:15,lDa:16,kDa:17,yca:18,Aca:19,zca:20,oDa:21,Zfb:22,r0:23,mDa:24,Yfb:25,Qeb:26,Keb:27,Rjb:28,Aeb:29,Beb:30,Ceb:31,Deb:32,Eeb:33,Feb:34,Geb:35,Heb:36,Ieb:37,Leb:38,Meb:39,Oeb:40,Peb:41,Reb:42,Seb:43,Teb:44,Ueb:45,Web:46,Xeb:47,Qjb:48,TIMEOUT:49,hDa:50,iDa:51,Wfb:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")},i.pc={wY:{ncb:!0,SR:!1,Whb:!0}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.U0="PboPublisherSymbol"},function(e,i,n){var r,o,a,s,u,c,h,f,l;Object.defineProperty(i,"__esModule",{value:!0}),i.gk=void 0,r=n(12),o=n(14),e=n(3),a=n(21),s=n(8),u=n(479),c=n(11),h=n(31),f=n(34),(l=s.ka.get(h.fh)).register(e.M.Hca,(function(e){var n,h,d,p;n=s.ka.get(f.Hk),a.hb(o.config),a.hb(c.wB&&c.wB.getDeviceId||c.F0||n.PM),h=s.ka.get(u.nBa),d=s.Oi("Device"),l.Dd("devs"),p=s.ka.get(f.yB),h.create({deviceId:o.config.deviceId,PM:n.PM,nUa:"deviceid",Vk:o.config.Vk,Fo:p.a0,BU:n.BU,userAgent:c.xB,Cqa:o.config.Cqa,ena:o.config.ena,cAb:p.Tba||!1,nsb:o.config.TQa.e,dbc:o.config.nw?"mslstoretest":"mslstore",rJ:o.config.rJ}).then((function(n){i.gk=n,t._cad_global.device=i.gk,d.info("Esn source: "+i.gk.b5),l.Dd("devdone"),e(r.Ye)})).catch((function(t){t.$=void 0,e(t)}))}))},function(e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof t&&(i=t)}e.exports=i},function(t,e){var i;function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.KE=void 0,i=/^\S+$/,n.prototype.EG=function(t){return void 0!==t},n.prototype.Gg=function(t){return null!=t},n.prototype.CL=function(t){return n.eQa(t)},n.prototype.xha=function(t){return!(!t||!n.eQa(t))},n.prototype.By=function(t){return Array.isArray(t)},n.prototype.fQa=function(t){return!(!t||t.constructor!=Uint8Array)},n.prototype.Ii=function(t,e,i){return n.pPa(t,e,i)},n.prototype.wha=function(t){return n.wha(t)},n.prototype.Yha=function(t,e,i){return n.h3(t,e,i)&&0==t%1},n.prototype.yT=function(t,e,i){return n.h3(t,e||0,i)},n.prototype.qT=function(t){return n.h3(t,1)},n.prototype.$pb=function(t){return n.h3(t,0,255)},n.prototype.aqb=function(t){return t===+t&&(0===t||t!==(0|t))&&!0},n.prototype.gQa=function(t){return!(!t||!i.test(t))},n.prototype.Ip=function(t){return n.qPa(t)},n.prototype.kn=function(t){return!(!n.qPa(t)||!t)},n.prototype.pT=function(t){return!0===t||!1===t},n.prototype.Y2=function(t){return"function"==typeof t},n.qPa=function(t){return"string"==typeof t},n.pPa=function(t,e,i){return"number"==typeof t&&!isNaN(t)&&isFinite(t)&&(void 0===e||t>=e)&&(void 0===i||t<=i)},n.wha=function(t){return"number"==typeof t&&isNaN(t)},n.h3=function(t,e,i){return n.pPa(t,e,i)&&0==t%1},n.eQa=function(t){return"object"==typeof t},e.KE=new n},function(t,e,i){var n,r,o,a,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.cc=void 0,t=i(0),n=i(94),r=i(587),o=i(202),a=i(603),s=i(610),u=i(621),i=i(1253),e.cc=new t.G_({OI:!0}),u.s1a(e.cc),e.cc.load(r.platform),e.cc.load(a.config),o.vM.load(s.YUa),e.cc.load(i.lQa),e.cc.load(i.profile),e.cc.bind(n.nEa).$i(e.cc)},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(198),t=function(){function t(t){this.Ec=t}return t.prototype.Mw=function(t){return this.Ec.Mw=t,new n.Hba(this.Ec)},t}(),e.y_=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(197),i(313),t=function(){function t(t){this.Ec=t}return t.prototype.when=function(t){return this.Ec.uG=t,new n.y_(this.Ec)},t.prototype.$Z=function(){return this.Ec.uG=function(t){return null!==t.target&&!t.target.Epa()&&!t.target.Rpa()},new n.y_(this.Ec)},t}(),e.Hba=t},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.sx=void 0,e.sx=i,i.fjb="PSK",i.shb="MGK",i.uEa="JWEJS_RSA",i.x0="JWK_RSA"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Wda="PlatformEmeSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Mea="StringUtilsSymbol"},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;Object.defineProperty(e,"__esModule",{value:!0}),e.vM=e.eme=void 0,t=i(0),n=i(122),r=i(316),o=i(203),a=i(204),s=i(598),u=i(599),c=i(70),h=i(138),f=i(600),l=i(166),d=i(601),e.eme=new t.rd((function(t){t(r.ABa).to(o.zBa).aa(),t(a.Nba).to(s.eAa).aa(),t(n.X_).wZ(u.p6a),t(c.Vs).nE((function(t){return e.vM.parent=t.$a,e.vM.get(c.Vs)})),t(h.uR).wf((function(){return function(){return new f.cGa}})),t(l.C_).to(d.gAa).aa})),e.vM=new t.G_({OI:!0})},function(t,e,i){function n(){}function r(t){t?(this.active=!1,this.Jma(t)):this.active=!0}Object.defineProperty(e,"__esModule",{value:!0}),e.zBa=e.W_=void 0,t=i(1),i=i(0),r.prototype.Jma=function(t){this.we=t.keySessionData?t.keySessionData.map((function(t){return{id:t.id,BH:t.licenseContextId,zW:t.licenseId}})):[],this.ba=t.xid,this.J=t.movieId},r.prototype.gx=function(){return JSON.parse(JSON.stringify({keySessionData:this.we?this.we.map((function(t){return{id:t.id,licenseContextId:t.BH,licenseId:t.zW}})):[],xid:this.ba,movieId:this.J}))},e.W_=r,n.prototype.create=function(){return new r},n.prototype.load=function(t){return new r(t)},i=t.__decorate([i.R()],n),e.zBa=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Nba="CachedDrmDataSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Jx='video/mp4; codecs="avc1.640028"',e.$J='audio/mp4; codecs="mp4a.40.5"',e.kfb="DrmTraitsSymbol"},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i,n,r,a){this.aX=t,this.is=e,this.Uc=i,this.ce=n,this.Zp=r,this.Sh=a,o.Qo(this,"nav")}Object.defineProperty(e,"__esModule",{value:!0}),e.Av=void 0,t=i(1),r=i(0),o=i(56),a=i(3),s=i(39),u=i(27),c=i(95),h=i(29),f=i(36),l=i(69),i=i(78),p.prototype.vz=function(){if(this.rb)return this.rb.sessionId},p.prototype.PVb=function(t,e){return this.aX.requestMediaKeySystemAccess(t,e)},p.prototype.createMediaKeys=function(t){return t.createMediaKeys()},p.prototype.createSession=function(t,e){this.rb=t.createSession(e)},p.prototype.k4=function(){return Promise.reject(new c.Ng(a.M.Z_))},p.prototype.eLb=function(){return!!this.rb},p.prototype.setServerCertificate=function(t,e){return this.is.Y2(t.setServerCertificate)?t.setServerCertificate(e):Promise.resolve()},p.prototype.generateRequest=function(t,e){return this.rb?this.rb.generateRequest(t,e[0]):Promise.reject(new c.Ng(a.M.Z_,a.L.MJ,void 0,"Unable to generate a license request, key session is not valid"))},p.prototype.update=function(t){return this.rb?this.rb.update(t[0]):Promise.reject(new c.Ng(a.M.UBa,a.L.MJ,void 0,"Unable to update the EME with a response, key session is not valid"))},p.prototype.load=function(t){return this.rb?this.rb.load(t):Promise.reject(new c.Ng(a.M.sfb,a.L.MJ,void 0,"Unable to load a key session, key session is not valid"))},p.prototype.close=function(){var t;return this.Nja=void 0,this.rb?(t=Promise.resolve(),this.vz()&&(t=this.rb.close()),this.rb=void 0,t):Promise.reject(new c.Ng(a.M.MBa,a.L.MJ,void 0,"Unable to close a key session, key session is not valid"))},p.prototype.remove=function(){return this.rb?this.rb.remove():Promise.reject(new c.Ng(a.M.tfb,a.L.MJ,void 0,"Unable to remove a key session, key session is not valid"))},p.prototype.rI=function(){return Promise.reject(new c.Ng(a.M.ica,void 0,"Unable to renew a key session, not supported"))},p.prototype.GPa=function(t){if(!this.rb)throw ReferenceError("Unable to add message handler, key session is not valid");this.rb.addEventListener(n.YBa,t)},p.prototype.BPa=function(t){if(!this.rb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.rb.addEventListener(n.XBa,t)},p.prototype.zPa=function(t){if(!this.rb)throw ReferenceError("Unable to add error handler, key session is not valid");this.rb.addEventListener(n.WBa,t)},p.prototype.pqb=function(t){var e;if(e=this,!this.rb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Nja=t,this.rb.closed.then((function(){var t;return null===(t=e.Nja)||void 0===t?void 0:t.call(e)}))},p.prototype.f7a=function(t){if(!this.rb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.rb.removeEventListener(n.YBa,t)},p.prototype.d7a=function(t){if(!this.rb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.rb.removeEventListener(n.XBa,t)},p.prototype.b7a=function(t){if(!this.rb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.rb.removeEventListener(n.WBa,t)},(d=n=p).YBa="message",d.XBa="keystatuseschange",d.WBa="error",d=n=t.__decorate([r.R(),t.__param(0,r.l(s.eK)),t.__param(1,r.l(u.bg)),t.__param(2,r.l(f.Ci)),t.__param(3,r.l(h.cg)),t.__param(4,r.l(l.sv)),t.__param(5,r.l(i.Bv))],d),e.Av=d},function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.upa=e.rv=void 0,(i=e.rv||(e.rv={})).ibb="usable",i.Ot="expired",i.released="released",i.H4a="output-restricted",i.ARb="output-downscaled",i.nZb="status-pending",i.iKb="internal-error",e.upa=function(t){return!!t&&!!t.keyStatuses}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.o1="TimeoutMonitorFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.$m="_ANY_",e.mCa="EnricherSymbol"},function(t,e,i){var n,r,o;function a(t,e,i,n){this.Aa=t,this.H3=e,this.Un=i,this.Ao=void 0===n?"General":n,this.Qja={}}Object.defineProperty(e,"__esModule",{value:!0}),e.YJ=void 0,n=i(7),r=i(340),o=i(650),a.prototype.wPa=function(t,e){this.Qja[t]=e},a.prototype.fatal=function(t,e){for(var i=[],r=1;r<arguments.length;++r)i[r-1]=arguments[r];this.iC(n.Nj.Cfb,t,this.SP(t,i))},a.prototype.error=function(t,e){for(var i=[],r=1;r<arguments.length;++r)i[r-1]=arguments[r];this.iC(n.Nj.Mf,t,this.SP(t,i))},a.prototype.warn=function(t,e){for(var i=[],r=1;r<arguments.length;++r)i[r-1]=arguments[r];this.iC(n.Nj.afa,t,this.SP(t,i))},a.prototype.info=function(t,e){for(var i=[],r=1;r<arguments.length;++r)i[r-1]=arguments[r];this.iC(n.Nj.Fca,t,this.SP(t,i))},a.prototype.trace=function(t,e){for(var i=[],r=1;r<arguments.length;++r)i[r-1]=arguments[r];this.iC(n.Nj.aLa,t,this.SP(t,i))},a.prototype.debug=function(t,e){for(var i=1;i<arguments.length;++i);},a.prototype.log=function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];this.debug.apply(this,[t].concat(y(i)))},a.prototype.write=function(t,e,i){for(var n=[],r=2;r<arguments.length;++r)n[r-2]=arguments[r];this.iC(t,e,this.SP(e,n))},a.prototype.toString=function(){return JSON.stringify(this)},a.prototype.toJSON=function(){return{category:this.Ao}},a.prototype.oka=function(t){return new a(this.Aa,this.H3,this.Un,t)},a.prototype.iC=function(t,e,i){for(t=new r.Wca(t,this.Ao,this.Aa.Yb(),e,i),i=(e=v(this.Un.Un)).next();!i.done;i=e.next())(i=i.value)(t)},a.prototype.VEb=function(t){return 0<Object.keys(this.Qja).length?[this.Qja].concat(y(t)):t},a.prototype.SP=function(t,e){var i;return t&&"null"!==t&&"undefined"!==t||e.push({StackTrace:null!==(i=Error("Empty message").stack)&&void 0!==i?i:"nostack"}),o.yRa(this.H3,this.VEb(e))},e.YJ=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Eea="SegmentManagerFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Qda="PboPlaydataFactorySymbol"},function(t,e){function i(t){return"globalAudioMemoryLimit"===t||"globalVideoMemoryLimit"===t?"global":("staticAudioMemoryLimit"===t||"staticVideoMemoryLimit"===t)&&"static"}Object.defineProperties(e,{__esModule:{value:!0}}),e.AZb=e.J6a=e.tua=void 0,e.tua=function(t){return"globalMemoryLimit"===t?"global":"staticMemoryLimit"===t?"static":i(t)},e.J6a=i,e.AZb=function(t){return"IStreamable: "+t.identifier+" ["+t.mediaType+"] "+t.groupId+" p:"+JSON.stringify(t.$g)+" sp:"+t.LA+" pssp:"+t.RX+" state:"+t.Cf+" path-complete:"+t.sA+" streaming:"+t.Cs+" current:"+t.Er}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.T2a=e.s8=e.zf=void 0,e.zf=[0,1],e.s8=function(t,e){return t||e?e?[1]:[0]:[0,1]},e.T2a=function(t){return 0===t?"audio":1===t?"video":"unknown"}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.zda=void 0,t=function(){function t(t,e,i,n){var r;r=this,this.properties=t,this.transform=e,this.YT=i,this.state=n,this.Jsa=function(){var t,e;t=r.state,e=r.properties.map((function(t){return t.value})),r.state=r.transform(e),(r.a0a(r.state)&&r.a0a(t)?r.state.equal(t):t===r.state)||r.YT(r.state)},t.forEach((function(t){return t.addListener(r.Jsa)})),this.Jsa()}return t.prototype.clear=function(){var t;t=this,this.properties.forEach((function(e){return e.removeListener(t.Jsa)}))},t.prototype.a0a=function(t){return void 0!==t.equal},t}(),e.zda=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.Jj=void 0,(t=e.Jj||(e.Jj={}))[t.CLOSED=0]="CLOSED",t[t.OPEN=1]="OPEN",t[t.ej=2]="STREAMING"},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.pF=void 0,t=function(){function t(t){this.NOa=t}return Object.defineProperties(t.prototype,{wN:{get:function(){return this.Mmb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{result:{get:function(){return this.NOa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{iva:{get:function(){var t;return t=this,this.NOa.then((function(){return t}))},enumerable:!1,configurable:!0}}),t.prototype.cancel=function(){this.Mmb=!0},t.prototype.Esa=function(t,e){var i;return i=this,this.result.then((function(n){i.wN?e&&e(n):t(n)})),this},t}(),e.pF=t},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.GJ=void 0,t=i(2),n=i(170),r=t.__importDefault(i(220)),o=t.__importDefault(i(762)),a=t.__importDefault(i(144)),s=i(5),e.GJ=function(){function t(t,e){var i;i=this,this.Kh=new r.default(t,e),this.In=new o.default(t),this.Qb=new a.default(this.In,this.Kh,t),n.ux.Evb(t),t.B9&&setInterval((function(){i.Kh.save(),i.In.save()}),t.B9)}return t.DYa=function(e,i){return void 0===u?(t.config=e,t.mE=i,u=new t(e,i)):(s.assert(t.config===e),s.assert(t.mE===i)),u},t.reset=function(){t.config=void 0,u=t.mE=void 0},t}()},function(t,e,i){var n;function r(t,e,i){this.qM=!1===t,this.mM=t||.01,this.Oca=void 0===e?25:e,this.cAa=void 0===i?1.1:i,this.Mi=new n(o),this.reset()}function o(t,e){return t.qg>e.qg?1:t.qg<e.qg?-1:0}function a(t,e){return t.Hw-e.Hw}function s(t){this.config=t||{},this.mode=this.config.mode||"auto",r.call(this,"cont"===this.mode&&t.mM),this.eAb=this.config.ratio||.9,this.fAb=this.config.Gcc||1e3,this.M8=0}n=i(744).xjb,r.prototype.reset=function(){this.Mi.clear(),this.rqa=this.n=0},r.prototype.size=function(){return this.Mi.size},r.prototype.fp=function(t){var e;return e=[],t?(this.N1(!0),this.Mi.mf((function(t){e.push(t)}))):this.Mi.mf((function(t){e.push({qg:t.qg,n:t.n})})),e},r.prototype.summary=function(){return[(this.qM?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.wj(0),"Q1  = "+this.wj(.25),"Q2  = "+this.wj(.5),"Q3  = "+this.wj(.75),"max = "+this.wj(1)].join("\n")},r.prototype.push=function(t,e){e=e||1,t=Array.isArray(t)?t:[t];for(var i=0;i<t.length;i++)this.SMa(t[i],e)},r.prototype.fua=function(t){t=Array.isArray(t)?t:[t];for(var e=0;e<t.length;e++)this.SMa(t[e].qg,t[e].n)},r.prototype.N1=function(t){var e;this.n===this.rqa||!t&&this.cAa&&this.cAa>this.n/this.rqa||(e=0,this.Mi.mf((function(t){t.Hw=e+t.n/2,e=t.eM=e+t.n})),this.n=this.rqa=e)},r.prototype.nDb=function(t){var e,i;return 0===this.size()?null:(i=null===(e=this.Mi.lowerBound({qg:t})).data()?e.lI():e.data()).qg===t||this.qM?i:(e=e.lI())&&Math.abs(e.qg-t)<Math.abs(i.qg-t)?e:i},r.prototype.gL=function(t,e,i){this.Mi.qq({qg:t,n:e,eM:i}),this.n+=e},r.prototype.y1=function(t,e,i){e!==t.qg&&(t.qg+=i*(e-t.qg)/(t.n+i)),t.eM+=i,t.Hw+=i/2,t.n+=i,this.n+=i},r.prototype.SMa=function(t,e){var i,n,r;i=this.Mi.min(),n=this.Mi.max(),(r=this.nDb(t))&&r.qg===t?this.y1(r,t,e):r===i?this.gL(t,e,0):r===n?this.gL(t,e,this.n):this.qM?this.gL(t,e,r.eM):(i=r.Hw/this.n,Math.floor(4*this.n*this.mM*i*(1-i))-r.n>=e?this.y1(r,t,e):this.gL(t,e,r.eM)),this.N1(!1),!this.qM&&this.Oca&&this.size()>this.Oca/this.mM&&this.Ty()},r.prototype.Wsb=function(t){var e,i;return this.Mi.cn=a,e=this.Mi.upperBound({Hw:t}),this.Mi.cn=o,[i=e.lI(),t=i&&i.Hw===t?i:e.next()]},r.prototype.wj=function(t){var e;return e=(Array.isArray(t)?t:[t]).map(this.uob,this),Array.isArray(t)?e:e[0]},r.prototype.uob=function(t){var e,i;if(0!==this.size())return this.N1(!0),this.Mi.min(),this.Mi.max(),t*=this.n,i=(e=this.Wsb(t))[0],(e=e[1])===i||null===i||null===e?(i||e).qg:this.qM?t<=i.eM?i.qg:e.qg:i.qg+(t-i.Hw)*(e.qg-i.qg)/(e.Hw-i.Hw)},r.prototype.Ty=function(){var t;if(!this.ISa){for(t=this.fp(),this.reset(),this.ISa=!0;0<t.length;)this.fua(t.splice(Math.floor(Math.random()*t.length),1)[0]);this.N1(!0),this.ISa=!1}},s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.push=function(t){r.prototype.push.call(this,t),this.Fub()},s.prototype.gL=function(t,e,i){this.M8+=1,r.prototype.gL.call(this,t,e,i)},s.prototype.y1=function(t,e,i){1===t.n&&--this.M8,r.prototype.y1.call(this,t,e,i)},s.prototype.Fub=function(){!("auto"!==this.mode||this.size()<this.fAb)&&this.M8/this.size()>this.eAb&&(this.mode="cont",this.qM=!1,this.mM=this.config.mM||.01,this.Ty())},t.exports={TDigest:r,Digest:s}},function(t,e,i){var n,r,o,a,s,u;function c(t){var e;e=t.Ufa,this.I=t,this.Sj=r.Nf.HAVE_NOTHING,this.OK=t.OK,t=new s(this.OK),this.kT=t.create("throughput-location-history",e),this.qy=t.create("respconn-location-history",e),this.iy=t.create("respconn-location-history",e),this.O2=t.create("throughput-tdigest-history",e),this.f2=t.create("throughput-iqr-history",e),this.tb=null}function h(t,e,i,n,r){for(this.OB=new c(r),this.pt=[],this.mnb=o.time.ea()-Date.now()%864e5,this.fy=null,this.I=r,t=0;t<n;++t)this.pt.push(new c(r))}function f(t,e,i){return n.has(t,e)?t[e]:t[e]=i}function l(t,e){var i;this.I=t,this.cPa=e,this.hCb(),this.CS=new c(this.I),this.MS(),(i=t.Ika)&&(i={confidence:r.Nf.RJ,Ra:{Ga:parseInt(i,10),aj:0},Aj:{Ga:0,aj:0},gu:{Ga:0,aj:0}},this.get=function(){return i})}n=i(10),r=i(28).default,e=i(9),o=i(6).default,a=e.NCa,s=i(361).ECa,new o.Console("ASEJS_LOCATION_HISTORY","media|asejs"),u={confidence:r.Nf.HAVE_NOTHING},c.prototype.cG=function(t,e){this.Sj=e,this.kT.add(t),this.O2.add(t),this.tb=o.time.ea()},c.prototype.qJ=function(t,e){this.f2.set(t,e)},c.prototype.zy=function(t){this.qy.add(t)},c.prototype.xy=function(t){this.iy.add(t)},c.prototype.getState=function(){var t,e,i,r,a,s;return t=this.kT.getState(),e=this.qy.getState(),i=this.iy.getState(),r=this.f2.getState(),a=this.O2.getState(),n.Bb(t)&&n.Bb(e)&&n.Bb(i)?null:(s={c:this.Sj,t:o.time.Rra(this.tb)},n.Bb(t)||(s.tp=t),n.Bb(e)||(s.rt=e),n.Bb(i)||(s.hrt=i),n.Bb(r)||(s.iqr=r),n.Bb(a)||(s.td=a),s)},c.prototype.Ve=function(t){var e;return e=o.time.now(),!(t&&n.has(t,"c")&&n.has(t,"t")&&n.has(t,"tp")&&n.isFinite(t.c)&&n.isFinite(t.t))||0>t.c||t.c>r.Nf.RJ||t.t>e||!this.kT.Ve(t.tp)?(this.Sj=r.Nf.HAVE_NOTHING,this.fy=this.tb=null,this.kT.Ve(null),this.qy.Ve(null),this.iy.Ve(null),!1):(this.Sj=t.c,this.tb=o.time.osa(t.t),this.qy.Ve(n.has(t,"rt")?t.rt:null),this.iy.Ve(n.has(t,"hrt")?t.hrt:null),n.has(t,"iqr")&&this.f2.Ve(t.iqr),n.has(t,"td")&&this.O2.Ve(t.td),!0)},c.prototype.get=function(){var t,e,i,s,c,h;return t=this.I,n.Bb(this.tb)?u:((e=(o.time.ea()-this.tb)/1e3)>t.Gmb?this.Sj=r.Nf.HAVE_NOTHING:e>t.hmb&&(this.Sj=Math.min(this.Sj,r.Nf.pB)),t=this.kT.get(),i=this.qy.get(),s=this.iy.get(),c=this.f2.get(),h=this.O2.get(),e={em:e,confidence:this.Sj,Ra:t,Aj:i,gu:s,hu:c,Dk:h},t&&(e.Icc=a.prototype.Gta.bind(t)),i&&(e.Vbc=a.prototype.Gta.bind(i)),s&&(e.Q$b=a.prototype.Gta.bind(s)),e)},c.prototype.time=function(){return this.tb},h.prototype.Me=function(){return((o.time.ea()-this.mnb)/1e3/3600/(24/this.pt.length)|0)%this.pt.length},h.prototype.getState=function(){var t;return t={g:this.OB.getState(),h:this.pt.map((function(t){return t.getState()}))},n.Bb(this.fy)||(t.f=o.time.Rra(this.fy)),t},h.prototype.Ve=function(t){var e,i;return!!this.OB.Ve(t.g)&&(e=this.pt.length,i=!1,this.pt.forEach((function(n,r){i=!n.Ve(t.h[r*t.h.length/e|0])||i})),this.fy=n.has(t,"f")?o.time.osa(t.f):null,i)},h.prototype.cG=function(t,e){this.OB.cG(t,e),this.pt[this.Me()].cG(t,e),this.fy=null},h.prototype.qJ=function(t,e){this.OB.qJ(t,e),this.pt[this.Me()].qJ(t,e)},h.prototype.zy=function(t){this.OB.zy(t),this.pt[this.Me()].zy(t)},h.prototype.xy=function(t){this.OB.xy(t),this.pt[this.Me()].xy(t)},h.prototype.fail=function(t){this.fy=t},h.prototype.get=function(){var t,e;if(!n.Bb(this.fy)){if((o.time.ea()-this.fy)/1e3<this.I.gmb)return{confidence:r.Nf.HAVE_NOTHING,Pt:!0};this.fy=null}return t=this.pt[this.Me()].get(),e=this.OB.get(),(t=t.confidence>=e.confidence?t:e).Pt=!1,t},h.prototype.time=function(){return this.OB.time()},l.prototype.mNa=function(t,e){var i;return i=this.I,t=f(this.GS,t,{}),f(t,e,new h(i.ANa||14400,i.zNa||100,i.yNa||100,i.rOa||4,i))},l.prototype.MS=function(){var t,e;t=o.storage.get("lh"),e=o.storage.get("gh"),t&&this.eha(t),e&&this.qpb(e)},l.prototype.bga=function(){var t;return t={},n.mf(this.GS,(function(e,i){n.mf(e,(function(e,n){f(t,i,{})[n]=e.getState()}),this)}),this),t},l.prototype.qpb=function(t){this.CS.Ve(t)},l.prototype.eha=function(t){var e,i;return e=null,i=this.I,n.mf(t,(function(t,r){n.mf(t,(function(t,o){var a;(a=new h(i.ANa||14400,i.zNa||100,i.yNa||100,i.rOa||4,i)).Ve(t)?(f(this.GS,r,{})[o]=a,e=!0):n.Bb(e)&&(e=!1)}),this)}),this),!!n.Bb(e)||e},l.prototype.save=function(){var t;t=this.bga(),o.storage.set("lh",t),o.storage.set("gh",this.CS.getState()),this.cPa&&this.cPa.Wva(this.CS.getState())},l.prototype.hCb=function(){this.GS={},this.LK=this.OMa="",this.no=null},l.prototype.lP=function(t){this.OMa=t,this.no=null},l.prototype.K$=function(t){this.LK=t,this.no=null},l.prototype.a2=function(){return n.Bb(this.no)&&(this.no=this.mNa(this.OMa,this.LK)),this.no},l.prototype.cG=function(t,e){this.a2().cG(t,e),this.CS.cG(t,e)},l.prototype.qJ=function(t,e){t&&t.Jl&&t.uk&&t.Kl&&(this.a2().qJ(t,e),this.CS.qJ(t,e))},l.prototype.zy=function(t){this.a2().zy(t)},l.prototype.xy=function(t){this.a2().xy(t)},l.prototype.fail=function(t,e){this.mNa(t,this.LK).fail(e)},l.prototype.get=function(t,e){var i,o,a,s;return t=(t=this.GS[t])?t[this.LK]:null,i=null,t&&(i=t.get()).confidence>r.Nf.HAVE_NOTHING?i:!1===e?u:(o=i=null,a=!1,s=null,n.mf(this.GS,(function(t){n.mf(t,(function(t,e){var n;a&&e!=this.LK||(n=t.get())&&(!o||o<=n.confidence)&&(!s||o<n.confidence||s<t.time())&&(o=n.confidence,a=e==this.LK,s=t.time(),i=n)}),this)}),this),i||u)},t.exports=l},function(t,e,i){var n;function r(t){this.vL=t,this.reset()}function o(t){this.bk=new r(t),this.Ne=0,this.Tc=null}function a(t,e){this.vL=t,this.WNa=e,this.reset()}n=i(10),r.prototype.zOa=function(t,e){this.tb+=t,this.Tj+=t,this.Qc+=e,this.so.push({d:t,b:e})},r.prototype.ZS=function(){for(var t;this.Tj>this.vL;)t=this.so.shift(),this.Qc-=t.b,this.Tj-=t.d},r.prototype.reset=function(){this.so=[],this.tb=null,this.Tj=this.Qc=0},r.prototype.setInterval=function(t){this.vL=t,this.ZS()},r.prototype.start=function(t){n.Bb(this.tb)&&(this.tb=t)},r.prototype.add=function(t,e,i){n.Bb(this.tb)&&(this.tb=e),e>this.tb&&this.zOa(e-this.tb,0),this.zOa(i>this.tb?i-this.tb:0,t),this.ZS()},r.prototype.get=function(){return{Ga:Math.floor(8*this.Qc/this.Tj),aj:0}},o.prototype.reset=function(){this.bk.reset(),this.Ne=0,this.Tc=null},o.prototype.add=function(t,e,i){!n.Bb(this.Tc)&&i>this.Tc&&(e>this.Tc&&(this.Ne+=e-this.Tc),this.Tc=null),this.bk.add(t,e-this.Ne,i-this.Ne)},o.prototype.start=function(t){!n.Bb(this.Tc)&&t>this.Tc&&(this.Ne+=t-this.Tc,this.Tc=null),this.bk.start(t-this.Ne)},o.prototype.stop=function(t){this.Tc=n.Bb(this.Tc)?t:Math.min(t,this.Tc)},o.prototype.get=function(){return this.bk.get()},o.prototype.setInterval=function(t){this.bk.setInterval(t)},a.prototype.reset=function(){this.so=[],this.Qc=this.Tj=0},a.prototype.add=function(t,e,i,n){void 0!==n&&!0===n&&(e=i-e,this.Tj+=e,this.Qc+=t,this.so.push({d:e,b:t}),this.ZS())},a.prototype.ZS=function(){for(var t;this.Tj>this.vL||this.so.length>this.WNa;)t=this.so.shift(),this.Qc-=t.b,this.Tj-=t.d},a.prototype.start=function(){},a.prototype.stop=function(){},a.prototype.get=function(){return{Ga:Math.floor(8*this.Qc/this.Tj),aj:0}},a.prototype.setInterval=function(t,e){this.vL=t,this.WNa=e,this.ZS()},t.exports={b4b:r,efb:o,Bkb:a}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;Object.defineProperties(e,{__esModule:{value:!0}}),e.zba=void 0,n=i(2),r=i(17),o=i(774),t=i(83),a=i(775),s=i(801),u=i(804),c=i(235),h=i(16),f=n.__importDefault(i(6)),l=i(5),i(9),d=i(25),i(168),p=function(t){var e;e=t.t0a,t=t.xpa,this.LW=this.replace=e,this.Vg=t},i=function(t){function e(e,i){var o,h,l,d,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x;return o=i.Pb,h=i.oa,l=i.Wo,d=i.Bd,b=i.L2a,v=i.ii,y=i.config,g=i.QZa,m=i.VO,_=i.F5,w=i.Qb,E=i.Kh,k=i.iX,O=i.EVa,i=i.QI,(S=t.call(this)||this).W=e,S.H6=!1,S.CNa=[],S.UNa=[],S.Yh=[],S.DC=[],S.en=!1,S.Pb=o,S.PS=h,S.Wo=l,S.kc=function(t){return 0<=d.indexOf(t)},S.config=y,S.console=new f.default.Console("ASEJS","media|asejs","<"+String(S.W)+">"),g&&(e=g.SC,S.Tf=new u.sDa(S,S.console,S.config,g.Ln,g.IV,e,g.l7,g.Gf,g.Ol,g.qh,g.aD),S.SC=e),S.eu=new r.EventEmitter,S.F5=_,S.Qb=w,S.iX=k,S.ym=new c.Uca(S.oa,w,E,S.config,null==O?void 0:O.Ln),O&&(g=O.Pr,_=O.Fn,S.Ep=O.Nh,S.Fn=_,S.Pr=g,S.Ofa=new s.nCa(S.ym,S.config,S.cIb.bind(S),S.bIb.bind(S))),S.VO=m,S.QI=i,S.sf=new p(b),S.ii=v,T=[[],[]],A=[{},{}],P=[0,0],j=!1,I=S.kc(0),x=S.kc(1),["audio_tracks","video_tracks"].forEach((function(t,e){var i;(i=0===e)&&!I||1===e&&!x||S.oa[t].forEach((function(t,r){0===t.type&&!1===t.oi||(t=new a.yba({P:S,cA:t,mediaType:e,Vg:b.xpa,oE:r,jC:r+(i?S.oa.video_tracks.length:0)},S.config,S.console),T[e].push(t),A[e]=n.__assign(n.__assign({},A[e]),t.UC()),t.maxBitrate>P[t.mediaType]&&(P[t.mediaType]=t.maxBitrate),j=j||t.iH)}))})),S.yK=T,S.Lwa=A,S.yga=P,S.iH=j,S}return n.__extends(e,t),Object.defineProperties(e.prototype,{oa:{get:function(){return this.PS},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{KW:{get:function(){var t;return!(null===(t=this.yK[1][0])||void 0===t||!t.KW)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Gw:{get:function(){return this.yga},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{sh:{get:function(){return this.CNa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{NNb:{get:function(){return this.UNa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{J:{get:function(){return this.oa.movieId},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Bo:{get:function(){return this.oa.choiceMap},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{duration:{get:function(){return this.oa.duration},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{jk:{get:function(){return this.en},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{aq:{get:function(){return l.assert(this.Ofa,"ErrorDirector is not available on old architecture prefetch viewables."),this.Ofa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{EM:{get:function(){return this.aq.events},enumerable:!1,configurable:!0}}),e.prototype.Nb=function(){this.close(),this.ed()},e.prototype.close=function(){var t;this.DC=[],null===(t=this.Ofa)||void 0===t||t.Nb(),this.ym.Nb(),this.en=!0},e.prototype.ed=function(){this.Tf&&this.Tf.ed()},e.prototype.lx=function(t){var e,i,r,o,s,u;e=this,i=t.oa,r=t.Bd,o=void 0===r?h.zf:r,l.assert(t.ii===this.ii,"Updating Viewable clearplay not supported"),h.zf.forEach((function(t){l.assert(e.kc(t)===0<=o.indexOf(t),"Updating Viewable media types not supported")})),l.assert(i.movieId===this.oa.movieId,"Changing Viewable manifest movieId unsupported"),s=this.kc(0),u=this.kc(1),["audio_tracks","video_tracks"].forEach((function(t,r){var o,c,h;(o=0===r)&&!s||1===r&&!u||(c=i[t],h=e.yK[r],l.assert(h.every((function(t){var e;return(e=c[t.oE])&&e.NP===t.trackId&&(1===e.type||!1!==e.oi)})),"Existing tracks must still exist and be hydrated in updated manifest"),c.forEach((function(t,i){var s,u;0===t.type&&!1===t.oi||((s=e.getTrackById(t.NP))?(t=t.streams,u=Object.keys(s.UC()),l.assert(t.length===u.length,"Expected updated manifest track to have same number of streams"),t.forEach((function(t){l.assert(-1!==u.indexOf(t.downloadable_id),"Changing Viewable track streams unsupported")}))):(s=new a.yba({P:e,cA:t,mediaType:r,Vg:!1,oE:i,jC:i+(o?e.oa.video_tracks.length:0)},e.config,e.console),h.push(s),e.Lwa[r]=n.__assign(n.__assign({},e.Lwa[r]),s.UC()),s.maxBitrate>e.yga[s.mediaType]&&(e.yga[s.mediaType]=s.maxBitrate),l.assert(e.iH||!s.iH,"Can not update clear viewable with drm track.")))})))})),this.PS=i,this.ym.AL(this.oa)},e.prototype.aE=function(t){var e,i,n;e=t.ds,i=t.ba,n=t.HC,t=t.Kn,e&&i?(this.P$=new o.wKa(e,{ba:String(i),HC:!!n,bOb:this.config.M0.mx,btb:this.config.M0.lv},t),this.aq.aE(this.P$)):t("SideChannel: pbcid/xid is missing.")},e.prototype.Oz=function(){return void 0!==this.Bo},e.prototype.getTracks=function(t){return this.yK[t]},e.prototype.getTrackById=function(t){var e;return this.yK.some((function(i){return i.some((function(i){if(i.trackId===t)return e=i,!0}))})),e||this.console.warn("getTrackById not found:",t,"length:",this.yK.length),e},e.prototype.FHb=function(t,e){var i;if(i=this.yK[t],!(0>e||e>=i.length))return i[e];this.console.warn("getTrackByIndex out of range:",e,"length:",i.length,"mediaType:",t)},e.prototype.ww=function(t,e){return(t=this.UC(t))&&t[e]},e.prototype.UC=function(t){return this.Lwa[t]},e.prototype.$0b=function(t,e){this.CNa[t]=e,e.stream.U&&this.Uab(t,e.stream.U)},e.prototype.pLb=function(t){var e,i;return void 0!==t.S9&&void 0!==t.Qta||(i=(e=this.ym.nA.filter((function(e){return void 0!==e.streams[t.Oa]}))[0]).children.filter((function(e){return e.urls.some((function(e){return e.stream.id===t.Oa}))}))[0],t.S9=e.id,t.Qta=i.id),{Wpa:t.location===t.S9,qLb:t.Pc===t.Qta}},e.prototype.awa=function(t,e,i){void 0!==e&&void 0!==i&&(this.p7a(t.mediaType,e),t.awa(e,i))},e.prototype.p7a=function(t,e){var i,n;("location"===(n=this.config.Zra)||"video_location"===n&&1===t)&&this.Qb.lP(e),null===(i=this.F5)||void 0===i||i.call(this).IQb(t,e)},e.prototype.Nh=function(t,e,i,n,r,o){return l.assert(this.Ep,"Stream failure reporting can not be used on old architecture prefetch viewables."),this.Ep(t,e,i,n,r,o)},e.prototype.Om=function(){var t,e,i;return t=this,e=[],this.jk?(this.console.error("updateRequestUrls, closed Viewable:",this.W),!1):(h.zf.forEach((function(i){t.kc(i)&&t.r1b(i)&&(0<(i=t.g1b(i)).length&&e.push.apply(e,i))})),0<(i=this.a1b()).length&&e.push.apply(e,i),this.cWb(e))},e.prototype.yn=function(t,e){var i;if(i=this.getTracks(1)[0],l.assert(i),i.uN)return i.yn(t,e)},e.prototype.r1b=function(t){var e;return e=this,this.jk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.kc(t)?this.Yh.reduce((function(e,i){return d.m3(e,i.vg.filter((function(e){return e.mediaType===t})))}),[]).map((function(t){return e.ym.LZ(e.W,t.$d)})).every((function(t){return t})):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",t),!1)},e.prototype.a1b=function(){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.Om()},e.prototype.g1b=function(t){var e,i,r;if(i=[],this.jk)return this.console.warn("updateStreamUrls ignored, viewable cleaned up"),i;if(!this.kc(t))return this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",t),i;try{for(var o=n.__values(this.Yh),a=o.next();!a.done;a=o.next())(r=a.value.Om(t)).length&&i.push.apply(i,r)}catch(t){var s;s={error:t}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(s)throw s.error}}return i},e.prototype.cWb=function(t){var e,i,n;return e=this,0===t.length||(i=0,n=[],t.forEach((function(t){var r;t.ad&&(r=t.P).Pb>e.Pb&&(n.push({P:r,track:t.stream.track}),++i)})),n.forEach((function(t){var e;e=t.track,t.P.UO([0===e.mediaType?e:void 0,1===e.mediaType?e:void 0],void 0,e.mediaType)})),i===t.length)},e.prototype.sk=function(){var t;t=this,this.ym.sk(),this.aq.sk(),this.P$&&(l.assert(this.SC),h.zf.forEach((function(e){e=t.SC(e),t.P$.Hva("rebuffer",e.qqa)})))},e.prototype.Dsa=function(){this.aq.Dsa()},e.prototype.Sxa=function(t,e){l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.Sxa(t,e)},e.prototype.A6=function(){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables.."),this.Tf.A6()},e.prototype.Ija=function(){l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.Ija()},e.prototype.kP=function(t){l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.kP(t)},e.prototype.yxa=function(){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.yxa()},e.prototype.Xk=function(t,e){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.Xk(t,e)},e.prototype.lTa=function(t,e,i){l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.yaa(t,e,i,!0)},e.prototype.Z2=function(t,e,i){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.Z2(t,e,!!i)},e.prototype.BXb=function(t,e){this.DC.push({stream:t,vHb:e})},e.prototype.mVb=function(){this.DC=[]},e.prototype.sVb=function(t){this.DC=this.DC.filter((function(e){return e.stream!==t}))},e.prototype.rVb=function(t){this.DC=this.DC.filter((function(e){return e!==t}))},e.prototype.hN=function(){var t;return t=this,l.assert(this.Fn,"Streamables not available on old architecture prefetch viewables."),this.Fn()?[]:this.DC.map((function(e){var i,n;return i=e.stream,n=(n=e.vHb)(),{identifier:i.W+"-"+i.mediaType+"-"+i.bitrate,mediaType:i.mediaType,$g:n.$g,Cf:n.Cf,sA:n.sA,Cs:n.Cs,Er:n.Er,Ota:0,Nta:1/0,RX:1,LA:1,qWa:0,groupId:""+t.W,mD:!0,Ur:!1,F0a:function(){return{result:!0}},J0a:function(){return i.pE()?(t.sVb(i),{Gn:!0,reason:"success"}):(t.rVb(e),{Gn:!1,reason:"viewableTryIssueHeaderRequest"})}}}))},e.prototype.pE=function(t,e){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.pE(t,e)},e.prototype.yL=function(t,e){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.yL(t,e)},e.prototype.hva=function(t){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.hva(t)},e.prototype.UO=function(t,e,i){return l.assert(this.Tf,"Headers not available on old architecture prefetch viewables."),this.Tf.UO(t,e,i)},e.prototype.eIb=function(t){var e,i,n;e=t.Oa,i=t.mediaType,this.Uab(i,t.stream.U),e=this.ww(i,e),n=this.Oz()?this.config.u2a:0,e.Nab(f.default.Io()[i],n),this.eu.emit("onHeaderFragments",t)},e.prototype.Cua=function(t){this.Yh.push(t)},e.prototype.Ixa=function(t){t=this.Yh.indexOf(t),l.assert(-1!==t,"Unexpected call to unregisterBranch, branch not registered with Viewable."),this.Yh.splice(t,1)},e.prototype.p9=function(t){var e;null===(e=this.VO)||void 0===e||e.yy(t)},e.prototype.qA=function(t){this.jk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",t):void 0!==t.location&&this.p7a(t.mediaType,t.location)},e.prototype.YH=function(t){this.jk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",t):this.aq.Baa({timestamp:t.rf,url:t.url})},e.prototype.tk=function(t){var e;null===(e=this.VO)||void 0===e||e.qI(t),l.assert(this.Fn&&this.iX,"Requests cannot be handled on old architecture prefetch viewables."),this.jk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",t):this.Fn()||(this.aq.Baa({timestamp:t.rf,mediaRequest:t}),this.iX(t))},e.prototype.tX=function(t,e,i){var n;i&&(null===(n=this.VO)||void 0===n||n.qI(t))},e.prototype.uX=function(t){this.jk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",t):(this.aq.ms({url:t.url},t.status,t.ph,t.uj),this.Om()||this.Nh(t.HM||"unknown","NFErr_MC_StreamingFailure",t.ph,t.status,t.uj))},e.prototype.Uab=function(t,e){this.UNa[t]=e.jra},e.prototype.cIb=function(t){var e,i,n;this.en||(e=t.YKb,i=t.rRb,n=t.sRb,t=t.tRb,this.console.warn("Streaming failure, is permanent: "+e+", last error code: "+i+", last http code: "+n+", last native code: "+t),e?(this.console.warn(" > Permanent failure, done"),e=this.Nh("Permanent failure","NFErr_MC_StreamingFailure",i,n,t)):(this.console.warn(" > We are buffering, calling it!"),e=this.Nh("Temporary failure while buffering","NFErr_MC_StreamingFailure",t,n,t,!0)),e||(this.console.warn(" > Resetting failures"),this.aq.l$()))},e.prototype.bIb=function(){l.assert(this.Pr,"Error handling not available on old architecture prefetch viewables."),this.en||(this.Om(),this.Pr())},e}(t.kv),e.zba=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N;function C(t,e,i,n,r){a.call(this,t,e,i,n,r)}function L(t,e,i,n,r){a.call(this,t,e,i,n,r)}function D(t,e,i,n,r){a.call(this,t,e,i,n,r)}function U(t,e,i,n,r){a.call(this,t,e,i,n,r),this.MI=t.config.MI,this.vd=this.sizes=void 0}function B(t,e,i,n,r){a.call(this,t,e,i,n,r)}function F(){for(var t=new DataView(this),e="",i=0;i<this.byteLength;i++)e+=("00"+t.getUint8(i).toString(16)).slice(-2);return e}function q(t,e,i,n,r){a.call(this,t,e,i,n,r)}function K(t,e,i,n,r){a.call(this,t,e,i,n,r)}function H(t,e,i,n,r){a.call(this,t,e,i,n,r)}function V(t,e,i,n,r){a.call(this,t,e,i,n,r)}function G(t,e,i,n,r){a.call(this,t,e,i,n,r)}function J(t){function e(e,i,n,r,o){a.call(this,e,i,n,r,o),this.dX=t}return e.Na=!1,e.prototype=new a,e.prototype.constructor=e,Object.defineProperties(e.prototype,{zQ:{get:function(){return this.dX}}}),e.prototype.parse=function(){return this.u.console.trace("renaming '"+this.type+"' to draft type '"+this.dX+"'"),this.u.offset=this.startOffset+4,this.la.b_(this.zQ),this.type=this.zQ,!0},e}function z(t,e,i,n,r){a.call(this,t,e,i,n,r)}function Y(t,e,i,n,r){a.call(this,t,e,i,n,r)}function W(t,e,i,n,r){a.call(this,t,e,i,n,r)}function X(t,e,i,n,r){a.call(this,t,e,i,n,r)}function Z(t,e,i,n,r){a.call(this,t,e,i,n,r)}function Q(t,e,i,n,r){a.call(this,t,e,i,n,r)}function $(t,e,i,n,r){a.call(this,t,e,i,n,r)}function tt(t,e,i,n,r){a.call(this,t,e,i,n,r)}function et(t,e,i,n,r){a.call(this,t,e,i,n,r)}function it(t,e,i,n,r){a.call(this,t,e,i,n,r)}function nt(t,e){t.forEach((function(t){e[t.Xb]=t}))}n=i(145).assert,e=i(100),r=i(224).T,o=i(370),i(146),i(84),i(84),i(84),a=i(32).Dc,s=i(777).default,u=i(778).default,c=i(779).default,h=i(780).default,f=i(781).default,l=i(782).default,d=i(783).default,p=i(784).default,b=i(785).default,i(225),i(172),v=i(371).cba,y=i(371).hca,g=i(786).default,m=i(787).default,_=i(85).default,w=i(85).lba,E=i(85).mba,k=i(85).nba,O=i(85).oba,S=i(788).default,T=i(789).default,A=i(85).Cca,P=i(85).wca,j=i(85).Ccb,I=i(790).default,x=i(791).default,M=i(792).default,R=i(372).default,N=i(373).default,i(147),i(228),i(229),i(227),i=i(793).default,C.Na=!0,C.prototype=new a,C.prototype.constructor=C,L.Na=!0,L.prototype=new a,L.prototype.constructor=L,D.Na=!1,D.prototype=new a,D.prototype.constructor=D,D.prototype.parse=function(){var t;return this.Ac(),1===this.version?(this.u.Td(),this.u.Td(),this.S=this.u.ya(),this.duration=this.u.Td()):(this.u.ya(),this.u.ya(),this.S=this.u.ya(),this.duration=this.u.ya()),t=32767&this.u.Yc(),this.language=String.fromCharCode(96+(t>>>10),96+(t>>>5&31),96+(31&t)),!0},U.Na=!1,U.prototype=new a,U.prototype.constructor=U,U.prototype.Nga=function(){this.Ac(),this.u.ya(),this.S=this.u.ya(),0===this.version?(this.MU=this.u.ya(),this.eV=this.u.ya()):(this.MU=this.u.Td(),this.eV=this.u.Td()),this.F7a=this.u.Yc(),this.gY=this.u.Yc()},U.prototype.Cfa=function(t,e){var i,n,r;i=this.S,t=t&&t.S||i,n=t/i,i=this.u.BA(e,12,!1),r=1===n?this.u.BA(e,12,!1):o.from(Uint32Array,{length:e},(function(){var t;return t=Math.round(this.u.ya()*n),this.u.offset+=8,t}),this),this.pha(e,r,i,t)},U.prototype.pha=function(t,e,i,n){if(this.MI){n=this.MI*n/1e3;for(var r=0,o=1;o<t;o++)Math.abs(e[r]-n)>Math.abs(e[r]+e[o]-n)?(e[r]+=e[o],i[r]+=i[o]):++r!==o&&(e[r]=e[o],i[r]=i[o]);++r,e=new Uint32Array(e.buffer.slice(0,4*r)),i=new Uint32Array(i.buffer.slice(0,4*r))}this.sizes=i,this.vd=e},U.prototype.parse=function(t){var e,i,n,o;return this.Nga(),this.sa=t.sa,e=this.S,i=this.sa&&this.sa.S||e,n=this.gY,o=this.startOffset+this.length+this.eV,e=new r(this.MU,e).Zf(i).vc,this.U={S:i,jl:e,offset:o},this.Cfa(this.sa,n),this.U.vd=this.vd,this.U.sizes=this.sizes,t.zs=this,!0},B.Na=!1,B.prototype=new a,B.prototype.constructor=B,B.prototype.parse=function(){var t;this.Th=[],this.mta=[],t=(this.length-11)/2,this.u.mb(),this.u.mb(),this.u.mb();for(var e=0;e<t;e++)this.Th.push(this.u.mb()),this.mta.push(this.u.mb());return!0},q.Na=!1,q.prototype=new a,q.prototype.constructor=q,q.prototype.parse=function(){return this.Ac(),this.u.offset+=4,this.vH=this.u.offset,this.pj=this.u.oua(16),this.pj.toString=F,!0},K.Na=!1,K.prototype=new a,K.prototype.constructor=K,K.prototype.parse=function(){return this.Ac(),this.ng=this.u.Yc(),this.qra=this.u.BA(this.ng,void 0,!0),!0},H.Na=!1,H.prototype=new a,H.prototype.constructor=H,H.prototype.parse=function(t){var e,i,r,a,s,u;if(e=t.zs,n(e),t=t.sa,i=e.S,e=e.gY,n(t),n(i),n(e),this.Ac(),n(2>this.version),this.ng=this.u.Yc(),this.Du=new Uint16Array(e+1),r=t.p6(i),a=r/i,s=t.Zf(r).vc,0===this.version){for(this.Tu=new Uint16Array,this.Sd=new Uint32Array,t=i=0;t<=e;++t)if(this.Du[t]=i,t<this.ng&&0!==(u=this.u.mb()))for(r=0;r<u;++r,++i)this.Tu[i]=Math.floor((this.u.ya()+1)*a)/s,this.Sd[i]=this.u.ya()}else if(1===this.version)for(r=this.u.kua(this.ng,10,!1),this.u.offset+=4,this.Sd=this.u.BA(this.ng,10,!1),this.u.offset-=8,this.Tu=o.from(Uint16Array,{length:this.ng},(function(){var t;return t=Math.floor((this.u.ya()+1)*a)/s,this.u.offset+=6,t}),this),i=t=0;t<=e;++t){for(;i<r.length&&r[i]<t;)++i;this.Du[t]=i}return this.di={Du:this.Du,Tu:this.Tu,Sd:this.Sd},!0},V.Na=!0,V.prototype=Object.create(C.prototype),V.prototype.constructor=V,G.Na=!0,G.prototype=Object.create(C.prototype),G.prototype.constructor=G,G.prototype.Qt=function(){var t;return(t=this.Rh("tfhd"))&&(this.ck=t.OT?t.ck:this.parent.startOffset),!0},z.Na=!1,z.prototype=new a,z.prototype.constructor=z,z.prototype.parse=function(){var t,e;if(t=this.u.offset,this.Ac(),1===this.version){this.u.console.trace("translating vpcC box to draft equivalent"),this.u.offset+=2;for(var i=this.u.offset,n=this.u.mb(),r=this.u.mb(),o=this.u.mb(),a=this.u.mb(),s=this.u.Yc(),u=[],c=0;c<s;++c)u=this.u.mb();switch(c=(240&n)>>>4,e=(14&n)>>>1,n&=1,o=16===o?1:0,r!=a&&this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+r+" and matrixCoefficients "+a+" should be the same value!"),a=2,r){case 1:a=2;break;case 6:a=1;break;case 9:a=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries "+r+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)")}this.version=0,this.la.fB(this.version,t),this.la.fB(c<<4|a,i++),this.la.fB(e<<4|o<<1|n,i++),s+=2,u.push(0,0),this.la.sya(s,!1),i+=2,u.forEach((function(t){this.la.fB(t,i++)}))}return!0},Y.Na=!1,Y.prototype=new a,Y.prototype.constructor=Y,Y.Xb="tfhd",Object.defineProperties(Y.prototype,{OT:{get:function(){return 1&this.flags}},ova:{get:function(){return 2&this.flags}},Qka:{get:function(){return 8&this.flags}},Tka:{get:function(){return 16&this.flags}},Rka:{get:function(){return 32&this.flags}}}),Y.prototype.parse=function(){return this.Ac(),this.kJ=this.u.ya(),this.ck=this.OT?this.u.Td():void 0,this.ova&&this.u.ya(),this.$y=this.Qka?this.u.ya():void 0,this.bz=this.Tka?this.u.ya():void 0,this.az=this.Rka?this.u.ya():void 0,!0},W.Na=!1,W.prototype=new a,W.prototype.constructor=W,W.prototype.parse=function(){return this.Ac(),this.Gy=1===this.version?this.u.Td():this.u.ya(),!0},W.prototype.wa=function(t){var e;e=this.startOffset+12,this.Gy+=t,1===this.version?this.la.tya(this.Gy,e):this.la.dh(this.Gy,e)},X.Na=!1,X.prototype=new a,X.prototype.constructor=X,Object.defineProperties(X.prototype,{rU:{get:function(){return 1&this.flags}},SG:{get:function(){return 4&this.flags}},JA:{get:function(){return 256&this.flags}},KA:{get:function(){return 512&this.flags}},yY:{get:function(){return 1024&this.flags}},BI:{get:function(){return 2048&this.flags}}}),X.prototype.parse=function(){return this.Ac(),this.ST=this.u.offset,this.Lb=this.u.ya(),this.fk=this.rU?this.u.pI():0,this.SG&&this.u.ya(),this.Su=(this.JA?4:0)+(this.KA?4:0)+(this.yY?4:0)+(this.BI?4:0),this.pz=this.u.offset,n(this.rU,"Expected data offset to be present in Track Run"),n(this.length-(this.u.offset-this.startOffset)==this.Lb*this.Su,"Expected remaining data in box to be sample information"),!0},X.prototype.ot=function(t,e,i){var n,r,o;return n=this.JA?this.u.ya():t.$y,r=this.KA?this.u.ya():t.bz,t=this.yY?this.u.ya():t.az,{nva:o=0===this.version?this.BI?this.u.ya():0:this.BI?this.u.pI():0,DWb:t,ETb:i+o-(void 0!==e?e:o),yk:r,Uu:n}},X.prototype.wa=function(t,e,i,n,r,o,a){var s,u,c,h;for(s=0,u=0,this.la.offset=this.pz,n=0;n<r;++n)c=this.ot(e,h,u),0==n&&(h=c.nva),s+=c.yk,u+=c.Uu;if(n=r,r=this.u.offset,c=this.ot(e,h,u),this.Nq=n,this.vwa=u,a){if(this.Hq=this.fk+s,this.Yi=0,n===this.Lb)return!0}else if(this.Hq=this.fk,this.Yi=s,0===n)return!0;if(0===n||n===this.Lb)return!1;if(this.hz=!0,a){for(this.Yi+=c.yk,a=n+1;a<this.Lb;++a)c=this.ot(e,h,u),this.Yi+=c.yk;this.la.offset=this.ST,this.Lb=n,this.la.dh(this.Lb),this.la.vJ(o),this.SG&&(this.u.offset+=4),this.Ie(this.length-(r-this.startOffset),r)}else e=r-this.pz,this.la.offset=this.ST,this.Lb-=n,this.la.dh(this.Lb),this.fk+=s,this.la.vJ(o,this.fk),this.SG&&(this.u.offset+=4),this.Ie(e,this.la.offset);return i.Ie(this.Yi,t.ck+this.Hq),!0},X.prototype.Qua=function(t,e,i,n,r,o){var a;if(n){n=this.Hq;for(var s=this.Lb-1;0<=s&&this.Lb-s<=r;--s){if(this.la.offset=this.pz+s*this.Su,(a=this.ot(e)).Uu!=o.duration){this.u.console.warn("Could not replace sample of duration "+a.Uu+" with silence of duration "+o.duration);break}if(this.KA)this.la.offset-=this.Su-(this.JA?4:0),this.la.dh(o.Ck.byteLength);else if(o.Ck.byteLength!==a.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break}n-=a.yk,i.Ru(a.yk,o.Ck,t.ck+n)}}else for(n=this.Hq+this.Yi,s=0;s<this.Lb&&s<r;++s){if(this.la.offset=this.pz+(s+this.Nq)*this.Su,(a=this.ot(e)).Uu!=o.duration){this.u.console.warn("Could not replace sample of duration "+a.Uu+" with silence of duration "+o.duration);break}if(this.KA)this.la.offset-=this.Su-(this.JA?4:0),this.la.dh(o.Ck.byteLength);else if(o.Ck.byteLength!==a.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break}i.Ru(a.yk,o.Ck,t.ck+n),n+=a.yk}},Z.Na=!1,Z.prototype=Object.create(a.prototype),Z.prototype.constructor=Z,Object.defineProperties(Z.prototype,{qn:{get:function(){return 1&this.flags}}}),Z.prototype.parse=function(){return this.Ac(),this.qn&&this.u.Ml(),this.qn&&this.u.ya(),this.Ska=this.u.mb(),this.Lb=this.u.ya(),this.u.CA(this.Lb),!0},Z.prototype.wa=function(t,e){if(t&&0===this.Ska){if(t=e?this.Lb-t:t,this.la.offset=this.startOffset+13+(this.qn?8:0),this.Lb-=t,this.la.dh(this.Lb),this.zI=0,e)this.la.offset+=this.Lb;else{for(e=0;e<t;++e)this.zI+=this.la.mb();this.la.offset-=t}this.Ie(t,this.u.offset)}return!0},Q.Na=!1,Q.prototype=Object.create(a.prototype),Q.prototype.constructor=Q,Object.defineProperties(Q.prototype,{qn:{get:function(){return 1&this.flags}}}),Q.prototype.parse=function(){return this.Ac(),this.qn&&this.u.Ml(),this.qn&&this.u.ya(),this.ng=this.u.ya(),n(1===this.ng,"Expected a single entry in Sample Auxiliary Information Offsets box"),this.fk=0===this.version?this.u.pI():this.u.rua(),!0},Q.prototype.wa=function(t,e){return this.fk+=t,this.la.offset=this.startOffset+16+(this.qn?8:0)+(0===this.version?0:4),this.la.vJ(e,this.fk),!0},$.Na=!1,$.prototype=Object.create(a.prototype),$.prototype.constructor=$,Object.defineProperties($.prototype,{xX:{get:function(){return 1&this.flags}},dya:{get:function(){return 2&this.flags}}}),$.prototype.parse=function(){return this.Ac(),this.xX&&(this.u.ya(),this.u.CA(16)),this.Lb=this.u.ya(),!0},$.prototype.wa=function(t,e){var i,n;if(i=e?this.Lb-t:t,this.la.offset=this.startOffset+28+(this.xX?20:0),this.Lb-=i,this.la.dh(this.Lb),t=this.la.offset,this.dya)for(i=e?this.Lb:i;0<i;--i)this.la.offset+=8,n=this.la.Yc(),this.la.offset+=6*n;else this.la.offset+=8*(e?this.Lb:i);e?this.Ie(this.length-(this.u.offset-this.startOffset),this.u.offset):this.Ie(this.u.offset-t,t)},tt.Na=!1,tt.prototype=Object.create(a.prototype),tt.prototype.constructor=tt,tt.prototype.parse=function(){return this.Ac(),!0},tt.prototype.wa=function(t,e,i){return i?this.Ie(e-t,this.startOffset+12+t):this.Ie(t,this.startOffset+12),!0},et.Na=!1,et.prototype=Object.create(a.prototype),et.prototype.constructor=et,et.prototype.parse=function(){this.Ac(),this.u.Ml(),1===this.version&&this.u.ya(),this.ng=this.u.ya(),this.Vu=[];for(var t=0;t<this.ng;++t)for(var e=this.u.ya(),i=this.u.ya(),n=0;n<e;++n)this.Vu.push(i);return!0},et.prototype.wa=function(t,e){return this.Vu=e?this.Vu.slice(0,t):this.Vu.slice(t),t=this.Vu.reduce((function(t,e){return 0!==t.length&&t[t.length-1].group===e||t.push({group:e,count:0}),++t[t.length-1].count,t}),[]),this.la.offset=this.startOffset+16+(1===this.version?4:0),this.la.dh(t.length),t.forEach(function(t){this.la.dh(t.count),this.la.dh(t.group)}.bind(this)),this.ng>t.length&&this.Ie(8*(this.ng-t.length)),this.ng=t.length,!0},it.Na=!1,it.prototype=Object.create(a.prototype),it.prototype.constructor=it,nt([T,l,d,p,A,P,j,s,h,R,N,f,b,u,c,i],(_={Ua:{moov:L,trak:C,mdia:C,mdhd:D,minf:C,encv:_,schi:C,sidx:U,sinf:C,stbl:C,tenc:q,mvex:C,moof:V,traf:G,tfhd:Y,trun:X,sbgp:et,sdtp:tt,saiz:Z,saio:Q,tfdt:W,mdat:it,vmaf:B},sxa:{vpcC:z,SmDm:J("smdm"),CoLL:J("coll")},CZ:{schm:S},AI:{}}).Ua),nt([v,g,w,E,k,O,y,m,x,I],_.AI),nt([T,S],_.CZ),_.Ua[e.ER]=q,_.Ua[e.Nx]=K,_.Ua[e.Mx]=H,_.Ua[e.DR]=$,_.AI[e.XE]=M,_.Dc=a,t.exports={xq:_}},function(t,e){function i(t,e){var i,n,r,o,a;if("number"!=typeof t||"number"!=typeof e)t=!1;else if(t&&e){for(n=(i=Math).abs,o=Math.abs(t),r=Math.abs(e);r;)a=r,r=o%r,o=a;t=n.call(i,t*e/o)}else t=0;return t}Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t,e){"object"==typeof t?(this.xc=t.vc,this.nb=t.S):(this.xc=t,this.nb=e)}return t.Eb=function(e){return new t(e,1e3)},t.vZ=function(t,e){return Math.floor(1e3*t/e)},t.Tra=function(t,e){return Math.floor(t*e/1e3)},t.max=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t.greaterThan(e)?t:e}))},t.min=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t.lessThan(e)?t:e}))},Object.defineProperties(t.prototype,{vc:{get:function(){return this.xc},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.nb},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{Y:{get:function(){return 1e3*this.xc/this.nb},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{vh:{get:function(){return this.xc/this.nb},enumerable:!0,configurable:!0}}),t.prototype.Zf=function(e){return e/=this.S,new t(Math.floor(this.vc*e),Math.floor(this.S*e))},t.prototype.add=function(e){var n;return this.S===e.S?new t(this.vc+e.vc,this.S):(n=i(this.S,e.S),this.Zf(n).add(e.Zf(n)))},t.prototype.Qa=function(e){return this.add(new t(-e.vc,e.S))},t.prototype.PH=function(e){return new t(this.vc*e,this.S)},t.prototype.qm=function(t){var e;return this.S===t.S?this.vc/t.vc:(e=i(this.S,t.S),this.Zf(e).qm(t.Zf(e)))},t.prototype.p6=function(t){return i(this.S,t)},t.prototype.xua=function(){return new t(this.S,this.vc)},t.prototype.compare=function(t,e){var n;return this.S===e.S?t(this.vc,e.vc):(n=i(this.S,e.S),t(this.Zf(n).vc,e.Zf(n).vc))},t.prototype.equal=function(t){return this.compare((function(t,e){return t===e}),t)},t.prototype.a9=function(t){return this.compare((function(t,e){return t!==e}),t)},t.prototype.lessThan=function(t){return this.compare((function(t,e){return t<e}),t)},t.prototype.greaterThan=function(t){return this.compare((function(t,e){return t>e}),t)},t.prototype.HN=function(t){return this.compare((function(t,e){return t<=e}),t)},t.prototype.Or=function(t){return this.compare((function(t,e){return t>=e}),t)},t.prototype.toJSON=function(){return{ticks:this.vc,timescale:this.S}},t.prototype.toString=function(){return this.vc+"/"+this.S},t.Gb=new t(0,1),t.Ow=new t(1,1e3),t}(),e.T=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.u.offset+=6,this.u.Yc(),!0},e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),(t=i(2)).__exportStar(i(147),e),t.__exportStar(i(227),e),t.__exportStar(i(228),e),t.__exportStar(i(229),e),t=i(228),n=i(229),i=i(227),e.Xp={3:i.IQ,4:t.CQ,5:n.bca}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;return this.u.Yc(),t=this.u.mb(),this.Kwa=!!(128&t),this.Vea=!!(64&t),this.xda=!!(32&t),this.Kwa&&this.u.Yc(),this.Vea&&this.u.CA(this.u.mb()),this.xda&&this.u.Yc(),this.aT(),!0},e.tag=3,e}(i(147).CE),e.IQ=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.usa=this.u.mb(),this.u.mb(),this.u.Yc(),this.u.mb(),this.maxBitrate=this.u.ya(),this.Bia=this.u.ya(),this.aT(),!0},e.tag=4,e}(i(147).CE),e.CQ=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=i(147),r=i(226),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.cY=function(){15!==this.u.zc(4)||this.u.zc(24)},e.prototype.parse=function(t){if(this.spa(t)&&64===t.usa)switch(this.nn=this.aY(),this.cY(),this.u.zc(4),this.Tla=5===this.nn||29===this.nn?5:-1,0<this.Tla&&(this.cY(),this.nn=this.aY(),22===this.nn&&this.u.zc(4)),this.nn){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.lV=this.u.zc(1),(this.Yka=this.u.zc(1))&&this.u.zc(14),this.u.zc(1),this.qz=3===this.nn?256:23===this.nn?this.lV?480:512:this.lV?960:1024}return this.skip(),!0},e.prototype.aY=function(){var t;return 31===(t=this.u.zc(5))&&(t=32+this.u.zc(6)),t},e.prototype.spa=function(t){return t.tag===r.CQ.tag},e.tag=5,e}(t.CE),e.bca=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.concat=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return i=(e=Array.prototype.concat.apply([],e)).reduce((function(t,e){return t+e.byteLength}),0),t=new Uint8Array(i),e.reduce((function(e,i){return t.set(new Uint8Array(i),e),e+i.byteLength}),0),t.buffer}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(375),r=i(223),o=i(376),t=function(){function t(t,e,i){this.console=t,this.stream=e,this.view=i instanceof ArrayBuffer?new DataView(i):new DataView(i.data,i.offset,i.length)}return t.prototype.parse=function(t){var e;return e=new o.DQ(this.view.byteLength),this.tc=new n.zE(r.xq.Ua,e,this.view,this.console,{bI:!0}),t=this.tc.parse(t),this.Ua=this.tc.Ua,t},t}(),e.ar=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.lB=void 0,t=i(42),i=i(102),n=function(){function t(t,e){this.r2=t,this.JK=e.Wa,this.Ev=e.ob}return Object.defineProperties(t.prototype,{Wa:{get:function(){return void 0!==this.JK?this.JK:this.r2.Wa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ob:{get:function(){return void 0!==this.Ev?this.Ev:this.r2.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.r2.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{zj:{get:function(){return this.r2.zj},enumerable:!1,configurable:!0}}),t.prototype.KY=function(t){this.Ev=t},t.prototype.Hja=function(){this.Ev=void 0},t}(),e.lB=n,t.xf(i.rx,n),t.xf(i.kB,n)},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.kQ=void 0,t=(n=i(2)).__importDefault(i(124)),r=i(117),o=i(173),i=function(t){function e(e,i,n,r,a,s,u){return i=t.call(this,e,i,n,r,a,s,u)||this,o.mv.xb(i,e,r),i}return n.__extends(e,t),e}(r.v_),e.kQ=i,t.default(o.mv.prototype,i.prototype)},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.AJ=void 0,n=i(2),r=n.__importDefault(i(28)),o=n.__importDefault(i(6)),t=function(t){function e(i,n,r,o,a){var s;return(s=t.call(this,r)||this).e3=!1,e.xb(s,i,n,r,o,a),s}return n.__extends(e,t),e.xb=function(t,e,i,n,r,a){t.af=n,t.Yua=e,t.Oe=r,t.ONa=e.location||i.location,t.gT=e.Pc||i.Md,t.Pva=e.Pva||i.Pva,t.jaa=o.default.time.ea(),t.H=a},Object.defineProperties(e.prototype,{console:{get:function(){return this.H},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{location:{get:function(){return this.ONa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Md:{get:function(){return this.gT},enumerable:!1,configurable:!0}}),e.prototype.xb=function(t){this.Pa=t},e.prototype.awa=function(t,e){this.ONa=t,this.gT=e},e.prototype.Wga=function(t){var e,i,n;return e={type:"logdata",target:"endplay",fields:{}},i=this.mediaType===r.default.Ta.Wb?"audioedit":"videoedit",n=[this.OM===this.Z?this.Lc:this.fd,this.OM===this.Z?-this.duration:this.duration],t&&t.cE&&n.push(t.cE),e.fields[i]={type:"array",value:n},e},e.prototype.Txa=function(){var t,e;return this.complete?0:(e=(t=this.Yua).P,t.url?this.url===t.url||(e.awa(this,t.location,t.Pc),this.daa(t.url))?0:(this.H.warn("swapUrl failed: ",this.HM),2):(this.H.warn("updateurl, missing url for streamId:",t.Oa,"mediaRequest:",this,"stream:",t),1))},e}(i(83).kv),e.AJ=t},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),i(2).__exportStar(i(806),e)},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t){return t.Qa(a.T.Eb(t.yI))}Object.defineProperties(e,{__esModule:{value:!0}}),e.Jba=e.vu=void 0,n=i(2),t=i(17),r=n.__importDefault(i(28)),o=n.__importDefault(i(6)),a=i(22),s=i(5),u=i(807),c=i(117),h=i(72),f=i(25),e.vu=l,i=function(t){function e(e,i,n,r,o,a,s,c,h){var f,l;return(l=t.call(this)||this).H=e,l.Sg=i,l.eg=n,l.sd=r,l.I=o,l.Qnb=a,l.V=s,l.Tv=c,l.qh=h,l.Kk=l.H.error.bind(l.H),l.Sb=l.H.warn.bind(l.H),l.jn=l.H.trace.bind(l.H),null===(f=r.events)||void 0===f||f.addListener("ready",(function(){l.Cv()})),l.S2a=new u.jGa(l.I,l.Sg,l.eg.pc,l.H),l.reset(),l}return n.__extends(e,t),Object.defineProperties(e.prototype,{endOfStream:{get:function(){return this.wS},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{F3:{get:function(){return this.sd?this.sd.F3:-1},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{G2b:{get:function(){return this.dm.length},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{OLb:{get:function(){return this.Uj},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{q$a:{get:function(){return!!this.sd.YBb},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{TA:{get:function(){return!!this.sd.reset},enumerable:!1,configurable:!0}}),e.prototype.reset=function(t){var e,i,n;null===(e=this.hOa)||void 0===e||e.Nb(),this.Xj=!1,t||(this.dm=[]),this.Uj=this.Yfa=this.aL=void 0,this.Ifa=!1,this.bL=void 0,this.wS=!1,this.UOa(a.T.Gb),null===(n=(i=this.sd).reset)||void 0===n||n.call(i),this.S2a.reset()},e.prototype.wWa=function(){this.Yfa=!0},e.prototype.pause=function(){this.Xj=!0},e.prototype.resume=function(){this.Xj=!1,this.Cv()},e.prototype.gz=function(){this.Xj||this.Cv()},e.prototype.sna=function(){var t;return null===(t=this.Uj)||void 0===t?void 0:t.me},e.prototype.Urb=function(t){var e;this.I.fVa&&(s.assert(t.Pa),e=t.Pa.gb,s.assert(void 0!==t.fd),s.assert(void 0!==e.Lc),t.fd>=e.Lc)||(this.dm.push(t),this.Cv())},e.prototype.Is=function(){this.Cv()},e.prototype.h$=function(t){-1!==(t=this.dm.indexOf(t))&&this.dm.splice(t,1)},e.prototype.U3a=function(t,e){this.I.$ha&&e&&void 0===this.Uj&&this.xMa(t,0),this.Cv()},e.prototype.d9=function(t){var e,i,n;e=this,this.wS||(this.wS=!0,this.Cv(),this.q$a)||(t&&this.Tv&&this.I.Gzb?(n=a.T.Eb(this.I.O$a),t=t.Qa(n),t=(n=h.nya(this.Tv,t,!0)).Ds,n=n.promise,null===(i=this.hOa)||void 0===i||i.Nb(),this.hOa=t,n.then((function(){e.wS&&e.sd.endOfStream()}))):this.sd.endOfStream())},e.prototype.G$=function(){return JSON.stringify(this.dm)},e.prototype.UOa=function(t){var e;null!==(e=this.ePa)&&void 0!==e&&e.equal(t)||(this.ePa=t,this.sd.dYb(t.vc,t.S))},e.prototype.Cv=function(){var t,e,i,n,a,s,u,c,h;if(e=this.I,this.dm.length||this.Uj&&!this.Uj.ef)if(this.sd&&!1!==this.sd.ready){if((!this.Uj||this.Uj.ef||this.Uj.iu())&&(this.Uj&&!this.Uj.ef||this.dm.length))if(this.Xj)i=this.Uj&&!this.Uj.ef?this.Uj:this.dm[0],this.kL("@"+o.default.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(i));else if((!this.Uj||this.Uj.ef||(this.TMa(this.Uj),this.Uj.ef))&&this.dm.length)if((i=this.dm[0]).aborted)this.Sb("aborted MediaRequest should not appear in the toAppend list:",i.toString(),"complete:",i.complete),this.kL("@"+o.default.time.ea()+", append: removing aborted request from toAppend: "+i.toString()),this.dm.shift();else if(a=(n=i.stream).P,n.Wg)if(this.tYb(n,i.index))this.Yfa=!1,this.xMa(n,i.index);else if(s=this.V.Oo(a),u=this.BJb(n),s||u||!(this.Ifa&&n.track.KW||e.Vaa))if(n=this.QYa(i),this.Sg!==r.default.Ta.Wb||!i.uq&&!i.zw||!i.wa||e.WD||this.wS||1!==this.dm.length||!(n>e.YW)||null!==(t=i.FI)&&void 0!==t&&t.x7){if((e.fVa||e.yBb)&&(t=i.Pa.gb,(s=this.$zb())&&(c=t.Sk,h=i.Lc>=s,n=n>e.YW,s<t.Lc&&h&&n&&!c)))return;if(e.XRb&&this.qh&&(e=this.qh(a.Pb))&&!e.zT)this.pause();else{this.Ifa||(this.Ifa=u),this.dm.shift();try{this.Ukb(i)}catch(t){throw this.H.error(t),t}}}else this.LWb()}else this.kL("@"+o.default.time.ea()+", append: not appending, sourceBuffer not ready")},e.prototype.LWb=function(){var t;t=this,this.Tv&&(this.Xpa?this.Xpa.tKb||this.Xpa.Hm():this.Xpa=this.Tv.AG((function(){return t.DLb()}),"JIT Appender"))},e.prototype.DLb=function(){var t,e,i,r;return n.__generator(this,(function(n){switch(n.label){case 0:return 1!==this.dm.length?[3,3]:!(t=this.dm[0]).uq&&!t.zw||null!==(r=t.FI)&&void 0!==r&&r.x7?[2]:(e=this.QYa(t),i=this.I.YW,e>i?[4,h.Jk.tJ(a.T.Eb(e-i))]:[3,2]);case 1:n.bd(),n.label=2;case 2:return this.Cv(),[3,0];case 3:return[2]}}))},e.prototype.QYa=function(t){return t.zd-this.V.Re()},e.prototype.tYb=function(t,e){return!(!this.Yfa&&void 0!==this.aL&&t.Oa===this.aL.Oa)||(t=t.Wg,s.assert(t),1<t.length&&f.xQa(t,(function(t){return t.Qd<=e}))!==this.aL.f0a)},e.prototype.BJb=function(t){return 0===t.mediaType||!t.Qz||void 0!==this.aL&&(t=t.Wg,s.assert(t),!1===t[this.aL.f0a].Tk)},e.prototype.$zb=function(){throw Error("not supported")},e.prototype.xMa=function(t,e){var i;if(i=t.Wg.reduce((function(t,i,n){return i.Qd<=e?n:t}),0),!this.sd.appendBuffer(t.Wg[i].data,{ad:!0,profile:t.profile,bitrate:t.bitrate,Oa:t.id}))throw this.Sb("appendHeader error: "+this.sd.error),this.kL("@"+o.default.time.ea()+", appendHeader error: "+this.sd.error),Error("appendHeaderError");this.kL("@"+o.default.time.ea()+", header appended, streamId: "+t.Oa),this.aL={Oa:t.Oa,f0a:i},this.Yob(t.P.Pb||0,t.Oa,i),this.Cv()},e.prototype.Ukb=function(t){var e,i,n,r;n=t.bua||a.T.Gb,(r=t.Pa.gb.O).Ha&&1/0!==r.Ha&&(n=new a.T(r.Ha,1e3).add(n).vh,1/0===this.eg.duration||this.eg.duration<n)&&(this.eg.duration=n),n=void 0!==t.av?a.T.Eb(t.av).add(t.bua):void 0,r=null===(e=this.dm[0])||void 0===e?void 0:e.xj,e={endOfStream:this.endOfStream||!(null===(i=t.FI)||void 0===i||!i.x7),r8:n,eX:r},i=this.S2a.append(t,e),this.UOa(i),this.TMa(t)},e.prototype.TMa=function(t){var e,i,n,s,u;u=(s=t.eG(this.sd,this.eg.pc,this.Uj)).status,(s=s.mk)&&this.emit(s.type,s),u!==c.Ij.Mf?(this.Uj=t,u===c.Ij.xx&&(void 0===this.bL||this.Sg!==r.default.Ta.Wb||t.xj.equal(this.bL)||(this.Tob(t,this.bL),this.bL=void 0),this.kL("@"+o.default.time.ea()+", request appended, type: "+t.mediaType+", streamId: "+t.Oa+", pts: "+t.zd+"-"+t.me),t.uq||t.zw?(this.bL=t.xe,this.nlb(t,this.ePa||a.T.Gb),null===(i=(e=this.sd).YBb)||void 0===i||i.call(e,t.FI),(null===(n=t.FI)||void 0===n?0:n.x7)&&this.Qnb&&this.d9(t.xe)):this.bL=void 0,this.Zob(t),this.Cv())):this.Tkb(t)},e.prototype.Tkb=function(t){if(void 0!==this.sd.error){if("done"===this.sd.error)return;throw this.Kk("failure to append queued mediaRequest:",null==t?void 0:t.toString(),"err:",JSON.stringify(this.sd.error)),this.sd.error}throw t=Error("failure to append queued mediaRequest: "+(null==t?void 0:t.toString())+" err: "+this.sd.error),this.Kk(t.message),t},e.prototype.nlb=function(t,e){var i,n;i=t.stream.sa,n=t.Pd,this.I.fm&&t.stream.uf&&(n=n.Qa(t.stream.uf)),l(n.Qa(i)).add(l(i)).add(l(e))},e.prototype.Yob=function(t,e,i){t={type:"headerAppended",mediaType:this.Sg,manifestIndex:t,streamId:e,isIndex:i},this.emit(t.type,t)},e.prototype.Zob=function(t){t={type:"requestAppended",mediaType:this.Sg,request:t},this.emit(t.type,t)},e.prototype.kL=function(t){t={type:"managerdebugevent",message:t},this.emit(t.type,t)},e.prototype.Tob=function(t,e){var i;i={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[i=t.fd,t=t.xj.Qa(e).Y]}}},this.emit(i.type,i)},e}(t.EventEmitter),e.Jba=i},function(t,e,i){var n;function r(t,e){return t<e?-1:t>e?1:0}Object.defineProperties(e,{__esModule:{value:!0}}),e.C0=void 0,n=i(2),t=function(){function t(t,e){if(this.data=null!=t?t:[],this.compare=null!=e?e:r,!this.empty)for(t=(this.length>>1)-1;0<=t;t--)this.Kfa(t)}return Object.defineProperties(t.prototype,{length:{get:function(){return this.data.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{empty:{get:function(){return 0===this.data.length},enumerable:!1,configurable:!0}}),t.prototype.push=function(t){this.data.push(t),this.oha(this.length-1)},t.prototype.pop=function(){var t,e;if(!this.empty)return t=this.data[0],e=this.data.pop(),this.empty||(this.data[0]=e,this.Kfa(0)),t},t.prototype.Pw=function(){return this.data[0]},t.prototype.JTb=function(t){-1!==(t=this.data.indexOf(t))&&this.oha(t)},t.prototype.map=function(t){return this.data.map(t)},t.prototype.find=function(t){return n.__read(this.data.filter(t),1)[0]},t.prototype.clear=function(){this.data=[]},t.prototype.remove=function(t){var e,i,n;-1!==(t=(e=this.data).indexOf(t))&&(i=e.pop(),t<e.length&&(e[t]=i,e=e[n=t-1>>1],0<=n&&0>this.compare(i,e)?this.oha(t):this.Kfa(t)))},t.prototype.lsb=function(){for(var t=this.data,e=1;e<t.length;e++)if(0>this.compare(t[e],t[e-1>>1]))throw Error("Audit failed at position "+e+" of "+t)},t.prototype.contains=function(t){return 0<=this.data.indexOf(t)},t.prototype.oha=function(t){for(var e,i,n=this.data,r=this.compare,o=n[t];0<t&&!(0<=r(o,i=n[e=t-1>>1]));)n[t]=i,t=e;n[t]=o},t.prototype.Kfa=function(t){for(var e,i,n,r=this.data,o=this.compare,a=this.length>>1,s=r[t];t<a&&(n=r[e=1+(t<<1)],(i=e+1)<this.length&&0>o(r[i],n)&&(e=i,n=r[i]),!(0<=o(n,s)));)r[t]=n,t=e;r[t]=s},t}(),e.C0=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.K9=void 0,n=i(16),e.K9=function(t){switch(t){case n.ma.xd:t=n.Jc.xd;break;case n.ma.Of:t=n.Jc.Of;break;case n.ma.zh:case n.ma.dj:case n.ma.gr:t=n.Jc.dj;break;default:t=n.Jc.ej}return t}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.bK=void 0,n=i(5),r=i(25),t=function(){function t(t){var e;e=this,void 0===t&&(t=[]),this.items=t,t.forEach((function(t){return e.Oxa(t)}))}return Object.defineProperties(t.prototype,{length:{get:function(){return this.items.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{TX:{get:function(){var t;return null!==(t=this.video)&&void 0!==t?t:this.audio},enumerable:!1,configurable:!0}}),t.prototype.get=function(t){return 1===t?this.video:this.audio},t.prototype.every=function(t){return this.items.every(t)},t.prototype.some=function(t){return this.items.some(t)},t.prototype.forEach=function(t){this.items.forEach(t)},t.prototype.find=function(t){return r.ig(this.items,t)},t.prototype.reduce=function(t,e){return this.items.reduce(t,e)},t.prototype.filter=function(e){return new t(this.items.filter(e))},t.prototype.replace=function(t,e){var i;i=this.items.indexOf(t),n.assert(-1<i),n.assert(t.mediaType===e.mediaType),this.items[i]=e,this.Oxa(e)},t.prototype.wXb=function(t,e){(t=this.get(t))?this.replace(t,e):this.add(e)},t.prototype.add=function(t){this.items.push(t),this.Oxa(t)},t.prototype.remove=function(t){var e;return-1!==(e=this.items.indexOf(t))&&(this.items.splice(e,1),this.Vub(t.mediaType),!0)},t.prototype.clear=function(){this.items=[],this.audio=this.video=void 0},t.prototype.Oxa=function(t){1===t.mediaType?this.video=t:this.audio=t},t.prototype.Vub=function(t){1===t?this.video=void 0:this.audio=void 0},t}(),e.bK=t},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.t_=void 0,n=i(2),i(5),t=i(42),r=n.__importDefault(i(28)),o=n.__importDefault(i(124)),a=n.__importDefault(i(6)),s=i(241),u=i(101),c=i(117),h=a.default.$q,f=i(830),i=n.__importDefault(i(831)),a=function(t){function e(e,i,n,r,o,a,s,c){var f,l;for(f=2;6!==f;)switch(f){case 3:void 0===n.responseType&&(n.responseType=n.wa||h.pc&&!h.pc.wY.SR?0:1),l=t.call(this,e,i,l,n,r,a,s)||this,u.Rm.xb(l,e,n,c),f=7;break;case 2:var d="e";d+="d";var p="c";p+="a",p+="ch";"bZr","NJCp9",l=this,l=(l=[p+="e",d+="it"].filter((function(t,e){var i;for(i=2;1!==i;)switch(i){case 2:case 4:return[o,n.wa][e]}}))).length?"("+l.join(",")+")":"",f=3;break;case 7:return l}}var i;for(i=2;9!==i;)switch(i){case 2:n.__extends(e,t),e.create=function(t,i,n,o,a,u,l,d){var p,b,v;for(p=2;11!==p;)switch(p){case 1:return new f.Nya(t,n,o,a,u,i,l,d);case 2:p=!i.ah&&o.wa&&t.mediaType===r.default.Ta.Mb&&h.pc&&h.pc.wY.SR?1:5;break;case 4:b=Math.ceil(o.fa/o.SN),u=o.offset,v=o.fa,a=new s.wE(t,o,a,i,l,d),p=7;break;case 7:d=Math.ceil(o.fa/b),p=6;break;case 6:p=0<v?14:13;break;case 5:p=o.SN&&o.fa>o.SN?4:12;break;case 13:return a;case 14:"ubre","ques","t",u+=(b={offset:u,fa:Math.min(v,d),responseType:o.responseType}).fa,v-=b.fa,a.push(new c.v_(t,n,"subrequest",b,a,i,l)),p=6;break;case 12:return new e(t,n,o,a,u,i,l,d)}},i=5;break;case 5:return e.prototype.toString=function(){for(2;;){return"D",":"," ","ID: "+this.mi()+":"+u.Rm.prototype.toString.call(this)}},e.prototype.toJSON=function(){for(2;;)return{ID:this.mi(),request:u.Rm.prototype.toJSON.call(this)}},e}}(c.v_),e.t_=a,o.default(i.default,a.prototype),t.xf(u.Rm,a,!1)},function(t,e,i){var n,r,o,a,s,u,c;Object.defineProperties(e,{__esModule:{value:!0}}),e.wE=void 0,n=i(2),r=i(5),t=i(42),o=i(9),a=i(25),s=i(380),u=i(101),c=i(117),i=function(t){function e(e,i,n,r,o,a){return n=t.call(this,e,i,n,r,o)||this,u.Rm.xb(n,e,i,a),n.Qc=0,n.wa||n.Bk(),n.ef=!1,n}return n.__extends(e,t),Object.defineProperties(e.prototype,{ad:{get:function(){return!1},enumerable:!1,configurable:!0}}),e.prototype.push=function(e){this.Qc+=e.fa,t.prototype.push.call(this,e)},e.prototype.iu=function(){var t;return!this.ef&&!!this.Ea.length&&!(null===(t=a.ig(this.Ea,(function(t){return!t.ef})))||void 0===t||!t.iu())},e.prototype.eG=function(t,e){var i,n;return r.assert(!this.ef),i=c.Ij.Vhb,n=o.vq(this),this.ef=this.Ea.every((function(r){return!!r.ef||!!r.iu()&&(i=r.eG(t,e,void 0,n).status)===c.Ij.xx})),i!==c.Ij.xx||this.ef||(i=c.Ij.qib),{status:i}},e.prototype.kVb=function(){this.Ea.forEach((function(t){t.iY()}))},e.prototype.mi=function(){return this.Ea?this.Ea[0].mi()+"-"+this.Ea[this.Ea.length-1].mi():"empty"},e.prototype.toString=function(){return"ID: "+this.mi()+":"+u.Rm.prototype.toString.call(this)+"(aggregate)"},e.prototype.toJSON=function(){return{ID:this.mi(),request:t.prototype.toJSON.call(this)}},e}(s.sba),e.wE=i,t.xf(u.Rm,i)},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t){return t.sPa(),{done:!1,value:t.value}}Object.defineProperties(e,{__esModule:{value:!0}}),e.osb=e.wjb=e.x_=void 0,n=i(2),t=i(17),r=i(149),o=i(20),a=n.__importDefault(i(6)),s=i(9),u=i(5),i=i(42),c=function(){function t(t,e){this.console=t,this.$f=e,this.wnb=this.tS=0,this.zg=[],this.console=s.wq(a.default,this.console,"QueueIterator:")}return Object.defineProperties(t.prototype,{Ozb:{get:function(){return this.tS},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ESa:{get:function(){var t,e,i;for(e=0;e<this.zg.length&&((i=this.zg[e]).jW&&(null===(t=i.item)||void 0===t||!t.done));e++);return e},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{count:{get:function(){return this.$f},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Pz:{get:function(){return 0===this.$f},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Zua:{get:function(){var t;for(t=0;t<this.zg.length&&this.zg[t].Ppa;t++);return t},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{head:{get:function(){var t;return(t=(t=n.__read(this.zg,1)[0])&&t.item)&&!t.done&&t.value},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{bsa:{get:function(){var t;for(t=0;t<this.zg.length&&this.zg[t].jW;t++);return t},enumerable:!1,configurable:!0}}),t.prototype.X4=function(){var t;void 0===this.$f&&(t=this.console,o.ga&&t&&t.trace("QueueIterator: enqueueEnd"),this.Mxa(this.bsa-(this.$f||0)))},t.prototype.fp=function(){return this.zg.map((function(t){return t.item}))},t.prototype.oaa=function(){return this.Bf||(this.Bf=this.zg.filter((function(t){return(null==t?void 0:t.item)&&!t.item.done})).map((function(t){return t.item.value}))),this.Bf},t.prototype.Mxa=function(t){var e;o.ga&&this.console.trace("updateCount",{sbc:this.$f,mM:t}),void 0!==this.$f&&(e=this.zg[this.$f])&&this.mpa(e),this.$f=void 0===this.$f||void 0===t?t:this.$f+t,void 0!==this.$f&&(this.$f=Math.max(0,this.$f),(e=this.zg[this.$f])&&e.uH.resolve({done:!0}))},t.prototype.enqueue=function(t){var e;return o.ga&&this.console.trace("Enqueue called"),e=this.bsa,this.U3(),this.eUb(e,{value:t,done:!1}).iUa.promise},t.prototype.J7a=function(){o.ga&&this.console.trace("resetEnd"),this.Mxa(void 0)},t.prototype.clear=function(t){var e,i,n;for(o.ga&&this.console.trace("clear"),this.r6a(),e=this.Zua,0<(i=this.zg.length-e)&&(n={index:e,qsa:i},o.ga&&this.console.trace("Removing items",n),this.zg.splice(e,i),this.U3(),this.emit("onRemoved",n)),i=1;i<e;i++)this.mpa(this.zg[i]);this.$f=void 0,this.Mxa(t?t+e:t),this.tS&&(this.tS=0)},t.prototype.getIterator=function(){var t,e;return t=this,e=s.wq(a.default,this.console,"QueueIteratorInstance::"),new h(this,(function(e){return t.wYa(e)}),e)},t.prototype.nM=function(){var t;if(0<this.Zua&&(t=n.__read(this.zg,1)[0]).jW)return o.ga&&this.console.trace("dequeue",t.id),this.r6a(1),this.emit("onDequeue",t.uH.promise)},t.prototype.remove=function(t){var e,i,n;for(e=0;e<this.zg.length;e++)if((n=(i=this.zg[e]).item)&&!n.done&&n.value===t){this.zg.splice(e,1),this.$f&&this.$f>e&&this.$f--,this.U3(),o.ga&&this.console.trace("removed",{id:i.id}),this.emit("onRemoved",{index:e,qsa:1});break}},t.prototype.r6a=function(t){var e;0<(t=t||Math.min(this.Zua,this.bsa))&&(e=this.zg.splice(0,t),this.U3(),this.$f&&(this.$f-=t),o.ga&&this.console.trace("pruned",t),Promise.resolve().then((function(){e.forEach((function(t){t.iUa.resolve()}))})),this.emit("onRemoved",{index:0,qsa:t}),this.tS+=t)},t.prototype.wYa=function(t){var e;return o.ga&&this.console.trace("getNextItemCalled",{offset:t}),void 0===this.count||0<this.count?(this.C_a(t),(e=this.zg[t]).XVb.resolve(),t=e.uH.promise,o.ga&&this.console.trace("getNextItem:return",{id:e.id})):(o.ga&&this.console.trace("getNextItem:returnDone"),t=Promise.resolve({done:!0})),t},t.prototype.eUb=function(t,e){var i;return i=(i=!e.done&&e.value)&&i.toJSON?i.toJSON():i,o.ga&&this.console.trace("Providing result",{Arb:t,item:i}),this.C_a(t),(i=(t=this.zg[t]).uH.resolve)(e),t},t.prototype.C_a=function(t){var e;void 0===this.zg[t]&&(e={},this.mpa(e),this.zg[t]=e,t===this.$f&&e.uH.resolve({done:!0}),o.ga&&this.console.trace("Item initialized",{Arb:t}))},t.prototype.qka=function(t){var e;return(e={}).promise=new Promise((function(i,n){e.resolve=function(e){i(e),t&&t(e)},e.reject=n})),e},t.prototype.mpa=function(t){var e;e=this,t.uH=this.qka((function(i){t.item=i,t.jW=!0,o.ga&&e.console.trace("Item resolved",{id:t.id})})),t.id&&t.Ppa&&!t.jW&&(t.uH.resolve({done:!0}),o.ga&&this.console.warn("Overwriting requested queue item",t.id)),t.iUa=this.qka(),t.XVb=this.qka((function(){t.Ppa=!0,o.ga&&e.console.trace("Item requested",{id:t.id})})),t.id=this.wnb++,t.Ppa=!1,t.jW=!1,t.item=void 0},t.prototype.U3=function(){this.Bf=void 0},t.prototype.xEb=function(){var t,e,i;return t=this,e=s.wq(a.default,this.console,"QueueIteratorInstance::"),i=new h(this,(function(e){var n,o;return 0===t.count?r.AsyncIterator.boa():(n=t.wYa(e),o=t.zg[0],n.then((function(e){return function(t,e){return t.done?t:{value:{value:t.value,sPa:e}}}(e,(function(){i.wN||(o===t.zg[0]?t.nM():u.assert(!t.zg.filter((function(t){return t.uH.promise===n})).length,"Out of order acknowledgements are not supported"))}))})))}),e),i},t}(),e.x_=c,i.xf(t.EventEmitter,c),h=function(t){function e(e,i,n){var r;return(r=t.call(this,(function(){return o.ga&&r.console.trace("Next item requested",{index:r.index}),r.tWb(r.index++)}))||this).parent=e,r.tWb=i,r.console=n,r.YK=!1,r.index=0,r.hga=!1,r.s4a=function(t){var e;e=t.index,t=t.qsa,r.index>=e&&(r.index=Math.max(e,r.index-t)),e=r.console,o.ga&&e&&e.trace("QueueIteratorInstance: onRemoved modified",r.index)},r}return n.__extends(e,t),e.prototype.Fh=function(){this.console.trace("disposed"),this.YK=!0,this.ed(),t.prototype.Fh.call(this)},e.prototype.next=function(){return this.wN||this.vN(),t.prototype.next.call(this)},e.prototype.cancel=function(){return this.ed(),t.prototype.cancel.call(this)},e.prototype.ed=function(){this.parent.HD("onRemoved",this.s4a),this.hga=!1},e.prototype.vN=function(){this.hga||(this.hga=!0,this.parent.on("onRemoved",this.s4a))},e}(r.AsyncIterator),e.wjb=h,e.osb=function(t){return r.map(t,f)}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.Kea=void 0,t=function(){function t(t){this.parent=t}return Object.defineProperties(t.prototype,{$0a:{get:function(){var t,e;return null!==(t=this.PIb)&&void 0!==t?t:null===(e=this.parent)||void 0===e?void 0:e.$0a},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sW:{get:function(){var t,e;return null!==(t=this.FPb)&&void 0!==t?t:null===(e=this.parent)||void 0===e?void 0:e.sW},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ou:{get:function(){var t,e;return null!==(t=this.Kg)&&void 0!==t?t:null===(e=this.parent)||void 0===e?void 0:e.ou},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{d1a:{get:function(){var t,e,i,n;return null!==(t=this.Je)&&void 0!==t?t:null!==(e=this.track)&&void 0!==e&&e.equals(null===(i=this.parent)||void 0===i?void 0:i.track)?null===(n=this.parent)||void 0===n?void 0:n.Je:void 0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{g1a:{get:function(){var t,e;return null!==(t=this.tZb)&&void 0!==t?t:null===(e=this.parent)||void 0===e?void 0:e.g1a},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{kqa:{get:function(){var t,e;return null!==(t=this.uZb)&&void 0!==t?t:null===(e=this.parent)||void 0===e?void 0:e.kqa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{track:{get:function(){return this.bXb},enumerable:!1,configurable:!0}}),t.prototype.Nb=function(){this.parent=void 0},t.prototype.N8a=function(t){this.PIb=t},t.prototype.OXb=function(t){this.FPb=t},t.prototype.Z8a=function(t){this.Kg=t},t.prototype.NY=function(t){this.Je=t},t.prototype.ZXb=function(t){this.tZb=t},t.prototype.a9a=function(t){this.uZb=t},t.prototype.PY=function(t){this.bXb=t},t}(),e.Kea=t},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),i(2).__exportStar(i(837),e)},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.CJ=void 0,n=i(246),t=function(){function t(t,e){var i;for(i=2;3!==i;)switch(i){case 4:"S","IYbZ","rNJCp","9",i=3;break;case 2:this.config=t,this.QN=e,this.sia=null,i=4}}for(2;;)return t.prototype.tUa=function(t,e){var i;for(2;;)return i=null===this.sia?t*(100-this.config.haa)/100:n.bia(t,this.sia),e=null!=e?e:this.QN,this.config.uqa&&e?(t=n.bia(t,e),t=Math.max(t,i)):t=i,t},t.prototype.jP=function(t){var e;for(e=2;1!==e;)switch(e){case 4:this.sia=t,e=3;break;case 2:this.sia=t,e=1}},t.prototype.Kxa=function(t){var e;for(e=2;1!==e;)if(2===e)this.config=t,e=1},t}(),e.CJ=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.bia=e.SD=e.GVa=void 0,n=i(2).__importDefault(i(115)).default.HVa,e.GVa=function(t,e,i){var n,r,o;return n=0,i?t.some((function(t){var i;return i=t.b,t=t.m,e<=i?(n=o&&i!==r?o+(t-o)/(i-r)*(e-r):t,!0):(r=i,n=o=t,!1)})):t.some((function(t){return n=t.m,e<=t.b})),n},e.SD=function(t,e,i){var r;return e=(null===(r=e.Ra)||void 0===r?void 0:r.Ga)||0,t.Bsb?e*(1-(t=n(t.Asb,i.lm-i.Mc,1))):e*t.haa/100},e.bia=function(t,e){return t<2*e?t/2:t-e}},function(t,e,i){var n;function r(){}function o(t,e){this.im=t,void 0!==e?(n(e<=t.Im,"require remain_sec <= chunk.sec but has "+e+" and "+t.Im),this.gl=e):this.gl=t.Im}function a(t){for(var e in void 0===t&&(t=[]),this.Yo=[],this.xh=this.Sl=0,t)this.add(t[e],void 0)}n=i(5).assert,r.prototype=Error(),o.prototype.constructor=o,o.prototype.Et=function(){return new o(this.im,this.gl)},a.prototype.constructor=a,a.prototype.add=function(t,e){t=new o(t,e),this.Yo.push(t),this.xh+=t.gl,this.Sl+=t.im.Bz()*t.gl},a.prototype.Et=function(){var t,e;for(e in t=new a(void 0),this.Yo)t.add(this.Yo[e].im,this.Yo[e].gl);return t},a.prototype.bu=function(){try{return this.Yo[0]}catch(t){}},a.prototype.E5a=function(t){var e;for(n(0<=t,"unexpected play_for_x_sec: x="+t);0<t;){if(void 0===this.bu())throw new r;t<this.bu().gl?(e=this.bu().im.Bz()*t,this.bu().gl-=t,this.xh-=t,this.Sl-=e,t=0):(e=this.Yo.shift(),this.xh-=e.gl,this.Sl-=e.im.Bz()*e.gl,t-=e.gl)}},a.prototype.BSb=function(t){var e;n(0<=t,"unexpected play_y_kb: y="+t);for(var i=0;0<t;){if(void 0===this.bu())throw new r;t<this.bu().gl*this.bu().im.Bz()?(e=t/this.bu().im.Bz(),this.bu().gl-=e,this.xh-=e,this.Sl-=t,i+=e,t=0):(e=this.Yo.shift(),this.xh-=e.gl,this.Sl-=e.im.Bz()*e.gl,i+=e.gl,t-=e.im.Bz()*e.gl)}return i},t.exports={Jza:a,Bdb:r}},function(t){var e,i,n,r,o,a;function s(){throw Error("setTimeout has not been defined")}function u(){throw Error("clearTimeout has not been defined")}function c(t){if(e===setTimeout)return setTimeout(t,0);if((e===s||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(i){try{return e.call(null,t,0)}catch(i){return e.call(this,t,0)}}}function h(){r&&o&&(r=!1,o.length?n=o.concat(n):a=-1,n.length&&f())}function f(){var t;if(!r){t=c(h),r=!0;for(var e=n.length;e;){for(o=n,n=[];++a<e;)o&&o[a].ax();a=-1,e=n.length}o=null,r=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===u||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function l(t,e){this.YDb=t,this.Cy=e}function d(){}t=t.exports={},e="function"==typeof setTimeout?setTimeout:s,i="function"==typeof clearTimeout?clearTimeout:u,n=[],r=!1,a=-1,t.kbc=function(t){var e;if(e=Array(arguments.length-1),1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];n.push(new l(t,e)),1!==n.length||r||c(f)},l.prototype.ax=function(){this.YDb.apply(null,this.Cy)},t.title="browser",t.h9b=!0,t.CVa={},t.U8b=[],t.version="",t.Zcc={},t.on=d,t.addListener=d,t.once=d,t.HD=d,t.removeListener=d,t.removeAllListeners=d,t.emit=d,t.OX=d,t.b6a=d,t.listeners=function(){return[]},t.d9b=function(){throw Error("process.binding is not supported")},t.C9b=function(){return"/"},t.r9b=function(){throw Error("process.chdir is not supported")},t.Rcc=function(){return 0}},function(t){t.exports={tFa:{code:-1,description:"MediaCache is not supported."},u7b:{code:100,description:"Resource was not found"},rhb:{code:101,description:"Resource Metadata was not found"},jK:{code:102,description:"Read failed",Uq:function(t,e){return{code:this.code,description:t,cause:e}}},w1:{code:200,description:"Daily write limit exceeded"},DJ:{code:201,description:"Capacity has been exceeded"},v1:{code:202,description:"Write failed, cause unknown",Uq:function(t,e){return{code:this.code,description:t,cause:e}}},s8b:{code:203,description:"Write failed, cause unknown"},xeb:{code:300,description:"Failed to delete resource",Uq:function(t,e){return{code:this.code,description:t,cause:e}}},sB:{code:900,description:"Invalid partition name"},Sgb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},TAa:{code:701,description:"Failed to initialize underlying disk cache."},qhb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}}},function(t){t.exports={sZa:function(t){var e;if(t&&0!==t.length)return e=[],t.forEach((function(t){var i;void 0===t.error.code&&(t.error.code=0),void 0===t.error.description&&(t.error.description="Unknown"),e.forEach((function(e){t.error&&t.error.code==e.error.code&&t.error.description===e.error.description&&(i=e)})),i?i.resources.push(t.Kq):e.push({error:t.error,resources:[t.Kq]})})),e},oXa:function(t){var e;return e={freeSize:t.An,dailyBytesRemaining:t.jM,bytesWritten:t.Ok,time:t.time,duration:t.duration},t.items&&(e.items=t.items.map((function(t){return{key:t.key,operation:t.al,itemBytes:t.D7,error:t.error}}))),e},Uw:function(t){return t.catch((function(t){setTimeout((function(){throw t}),0)}))}}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.bH=void 0,n=i(2).__importDefault(i(6)),r=i(890),e.bH=function(){var t;return o||(t=new n.default.Console("ASEJS","media|asejs"),o=new r.Dya(t)),o}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.k1=void 0,t=i(17),n=i(42),r=i(22),i=function(){function t(t){void 0===t&&(t={Zk:!1,currentTime:r.T.Gb,speed:1}),this.$c={Zk:function(){return"function"==typeof t.Zk?t.Zk():t.Zk},currentTime:function(){return"function"==typeof t.currentTime?t.currentTime():t.currentTime},speed:function(){return"function"==typeof t.speed?t.speed():t.speed}}}return Object.defineProperties(t.prototype,{Zk:{get:function(){return this.$c.Zk()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{currentTime:{get:function(){return this.$c.currentTime()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{speed:{get:function(){return this.$c.speed()},enumerable:!1,configurable:!0}}),t}(),e.k1=i,n.xf(t.EventEmitter,i)},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.HB=void 0,n=i(2),r=i(20),o=i(9),a=i(54),t=function(){function t(t,e){this.zi=t,this.options=n.__assign({Yub:!0},e)}return Object.defineProperties(t.prototype,{ED:{get:function(){return"trace-"+this.zi.source},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{mj:{get:function(){return this.ED},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return r.ga},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){var e,i;if(t.Qi===a.de.$p||t.Qi===a.de.Zn)return e=o.XTa(this.zi.zLb),i=this.zi.WIb,t.Qi===a.de.$p&&this.options.Yub&&this.zi.clear(),t=e,Object.keys(i).length&&(t=n.__spread(e,[i])),t},t.prototype.Nb=function(){this.zi.Nb()},t}(),e.HB=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.Z7a=e.jYa=e.map=void 0,n=i(2),i(927),e.map=function(t){return function(e){return function(i,r,o){var a,s,u,c,h,f;c=Reflect.EYa(t,i,r)||{Fb:{},Era:{}},f=(h="number"==typeof o)?null!==(a=c.Fb[o])&&void 0!==a?a:{}:c.Era,a=n.__assign(n.__assign(n.__assign({},f),e),{rules:n.__spread(null!==(s=f.rules)&&void 0!==s?s:[],null!==(u=e.rules)&&void 0!==u?u:[])}),h?c.Fb[o]=a:c.Era=a,Reflect.B4(t,c,i,r)}}},e.jYa=function(t){return function(e,i){return Reflect.EYa(t,e.constructor.prototype,i)}},e.Z7a=function(){return function(){return function(t){return t}}}},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.n6=e.oq=e.isEqual=e.nW=void 0,n=i(9),e.nW=function(t){return!!t.W},e.isEqual=function(t,i){var n;return(n=e.nW(t))===e.nW(i)&&(n?t.W===i.W:t.Ca===i.Ca)},e.oq=function(t){return e.nW(t)?t.W:(t=t.Ca).qa[t.Yd].W},e.n6=function(t,e){return t.z3?t.z3 instanceof n.T?{offset:t.z3,xa:e.Yd}:t.z3:{offset:n.T.Gb,xa:e.Yd}}},function(t){t.exports=function(t,e){return Object.prototype.hasOwnProperty.call(e,t)}},function(t,e,i){var n,r,o,a;function s(t,e,i){for(var n=i.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=i.next()}return t["@@transducer/result"](e)}function u(t,e,i,n){return t["@@transducer/result"](i[n](o(t["@@transducer/step"],t),e))}n=i(968),r=i(970),o=i(971),a="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",t.exports=function(t,e,i){if("function"==typeof t&&(t=r(t)),n(i)){for(var o=0,c=i.length;o<c;){if((e=t["@@transducer/step"](e,i[o]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}o+=1}return t["@@transducer/result"](e)}if("function"==typeof i["fantasy-land/reduce"])return u(t,e,i,"fantasy-land/reduce");if(null!=i[a])return s(t,e,i[a]());if("function"==typeof i.next)return s(t,e,i);if("function"==typeof i.reduce)return u(t,e,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}},function(t){t.exports=function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,i){return e.apply(this,arguments)};case 3:return function(t,i,n){return e.apply(this,arguments)};case 4:return function(t,i,n,r){return e.apply(this,arguments)};case 5:return function(t,i,n,r,o){return e.apply(this,arguments)};case 6:return function(t,i,n,r,o,a){return e.apply(this,arguments)};case 7:return function(t,i,n,r,o,a,s){return e.apply(this,arguments)};case 8:return function(t,i,n,r,o,a,s,u){return e.apply(this,arguments)};case 9:return function(t,i,n,r,o,a,s,u,c){return e.apply(this,arguments)};case 10:return function(t,i,n,r,o,a,s,u,c,h){return e.apply(this,arguments)};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.gea="PlaybackSegmentDataFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kda="ManifestParserFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.xca="HLSConfigSymbol"},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),t=i(263),n=i(151),e.bfb=n,n=i(431),e.YR=n,n=i(435),e.isb=n,e.j1=t.xq.Ua.sidx,t=i(1006),e.dr=t.dr,t=i(271),e.ar=t.ar,t=i(1010),e.cr=t.cr,e.bA=t.bA,t=i(1011),e.WJ=t.WJ,t=i(88),e.ko=t.ko,i=i(1012),e.Pj=i.Pj},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R;function N(t,e,i,n,r){a.call(this,t,e,i,n,r)}function C(t,e,i,n,r){a.call(this,t,e,i,n,r)}function L(t,e,i,n,r){a.call(this,t,e,i,n,r)}function D(t,e,i,n,r){a.call(this,t,e,i,n,r),this.MI=t.config.MI,this.vd=this.sizes=void 0}function U(t,e,i,n,r){a.call(this,t,e,i,n,r)}function B(){for(var t=new DataView(this),e="",i=0;i<this.byteLength;i++)e+=("00"+t.getUint8(i).toString(16)).slice(-2);return e}function F(t,e,i,n,r){a.call(this,t,e,i,n,r)}function q(t,e,i,n,r){a.call(this,t,e,i,n,r)}function K(t,e,i,n,r){a.call(this,t,e,i,n,r)}function H(t,e,i,n,r){a.call(this,t,e,i,n,r)}function V(t,e,i,n,r){a.call(this,t,e,i,n,r)}function G(t){function e(e,i,n,r,o){a.call(this,e,i,n,r,o),this.dX=t}return e.Na=!1,e.prototype=new a,e.prototype.constructor=e,Object.defineProperties(e.prototype,{zQ:{get:function(){return this.dX}}}),e.prototype.parse=function(){return this.u.console.trace("renaming '"+this.type+"' to draft type '"+this.dX+"'"),this.u.offset=this.startOffset+4,this.la.b_(this.zQ),this.type=this.zQ,!0},e}function J(t,e,i,n,r){a.call(this,t,e,i,n,r)}function z(t,e,i,n,r){a.call(this,t,e,i,n,r)}function Y(t,e,i,n,r){a.call(this,t,e,i,n,r)}function W(t,e,i,n,r){a.call(this,t,e,i,n,r)}function X(t,e,i,n,r){a.call(this,t,e,i,n,r)}function Z(t,e,i,n,r){a.call(this,t,e,i,n,r)}function Q(t,e,i,n,r){a.call(this,t,e,i,n,r)}function $(t,e,i,n,r){a.call(this,t,e,i,n,r)}function tt(t,e,i,n,r){a.call(this,t,e,i,n,r)}function et(t,e,i,n,r){a.call(this,t,e,i,n,r)}function it(t,e){t.forEach((function(t){e[t.Xb]=t}))}n=i(150).assert,e=i(104),r=i(264).T,o=i(431),i(151),i(88),i(88),i(88),a=i(33).Dc,s=i(989).default,u=i(990).default,c=i(991).default,h=i(992).default,f=i(993).default,l=i(994).default,d=i(995).default,p=i(996).default,b=i(997).default,i(265),i(179),v=i(432).cba,y=i(432).hca,g=i(998).default,m=i(999).default,_=i(105).default,w=i(105).lba,E=i(105).mba,k=i(105).nba,O=i(105).oba,S=i(1e3).default,T=i(1001).default,A=i(105).Cca,P=i(105).wca,j=i(1002).default,I=i(1003).default,x=i(1004).default,M=i(433).default,R=i(434).default,i(152),i(268),i(269),i(267),i=i(1005).default,N.Na=!0,N.prototype=new a,N.prototype.constructor=N,C.Na=!0,C.prototype=new a,C.prototype.constructor=C,L.Na=!1,L.prototype=new a,L.prototype.constructor=L,L.prototype.parse=function(){var t;return this.Ac(),1===this.version?(this.u.Td(),this.u.Td(),this.S=this.u.ya(),this.duration=this.u.Td()):(this.u.ya(),this.u.ya(),this.S=this.u.ya(),this.duration=this.u.ya()),t=32767&this.u.Yc(),this.language=String.fromCharCode(96+(t>>>10),96+(t>>>5&31),96+(31&t)),!0},D.Na=!1,D.prototype=new a,D.prototype.constructor=D,D.prototype.Nga=function(){this.Ac(),this.u.ya(),this.S=this.u.ya(),0===this.version?(this.MU=this.u.ya(),this.eV=this.u.ya()):(this.MU=this.u.Td(),this.eV=this.u.Td()),this.F7a=this.u.Yc(),this.gY=this.u.Yc()},D.prototype.Cfa=function(t,e){var i,n,r;i=this.S,t=t&&t.S||i,n=t/i,i=this.u.BA(e,12,!1),r=1===n?this.u.BA(e,12,!1):o.from(Uint32Array,{length:e},(function(){var t;return t=Math.round(this.u.ya()*n),this.u.offset+=8,t}),this),this.pha(e,r,i,t)},D.prototype.pha=function(t,e,i,n){if(this.MI){n=this.MI*n/1e3;for(var r=0,o=1;o<t;o++)Math.abs(e[r]-n)>Math.abs(e[r]+e[o]-n)?(e[r]+=e[o],i[r]+=i[o]):++r!==o&&(e[r]=e[o],i[r]=i[o]);++r,e=new Uint32Array(e.buffer.slice(0,4*r)),i=new Uint32Array(i.buffer.slice(0,4*r))}this.sizes=i,this.vd=e},D.prototype.parse=function(t){var e,i,n,o;return this.Nga(),this.sa=t.sa,e=this.S,i=this.sa&&this.sa.S||e,n=this.gY,o=this.startOffset+this.length+this.eV,e=new r(this.MU,e).Zf(i).vc,this.U={S:i,jl:e,offset:o},this.Cfa(this.sa,n),this.U.vd=this.vd,this.U.sizes=this.sizes,t.zs=this,!0},U.Na=!1,U.prototype=new a,U.prototype.constructor=U,U.prototype.parse=function(){var t;this.Th=[],this.mta=[],t=(this.length-11)/2,this.u.mb(),this.u.mb(),this.u.mb();for(var e=0;e<t;e++)this.Th.push(this.u.mb()),this.mta.push(this.u.mb());return!0},F.Na=!1,F.prototype=new a,F.prototype.constructor=F,F.prototype.parse=function(){return this.Ac(),this.u.offset+=4,this.vH=this.u.offset,this.pj=this.u.oua(16),this.pj.toString=B,!0},q.Na=!1,q.prototype=new a,q.prototype.constructor=q,q.prototype.parse=function(){return this.Ac(),this.ng=this.u.Yc(),this.qra=this.u.BA(this.ng,void 0,!0),!0},K.Na=!1,K.prototype=new a,K.prototype.constructor=K,K.prototype.parse=function(t){var e,i,r,a,s,u;if(e=t.zs,n(e),t=t.sa,i=e.S,e=e.gY,n(t),n(i),n(e),this.Ac(),n(2>this.version),this.ng=this.u.Yc(),this.Du=new Uint16Array(e+1),r=t.p6(i),a=r/i,s=t.Zf(r).vc,0===this.version){for(this.Tu=new Uint16Array,this.Sd=new Uint32Array,t=i=0;t<=e;++t)if(this.Du[t]=i,t<this.ng&&0!==(u=this.u.mb()))for(r=0;r<u;++r,++i)this.Tu[i]=Math.floor((this.u.ya()+1)*a)/s,this.Sd[i]=this.u.ya()}else if(1===this.version)for(r=this.u.kua(this.ng,10,!1),this.u.offset+=4,this.Sd=this.u.BA(this.ng,10,!1),this.u.offset-=8,this.Tu=o.from(Uint16Array,{length:this.ng},(function(){var t;return t=Math.floor((this.u.ya()+1)*a)/s,this.u.offset+=6,t}),this),i=t=0;t<=e;++t){for(;i<r.length&&r[i]<t;)++i;this.Du[t]=i}return this.di={Du:this.Du,Tu:this.Tu,Sd:this.Sd},!0},H.Na=!0,H.prototype=Object.create(N.prototype),H.prototype.constructor=H,V.Na=!0,V.prototype=Object.create(N.prototype),V.prototype.constructor=V,V.prototype.Qt=function(){var t;return(t=this.Rh("tfhd"))&&(this.ck=t.OT?t.ck:this.parent.startOffset),!0},J.Na=!1,J.prototype=new a,J.prototype.constructor=J,J.prototype.parse=function(){var t,e;if(t=this.u.offset,this.Ac(),1===this.version){this.u.console.trace("translating vpcC box to draft equivalent"),this.u.offset+=2;for(var i=this.u.offset,n=this.u.mb(),r=this.u.mb(),o=this.u.mb(),a=this.u.mb(),s=this.u.Yc(),u=[],c=0;c<s;++c)u=this.u.mb();switch(c=(240&n)>>>4,e=(14&n)>>>1,n&=1,o=16===o?1:0,r!=a&&this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+r+" and matrixCoefficients "+a+" should be the same value!"),a=2,r){case 1:a=2;break;case 6:a=1;break;case 9:a=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries "+r+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)")}this.version=0,this.la.fB(this.version,t),this.la.fB(c<<4|a,i++),this.la.fB(e<<4|o<<1|n,i++),s+=2,u.push(0,0),this.la.sya(s,!1),i+=2,u.forEach((function(t){this.la.fB(t,i++)}))}return!0},z.Na=!1,z.prototype=new a,z.prototype.constructor=z,z.Xb="tfhd",Object.defineProperties(z.prototype,{OT:{get:function(){return 1&this.flags}},ova:{get:function(){return 2&this.flags}},Qka:{get:function(){return 8&this.flags}},Tka:{get:function(){return 16&this.flags}},Rka:{get:function(){return 32&this.flags}}}),z.prototype.parse=function(){return this.Ac(),this.kJ=this.u.ya(),this.ck=this.OT?this.u.Td():void 0,this.ova&&this.u.ya(),this.$y=this.Qka?this.u.ya():void 0,this.bz=this.Tka?this.u.ya():void 0,this.az=this.Rka?this.u.ya():void 0,!0},Y.Na=!1,Y.prototype=new a,Y.prototype.constructor=Y,Y.prototype.parse=function(){return this.Ac(),this.Gy=1===this.version?this.u.Td():this.u.ya(),!0},Y.prototype.wa=function(t){var e;e=this.startOffset+12,this.Gy+=t,1===this.version?this.la.tya(this.Gy,e):this.la.dh(this.Gy,e)},W.Na=!1,W.prototype=new a,W.prototype.constructor=W,Object.defineProperties(W.prototype,{rU:{get:function(){return 1&this.flags}},SG:{get:function(){return 4&this.flags}},JA:{get:function(){return 256&this.flags}},KA:{get:function(){return 512&this.flags}},yY:{get:function(){return 1024&this.flags}},BI:{get:function(){return 2048&this.flags}}}),W.prototype.parse=function(){return this.Ac(),this.ST=this.u.offset,this.Lb=this.u.ya(),this.fk=this.rU?this.u.pI():0,this.SG&&this.u.ya(),this.Su=(this.JA?4:0)+(this.KA?4:0)+(this.yY?4:0)+(this.BI?4:0),this.pz=this.u.offset,n(this.rU,"Expected data offset to be present in Track Run"),n(this.length-(this.u.offset-this.startOffset)==this.Lb*this.Su,"Expected remaining data in box to be sample information"),!0},W.prototype.ot=function(t,e,i){var n,r,o;return n=this.JA?this.u.ya():t.$y,r=this.KA?this.u.ya():t.bz,t=this.yY?this.u.ya():t.az,{nva:o=0===this.version?this.BI?this.u.ya():0:this.BI?this.u.pI():0,DWb:t,ETb:i+o-(void 0!==e?e:o),yk:r,Uu:n}},W.prototype.wa=function(t,e,i,n,r,o,a){var s,u,c,h;for(s=0,u=0,this.la.offset=this.pz,n=0;n<r;++n)c=this.ot(e,h,u),0==n&&(h=c.nva),s+=c.yk,u+=c.Uu;if(n=r,r=this.u.offset,c=this.ot(e,h,u),this.Nq=n,this.vwa=u,a){if(this.Hq=this.fk+s,this.Yi=0,n===this.Lb)return!0}else if(this.Hq=this.fk,this.Yi=s,0===n)return!0;if(0===n||n===this.Lb)return!1;if(this.hz=!0,a){for(this.Yi+=c.yk,a=n+1;a<this.Lb;++a)c=this.ot(e,h,u),this.Yi+=c.yk;this.la.offset=this.ST,this.Lb=n,this.la.dh(this.Lb),this.la.vJ(o),this.SG&&(this.u.offset+=4),this.Ie(this.length-(r-this.startOffset),r)}else e=r-this.pz,this.la.offset=this.ST,this.Lb-=n,this.la.dh(this.Lb),this.fk+=s,this.la.vJ(o,this.fk),this.SG&&(this.u.offset+=4),this.Ie(e,this.la.offset);return i.Ie(this.Yi,t.ck+this.Hq),!0},W.prototype.Qua=function(t,e,i,n,r,o){var a;if(n){n=this.Hq;for(var s=this.Lb-1;0<=s&&this.Lb-s<=r;--s){if(this.la.offset=this.pz+s*this.Su,(a=this.ot(e)).Uu!=o.duration){this.u.console.warn("Could not replace sample of duration "+a.Uu+" with silence of duration "+o.duration);break}if(this.KA)this.la.offset-=this.Su-(this.JA?4:0),this.la.dh(o.Ck.byteLength);else if(o.Ck.byteLength!==a.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break}n-=a.yk,i.Ru(a.yk,o.Ck,t.ck+n)}}else for(n=this.Hq+this.Yi,s=0;s<this.Lb&&s<r;++s){if(this.la.offset=this.pz+(s+this.Nq)*this.Su,(a=this.ot(e)).Uu!=o.duration){this.u.console.warn("Could not replace sample of duration "+a.Uu+" with silence of duration "+o.duration);break}if(this.KA)this.la.offset-=this.Su-(this.JA?4:0),this.la.dh(o.Ck.byteLength);else if(o.Ck.byteLength!==a.yk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break}i.Ru(a.yk,o.Ck,t.ck+n),n+=a.yk}},X.Na=!1,X.prototype=Object.create(a.prototype),X.prototype.constructor=X,Object.defineProperties(X.prototype,{qn:{get:function(){return 1&this.flags}}}),X.prototype.parse=function(){return this.Ac(),this.qn&&this.u.Ml(),this.qn&&this.u.ya(),this.Ska=this.u.mb(),this.Lb=this.u.ya(),this.u.CA(this.Lb),!0},X.prototype.wa=function(t,e){if(t&&0===this.Ska){if(t=e?this.Lb-t:t,this.la.offset=this.startOffset+13+(this.qn?8:0),this.Lb-=t,this.la.dh(this.Lb),this.zI=0,e)this.la.offset+=this.Lb;else{for(e=0;e<t;++e)this.zI+=this.la.mb();this.la.offset-=t}this.Ie(t,this.u.offset)}return!0},Z.Na=!1,Z.prototype=Object.create(a.prototype),Z.prototype.constructor=Z,Object.defineProperties(Z.prototype,{qn:{get:function(){return 1&this.flags}}}),Z.prototype.parse=function(){return this.Ac(),this.qn&&this.u.Ml(),this.qn&&this.u.ya(),this.ng=this.u.ya(),n(1===this.ng,"Expected a single entry in Sample Auxiliary Information Offsets box"),this.fk=0===this.version?this.u.pI():this.u.rua(),!0},Z.prototype.wa=function(t,e){return this.fk+=t,this.la.offset=this.startOffset+16+(this.qn?8:0)+(0===this.version?0:4),this.la.vJ(e,this.fk),!0},Q.Na=!1,Q.prototype=Object.create(a.prototype),Q.prototype.constructor=Q,Object.defineProperties(Q.prototype,{xX:{get:function(){return 1&this.flags}},dya:{get:function(){return 2&this.flags}}}),Q.prototype.parse=function(){return this.Ac(),this.xX&&(this.u.ya(),this.u.CA(16)),this.Lb=this.u.ya(),!0},Q.prototype.wa=function(t,e){var i,n;if(i=e?this.Lb-t:t,this.la.offset=this.startOffset+28+(this.xX?20:0),this.Lb-=i,this.la.dh(this.Lb),t=this.la.offset,this.dya)for(i=e?this.Lb:i;0<i;--i)this.la.offset+=8,n=this.la.Yc(),this.la.offset+=6*n;else this.la.offset+=8*(e?this.Lb:i);e?this.Ie(this.length-(this.u.offset-this.startOffset),this.u.offset):this.Ie(this.u.offset-t,t)},$.Na=!1,$.prototype=Object.create(a.prototype),$.prototype.constructor=$,$.prototype.parse=function(){return this.Ac(),!0},$.prototype.wa=function(t,e,i){return i?this.Ie(e-t,this.startOffset+12+t):this.Ie(t,this.startOffset+12),!0},tt.Na=!1,tt.prototype=Object.create(a.prototype),tt.prototype.constructor=tt,tt.prototype.parse=function(){this.Ac(),this.u.Ml(),1===this.version&&this.u.ya(),this.ng=this.u.ya(),this.Vu=[];for(var t=0;t<this.ng;++t)for(var e=this.u.ya(),i=this.u.ya(),n=0;n<e;++n)this.Vu.push(i);return!0},tt.prototype.wa=function(t,e){return this.Vu=e?this.Vu.slice(0,t):this.Vu.slice(t),t=this.Vu.reduce((function(t,e){return 0!==t.length&&t[t.length-1].group===e||t.push({group:e,count:0}),++t[t.length-1].count,t}),[]),this.la.offset=this.startOffset+16+(1===this.version?4:0),this.la.dh(t.length),t.forEach(function(t){this.la.dh(t.count),this.la.dh(t.group)}.bind(this)),this.ng>t.length&&this.Ie(8*(this.ng-t.length)),this.ng=t.length,!0},et.Na=!1,et.prototype=Object.create(a.prototype),et.prototype.constructor=et,it([T,l,d,p,A,P,s,h,M,R,f,b,u,c,i],(_={Ua:{moov:C,trak:N,mdia:N,mdhd:L,minf:N,encv:_,schi:N,sidx:D,sinf:N,stbl:N,tenc:F,mvex:N,moof:H,traf:V,tfhd:z,trun:W,sbgp:tt,sdtp:$,saiz:X,saio:Z,tfdt:Y,mdat:et,vmaf:U},sxa:{vpcC:J,SmDm:G("smdm"),CoLL:G("coll")},CZ:{schm:S},AI:{}}).Ua),it([v,g,w,E,k,O,y,m,I,j],_.AI),it([T,S],_.CZ),_.Ua[e.ER]=F,_.Ua[e.Nx]=q,_.Ua[e.Mx]=K,_.Ua[e.DR]=Q,_.AI[e.XE]=x,_.Dc=a,t.exports={xq:_}},function(t,e){function i(t,e){var i,n,r,o,a;if("number"!=typeof t||"number"!=typeof e)t=!1;else if(t&&e){for(n=(i=Math).abs,o=Math.abs(t),r=Math.abs(e);r;)a=r,r=o%r,o=a;t=n.call(i,t*e/o)}else t=0;return t}Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t,e){"object"==typeof t?(this.xc=t.vc,this.nb=t.S):(this.xc=t,this.nb=e)}return t.Eb=function(e){return new t(e,1e3)},t.vZ=function(t,e){return Math.floor(1e3*t/e)},t.Tra=function(t,e){return Math.floor(t*e/1e3)},t.max=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t.greaterThan(e)?t:e}))},t.min=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return t.lessThan(e)?t:e}))},Object.defineProperties(t.prototype,{vc:{get:function(){return this.xc},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.nb},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{Y:{get:function(){return 1e3*this.xc/this.nb},enumerable:!0,configurable:!0}}),Object.defineProperties(t.prototype,{vh:{get:function(){return this.xc/this.nb},enumerable:!0,configurable:!0}}),t.prototype.Zf=function(e){return e/=this.S,new t(Math.floor(this.vc*e),Math.floor(this.S*e))},t.prototype.add=function(e){var n;return this.S===e.S?new t(this.vc+e.vc,this.S):(n=i(this.S,e.S),this.Zf(n).add(e.Zf(n)))},t.prototype.Qa=function(e){return this.add(new t(-e.vc,e.S))},t.prototype.PH=function(e){return new t(this.vc*e,this.S)},t.prototype.qm=function(t){var e;return this.S===t.S?this.vc/t.vc:(e=i(this.S,t.S),this.Zf(e).qm(t.Zf(e)))},t.prototype.p6=function(t){return i(this.S,t)},t.prototype.xua=function(){return new t(this.S,this.vc)},t.prototype.compare=function(t,e){var n;return this.S===e.S?t(this.vc,e.vc):(n=i(this.S,e.S),t(this.Zf(n).vc,e.Zf(n).vc))},t.prototype.equal=function(t){return this.compare((function(t,e){return t===e}),t)},t.prototype.a9=function(t){return this.compare((function(t,e){return t!==e}),t)},t.prototype.lessThan=function(t){return this.compare((function(t,e){return t<e}),t)},t.prototype.greaterThan=function(t){return this.compare((function(t,e){return t>e}),t)},t.prototype.HN=function(t){return this.compare((function(t,e){return t<=e}),t)},t.prototype.Or=function(t){return this.compare((function(t,e){return t>=e}),t)},t.prototype.toJSON=function(){return{ticks:this.vc,timescale:this.S}},t.prototype.toString=function(){return this.vc+"/"+this.S},t.Gb=new t(0,1),t.Ow=new t(1,1e3),t}(),e.T=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.u.offset+=6,this.u.Yc(),!0},e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),(t=i(23)).__exportStar(i(152),e),t.__exportStar(i(267),e),t.__exportStar(i(268),e),t.__exportStar(i(269),e),t=i(268),n=i(269),i=i(267),e.Xp={3:i.IQ,4:t.CQ,5:n.bca}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;return this.u.Yc(),t=this.u.mb(),this.Kwa=!!(128&t),this.Vea=!!(64&t),this.xda=!!(32&t),this.Kwa&&this.u.Yc(),this.Vea&&this.u.CA(this.u.mb()),this.xda&&this.u.Yc(),this.aT(),!0},e.tag=3,e}(i(152).CE),e.IQ=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.usa=this.u.mb(),this.u.mb(),this.u.Yc(),this.u.mb(),this.maxBitrate=this.u.ya(),this.Bia=this.u.ya(),this.aT(),!0},e.tag=4,e}(i(152).CE),e.CQ=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=i(152),r=i(266),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.cY=function(){15!==this.u.zc(4)||this.u.zc(24)},e.prototype.parse=function(t){if(this.spa(t)&&64===t.usa)switch(this.nn=this.aY(),this.cY(),this.u.zc(4),this.Tla=5===this.nn||29===this.nn?5:-1,0<this.Tla&&(this.cY(),this.nn=this.aY(),22===this.nn&&this.u.zc(4)),this.nn){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.lV=this.u.zc(1),(this.Yka=this.u.zc(1))&&this.u.zc(14),this.u.zc(1),this.qz=3===this.nn?256:23===this.nn?this.lV?480:512:this.lV?960:1024}return this.skip(),!0},e.prototype.aY=function(){var t;return 31===(t=this.u.zc(5))&&(t=32+this.u.zc(6)),t},e.prototype.spa=function(t){return t.tag===r.CQ.tag},e.tag=5,e}(t.CE),e.bca=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.concat=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return i=(e=Array.prototype.concat.apply([],e)).reduce((function(t,e){return t+e.byteLength}),0),t=new Uint8Array(i),e.reduce((function(e,i){return t.set(new Uint8Array(i),e),e+i.byteLength}),0),t.buffer}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(436),r=i(263),o=i(437),t=function(){function t(t,e,i){this.console=t,this.stream=e,this.view=i instanceof ArrayBuffer?new DataView(i):new DataView(i.data,i.offset,i.length)}return t.prototype.parse=function(t){var e;return e=new o.DQ(this.view.byteLength),this.tc=new n.zE(r.xq.Ua,e,this.view,this.console,{bI:!0}),t=this.tc.parse(t),this.Ua=this.tc.Ua,t},t}(),e.ar=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.cd=void 0,(t=e.cd||(e.cd={})).Qsb="bitraterestriction",t.RRa="cdnsel",t.WL="chgstrm",t.debug="debug",t.wAb="dlreport",t.MG="endplay",t.ppa="intrplay",t.zD="midplay",t.H9="playbackaborted",t.k7a="renderstrmswitch",t.QO="repos",t.$O="resumeplay",t.pXb="serversel",t.gE="startplay",t.T9a="statechanged",t.transition="transition",t.Frb="asereport",t.PQa="audioswitch",t.iRa="blockedautoplay",t.config="config",t.hla="dlreq",t.q$b="ftlProbeError",t.SZb="subtitleerror",t.TZb="subtitleqoe",t.N_b="timedtextrebuffer",t.W$a="timedtextswitch",t.I9a="speedchanged"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sEa="IsTypeSupportedProviderFactorySymbol",e.mIa="PlatformIsTypeSupportedSymbol"},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,n,s){var h;return(h=r.ao.call(this,t,e,i,s)||this).cast=n,h.type=o.gj.Oba,t=c.qkb,h.XZ[o.se.pK]=a.Gd.NQ+"; "+t,h.XZ[o.se.Ex]=a.Gd.Ex+"; "+t,t=a.Gd.Xdb.find((function(t){return h.Ny(u(c.PP,t))})),h.XZ[o.se.Qs]=t,h}Object.defineProperty(e,"__esModule",{value:!0}),e.jAa=e.D_=e.Pba=void 0,n=i(44),r=i(181),o=i(26),t=i(111),a=i(110),s=i(182),u=(new t.FB).format,g(c,r.ao),c.kka=function(t,e){return(e=c.O7a(e))?{isTypeSupported:e}:t},c.O7a=function(t){var e;if(void 0!==t){if(t.framework&&t.framework.CastReceiverContext&&t.framework.CastReceiverContext.getInstance&&(e=t.framework.CastReceiverContext.getInstance())&&e.canDisplayType)return e.canDisplayType.bind(e);if(t.framework&&t.framework.platform&&t.framework.platform.canDisplayType)return t.framework.platform.canDisplayType;if(t.receiver&&t.receiver.platform&&t.receiver.platform.canDisplayType)return t.receiver.platform.canDisplayType;if(t.__platform__&&t.__platform__.canDisplayType)return t.__platform__.canDisplayType}},c.prototype.fx=function(t){var e,i;return e=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion,this.config().nbb?(i={},e?(i[o.Mj.NE]="1.4",i[o.Mj.uv]="2.2",e().then((function(e){return e===i[t]}))):(e=this.d2a(t),e=u(c.PP,a.Gd.NQ)+" hdcp="+e,e=this.Ny.bind(this,e),Promise.resolve(e()))):Promise.resolve(!1)},c.prototype.SM=function(t){return this.XZ[t]},c.prototype.cN=function(){var t;return t=this,this.config().nbb?this.fx(o.Mj.uv).then((function(e){return e?Promise.resolve(o.Mj.uv):t.fx(o.Mj.NE).then((function(t){return t?Promise.resolve(o.Mj.NE):Promise.resolve(void 0)}))})).then((function(e){return t.lU(e)})):Promise.resolve(void 0)},c.prototype.Up=function(){var t,e;return t=r.ao.prototype.Up.call(this),e=c.IIb,t[n.N.tca]=["avc1.4D4028","width=1920; height=1080; "],t[n.N.ZQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "],t[n.N.aR]=["hev1.2.6.L153.B0","width=3840; height=2160; "],t[n.N.$Q]=["hev1.2.6.L150.B0","width=3840; height=2160; "],t[n.N.bR]=["hev1.2.6.L153.B0","width=3840; height=2160; "],t[n.N.VCa]=["hev1.2.6.L90.B0",e],t[n.N.WCa]=["hev1.2.6.L93.B0",e],t[n.N.XCa]=["hev1.2.6.L120.B0",e],t[n.N.YCa]=["hev1.2.6.L123.B0",e],t[n.N.ZCa]=["hev1.2.6.L150.B0","width=3840; height=2160; "+e],t[n.N.$Ca]=["hev1.2.6.L153.B0","width=3840; height=2160; "+e],t[n.N.OQ]=["hev1.2.6.L90.B0",e],t[n.N.QQ]=["hev1.2.6.L93.B0",e],t[n.N.SJ]=["hev1.2.6.L120.B0",e],t[n.N.TQ]=["hev1.2.6.L123.B0",e],t[n.N.VQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "+e],t[n.N.XQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "+e],t[n.N.PQ]=["hev1.2.6.L90.B0",e],t[n.N.RQ]=["hev1.2.6.L93.B0",e],t[n.N.SQ]=["hev1.2.6.L120.B0",e],t[n.N.UQ]=["hev1.2.6.L123.B0",e],t[n.N.WQ]=["hev1.2.6.L150.B0","width=3840; height=2160; "+e],t[n.N.YQ]=["hev1.2.6.L153.B0","width=3840; height=2160; "+e],t},c.prototype.uXa=function(){return[s.Xe.g_,s.Xe.gDa,s.Xe.QJ,s.Xe.FE]},c.prototype.lpa=function(){r.ao.prototype.lpa.call(this),!c.O7a(this.cast)&&this.Rn.push(s.Xe.Ex)},e.Pba=c,c.IIb="eotf=smpte2084",c.qkb="width=3840; height=2160; ",e.D_="CastSDKSymbol",e.jAa="CastEmeSymbol"},function(e,i,n){var r,o,a;function s(){this.type=r.nv.Lx}Object.defineProperty(i,"__esModule",{value:!0}),i.uB=void 0,r=n(26),e=n(111),o=n(109),a=new e.FB,s.kka=function(){return{isTypeSupported:function(e){var i;try{return-1==e.toLowerCase().indexOf("codec")?t.MSMediaKeys.isTypeSupported(e,"video/mp4"):1===(i=e.split("|")).length?t.MSMediaKeys.isTypeSupported(o.Hb.Qx,e):"probably"===s.Ywa(i[0],i[1])}catch(t){return!1}}}},s.j4=function(t,e,i){return e=a.format(s.PP,e),0===i.length?e:(i=a.format('features="{0}"',i.join()),a.format("{0}|{1}{2}",t,e,i))},s.Ywa=function(e,i){var n;try{n=t.MSMediaKeys.isTypeSupportedWithFeatures?t.MSMediaKeys.isTypeSupportedWithFeatures(e,i):""}catch(t){n="exception"}return n},i.uB=s,s.PP='video/mp4;codecs="{0},mp4a";'},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.oca=e.oB=void 0,(t=e.oB||(e.oB={})).vkb="unknown",t.Cya="absent",t.sJa="present",t.Error="error",e.oca="ExternalDisplayLogHelperSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.r1="TransportConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.oNb=e.PN=e.mNb=void 0,e.mNb=function(t){return t},e.PN=function(t){return t},e.oNb=function(t){return Object.assign({},t)}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y;function g(t,e,i,n,r,o,c,h,f,l,d,p,b,y,g,m,_,w,E,k,O){this.j=t,this.trackId=e,this.Nz=i,this.uc=n,this.oi=r,this.Fg=o,this.Bc=c,this.jw=h,this.ila=f,this.Wd=l,this.displayName=d,this.ml=p,this.XI=b,this.variant=y,this.oI=g,this.profile=m,this.tu=_,this.fO=w,this.JDb=E,this.t7=k,this.du=O,this.type=a.Ei.laa,this.Js=void 0,this.kk=!(!m||m!=u.Zm.cK),this.Ri={bcp47:l,trackId:e,downloadableId:c,isImageBased:this.kk},this.log=s.Ih(t,"TimedTextTrack"),this.state=v.J0,this.request=this.request.bind(this)}Object.defineProperty(e,"__esModule",{value:!0}),e.nF=void 0,n=i(1),r=i(74),o=i(14),a=i(90),s=i(8),u=i(44),c=i(21),h=i(19),f=i(1067),l=i(15),d=i(3),p=i(1068),b=i(1071),(y=v||(v={}))[y.J0=0]="NOT_LOADED",y[y.LOADING=1]="LOADING",y[y.ME=2]="LOADED",y[y.kR=3]="LOAD_FAILED",g.prototype.X6=function(){var t;return t=this,this.j.state.value===l.Rb.CLOSED||this.j.state.value===l.Rb.CLOSING?Promise.reject({$:!1}):this.kk?this.aKb():(this.JUa||(this.JUa=this.LUa()),this.JUa.then((function(e){return t.bKb(e)})))},g.prototype.getState=function(){return this.state},g.prototype.Vr=function(){return this.fO},g.prototype.rq=function(){return this.JDb},g.prototype.Mr=function(t,e){var i;try{return null===(i=this.Twa)||void 0===i?void 0:i.Mr(t,e)}catch(i){this.log.error("error in getSubtitlesCount",i,{start:t,end:e,isImageBased:this.kk})}},g.prototype.rHb=function(){var t,e,i;if(!h.Xc(this.Z))try{i=null===(e=null===(t=this.Twa)||void 0===t?void 0:t.WG(0))||void 0===e?void 0:e[0],this.Z=null==i?void 0:i.displayTime}catch(t){this.log.error("exception in getStartPts",t)}return this.Z},g.prototype.N$=function(t){return this.j.state.value===l.Rb.CLOSING||this.j.state.value===l.Rb.CLOSED?(this.log.info("playback is closing, abort timed text retry",t),!1):this.j.jc.value===this||(this.log.info("timed text track was changed, abort timed text retry",t),!1)},g.prototype.ATa=function(t){var e,i,n;return e=this,(i=s.Ih(this.j,"TimedTextTrack")).warn=i.trace.bind(i),i.info=i.debug.bind(i),i=f.BTa(this.j,i,this.request,this),(n=new(o.config.N1b&&!this.kk?p.LEa:b.default)(i,t)).on("ready",(function(){e.Twa=n})),n},g.prototype.aKb=function(){var t,e,i,n,r,a,s;return t=this,this.K_a||(this.state=v.LOADING,e={profile:"nflx-cmisc",url:"",XQa:!1,Hra:this.tu.offset,a3a:this.tu.length,Ed:this.j.mediaTime.value||0,bufferSize:o.config.zJb,y$:{qa:this.j.qV()}},i=(this.ila||[]).filter((function(e){return e.id in t.jw})).sort((function(t,e){return t.uc-e.uc})).map((function(t){return t.id})),n=0,r={},a=!0,s=function(u,c){var f;h.Xc(u)?a||t.N$(t.Xt(t.Jt,"","image"))?(a=!1,t.tu.url=t.jw[t.Jt],e.url=t.tu.url,r[u]=(r[u]||0)+1,(f=t.ATa(e)).on("ready",(function(){c({$:!0,track:t})})),f.on("error",(function(e){var a;e=Object.assign({$:!1},e),(a=t.Xt(t.Jt,t.tu.url,"image")).details={midxoffset:t.tu.offset,midxsize:t.tu.length},a.errorstring=e.errorString,r[u]<=o.config.V$a?(t.q5(a,!0,"retry with current cdn"),t.Cia(r[u]).then((function(e){t.log.trace("retry timed text download after "+e,t.Xt(t.Jt,"","image")),s(t.Jt,c)}))):(t.Jt=i[n++],t.Jt?(t.q5(a,!0,"retry with next cdn"),t.Cia(r[u]).then((function(e){t.log.trace("retry timed text download after "+e,t.Xt(t.Jt,"","image")),s(t.Jt,c)}))):(t.q5(a,!1,"all cdns tried"),c({$:!1,gPb:"all cdns failed for image subs",track:t})))})),f.start()):c({$:!1,aborted:!0}):(c({$:!1,gPb:"cdnId is not defined for image subs downloadUrl"}),t.q5(t.Xt(0,"","image"),!1,"cdnId is undefined"))},this.Jt=i[n++],this.K_a=new Promise((function(e,i){s(t.Jt,(function(n){n.$?(t.log.info("Loaded image subtitle manager"),t.state=v.ME,e(n)):(t.log.error("Unable to load image subtitles manager",n),t.state=v.kR,i(n))}))}))),this.K_a},g.prototype.bKb=function(t){var e,i;return e=this,i=this.j.cB,c.hb(i),new Promise((function(n,r){var a;(a=e.ATa({profile:e.profile,xml:t,oj:o.config.kxa,preferences:o.config.kaa,Ed:e.j.mediaTime.value||0,XQa:!1,videoSize:i})).on("ready",(function(){n(a)})).on("error",(function(t){r({$:!1,error:t})})).start()})).then((function(){return e.state=v.ME,{$:!0,track:e}})).catch((function(t){throw e.log.error("Unable to parse timed text track",d.Ts(t),e.Ri,{url:t.url}),e.state=v.kR,t.reason="parseerror",t.track=e,t}))},g.prototype.q5=function(t,e,i){t=Object.assign({},t,{bdc:e,status:i}),this.j.fireEvent(l.ca.DP,t),this.log.warn("subtitleerror event",t)},g.prototype.request=function(t,e){var i;i=this,this.log.trace("Downloading",t),t={url:t.url,offset:t.offset,length:t.size,Js:this.Js,responseType:r.YV,headers:{},qc:this.Xma(this.Jt)},this.j.O6.download(t,(function(t){i.log.trace("imgsub: request status "+t.$),t.$?e(null,new Uint8Array(t.content)):e({na:t.na,pf:t.pf})}))},g.prototype.Xt=function(t,e,i){return{currentCdnId:t,url:e,profile:this.profile,dlid:this.Bc,subtitletype:i,bcp47:this.Wd,trackId:this.trackId,cdnCount:Object.keys(this.jw).length,isImageBased:this.kk}},g.prototype.Xma=function(t){return(this.ila||[]).find((function(e){return e.id===t}))},g.prototype.LUa=function(){var t,e;function i(i){return n.__awaiter(t,void 0,void 0,(function t(){var n,o,s;return o=this,S(t,(function(t){return n=a(),(s=o.Xt(i.qc.id,i.url,"text")).errorstring=i.reason,n&&o.N$(s)?t.return(o.Cia(e[n.id]).then(r)):t.return(Promise.reject({$:!1,aborted:!0}))}))}))}function r(){return n.__awaiter(t,void 0,void 0,(function t(){var n,r,o;return r=this,S(t,(function(t){return o=(n=a())&&r.jw[n.id],n&&o?(e[n.id]=(e[n.id]||0)+1,t.return(r.HAb(o,n).catch(i))):t.return(Promise.reject({}))}))}))}function a(){return(t.ila||[]).find((function(i){return!!((e[i.id]||0)<o.config.V$a&&t.jw[i.id])}))}return t=this,this.state=v.LOADING,e={},r()},g.prototype.Cia=function(t){return new Promise((function(e){var i;i=1e3*Math.min(Math.pow(2,t-1),8),setTimeout((function(){return e(i)}),i)}))},g.prototype.HAb=function(t,e){var i;return i=this,this.log.trace("Downloading",e&&{qc:e.id},this.Xt(e.id,t,"text")),new Promise((function(n,o){var a;a={responseType:r.Ooa,url:t,track:i,qc:e,EC:"tt-"+i.Wd},i.j.O6.download(a,(function(t){t.$?n(t.content):(t.reason="downloadfailed",t.url=a.url,t.track=i,t.qc=e,o(t))}))}))},e.nF=g,g.DB=v},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.vya=void 0,n=i(8),r=i(3),o=i(472),a=i(473),s=i(61),e.vya=function(t,e){var i,u;try{u=o.bcb(t)}catch(t){n.log.error("xml2xmlDoc exception",t)}s.Rf((function(){if(u&&u.documentElement)try{i=a.ccb(u)}catch(t){n.log.error("xmlDoc2js exception",t)}s.Rf((function(){e(i?{$:!0,object:i}:{$:!1,na:r.L.zCa})}))}))}},function(t){function e(t){this.buffer=t,this.position=0}e.prototype={seek:function(t){this.position=t},skip:function(t){this.position+=t},Mna:function(){return this.buffer.length-this.position},DA:function(){return this.buffer[this.position++]},Mh:function(t){var e;return e=this.position,this.position+=t,(t=this.buffer).subarray?t.subarray(e,this.position):t.slice(e,this.position)},Fq:function(t){for(var e=0;t--;)e=256*e+this.buffer[this.position++];return e},nua:function(t){for(var e="";t--;)e+=String.fromCharCode(this.buffer[this.position++]);return e},uh:function(){return this.Fq(2)},Gq:function(){return this.Fq(4)},IO:function(){return this.Fq(8)},Yw:function(t){for(var e,i="";t--;)i+="0123456789ABCDEF"[(e=this.DA())>>>4]+"0123456789ABCDEF"[15&e];return i},qua:function(t){for(var e=0,i=0;i<t;i++)e+=this.DA()<<(i<<3);return e},HO:function(){return this.qua(4)},d_:function(t){this.$P(t,2)},hB:function(t){this.$P(t,4)},Yaa:function(t){this.buffer[this.position++]=t},$P:function(t,e){this.position+=e;for(var i=1;i<=e;i++)this.buffer[this.position-i]=255&t,t=Math.floor(t/256)},gB:function(t){for(var e=0;e<t.length;e++)this.buffer[this.position++]=t.charCodeAt(e)},c_:function(t){for(var e=t.length,i=0;i<e;i++)this.buffer[this.position++]=t[i]},ZP:function(t,e){this.c_(t.Mh(e))}},t.exports=e},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.eFa="LogMessageRulerConfigSymbol",e.gFa="LogMessageRulerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qda="MilestonesEventBuilderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.K0="NetworkMonitorFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Oda="PboLicenseResponseTransformerSymbol"},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,n){this.za=t,this.v6=e,this.Aa=i,this.profile=n}function h(){}function f(){}function l(){}Object.defineProperty(e,"__esModule",{value:!0}),e.WHa=e.T0=void 0,t=i(1),n=i(0),r=i(38),o=i(4),a=i(13),s=i(18),i=i(94),l.prototype.encode=function(t){return{downloadableId:t.Bc,duration:t.duration}},l.prototype.decode=function(t){return{Bc:t.downloadableId,duration:t.duration}},f.prototype.encode=function(t){return{total:t.total,totalContentTime:t.gJ,audio:t.audio.map((new l).encode),video:t.video.map((new l).encode),text:t.text.map((new l).encode)}},f.prototype.decode=function(t){var e;return{total:t.total,gJ:null!==(e=t.totalContentTime)&&void 0!==e?e:t.total,audio:t.audio.map((new l).decode),video:t.video.map((new l).decode),text:t.text.map((new l).decode)}},h.prototype.encode=function(t){return{type:t.type,href:t.href,xid:t.ba,movieId:t.J,position:t.position,clientTime:t.aU,sessionStartTime:t.HY,videoTrackId:t.VP,audioTrackId:t.pn,timedTextTrackId:t.KP,mediaId:t.TN,playTimes:(new f).encode(t.GX),trackId:t.trackId,sessionId:t.sessionId,appId:t.appId,sessionParams:t.Jm,mdxControllerEsn:t.rra,profileId:t.profileId}},h.prototype.decode=function(t){return{type:t.type,href:t.href,ba:t.xid,J:t.movieId,position:t.position,aU:t.clientTime,HY:t.sessionStartTime,VP:t.videoTrackId,pn:t.audioTrackId,KP:t.timedTextTrackId,TN:t.mediaId,GX:(new f).decode(t.playTimes),trackId:t.trackId,sessionId:t.sessionId,appId:t.appId,Jm:t.sessionParams,rra:t.mdxControllerEsn,profileId:t.profileId}},e.T0=h,c.prototype.create=function(t){var e,i,n;return{href:t.oa&&t.oa.lk?t.oa.lk.zV("events").href:"",type:"online",ba:t.ba.toString(),J:t.J,position:Math.floor(t.zka||0),aU:this.za.FY.da(o.ja),HY:t.qH?t.qH.da(o.ja):-1,VP:null===(e=t.xg.value)||void 0===e?void 0:e.trackId,pn:null===(i=t.oc.value)||void 0===i?void 0:i.trackId,KP:null===(n=t.jc.value)||void 0===n?void 0:n.trackId,TN:void 0,GX:this.LGb(t),trackId:void 0!==t.Fj?t.Fj.toString():"",sessionId:this.v6().sessionId||this.Aa.id,appId:this.v6().appId||this.Aa.id,Jm:t.bb.Jm||{},profileId:this.profile}},c.prototype.Xxb=function(t,e){return Object.assign({},this.create(t),{rra:e&&e.f4})},c.prototype.load=function(t){return(new h).decode(t)},c.prototype.Hna=function(t){return t.map((function(t){return{Bc:t.downloadableId,duration:t.duration}}))},c.prototype.LGb=function(t){return(t=t.Ll)?{total:(t=t.KGb()).total,gJ:t.totalContentTime,audio:this.Hna(t.audio),video:this.Hna(t.video),text:this.Hna(t.timedtext)}:{total:0,gJ:0,video:[],audio:[],text:[]}},u=c,u=t.__decorate([n.R(),t.__param(0,n.l(r.Uh)),t.__param(1,n.l(a.Zc)),t.__param(2,n.l(s.jd)),t.__param(3,n.l(i.OR))],u),e.WHa=u},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.bIa="PboPlaydataValidatorSymbol",e.THa="PboPlaydataArrayValidatorSymbol",e.VHa="PboPlaydataCollectionValidatorSymbol"},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.E_=void 0,n=i(11),r.ika=function(t){var e;if(n.Be.queryCommandSupported&&n.Be.queryCommandSupported("copy")){(e=n.Be.createElement("textarea")).textContent=t,e.style.position="fixed",n.Be.body.appendChild(e),e.select();try{n.Be.execCommand("copy")}catch(t){console.warn("Copy to clipboard failed.",t)}finally{n.Be.body.removeChild(e)}}},e.E_=r},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Zca=void 0,e.Zca=i,i.zeb="display",i.Qdb="console"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uW=void 0,e.uW=function(t,e,i){var n;if(i.set)throw Error("Property "+e+" has a setter and cannot be made into a lazy property.");n=i.get,i.get=function(){var r,o;return r=n.apply(this,arguments),o={enumerable:i.enumerable,value:r},Object.getPrototypeOf(t)===Function.prototype?Object.defineProperty(t,e,o):Object.defineProperty(this,e,o),r}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lea=e.iK=void 0,(t=e.iK||(e.iK={})).t_b="taskstart",t.r_b="taskabort",t.s_b="taskfail",t.u_b="tasksuccess",e.lea="PreparerTaskSchedulerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Mba="CacheManagerFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Yya="AsePrefetcherAdapterSymbol",e.Zya="AsePrefetcherProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.wba=e.de=void 0,(t=e.de||(e.de={}))[t.ap=0]="startPlayback",t[t.$p=1]="endPlayback",t[t.Zn=2]="underflow",e.wba="AseIntegrationFactorySymbol"},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p;Object.defineProperty(i,"__esModule",{value:!0}),i.UI=void 0,r=n(12),o=n(14),a=n(60),s=n(51),u=n(3),c=n(21),h=n(8),f=n(24),l=n(11),d=n(296),p=n(19),e=n(31),h.ka.get(e.fh).register(u.M.TDa,(function(e){var n,b,v;function y(){var t;y=r.ql,t=setInterval(g,o.config.TMb),a.ve.addListener(a.El,(function(e){e&&e.isPopStateEvent?n.trace("popstate event, Lock timers can stay"):(f.te(b,(function(t,e){localStorage.removeItem(e.Xr)})),clearInterval(t))}),r.cF)}function g(){var t;t=s.V3(),f.te(b,(function(e,i){e=localStorage.getItem(i.Xr),(e=JSON.parse(e))?e.updated=t:e={updated:t,sessionId:v,count:1},localStorage.setItem(i.Xr,JSON.stringify(e))}))}c.hb(d.storage),n=h.Oi("StorageLock"),b={},v=Date.now()+"-"+Math.floor(1e6*Math.random()),i.UI={vy:function(e,i,a){var c,h,d,g,m,_,w,E,k,O;function S(t){localStorage.setItem(d,JSON.stringify(t)),t={Xr:d},b[d]=t,n.trace("Lock acquired",{Name:t.Xr}),y(),i({$:!0,W7:t})}if(c=this,a=void 0!==a&&a,localStorage){h=s.V3(),d="lock-"+e,g={updated:h,sessionId:v,count:1};try{d in localStorage?(m=localStorage.getItem(d),_=0,w=JSON.parse(m),p.Rz(w.updated)&&(_=w.updated),E=l.SE(h-_)*r.pl,k=v===w.sessionId,E<o.config.B1a?k?(w.count+=1,n.debug("Incremented lock count for existing playbackSession",{id:v,count:w.count}),w.updated=h,S(w)):a?(O=o.config.B1a-E+r.pl,n.error("Waiting until current expiration to confirm whether lock is still active",{id:v,count:w.count,Epoch:h,LockEpoch:_,waitTimeoutMs:O}),t.setTimeout((function(){return c.vy(e,i,!1)}),O)):i({$:!1}):(n.error("Lock was expired or invalid, ignoring",{Epoch:h,LockEpoch:_}),S(g))):S(g)}catch(t){n.error("Error acquiring Lock",{errorSubCode:u.L.Lj,errorDetails:f.wd(t)}),i({$:!0})}}else l.xqa?n.error("Local storage access exception",{errorSubCode:u.L.Wjb,errorDetails:f.wd(l.xqa)}):n.error("No localstorage",{errorSubCode:u.L.Xjb}),i({$:!0})},release:function(t,e){var i,o;if(c.hb(b[t.Xr]==t),localStorage){try{i=localStorage.getItem(t.Xr),1<(o=JSON.parse(i)).count?(--o.count,localStorage.setItem(t.Xr,JSON.stringify(o)),n.trace("Lock count decremented",{Name:t.Xr,count:o.count})):(localStorage.removeItem(t.Xr),delete b[t.Xr],n.trace("Lock released",{Name:t.Xr}))}catch(e){n.error("Unable to release Lock",{Name:t.Xr},e)}e&&e(r.Ye)}}},o.config.V4?i.UI.vy("session",(function(t){i.UI.D8a=t,e(r.Ye)})):e(r.Ye)}))},function(t,e,i){var n,r,o,a,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.storage=void 0,n=i(14),r=i(12),o=i(525),t=i(3),a=i(526),s=i(528),u=i(8),i=i(31),e.storage=e.storage||void 0,u.ka.get(i.fh).register(t.M.SDa,(function(t){var i;switch(n.config.sZb){case"idb":i=a.W9a;break;case"none":i=o.Y9a;break;case"ls":i=s.X9a}i((function(i){i.$?(e.storage=i.storage,t(r.Ye)):t(i)}))}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e){var i;i=u.Oi("PlayDataManager"),e=e||r.ql,o.config.hp?e(r.Ye):v(i).then((function(o){var a;a=o.O4.filter((function(t){return!1===t.active})).map((function(e){return function(e,r){return r.we&&0!==r.we.length&&r.we[0].BH?n.FA(t,r).then((function(){return i.trace("Successfully released license for session",JSON.stringify(r)),e?e.lY(r):Promise.resolve()})).catch((function(t){throw i.error("Unable to send stop command for session",JSON.stringify({ac:r,error:t})),t})):(i.error("releaseDrmSession exception: missing valid keySessionData"),e?e.lY(r):Promise.resolve())}(o,e)})),Promise.all(a).then((function(){i.info("release drm session completed for "+a.length+" entries"),e(r.Ye)})).catch((function(t){(t=t||{}).DrmCacheSize=a.length,i.error("Unable to release one or more DRM session data",t),e(r.Ye)}))})).catch((function(t){i.error("Unable to load DRM session data",t),e(r.Ye)}))}function v(t){var i;return e.mla||(i=u.ka.get(c.Nba),e.mla=new Promise((function(e,n){i.E6a().then((function(){e(i)})).catch((function(e){t.error("Unable to load DRM data for license release",e),n(e)}))}))),e.mla}Object.defineProperty(e,"__esModule",{value:!0}),e.oIa=e.nIa=e.mla=void 0,n=i(298),r=i(12),o=i(14),a=i(60),s=i(34),u=i(8),t=i(3),c=i(204),h=i(153),f=i(15),l=i(49),d=i(31),p=i(200),e.nIa=function(t){var e,i,n,c,d,y;function g(){return i||(t.Dd("pdsb"),i=u.ka.get(h.IR)().then((function(e){return c=e,t.Dd("pdsc"),e})).catch((function(i){throw e.error("Unable to initialize the playdata services",i),t.Dd("pdse"),i}))),i}function m(){n=!0,c&&c.close(),a.ve.removeListener(a.El,m)}return e=u.Ih(t,"PlayDataManager"),n=!1,(d=u.ka.get(s.yB)).NJ&&d.LJ||(y=u.ka.get(p.Wda)(),d.NJ=y.ac,d.LJ=y.request),t.Dd("pdctor"),t.addEventListener(f.ca.kg,(function(){a.ve.removeListener(a.El,m)})),t.addEventListener(f.ca.KN,(function(){var i;!o.config.hp&&t.nf&&(i=t.e4.jTa(),v(e).then((function(t){return t.yPa(i)})).catch((function(){e.error("Unable to load/add cached DRM data")})))})),t.addEventListener(f.ca.kg,(function(){var i;n||(t.E2b(),i=[o.config.hp||!t.nf?Promise.resolve():new Promise((function(i){var n;e.info("Sending the expedited playdata"),n=t.e4.jTa(),t.nf.MVa(n).then((function(){return e.info("Sent the expedited playdata"),v(e)})).then((function(t){return t?t.lY(n):Promise.resolve()})).then((function(){i(void 0)})).catch((function(t){e.error("Unable to send the expedited playdata",t),i()}))})),g().then((function(e){return e.$Y(t.ha)})).then((function(){e.info("Sent the playdata")})).catch((function(t){e.error("Unable to send the playdata",t)})),new Promise((function(t){u.ka.get(l.Um).flush(!1).catch((function(){e.error("Unable to send logblob"),t(void 0)})).then((function(){t(void 0)}))}))],Promise.all(i).then((function(){t.c9()})).catch((function(){t.c9()})))})),a.ve.addListener(a.El,m),{gXb:function(e){t.Dd("pdpb"),o.config.D$||g().then((function(e){return e.send(t.J)})).then((function(){o.config.hp?(t.Dd("pdpc"),e(r.Ye)):b(t,(function(){t.Dd("pdpc"),e(r.Ye)}))})).catch((function(){t.Dd("pdpe"),e(r.Ye)}))}}},e.oIa=function(){return new Promise((function(t){b({},(function(e){t(e)}))}))},u.ka.get(d.fh).register(t.M.rB,(function(t){t(r.Ye)}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t){var e;e=this,this.j=t,this.o1a=!1,this.log=r.Ih(this.j,"Playback"),this.JN=r.ka.get(h.lR),this.Yg=r.ka.get(l.Xs),this.ZRb=r.ka.get(d.Mda),this.j.addEventListener(f.ca.KN,(function(){return e.B1b()})),o.hb(n.config),n.config.hp||(this.SAb=r.ka.get(a.ABa))}function v(t,e){var i;function n(t){return t&&0<t.length&&t[0].BH}return i=r.ka.get(h.lR),t.ba&&n(t.we)?i.release({ba:t.ba,we:t.we}).then((function(){})):e.ba&&n(e.we)?i.release(e).then((function(){})):Promise.resolve()}Object.defineProperty(e,"__esModule",{value:!0}),e.FA=e.GAa=void 0,n=i(14),r=i(8),o=i(21),a=i(316),s=i(3),u=i(62),c=i(19),h=i(188),f=i(15),l=i(66),d=i(299),p=i(34),b.prototype.aH=function(t){var e;return e=this,new Promise((function(i,n){var o,a,s;o=u.co.$Sa(t.Uf),a=t.dk.map((function(t){return{sessionId:t.sessionId,dataBase64:r.pC(t.data)}})),o={Ti:(s=e.j.NGb(t.dk[0].sessionId)).Ti,Uf:c.is.kn(t.Uf)?t.Uf:o,N4:[s.rm],dk:a,ba:s.ba,Eo:t.Eo,lk:s.oa.lk},e.j.aM&&e.j.aM.f4&&(o.MW=e.j.aM.f4),e.JN.vy(o).then((function(t){e.j.we=t.we,i(t),e.oDb(s)})).catch(n)}))},b.prototype.release=function(t){return v(this.j,t)},b.prototype.jTa=function(){var t;return(t=this.SAb.create()).we=this.j.we,t.ba=this.j.ba,t.J=this.j.J,t},b.prototype.oDb=function(t){this.o1a||(this.o1a=!0,this.j.fireEvent(f.ca.KN,{J:t.J}))},b.prototype.B1b=function(){var t,e;t=this,e=r.ka.get(p.Hk),this.Yg.Gpa||b.hbb||(b.hbb=!0,e.eya&&n.config.A1b&&n.config.rJ&&this.ZRb.og(this.log,{}).then((function(){return t.log.trace("Updated NetflixId")})).catch((function(e){return t.log.error("NetflixId upgrade failed",s.Ts(e))})))},e.GAa=b,b.hbb=!1,e.FA=v},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Mda="PboBindCommandSymbol"},function(t,e,i){var n,o,a,s,u,c,h,f,l,d,p,b;function v(t){t=Error.call(this,t),this.message=t.message,"stack"in t&&(this.stack=t.stack),this.name="CodecSwitchingError"}function y(t,e,i,r,c){var f,l;f=this,this.j=t,this.type=e,this.yMa=r,this.log=c,this.g2=new s.dc(!1),this.xF={data:[],state:"",operation:""},this.mimeType=this.PVa((this.type===n.Tb.Ta.Mb?this.j.xg.value:this.j.oc.value).streams),this.ft=new u.Gk,this.wga={Type:this.type},a.config.rD&&(l=!0,this.pma=new s.dc(!1)),this.log.trace("Adding source buffer",this.wga,{TypeId:this.mimeType}),this.sd=i.addSourceBuffer(this.mimeType),this.sd.addEventListener("updatestart",(function(){f.xF.state="updatestart"})),this.sd.addEventListener("update",(function(){f.xF.state="update"})),this.sd.addEventListener("updateend",(function(){var t;f.g2.set(!1),f.FMa&&f.FMa(),f.xF.state="updateend",t=0;try{t=f.sd.buffered.length}catch(t){}l&&t&&(l=!1,f.pma.set(!0))})),this.sd.addEventListener("error",(function(e){var i;try{i=e.target.error&&e.target.error.message,(e.message||i)&&c.error("error event received on sourcebuffer",{mediaErrorMessage:e.message})}catch(t){}t.Xd(h.M.Zib,o.V5(f.type))})),this.sd.addEventListener("abort",(function(){})),t.addEventListener(d.ca.closed,(function(){f.sd=void 0}))}Object.defineProperty(e,"__esModule",{value:!0}),e.aeb=e.nda=void 0,n=i(47),o=i(185),a=i(14),s=i(80),u=i(73),c=i(8),i(98),h=i(3),i(4),f=i(21),l=i(19),d=i(15),p=i(155),b=i(191),y.prototype.Hh=function(){return this.g2.value},y.prototype.updating=function(){return!!this.sd&&this.sd.updating},y.prototype.J$=function(t){this.FMa=t},y.prototype.Q5=function(){return this.xF},y.prototype.buffered=function(){return this.sd.buffered},y.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")"},y.prototype.toJSON=function(){return{type:this.type}},y.prototype.K5=function(){var t,e,i,n,r,o,a;try{if(t=this.sd.buffered,e=0,t)for(i=[],n=0,r=t.length,n=0;n<r;n++)o=t.start(n),e+=(a=t.end(n))-o,f.hb(a>o),i.push(o+"-"+a);if(i)return{Buffered:e.toFixed(3),Ranges:i.join("|")}}catch(t){}},y.prototype.oQa=function(t,e){try{f.hb(this.sd.buffered&&1>=this.sd.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.K5()))}catch(t){}f.hb(!this.Hh()),this.j9a("append",t),e=e&&e.Ou/1e3,l.Ba(e)&&this.sd.timestampOffset!==e&&(this.sd.timestampOffset=e),this.sd.appendBuffer(t),this.g2.set(!0)},y.prototype.remove=function(t,e){f.hb(!this.Hh());try{this.j9a("remove"),this.sd.remove(t,e),this.g2.set(!0)}catch(t){this.log.error("SourceBuffer remove exception",t,this.wga)}},y.prototype.j9a=function(t,e){this.xF.data=e||[],this.xF.state="init",this.xF.operation=t},y.prototype.dYb=function(t,e){this.$Lb=Math.floor(1e3*t/e)},y.prototype.lub=function(t){var e;if(this.sd){if((t=this.PVa([{type:this.Pvb,kh:t}]))!==this.mimeType){if(e=this.mimeType,this.log.info("Changing SourceBuffer mime-type from: "+this.mimeType+" to: "+t),!this.sd.changeType)throw new v("Platform doesnt support changing SourceBuffer mime-type");try{this.sd.changeType(t),this.mimeType=t}catch(i){throw this.log.error("Error changing SourceBuffer type",i,this.wga,{From:e,To:t}),new v(i.message)}}}else this.log.info("No SourceBuffer")},y.prototype.appendBuffer=function(t,e){return!e||e.ad?this.aia(t,e):this.j3(t,e),!0},y.prototype.aia=function(t,e){this.j.Xf.aia(this,t,e||{})},y.prototype.j3=function(t,e){t=this.Ivb(t,e),this.j.Xf.j3(t)},y.prototype.Ivb=function(t,e){var i;return i=this.$Lb||0,{fSa:function(){this.response=void 0},mi:function(){return this.requestId},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:b.wc.Sc.DONE,AA:e.Z,Vw:e.Z+e.duration,Hr:e.duration,Ou:i,ek:e.ek,xa:e.xa,Oa:e.Oa,Md:+e.Md,location:e.location,QL:e.offset,PL:e.offset+e.fa-1,bitrate:e.bitrate,response:t,CZa:t&&0<t.byteLength,kD:!0,get ad(){return!this.kD},n8a:this.Tj-i||1/0,toJSON:function(){var t;return t={requestId:this.requestId,segmentId:this.xa,isHeader:this.ad,ptsStart:this.AA,ptsOffset:this.Ou,responseType:this.K8b,duration:this.Hr,readystate:this.Bh},this.stream&&(t.bitrate=this.stream.bitrate),JSON.stringify(t)}}},y.prototype.endOfStream=function(){var t;this.j.bG("EndOfStream"),null===(t=this.j.Xf)||void 0===t||t.d9(this.mediaType)},y.prototype.addEventListener=function(t,e,i){this.ft.addListener(t,e,i)},y.prototype.removeEventListener=function(t,e){this.ft.removeListener(t,e)},y.prototype.PVa=function(t){var e;return e=c.ka.get(p.TR),this.type===n.Tb.Ta.Mb?e.l4(t):e.i4(t)},r.Object.defineProperties(y.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type}},F3:{configurable:!0,enumerable:!0,get:function(){return this.yMa.F3}},TY:{configurable:!0,enumerable:!0,get:function(){return this.yMa.TY}},Pvb:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video"}}}),e.nda=y,g(v,Error),e.aeb=v},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.GTa=e.Uqa=void 0,n=i(21),r=i(24),o=i(19),function(){var t,i,a;function s(e){return n.hb(void 0!==t[e]),t[e]}t={'"':'""',"\r":"","\n":" "},i=/["\r\n]/g,a=/[", ]/,e.GTa=function(t){return o.Xc(t)?o.Ba(t)?t:o.Se(t)?t.replace(i,s):o.rpa(t)?t:isNaN(t)?"NaN":"":""},e.Uqa=function(t){var i,n;return i=e.GTa,n="",r.te(t,(function(t,e){t=i(t)+"="+i(e),a.test(t)&&(t='"'+t+'"'),n=n?n+","+t:t})),n}}()},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Oj=void 0,(t=e.Oj||(e.Oj={}))[t.H9a=1]="sourceopen",t[t.Wp=2]="currentTimeChanged",t[t.BY=3]="seeked",t[t.n1a=5]="licenseadded",t[t.G9a=6]="sourceBuffersAdded",t[t.l9=7]="onNeedKey"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.iea="PlaygraphManagerFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kea="PlaygraphVideoPlayerFactorySymbol"},function(t,e,i){var n;function r(t,e){var i;i=this,this.vk=t,this.Zg=e,this.addEventListener=function(t,e,n){return i.Zg.addListener(t,i.WTa(t,e),n)},this.removeEventListener=function(t,e){return i.Zg.removeListener(t,i.WTa(t,e))},this.getReady=function(){return i.Zg.isReady()},this.getXid=function(){return i.Ab().Az()},this.getMovieId=function(){return i.Ab().vYa()},this.getPlaygraphId=function(){return i.Zg.PGb()},this.getElement=function(){return i.Zg.Dn()},this.isPlaying=function(){return i.Ab().sq()},this.isPaused=function(){return i.Ab().lW()},this.isMuted=function(){return i.Ab().Dpa()},this.isReady=function(){return i.Ab().isReady()},this.isBackground=function(){return i.Ab().X_a()},this.setBackground=function(t){return i.Ab().Rva(t)},this.startInactivityMonitor=function(){return i.Ab().yP()},this.setTransitionTime=function(t){return i.Ab().gwa(t)},this.getDiagnostics=function(){return i.Ab().xXa()},this.getTextTrackList=function(t){return i.Ab().doa(t)},this.getMaxRecommendedTextIndex=function(t){return i.Ab().una(t)},this.getTextTrack=function(){return i.Ab().coa()},this.setTextTrack=function(t){return i.Ab().cwa(t)},this.getVolume=function(){return i.Ab().qZa()},this.isEnded=function(){return i.Ab().vpa()},this.getBusy=function(){return i.Ab().Hh()},this.getError=function(){return i.Ab().getError()},this.getCurrentTime=function(){return i.Ab().Yt()},this.getBufferedTime=function(){return i.Ab().dXa()},this.getSegmentTime=function(){return i.Ab().N5()},this.getDuration=function(){return i.Ab().ana()},this.getVideoSize=function(){return i.Ab().pZa()},this.getAudioTrackList=function(){return i.Ab().VWa()},this.getMaxRecommendedAudioIndex=function(){return i.Ab().oYa()},this.getAudioTrack=function(){return i.Ab().UWa()},this.getTimedTextTrackList=function(t){return i.Ab().doa(t)},this.getMaxRecommendedTimedTextIndex=function(t){return i.Ab().una(t)},this.getTimedTextTrack=function(){return i.Ab().coa()},this.shouldUseProjectSalsaUI=function(){return i.Ab().r9a()},this.getAdditionalLogInfo=function(){return i.Ab().RWa()},this.getTrickPlayFrame=function(t){return i.Ab().mZa(t)},this.getSessionSummary=function(){return i.Ab().Una()},this.getTimedTextSettings=function(){return i.Ab().LV()},this.setMuted=function(t){return i.Ab().U8a(t)},this.setVolume=function(t){return i.Ab().e9a(t)},this.getPlaybackRate=function(){return i.Ab().Jo()},this.setPlaybackRate=function(t){return i.Ab().V8a(t)},this.setAudioTrack=function(t){return i.Ab().G8a(t)},this.setTimedTextTrack=function(t){return i.Ab().cwa(t)},this.setTimedTextSettings=function(t){return i.Ab().oP(t)},this.prepare=function(){return i.Ab().iI()},this.load=function(){return i.Ab().load()},this.close=function(t){return i.qQa(i.Zg.close(),t)},this.play=function(){return i.Ab().play()},this.pause=function(){return i.Ab().pause()},this.seek=function(){throw Error("Seek by graph position has not been implemented")},this.transition=function(){throw Error("Transition segment has not been implemented")},this.engage=function(t,e){return i.qQa(i.Ab().AM(t),e)},this.induceError=function(t){return i.Ab().z_a(t)},this.loadCustomTimedTextTrack=function(t,e,n,r){return i.Ab().t1a(t,e,n,r)},this.tryRecoverFromStall=function(){},this.getCropAspectRatio=function(){return i.Ab().O5()},this.getCropAspectRatioXandY=function(){return i.Ab().rXa()},this.generateScreenshots=function(t){return i.Ab().MWa(t)},this.getCurrentSegmentId=function(){return i.Zg.tXa()},this.getPlaygraphMap=function(){return i.Zg.eH()},this.updatePlaygraphMap=function(t){return i.Zg.KZ(t)},this.Qla=new Map,this.log=n.Oi("VideoPlayer"),Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics})}Object.defineProperty(e,"__esModule",{value:!0}),e.t1=void 0,n=i(8),i(98),r.prototype.Ab=function(){return this.Zg.Ab()},r.prototype.WTa=function(t,e){var i;return this.Qla.has(t)||this.Qla.set(t,new Map),(i=this.Qla.get(t)).has(e)||i.set(e,this.pzb(t,e)),i.get(e)},r.prototype.pzb=function(t,e){var i;return i=this,function(n){return e(Object.assign({},n,{type:t,target:i}))}},r.prototype.qQa=function(t,e){return e?t.then(e,e):t},e.t1=r},function(t,e,i){e=i(248),t.exports=void 0!==e&&"undefined"!=typeof nrdp?nrdp.ea:Date.now},function(t){t.exports={vx:{Pea:0,YJa:1,rl:2,name:["transient","semiTransient","permanent"]},qx:{yCa:0,XJa:1,d1:2,FR:3,Px:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},q8b:{f8b:0,T5b:1,W3b:2,Px:100,name:["trailer","montage","content"]},vv:{AEa:0,DJa:1,ukb:2,Yeb:3,Px:100,name:["left","right","up","down"]},jR:{Vdb:0,d1:1,p5b:2,N4b:3,o3b:4,o5b:5,Mcb:6,Px:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},VJ:{FR:0,QAa:1,Px:100,name:["playFocused","detailsOpened"]}}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),t=function(){function t(){}return t.prototype.pXa=function(t){return{BSa:Reflect.getMetadata(n.Bda,t),X1b:(t=Reflect.getMetadata(n.YKa,t))||{}}},t.prototype.SGb=function(t){return Reflect.getMetadata(n.ZKa,t)||[]},t}(),e.pda=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),e.u0a=function(t){return t instanceof RangeError||t.message===n.Sjb}},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),r=i(43),o=i(65),a=i(93),t=function(){function t(t){this.plb=t}return t.prototype.U0b=function(){return this.plb()},t}(),e.Sca=t,e.l=function(t){return function(e,i,s){var u;if(void 0===t)throw Error(n.skb(e.name));u=new o.Metadata(r.hR,t),"number"==typeof s?a.ZI(e,i,s,u):a.mZ(e,i,u)}}},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),r=i(107),o=i(65),a=i(568),t=function(){function t(t,e,i,s){this.id=r.id(),this.type=t,this.Lg=i,this.name=new a.vjb(e||""),this.Gc=[],t=null,"string"==typeof s?t=new o.Metadata(n.vB,s):s instanceof o.Metadata&&(t=s),null!==t&&this.Gc.push(t)}return t.prototype.HZa=function(t){for(var e=0,i=this.Gc;e<i.length;e++)if(i[e].key===t)return!0;return!1},t.prototype.isArray=function(){return this.HZa(n.QE)},t.prototype.GNb=function(t){return this.fra(n.QE)(t)},t.prototype.Epa=function(){return this.HZa(n.vB)},t.prototype.Rpa=function(){return this.Gc.some((function(t){return t.key!==n.hR&&t.key!==n.QE&&t.key!==n.E0&&t.key!==n.ZR&&t.key!==n.vB}))},t.prototype.m0a=function(){return this.fra(n.RGa)(!0)},t.prototype.qGb=function(){return this.Epa()?this.Gc.filter((function(t){return t.key===n.vB}))[0]:null},t.prototype.bFb=function(){return this.Rpa()?this.Gc.filter((function(t){return t.key!==n.hR&&t.key!==n.QE&&t.key!==n.E0&&t.key!==n.ZR&&t.key!==n.vB})):null},t.prototype.fra=function(t){var e;return e=this,function(i){for(var n,r=0,o=e.Gc;r<o.length;r++)if((n=o[r]).key===t&&n.value===i)return!0;return!1}},t}(),e.n1=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(197),r=i(198),t=function(){function t(t){this.Ec=t,this.hS=new r.Hba(this.Ec),this.nfa=new n.y_(this.Ec)}return t.prototype.when=function(t){return this.hS.when(t)},t.prototype.$Z=function(){return this.hS.$Z()},t.prototype.Mw=function(t){return this.nfa.Mw(t)},t}(),e.xE=t},function(t,e,i){var n;function r(t){return function(e){function i(i){return null!==i&&null!==i.target&&i.target.fra(t)(e)}return i.W2a=new n.Metadata(t,e),i}}Object.defineProperty(e,"__esModule",{value:!0}),t=i(43),n=i(65),e.rab=function t(e,i){return null!==(e=e.rA)&&(!!i(e)||t(e,i))},e.z$a=r,i=r(t.vB),e.A3a=i,e.yab=function(t){return function(e){var i;return null!==e&&(i=e.PT[0],"string"==typeof t?i.Lg===t:t===e.PT[0].wm)}}},function(t,e,i){var n;function r(t,e){this.wg=e,this.aA=Math.floor(t),this.display=this.aA+" "+this.wg.name}function o(t,e,i){this.wg=t,this.name=e,this.xl=i||this,n.Qo(this,"base")}Object.defineProperty(e,"__esModule",{value:!0}),e.Us=e.$R=void 0,n=i(56),o.prototype.WU=function(t){return this.wg==t.wg},o.prototype.toJSON=function(){return this.name},e.$R=o,r.prototype.da=function(t){return this.wg.WU(t)?this.aA:Math.floor(this.aA*this.wg.wg/t.wg)},r.prototype.V5a=function(t){return this.wg.WU(t)?this.aA:this.aA*this.wg.wg/t.wg},r.prototype.as=function(t){return new r(this.da(t),t)},r.prototype.to=function(t){return new r(this.da(t),t)},r.prototype.toString=function(){return this.display},r.prototype.toJSON=function(){return{magnitude:this.aA,units:this.wg.name}},r.prototype.add=function(t){return this.xSa(t)},r.prototype.Qa=function(t){return this.xSa(t,(function(t){return-t}))},r.prototype.scale=function(t){return new r(this.da(this.wg.xl)*t,this.wg.xl)},r.prototype.Al=function(t){return this.da(this.wg.xl)-t.da(this.wg.xl)},r.prototype.WU=function(t){return 0==this.Al(t)},r.prototype.G0a=function(){return 0==this.aA},r.prototype.Fpa=function(){return 0>this.aA},r.prototype.ZKb=function(){return 0<this.aA},r.prototype.xSa=function(t,e){return e=void 0===e?function(t){return t}:e,new r(this.da(this.wg.xl)+e(t.da(this.wg.xl)),this.wg.xl)},e.Us=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lIa="PlatformConfigOverridesSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ABa="DrmDataFactorySymbol"},function(t,e,i){var n,r;function o(t,e,i,n,r){this.version=t,this.sO=e,this.a$a=i,this.Wn=n,this.gx=r,this.cw=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.Jca=void 0,n=i(3),r=i(41),o.prototype.load=function(t){return this.FMb(t)},o.prototype.add=function(t){return this.cw.push(t),this.ita()},o.prototype.remove=function(t,e){return 0<=(t=this.gXa(this.QM(t,e)))?(this.cw.splice(t,1),this.ita()):Promise.resolve()},o.prototype.update=function(t,e){return 0<=(e=this.gXa(this.QM(t,e)))?(this.cw[e]=t,this.ita()):Promise.resolve()},o.prototype.FMb=function(t){var e;return e=this,this.u1a||(this.u1a=new Promise((function(i,r){e.Wna().then((function(t){return e.storage=t,e.storage.load(e.sO)})).then((function(n){var o;n=n.value;try{o=t(n),e.version=o.version,e.cw=o.data,i()}catch(t){!function(t){e.Hzb().then((function(){r(t)})).catch((function(){r(t)}))}(t)}})).catch((function(t){t.na!==n.L.EB?r(t):i()}))}))),this.u1a},o.prototype.ita=function(){var t,e,i,n,r;return t=this,this.a$a?this.X$?(n=new Promise((function(t,n){e=t,i=n})),r=function(){t.X$=n,t.Z9a().then((function(){e()})).catch((function(t){i(t)}))},this.X$.then(r).catch(r),n):this.X$=this.Z9a():Promise.resolve()},o.prototype.Z9a=function(){var t,e;return t=this,e=this.gx(),new Promise((function(i,r){t.Wna().then((function(i){return i.save(t.sO,e,!1)})).then((function(){i()})).catch((function(t){r(o.U_b(n.M.Jib,t))}))}))},o.prototype.Hzb=function(){var t;return t=this,this.a$a?new Promise((function(e,i){t.Wna().then((function(e){return e.remove(t.sO)})).then((function(){e()})).catch((function(t){i(t)}))})):Promise.resolve()},o.prototype.Wna=function(){return this.storage?Promise.resolve(this.storage):this.Wn.create()},o.prototype.QM=function(t,e){for(var i=0;i<this.cw.length;++i)if(e(this.cw[i],t))return this.cw[i]},o.prototype.gXa=function(t){return t?this.cw.indexOf(t):-1},o.U_b=function(t,e){var i;return e.na&&e.cause?new r.qd(t,e.na,void 0,void 0,void 0,void 0,void 0,e.cause):void 0!==e.Cc?(i=e.message?e.message+" ":"",e.code=t,e.message=""===i?void 0:i,e):e instanceof Error?new r.qd(t,n.L.Lj,void 0,void 0,void 0,void 0,e.stack,e):new r.qd(t,n.L.Vl,void 0,void 0,void 0,void 0,void 0,e)},e.Jca=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qea="QueryStringDataProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.FGa="NetworkMonitorConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CBa="DrmProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.eCa="EmeSessionFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.bCa=e.qF=void 0,(t=e.qF||(e.qF={}))[t.Request=0]="Request",t[t.IJa=1]="Renewal",e.bCa="EmeApiSymbol"},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.i1=void 0,i.PJb=function(t){return"ID"+(t+1)},i.h$a=function(t){return Number(t.substr(2))-1},e.i1=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,y,g,m,_,w,E,k,O,S;function T(t,i,n,r,a,s,u,c){var l;l=this,this.Aa=i,this.Fy=n,this.config=r,this.Ch=a,this.Tl=s,this.Eo=u,this.Xo=c,this.keyStatuses=new _.dc({}),this.Isa=function(t){var i,n,r,a,s,u;try{r=(n=l.Tl.hka(t)).HH,a=n.messageType,s=n.sessionId,l.yw=l.yw||n.yw,l.IY(s),l.log.trace("Received "+t.type+" event",{sessionId:s,messageType:a,keyIds:l.yw}),a===e.eda&&(l.log.trace("Received a renewal request"),l.Uf=h.Xh.rp,l.al=k.sI),l.al===k.Hg&&l.Kp(f.Rs.Q6a),l.al===k.sI&&l.Kp(f.Rs.R6a),u={dk:r,TRa:a,Uf:l.Uf},null===(i=l.GQb)||void 0===i||i.call(l,u),l.yW&&(l.yoa(r)?l.pD(new m.qd(o.M.RBa)):(l.yW.resolve(u),l.yW=void 0))}catch(t){l.pD(t)}},this.Gsa=function(t){var e,i,n,r,a,s,u,c,f,d,p,b,g,m,_,w,E,k;r=(n=t.target).keyStatuses,l.IY(n.sessionId),l.log.trace("Received event: "+t.type);try{a=null===(i=null===(e=l.context)||void 0===e?void 0:e.Iu)||void 0===i?void 0:i.reduce((function(t,e){return t[e.pj]=e.xI.height,t}),{}),t=[];for(var S=v(r),T=S.next();!T.done;T=S.next())u=(s=v(T.value)).next().value,c=s.next().value,f=l.Fy.encode(new Uint8Array(u)),t.push({pj:f,status:c,height:null==a?void 0:a[f]});t.sort((function(t,e){return(t.height||0)-(e.height||0)})),d=t.map((function(t){return t.pj})),p=t.map((function(t){return t.height})),b=t.map((function(t){return t.status})),l.log.trace("KeyStatus: "+d+", "+p+", "+b),a={};for(var A=v(r),P=A.next();!P.done;P=A.next())m=(g=v(P.value)).next().value,_=g.next().value,w=l.Fy.encode(new Uint8Array(m)),E=O[_],a[w]=E.status,l.p7(w,E.error)&&(k=new y.Ng(E.error),l.oW(k));l.keyStatuses.set(a)}catch(t){(k=new y.Ng(o.M.Tib)).AU(t)}k?l.B7(k):(l.Tl.a4()||l.I0a(),l.Uf!==h.Xh.eo||l.Tl.yia()||l.DVb())},this.Mn=function(t){var e;e=l.Tl.Vy(t),l.log.error("Received event: "+t.type,e),l.pD(e),l.B7(e),l.iq||l.pu||l.oW(e)},this.zQb=function(){l.log.error("MediaKeySession closed unexpectedly."),l.oW(new m.qd(o.M.ufb))},this.pD=function(t){var e;l.iq&&l.close().then((function(){var e;l.log.trace("Issuing a generate challenge error"),null===(e=l.iq)||void 0===e||e.reject(t),l.iq=void 0}),(function(e){var i;l.log.error("EmeSession closed with an error.",l.Tl.Vy(e)),null===(i=l.iq)||void 0===i||i.reject(t),l.iq=void 0})),null===(e=l.yW)||void 0===e||e.reject(t)},this.uLb=function(){var t;null===(t=l.iq)||void 0===t||t.resolve(),l.iq=void 0},this.B7=function(t){return l.log.error("Failed to add license",t),l.close().then((function(){var e;l.log.trace("Issuing a license error"),l.iq=void 0,null===(e=l.pu)||void 0===e||e.reject(t),l.pu=void 0}),(function(e){var i;l.log.error("EmeSession closed with an error.",l.Tl.Vy(e)),l.al===k.sI&&l.Kp(f.Rs.MPa),l.iq=void 0,null===(i=l.pu)||void 0===i||i.reject(t),l.pu=void 0})).then((function(){throw t}))},this.I0a=function(){l.pu&&(l.log.info("Successfully added license"),l.al===k.Hg?l.Kp(f.Rs.DPa):l.al===k.sI&&l.Kp(f.Rs.LPa),l.pu.resolve(),l.pu=void 0)},this.oW=function(t){l.close().then((function(){var e;l.log.trace("Issuing a CDM error"),l.iq=void 0,l.pu=void 0,null===(e=l.n4a)||void 0===e||e.call(l,t)}),(function(e){var i;l.log.error("EmeSession closed with an error.",l.Tl.Vy(e)),l.iq=void 0,l.pu=void 0,null===(i=l.n4a)||void 0===i||i.call(l,t)}))},this.Kp=function(t){l.pd.push({time:l.Aa.Yb(),RW:t})},this.l7a=!1,this.log=t.ib("EmeSession"),this.al=k.N0b,this.pd=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.fCa=e.eda=e.fda=void 0,t=i(1),n=i(0),r=i(4),o=i(3),a=i(18),s=i(7),u=i(36),c=i(69),h=i(57),f=i(325),l=i(207),d=i(137),p=i(205),b=i(322),y=i(95),g=i(64),m=i(41),_=i(80),w=i(619),E=i(63),(S=k||(k={}))[S.N0b=0]="unknown",S[S.create=1]="create",S[S.load=2]="load",S[S.Hg=3]="license",S[S.sI=4]="renewal",S[S.stop=5]="stop",S[S.closed=6]="closed",e.fda="license-request",e.eda="license-renewal",O={usable:{status:l.rv.ibb},expired:{status:l.rv.Ot,error:o.M.eHa},released:{status:l.rv.released},"output-not-allowed":{status:l.rv.H4a,error:o.M.fHa},"output-restricted":{status:l.rv.H4a,error:o.M.Gda},"output-downscaled":{status:l.rv.ARb},"status-pending":{status:l.rv.nZb},"internal-error":{status:l.rv.iKb,error:o.M.Sib}},T.prototype.Wt=function(){var t,e;return this.ura?(e=null===(t=this.ura)||void 0===t?void 0:t.keySystem,(t=E.d6(this.ura))&&(e+="."+t),e):"n/a"},T.prototype.vz=function(){return this.sessionId},T.prototype.close=function(){var t;return t=this,this.al=k.closed,this.pd=[],this.Ch.eLb()?(this.log.trace("Closing the session"),this.Ch.f7a(this.Isa),this.Ch.d7a(this.Gsa),this.Ch.b7a(this.Mn),this.mediaKeys=void 0,this.Xo.Jq(this.config.iQa,this.Ch.close()).then((function(){t.log.info("Closed the session")})).catch((function(e){throw t.log.error("Close failed",e),t.Tl.Vy(e).code=o.M.Vib,e}))):Promise.resolve(void 0)},T.prototype.Vt=function(){return this.Eo},T.prototype.D6=function(){return void 0!==this.qj},T.prototype.createSession=function(t,e,i,n){var r;return r=this,this.context=n,this.ura=t,this.Uf=i,this.al=k.create,this.Kp(f.Rs.m1a),(e.DZa()?Promise.resolve():this.Xo.Jq(this.config.jQa,this.Ch.createMediaKeys(t)).then((function(t){return r.log.trace("Created media keys"),e.setMediaKeys(t),r.zrb(t)}))).then((function(){r.mediaKeys=e.mediaKeys;try{r.Ch.createSession(r.mediaKeys,"temporary"),r.Ch.GPa(r.Isa),r.Ch.BPa(r.Gsa),r.Ch.zPa(r.Mn),r.Ch.pqb(r.zQb),r.IY(r.Ch.vz())}catch(t){return Promise.reject(new y.Ng(o.M.nfb,o.L.Lj,void 0,"Unable to create a persisted key session",t))}})).catch((function(t){return t.code&&t.Cc?Promise.reject(t):Promise.reject(new y.Ng(o.M.GQ,t instanceof g.hr?o.L.HQ:o.L.Lj,void 0,"Unable to create MediaKeys. "+t.message,t))}))},T.prototype.RXb=function(t){this.Si=t,this.log.wPa("xid",t.ba)},T.prototype.fEb=function(t){var e;return e=this,this.generateRequest(t).then((function(){return e.log.trace("Returning the challenge promise"),e.yW.promise}))},T.prototype.gEb=function(t){return this.generateRequest(t),this.iq.promise},T.prototype.CPa=function(t){this.we=t.we,t=t.qj.map((function(t){return t.data})),this.yoa(t)?(this.log.error("The license buffer is empty"),this.pD(new y.Ng(o.M.QBa,o.L.OBa))):(this.al===k.Hg&&(this.Kp(f.Rs.P6a),this.qj=t,this.QUa=this.Tl.YM(this.yw,t),this.uLb()),this.al===k.sI&&(this.Kp(f.Rs.S6a),this.qj=t,this.QUa=this.Tl.YM(this.yw,t),this.dia()))},T.prototype.Aqb=function(t){this.al===k.sI?(this.Kp(f.Rs.T6a),this.oW(t)):this.pD(t)},T.prototype.dia=function(){var t,e;return t=this,this.qj?(this.pu=new w.V0,e=this.qj,this.qj=void 0,this.Xo.Jq(this.config.nQa,this.Ch.update(e,this.al===k.Hg?b.qF.Request:b.qF.IJa,this.yw)).then((function(){t.Tl.a4()&&t.I0a()})).catch((function(e){(e=t.Tl.Vy(e)).code=o.M.R0,e.message="Unable to update the EME",t.log.error(e.message,e),t.B7(e)})),this.pu.promise):this.B7(new y.Ng(o.M.QBa,o.L.TBa))},T.prototype.KXb=function(t){this.GQb=t},T.prototype.EXb=function(t){this.n4a=t},T.prototype.YM=function(){return this.QUa},T.prototype.generateRequest=function(t){var e;return e=this,this.al=k.Hg,this.log.trace("Generating a license challenge"),this.iq=new w.V0,this.yW=new w.V0,t?this.yoa(t)?(t=new y.Ng(o.M.PBa,o.L.OBa),this.pD(t),Promise.reject(t)):this.Xo.Jq(this.config.kQa,this.Ch.generateRequest(this.Tl.yV(),t)).then((function(){e.IY(e.Ch.vz())})).catch((function(t){var i,n;i=new y.Ng(o.M.Z_,t instanceof g.hr?o.L.HQ:o.L.Lj);try{n=e.Tl.Vy(t),i.Kd=n.Kd,i.message="Unable to generate request.",i.AU(t)}catch(t){}return e.log.error("Unable to generate a license request",i),e.pD(i),Promise.reject(i)})):(t=new y.Ng(o.M.PBa,o.L.TBa),this.pD(t),Promise.reject(t))},T.prototype.zrb=function(t){var e,i;return e=this,(i=this.Tl.Yma())?(i=this.Fy.decode(i),this.Xo.Jq(this.config.mQa,this.Ch.setServerCertificate(t,i)).then((function(t){e.log.trace("Set the server certificate",{result:t})}))):Promise.resolve()},T.prototype.IY=function(t){t&&t!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+t),this.sessionId=t,this.log.wPa("sessionId",t))},T.prototype.DVb=function(){var t;t=this,this.l7a||(this.l7a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.rD}),setTimeout((function(){t.rI()}),this.config.rD.da(r.ja)))},T.prototype.nLb=function(t){var e,i;return!(null===(i=null===(e=this.context)||void 0===e?void 0:e.Iu)||void 0===i||!i.some((function(e){return e.pj===t&&1080<e.xI.height})))},T.prototype.p7=function(t,e){return e===o.M.Gda?this.nLb(t)?this.config.J4a:this.config.I4a:!!e},T.prototype.rI=function(){this.log.trace("Initiating a renewal request"),this.Uf=h.Xh.rp,this.al=k.sI,this.Tl.lja()?this.Tl.npa(this.Ch):this.k4()},T.prototype.k4=function(){var t;t=this,this.Ch.k4(this.mediaKeys,"temporary",this.Isa,this.Gsa,this.Mn).then((function(){t.log.debug("Creating session to renew license"),t.IY(t.Ch.vz())})).catch((function(){t.oW(new y.Ng(o.M.Z_))}))},T.prototype.yoa=function(t){return 0===t.length||t.reduce((function(t,e){return t||0===e.length}),!1)},i=T,i=t.__decorate([n.R(),t.__param(0,n.l(s.qb)),t.__param(1,n.l(a.jd)),t.__param(2,n.l(u.Ci)),t.__param(3,n.l(c.sv)),t.__param(4,n.l(b.bCa)),t.__param(5,n.l(p.kfb)),t.__param(6,n.l(d.GBa)),t.__param(7,n.l(g.Rx))],i),e.fCa=i},function(t,e){var i,n;Object.defineProperty(e,"__esModule",{value:!0}),e.RUa=e.Rs=void 0,(n=i=e.Rs||(e.Rs={}))[n.m1a=0]="licenseStarted",n[n.Q6a=1]="receivedLicenseChallenge",n[n.P6a=2]="receivedLicense",n[n.R6a=3]="receivedRenewalChallengeComplete",n[n.S6a=4]="receivedRenewalLicenseComplete",n[n.T6a=5]="receivedRenewalLicenseFailed",n[n.EUb=6]="receivedIndivChallengeComplete",n[n.FUb=7]="receivedIndivLicenseComplete",n[n.DPa=8]="addLicenseComplete",n[n.LPa=9]="addRenewalLicenseComplete",n[n.MPa=10]="addRenewalLicenseFailed",e.RUa=function(t){switch(t){case i.m1a:return"lg";case i.Q6a:return"lc";case i.P6a:return"lr";case i.R6a:return"renew_lc";case i.S6a:return"renew_lr";case i.T6a:return"renew_lr_failed";case i.EUb:return"ilc";case i.FUb:return"ilr";case i.DPa:return"ld";case i.LPa:return"renew_ld";case i.MPa:return"renew_ld_failed";default:return"unknown"}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.vAa="ClockConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TGa="OneWayCounterFactorySymbol"},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Fba=void 0,t=i(1),i=i(0),n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},r.prototype.decode=function(t){for(var e=new Uint8Array(t.length/2),i=0;i<e.length;i++)e[i]=this.dab(t.substr(2*i,2));return e},r.prototype.encode=function(t){for(var e,i="",n=t.length,r=0;r<n;r++)i+="0123456789ABCDEF"[(e=t[r])>>>4]+"0123456789ABCDEF"[15&e];return i},r.prototype.UG=function(t,e){var i;for(i="",e<<=1;e--;)i=("0123456789ABCDEF"[15&t]||"0")+i,t>>>=4;return i},r.prototype.dab=function(t){var e;if(7<(e=t.length))throw Error("hex to long");for(var i=0,r=0;r<e;r++)i=16*i+n[t[r]];return i},i=t.__decorate([i.R()],r),e.Fba=i},function(t,e,i){var n,r;function o(){this.fq={},this.id="$es$"+n.counter++}Object.defineProperty(e,"__esModule",{value:!0}),e.Gk=void 0,t=i(1),i=i(0),o.prototype.addListener=function(t,e,i){var n,r;n="$netflix$player$order"+this.id+"$"+t,this.fq&&(r=this.fq[t]?this.fq[t].slice():[],i&&(e[n]=i),0>r.indexOf(e)&&(r.push(e),r.sort((function(t,e){return(t[n]||0)-(e[n]||0)}))),this.fq[t]=r)},o.prototype.removeListener=function(t,e){if(this.fq&&this.fq[t]){for(var i,n=this.fq[t].slice();0<=(i=n.indexOf(e));)n.splice(i,1);this.fq[t]=n}},o.prototype.Fc=function(t,e,i){var n;if(this.fq)for(n=this.kna(t),t={xJ:0};t.xJ<n.length;(t={xJ:t.xJ}).xJ++)i?function(t){return function(){var i;i=n[t.xJ],setTimeout((function(){i(e)}),0)}}(t)():n[t.xJ].call(this,e)},o.prototype.Fh=function(){this.fq=void 0},o.prototype.on=function(t,e,i){this.addListener(t,e,i)},o.prototype.kna=function(t){var e;return null!==(e=this.fq&&(this.fq[t]||(this.fq[t]=[])))&&void 0!==e?e:[]},(r=n=o).counter=0,r=n=t.__decorate([i.R()],r),e.Gk=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.NAa="CsvEncoderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.cca="DecoderTimeoutPathologistSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sda=e.Phb=void 0,e.Phb=function(){},e.sda="MseConfigSymbol"},function(t,e,i){function n(t){this.Smb=void 0!==t&&t,this.cf={0:[]}}Object.defineProperty(e,"__esModule",{value:!0}),e.nea=void 0,t=i(1),i=i(0),n.prototype.add=function(t,e){var i;e=void 0===e?0:e,(i=this.cf[e])?this.Smb&&-1!==i.indexOf(t)||i.push(t):this.cf[e]=[t]},n.prototype.remove=function(t,e){this.oy(t,void 0===e?0:e)},n.prototype.removeAll=function(t){this.oy(t)},n.prototype.flatten=function(){var t;return t=this,Object.keys(this.cf).sort().reduce((function(e,i){return e.concat(t.cf[i])}),[])},n.prototype.oy=function(t,e){Object.entries(this.cf).forEach((function(i){var n,r;i=(n=v(i)).next().value,n=n.next().value,void 0!==e&&e!==parseInt(i)||-1<(r=n.indexOf(t))&&n.splice(r,1)}))},i=t.__decorate([i.R()],n),e.nea=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.LLa="UrlFactorySymbol"},function(t,e,i){var n,r,o;function a(t,e,i,n,o,a,s){this.debug=t,this.config=e,this.platform=i,this.p8=n,this.debug.assert(o&&o!=r.M.Vl,"There should always be a specific error code"),this.errorCode=o||r.M.Vl,a&&"object"==typeof a?(this.na=a.na||a.Cc,this.pf=a.pf||a.Kd,this.Kla=a.Kla||a.un,this.ub=a.ub||a.details,this.FU=a.hk,this.Z4=a.Z4||a.cbc||a.mA,this.DM=a.DM||a.data,a.OW&&(this.OW=a.OW),this.ik=a.ik,this.method=a.method,this.O8=a.O8,this.alert=a.alert,this.Uha=a.Uha,this.kH=a.kH,!this.ub&&this.kH&&(this.ub=JSON.stringify(this.kH)),this.debug.assert(!this.ik||this.ik==this.pf)):(this.na=a,this.pf=s),this.stack=[this.errorCode],this.na?this.stack.push(this.na):this.pf&&this.stack.push(r.L.Vl),this.pf&&this.stack.push(this.pf),this.I4=this.platform.bq+this.stack.join("-")}Object.defineProperty(e,"__esModule",{value:!0}),e.MIa=void 0,n=i(12),r=i(3),o=i(19),i(24),a.prototype.toString=function(){var t;return t="[PlayerError #"+this.I4+"]",this.ub&&(t+=" "+this.ub),this.FU&&(t+=" (CustomMessage: "+this.FU+")"),t},a.prototype.xZ=function(){var t,e,i,o;if(this.FU&&(i=["streaming_error"]),i||this.p8.Vt()!==n.Y_||("80080017"==this.pf&&(i=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.pf&&(i=["pause_timeout"])),i||this.p8.Vt()!==n.gca||this.errorCode!==r.M.NBa&&this.errorCode!==r.M.GQ||(i=["no_cdm","platform_error","plugin_error"]),this.gLb()&&(i=["received_soad"]),(o=this.PEb())&&(i=[o],this.FU=void 0),!i)switch(this.errorCode){case r.M.Q0:case r.M.u0:case r.M.Acb:case r.M.eHa:i=["pause_timeout"];break;case r.M.aEa:case r.M.bEa:i=this.na?["platform_error"]:["multiple_tabs"];break;case r.M.jhb:case r.M.$jb:case r.M.Jgb:case r.M.Igb:case r.M.Lgb:i=["should_signout_and_signin"];break;case r.M.Hca:case r.M.jHa:case r.M.Hda:case r.M.cHa:i=["platform_error","plugin_error"];break;case r.M.GR:i=["no_cdm","platform_error","plugin_error"];break;case r.M.UBa:case r.M.fr:case r.M.R0:switch(this.pf){case"FFFFD000":i=["device_needs_service","platform_error"];break;case"48444350":i=["unsupported_output","platform_error"];break;case"00000024":i=["private_mode"]}break;case r.M.fHa:case r.M.Gda:i=["unsupported_output"]}if(!i&&r.pCa(this.na)&&(i=this.na==r.L.eR?["geo"]:["internet_connection_problem"]),i||this.errorCode!==r.M.GQ||this.na!==r.L.Lj||"S"!==this.platform.bq||(i=["private_mode"]),!i)switch(this.k$a(this.na)){case r.L.bfa:i=["should_upgrade"];break;case r.L.aHa:i=["should_reset_device"];break;case r.L.$Ga:i=["should_reload_device"];break;case r.L.ZGa:i=["should_exit_device"];break;case r.L.Rhb:case r.L.yFa:i=["should_signout_and_signin"];break;case r.L.Shb:i=["internet_connection_problem"];break;case r.L.SAa:i=["platform_error","plugin_error"];break;case r.L.RAa:case r.L.IDa:case r.L.JDa:i=["private_mode"];break;case r.L.cda:i=["should_reload_with_preferred_locales"]}if((i=i||[]).push(this.platform.bq+this.errorCode),this.na)if(this.k$a(this.na)===r.L.bHa)i.push("incorrect_pin");else i.push(""+this.na);return{display:{code:this.I4,text:this.FU},messageIdList:i,alert:this.alert,alertTag:this.Uha,preferredAudioLocale:null===(t=this.kH)||void 0===t?void 0:t.d_a,preferredTextLocale:null===(e=this.kH)||void 0===e?void 0:e.e_a}},a.prototype.k$a=function(t){var e;return e=parseInt(t,10),isNaN(e)?t:e},a.prototype.gLb=function(){var t;return t=o.Ba(this.pf)?this.pf.toString():o.Se(this.pf)?this.pf:"",this.Z4===r.D0.Wea&&(t.endsWith("2018")||t.endsWith("2020"))},a.prototype.PEb=function(){if(this.errorCode===r.M.XJ&&(this.na===r.L.Cda||this.na===r.L.YGa))return this.QEb(this.na===r.L.Cda)},a.prototype.QEb=function(t){var e,i,n,r;switch(r=null===(e=(n=this.config().browserInfo||{}).os)||void 0===e?void 0:e.name,e=((null===(i=n.os)||void 0===i?void 0:i.version)||"").split("."),i=parseInt(e&&e[0]),e=parseInt(e&&e[1]),r){case"windows":return 6>i||6===i&&1>e?t?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":t?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"mac":return 10>i||10===i&&10>e?t?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":t?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return t?"cdm_not_supported_warning_other":"cdm_not_supported_other"}},e.MIa=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.mda="MediaElementHelpersSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.JQ="EventSourceFactorySymbol"},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.JQ=e.tCa=void 0,t=i(1),n=i(329),i=i(0),r.prototype.create=function(){return new n.Gk},i=t.__decorate([i.R()],r),e.tCa=i,e.JQ="EventSourceFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.$Aa="DebouncerFactorySymbol"},function(t,e,i){var n;function r(t,e,i,n,r,o){this.level=t,this.Ao=e,this.timestamp=i,this.message=n,this.ic=r,this.index=void 0===o?0:o,this.fhb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"}}Object.defineProperty(e,"__esModule",{value:!0}),e.Wca=void 0,n=i(4),r.prototype.maa=function(t,e){var i;return i=""+this.message,this.ic.forEach((function(n){i+=n.fJ(t,e)})),(this.timestamp.da(n.ja)/1e3).toFixed(3)+"|"+this.index+"|"+(this.fhb[this.level]||this.level)+"|"+this.Ao+"| "+i},e.Wca=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uGa="MomentObserverFactory"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.nKa="SegmentConfigFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.yIa="PlaybackFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.YLa="VideoPlayerFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.wLa="TransitionLoggerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.pBa="DiagnosticsFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EHa="PboGenerateScreenshotsCommandSymbol"},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),(t=i(2)).__exportStar(i(669),e),t.__exportStar(i(670),e),t.__exportStar(i(671),e),t.__exportStar(i(672),e),t.__exportStar(i(673),e),t.__exportStar(i(674),e),t.__exportStar(i(675),e),t.__exportStar(i(676),e),t.__exportStar(i(677),e),t.__exportStar(i(678),e),t.__exportStar(i(679),e),t.__exportStar(i(680),e),t.__exportStar(i(684),e),t.__exportStar(i(213),e),t.__exportStar(i(685),e),t.__exportStar(i(214),e),t.__exportStar(i(686),e),t.__exportStar(i(687),e),t.__exportStar(i(688),e),t.__exportStar(i(689),e),t.__exportStar(i(690),e),t.__exportStar(i(691),e),t.__exportStar(i(692),e),t.__exportStar(i(693),e),t.__exportStar(i(694),e),t.__exportStar(i(695),e),t.__exportStar(i(696),e),t.__exportStar(i(697),e),t.__exportStar(i(698),e),t.__exportStar(i(699),e),t.__exportStar(i(700),e),t.__exportStar(i(701),e),t.__exportStar(i(702),e),t.__exportStar(i(703),e),t.__exportStar(i(711),e),t.__exportStar(i(713),e),t.__exportStar(i(714),e)},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.cia=void 0,e.cia=function(t,e,i){var n,r;return n=!0,i.forEach((function(i){var o;n&&t===i.profile&&(o=i.ranges,!(n=void 0===o?e>=i.min&&e<=i.max:o.some((function(t){return e>=t.min&&e<=t.max})))&&i.disallowed&&i.disallowed.some((function(t){if(t.stream.bitrate===e)return r=t.disallowedBy,!0})))})),{inRange:n,H4:r}}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.aF=void 0,e.aF={wn:function(t){return t}}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.mF=e.mK=void 0,n=i(350),(o=r=e.mK||(e.mK={}))[o.CO=0]="primary",o[o.QG=1]="fallback",t=function(){function t(t,e){var i,n;n=this,void 0===e&&(e=!1),this.Utb=e,this.filters=((i={})[r.CO]=[],i[r.QG]=[],i),Array.isArray(t)?t.forEach((function(t){return n.and(t,r.CO)})):this.and(t)}return t.prototype.and=function(t,e){return void 0===e&&(e=r.CO),t!==n.aF&&this.filters[e].push({filter:t,OSa:!0}),this},t.prototype.or=function(t,e){return void 0===e&&(e=r.CO),this.filters[e].push({filter:t,OSa:!1}),this},t.prototype.filter=function(t){var e;e=this,[r.CO,r.QG].forEach((function(i){e.filters[i]=e.filters[i].filter((function(e){return t(i,e.filter)}))}))},t.prototype.wn=function(t,e){var i;return i=this,[r.CO,r.QG].reduce((function(n,r){return i.filters[r].reduce((function(i,n){return n.OSa?i=n.filter.wn(i,e):0===i.length&&(i=n.filter.wn(t,e)),i}),n)}),t)},t}(),e.mF=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.er=e.Cjb=void 0,n=i(2),r=i(215),t=function(){function t(t,e){this.G=t,this.Dz=e?[e]:[]}return Object.defineProperties(t.prototype,{value:{get:function(){return this.G},enumerable:!1,configurable:!0}}),t.prototype.addListener=function(t){-1===this.Dz.indexOf(t)&&(this.Dz=this.Dz.slice(),this.Dz.push(t))},t.prototype.removeListener=function(t){-1!==(t=this.Dz.indexOf(t))&&(this.Dz=this.Dz.slice(),this.Dz.splice(t,1))},t}(),e.Cjb=t,t=function(t){function e(e,i){return t.call(this,e,i)||this}return n.__extends(e,t),e.oya=function(t,e,i){return new r.zda(t,e,i,!1)},Object.defineProperties(e.prototype,{value:{get:function(){return this.G},set:function(t){this.set(t)},enumerable:!1,configurable:!0}}),e.prototype.set=function(t){var e;(e=this.G)!==t&&(this.G=t,this.Dz.forEach((function(i){return i({oldValue:e,newValue:t})})))},e}(t),e.er=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.de=void 0,(t=i(2)).__exportStar(i(354),e),t.__exportStar(i(729),e),t.__exportStar(i(216),e),t.__exportStar(i(730),e),t.__exportStar(i(731),e),t.__exportStar(i(732),e),t.__exportStar(i(355),e),t.__exportStar(i(734),e),n=i(54),Object.defineProperties(e,{de:{enumerable:!0,get:function(){return n.de}}})},function(t,e){var i;Object.defineProperties(e,{__esModule:{value:!0}}),e.Os=e.lQ=void 0,(i=e.lQ||(e.lQ={}))[i.default=0]="default",i[i.disabled=1]="disabled",i[i.gNb=2]="lowCpuPlaybackStarting",function(t){t[t.CLOSED=0]="CLOSED",t[t.OPEN=1]="OPEN"}(e.Os||(e.Os={}))},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.gka=e.ECb=e.xC=e.NI=void 0,n=i(2),r=i(22),o=i(67),Object.defineProperties(e,{NI:{enumerable:!0,get:function(){return o.NI}}}),Object.defineProperties(e,{xC:{enumerable:!0,get:function(){return o.xC}}}),e.ECb=function(t,e){var i,n,r;t=Math.max(t.duration-3e4,3e4);for(var o,a={},s=0,u=0;u<t;u+=3e4)n="s"+s++,r={W:e,Jb:u,Ob:u+3e4<t?u+3e4:null},void 0!==o&&(o.next=((i={})[n]={weight:1},i),o.Qe=n),o=a[n]=r;return{Yd:"s0",qa:a,ae:"lazy"}},e.gka=function(t,e,i){var o,a,s,u;try{for(var c=n.__values(Object.keys(t.qa)),h=c.next();!h.done;h=c.next())if(a=h.value,(s=t.qa[a]).W===e&&(u=r.T.Eb(s.Jb),i.Or(u)&&(null===s.Ob||void 0===s.Ob||i.lessThan(r.T.Eb(s.Ob)))))return{xa:a,offset:i.Qa(u)}}catch(t){var f;f={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(f)throw f.error}}}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(Error),e.AssertionError=r,e.assert=function(t,e){if(!t)throw new r(e||"Assertion failed")}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kDb=function(t,e){var i;return i=void 0,Object.keys(t.qa).some((function(n){var r;return null===(r=(i=t.qa[n]).next)||void 0===r?void 0:r[e]}))?i:void 0}},function(t){function e(){}function i(t){this.gPa=t,this.xp=[],this.Cg=null}e.prototype.clear=function(){this.cf=null,this.size=0},e.prototype.find=function(t){for(var e,i=this.cf;null!==i;){if(0===(e=this.cn(t,i.data)))return i.data;i=i.rh(0<e)}return null},e.prototype.lowerBound=function(t){for(var e,i=this.cf,n=this.iterator(),r=this.cn;null!==i;){if(0===(e=r(t,i.data)))return n.Cg=i,n;n.xp.push(i),i=i.rh(0<e)}for(e=n.xp.length-1;0<=e;--e)if(0>r(t,(i=n.xp[e]).data))return n.Cg=i,n.xp.length=e,n;return n.xp.length=0,n},e.prototype.upperBound=function(t){for(var e=this.lowerBound(t),i=this.cn;null!==e.data()&&0===i(e.data(),t);)e.next();return e},e.prototype.min=function(){var t;if(null===(t=this.cf))return null;for(;null!==t.left;)t=t.left;return t.data},e.prototype.max=function(){var t;if(null===(t=this.cf))return null;for(;null!==t.right;)t=t.right;return t.data},e.prototype.iterator=function(){return new i(this)},e.prototype.mf=function(t){for(var e,i=this.iterator();null!==(e=i.next());)t(e)},i.prototype.data=function(){return null!==this.Cg?this.Cg.data:null},i.prototype.next=function(){var t;if(null===this.Cg)null!==(t=this.gPa.cf)&&this.aOa(t);else if(null===this.Cg.right)do{if(t=this.Cg,!this.xp.length){this.Cg=null;break}this.Cg=this.xp.pop()}while(this.Cg.right===t);else this.xp.push(this.Cg),this.aOa(this.Cg.right);return null!==this.Cg?this.Cg.data:null},i.prototype.lI=function(){var t;if(null===this.Cg)null!==(t=this.gPa.cf)&&this.XNa(t);else if(null===this.Cg.left)do{if(t=this.Cg,!this.xp.length){this.Cg=null;break}this.Cg=this.xp.pop()}while(this.Cg.left===t);else this.xp.push(this.Cg),this.XNa(this.Cg.left);return null!==this.Cg?this.Cg.data:null},i.prototype.aOa=function(t){for(;null!==t.left;)this.xp.push(t),t=t.left;this.Cg=t},i.prototype.XNa=function(t){for(;null!==t.right;)this.xp.push(t),t=t.right;this.Cg=t},t.exports=e},function(t){function e(t){this.zga=t,this.gg=[],this.ur=!1,this.SF=void 0,this.Yj={}}e.prototype.a3=function(t){this.gg.length===this.zga&&this.gg.shift(),Array.isArray(t)?this.gg=this.gg.concat(t):this.gg.push(t),this.ur=!0},e.prototype.fN=function(){return this.gg.length},e.prototype.fja=function(){var t;return 0<(t=this.gg).length?t.reduce((function(t,e){return t+e}),0)/this.gg.length:void 0},e.prototype.O3=function(){var t,e;if(0<(t=this.gg).length)return e=this.fja(),t=t.reduce((function(t,e){return t+e*e}),0)/t.length,Math.sqrt(t-e*e)},e.prototype.At=function(t){var e,i,n;return(this.ur||void 0===this.SF)&&(this.SF=this.gg.slice(0).sort((function(t,e){return t-e})),this.Yj={},this.ur=!1),void 0===this.Yj[t]&&(e=this.SF,i=Math.floor(t/100*(e.length-1)+1)-1,n=(t/100*(e.length-1)+1)%1,this.Yj[t]=i===e.length-1?e[i]:e[i]+n*(e[i+1]-e[i])),this.Yj[t]},t.exports=e},function(t,e,i){t.exports={e$b:i(362),pcc:i(221),K3b:i(756),J3b:i(363),L3b:i(364),ECa:i(759)}},function(t,e,i){var n;function r(t){this.reset(),this.QXb(t)}function o(t){this.setInterval(t),this.reset()}function a(t){this.MB=new o(t),this.Ne=0,this.Tc=null}n=i(10),r.prototype.QXb=function(t){this.xK=Math.pow(.5,1/t),this.DS=t},r.prototype.reset=function(t){t&&t.Ga&&n.Ba(t.Ga)?t.aj&&n.Ba(t.aj)?(this.Fv=this.Jmb,this.yp=t.Ga,this.JB=t.aj+t.Ga*t.Ga):(this.Fv=this.Jmb,this.yp=t.Ga,this.JB=t.Ga*t.Ga):this.JB=this.yp=this.Fv=0},r.prototype.add=function(t){var e;n.Ba(t)&&(this.Fv++,e=this.xK,this.yp=e*this.yp+(1-e)*t,this.JB=e*this.JB+(1-e)*t*t)},r.prototype.get=function(){var t,e,i;return 0===this.Fv?{Ga:0,aj:0}:(t=this.yp,e=this.JB,e/=i=1-Math.pow(this.xK,this.Fv),i=(t/=i)*t,{Ga:Math.floor(t),aj:Math.floor(e>i?e-i:0)})},r.prototype.getState=function(){return 0===this.Fv?null:{a:Number(this.yp.toPrecision(6)),s:Number(this.JB.toPrecision(6)),n:this.Fv}},r.prototype.Ve=function(t){return!n.Bb(t)&&n.has(t,"a")&&n.has(t,"s")&&n.isFinite(t.a)&&n.isFinite(t.s)?(this.yp=t.a,this.JB=t.s,n.has(t,"n")&&n.Ba(t.n)?this.Fv=t.n:this.Fv=16*this.DS,!0):(this.JB=this.yp=this.Fv=0,!1)},o.prototype.setInterval=function(t){this.DS=t,this.xK=-Math.log(.5)/t},o.prototype.reset=function(t){this.tb=this.Af=null,t&&n.isFinite(t.Ga)?this.yp=t.Ga:this.yp=0},o.prototype.start=function(t){n.Bb(this.Af)&&(this.tb=this.Af=t)},o.prototype.add=function(t,e,i){var r,o;n.Bb(this.Af)&&(this.tb=this.Af=e),this.Af=Math.min(this.Af,e),e=Math.max(i-e,1),r=this.xK,o=i>this.tb?i:this.tb,this.yp=this.yp*(o>this.tb?Math.exp(-r*(o-this.tb)):1)+8*t/e*(1-Math.exp(-r*e))*(i>o?Math.exp(-r*(o-i)):1),this.tb=o},o.prototype.get=function(t){var e;return t=Math.max(t,this.tb),e=this.yp*Math.exp(-this.xK*(t-this.tb)),0<(t=1-Math.exp(-this.xK*(t-this.Af)))&&(e/=t),{Ga:Math.floor(e)}},o.prototype.toString=function(){return"ewmav("+this.DS+")"},a.prototype.setInterval=function(t){this.MB.setInterval(t)},a.prototype.reset=function(t){this.MB.reset(t),this.Ne=0,this.Tc=null},a.prototype.start=function(t){!n.Bb(this.Tc)&&t>this.Tc&&(this.Ne+=t-this.Tc,this.Tc=null),this.MB.start(t-this.Ne)},a.prototype.add=function(t,e,i){!n.Bb(this.Tc)&&i>this.Tc&&(this.Ne+=e>this.Tc?e-this.Tc:0,this.Tc=null),this.MB.add(t,e-this.Ne,i-this.Ne)},a.prototype.stop=function(t){this.Tc=Math.max(n.Bb(this.MB.tb)?0:this.MB.tb+this.Ne,n.Bb(this.Tc)?t:Math.min(this.Tc,t))},a.prototype.get=function(t){return this.MB.get((n.Bb(this.Tc)?t:this.Tc)-this.Ne)},a.prototype.toString=function(){return this.MB.toString()},t.exports={ffb:r,c4b:o,dfb:a}},function(t,e,i){var n,r;function o(t,e,i,o){n.call(this,i,o),this.Mv=new r(t),this.nnb=e}n=i(143),r=i(360),o.prototype=Object.create(n.prototype),o.prototype.shift=function(){var t;return t=this.Pw(0),n.prototype.shift.call(this),null!==t&&this.Mv.a3(t),t},o.prototype.flush=function(){var t;return t=this.get(),this.Mv.a3(t),n.prototype.reset.call(this),t},o.prototype.get=function(){var t;return t=this.GV(),{sampleSize:this.fN(),A9:t,hX:t.uk?(t.Kl-t.Jl)/t.uk:void 0}},o.prototype.fN=function(){return this.Mv.fN()},o.prototype.GV=function(){return this.Mv.fN()<this.nnb?{Jl:void 0,uk:void 0,Kl:void 0,sampleSize:void 0,wj:void 0}:{Jl:this.Mv.At(25),uk:this.Mv.At(50),Kl:this.Mv.At(75),sampleSize:this.Mv.fN(),wj:this.Mv.At.bind(this.Mv)}},o.prototype.toString=function(){return"biqr("+this.wL+","+this.Hd+","+this.bk+")"},t.exports=o},function(t,e,i){var n,r;function o(t){this.I={JW:t.maxc||25,Wja:t.c||.5,N2b:t.w||15e3,Iy:t.b||5e3},n.call(this,this.I.N2b,this.I.Iy),this.eT()}n=i(143),r=i(219).TDigest,o.prototype=Object.create(n.prototype),o.prototype.shift=function(){var t;return t=this.Pw(0),n.prototype.shift.call(this),null!==t&&(this.df.push(t,1),this.ur=!0),t},o.prototype.flush=function(){var t;return t=this.get(),this.df.push(t,1),this.ur=!0,n.prototype.reset.call(this),t},o.prototype.get=function(){return this.jZa()},o.prototype.wz=function(){var t;return{min:(t=this.jZa()).min,p10:t.r9,p25:t.Jl,p50:t.uk,p75:t.Kl,p90:t.s9,max:t.max,centroidSize:t.hub,sampleSize:t.sampleSize,centroids:t.Mi}},o.prototype.jZa=function(){var t;return 0===this.df.size()||(t=this.df.wj([0,.1,.25,.5,.75,.9,1]))[2]===t[4]?null:(!this.ur&&this.dg||(this.ur=!1,this.dg={min:t[0],r9:t[1],Jl:t[2],uk:t[3],Kl:t[4],s9:t[5],max:t[6],wj:this.df.wj.bind(this.df),hub:this.df.size(),sampleSize:this.df.n,Mi:this.SEb(),wz:this.wz.bind(this)}),this.dg)},o.prototype.SEb=function(){var t;return 0===this.df.size()?null:!this.ur&&this.dg?this.dg.centroids:(t=this.df.wj([.25,.75]))[0]===t[1]?null:(this.df.size()>this.I.JW&&this.df.Ty(),t=this.df.fp(!1).map((function(t){return{mean:t.qg,n:t.n}})),JSON.stringify(t))},o.prototype.fZa=function(){return this.df.summary()},o.prototype.size=function(){return this.df.size()},o.prototype.toString=function(){return"btdtput("+this.wL+","+this.Hd+","+this.bk+"): "+this.df.summary()},o.prototype.eT=function(){this.df=new r(this.I.Wja,this.I.JW)},t.exports=o},function(t,e,i){var n,r;function o(t){this.I={JW:t.maxc||25,Wja:t.c||.5,GUb:t.rc||"none",$Hb:t.hl||7200},this.eT(),this.Pob=this.I.GUb,this.DS=this.I.$Hb,this.mfa=Math.exp(Math.log(2)/this.DS),this.mfa=Math.max(this.mfa,1),this.M1=1}n=i(10),r=i(219).TDigest,new(i(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs"),o.prototype.getState=function(){var t;return 0===this.df.size()||(t=this.df.wj([.25,.75]))[0]===t[1]?null:(this.df.size()>this.I.JW&&this.df.Ty(),t=this.df.fp(!1).reduce(function(t,e){return n.Ba(e.qg)&&n.Ba(e.n)&&t.push({mean:e.qg,n:e.n/this.M1}),t}.bind(this),[]),{tdigest:JSON.stringify(t)})},o.prototype.Ve=function(t){var e;if(n.Bb(t)||!n.has(t,"tdigest")||!n.Se(t.tdigest))return!1;try{e=JSON.parse(t.tdigest)}catch(t){return!1}e.forEach((function(t){n.isFinite(t.n)||(t.n=1)})),t=e.map((function(t){return{qg:t.mean,n:t.n}})),this.M1=1,this.df.fua(t),void 0===this.df.wj(0)&&this.eT()},o.prototype.get=function(){var t,e;return{min:(e=(t=this.df).wj([0,.1,.25,.5,.75,.9,1]))[0],r9:e[1],Jl:e[2],uk:e[3],Kl:e[4],s9:e[5],max:e[6],Mi:t.fp(!1)}},o.HGb=function(t){var e;return e=new o({}),n.Bb(t)||n.ia(t)||!n.isArray(t.Mi)||(e.df.fua(t.Mi),void 0===e.df.wj(0)&&e.eT()),(t=e.df.wj([.25,.75]))[0]===t[1]?null:function(t){return e.df.wj(t)}},o.prototype.add=function(t){var e;e=1,"ewma"===this.Pob&&(this.M1=e=this.M1*this.mfa),this.df.push(t,e)},o.prototype.toString=function(){return"TDigestHist("+this.df.summary()+")"},o.prototype.eT=function(){this.df=new r(this.I.Wja,this.I.JW)},t.exports={eLa:o}},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.wDa=e.Eca=void 0,n=i(2),r=n.__importStar(i(10)),o=n.__importDefault(i(6)),a=i(770),s=i(771),u=function(){this.y3=new s.JR(100),this.S8=new s.JR(100)},t=function(){function t(t,e,i){var n,o,a;this.I=e,this.H=i,this.E2=t,n=this.mL=this.BK=this.AK=0,o=0,a=0,this.E2.length>=this.I.C8&&(this.E2.forEach((function(t){!(t=t.get().BDb)||r.ia(t.avtp)||r.ia(t.neuhd)||(n+=t.avtp,o+=1*t.neuhd,a++)})),this.mL=a,this.AK=n/a,this.BK=o/a)}return Object.defineProperties(t.prototype,{rsb:{get:function(){return this.AK},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{tsb:{get:function(){return this.BK},enumerable:!1,configurable:!0}}),t.prototype.r7=function(){return this.mL>=this.I.C8&&this.AK>=this.I.baselineHighAndStableThreshold.bwThreshold&&this.BK<this.I.baselineHighAndStableThreshold.nethreshold},t}(),e.Eca=t,t=function(t){function e(e,i,n){return(e=t.call(this,e,i,n)||this).dfa=[],e.MCb={},e.F$a=[],e.Xy=new u,e.E2.length>=e.I.C8&&(e.lPa("avtp",e.Xy.y3),e.lPa("neuhd",e.Xy.S8)),e}return n.__extends(e,t),e.prototype.r7=function(){var t;return this.GGb(),(t=new a.nFa(this.H,this.F$a,this.Ksb)).Ita(this.dfa),t=t.Rub(this.I.I6.Ibc),this.L1b&&1===t&&this.mL>=this.I.C8},e.prototype.tV=function(){var t,e,i,n;return t={},e=o.default.time.now(),n=(i=new Date(e)).getHours(),t.currentMonoTime=e,t.currentTime=i.getTime(),t.currentHour=n,t},e.prototype.yXa=function(t,e,i){t="avtp"===t?this.AK:this.BK;for(var n=e.O3(),o=0,a="skew"===i?3:4,s=0;s<e.gg.length;s++)r.ia(t)||r.ia(n)||(o+=Math.pow(e.gg[s]-t,a));return o/=e.gg.length,!r.ia(n)&&0<n?o/Math.pow(n,a)-3*("skew"===i?0:1):NaN},e.prototype.SXa=function(t,e,i){var n;return n=0,"lte"===i?n=t.reduce((function(t,i){return i<=e?t+1:t}),0)/(1*t.length):"gte"===i&&(n=t.reduce((function(t,i){return i>=e?t+1:t}),0)/(1*t.length)),n},e.prototype.oGb=function(t){var e,i;return e=t.At(25),i=t.At(50),t=t.At(75),r.ia(e)||r.ia(i)||r.ia(t)?NaN:0<i?(t-e)/i:NaN},e.prototype.JEb=function(t,e){return t="avtp"===t?this.AK:this.BK,e=e.O3(),!r.ia(e)&&!r.ia(t)&&(0<e||0<t)&&0<t?(t-e)/(t+e):NaN},e.prototype.GV=function(t,e){return t=t.At(e),r.ia(t)?NaN:t},e.prototype.normalize=function(t,e,i){return!isNaN(t)&&0<i?(t-e)/i:NaN},e.prototype.GGb=function(){var t,e,i,n,o,a,s,u,c,h,f,l;t=this,e=this.I.I6.R1a.qac,i=this.I.I6.R1a.oac,n=this.I.I6.R1a.pac,u=[],l=0,this.L1b=!Object.keys(e).some((function(d){var p;if(f=NaN,!(e.hasOwnProperty(d)&&i.hasOwnProperty(d)&&n.hasOwnProperty(d)&&!r.ia(t.Xy)&&t.Xy.y3&&t.Xy.S8)||1>t.mL||"number"!=typeof e[d]||"number"!=typeof i[d]||"number"!=typeof n[d])return!0;switch(o=e[d],a=i[d],s=n[d],u=d.split("_",2),c=u[0],h=u[1],c){case"avtp":p=t.Xy.y3;break;case"neuhd":p=t.Xy.S8;break;default:p=void 0}if("avtp"===c||"neuhd"===c){if(p)switch(h){case"last":f=p.gg[t.mL-1];break;case"mean":f="avtp"===c?t.AK:t.BK;break;case"niqr":f=t.oGb(p);break;case"skew":f=t.yXa(c,p,"skew");break;case"kurtosis":f=t.yXa(c,p,"kurtosis");break;case"std":f=p.O3();break;case"b":f=t.JEb(c,p);break;default:-1!==d.search("[p][1-9]?[1-9]")&&(f=t.GV(p,Number(d.split("_p",2)[1])))}}else switch(d){case"fracAbove20Mbps":p=t.Xy.y3,f=r.ia(p)?NaN:t.SXa(p.gg,2e4,"gte");break;case"fracBelow20p":p=t.Xy.S8,f=r.ia(p)?NaN:t.SXa(p.gg,.15,"lte");break;case"hour_current":f=t.tV().currentHour;break;case"session_ct":f=t.mL;break;case"intercept":f=o,t.Ksb=f}if(f=t.normalize(f,a,s),isNaN(f))return!0;"intercept"!==d&&(t.dfa.push(f),t.F$a.push(o),t.MCb[d]=l,l+=1)}))},e.prototype.lPa=function(t,e){this.E2.forEach((function(i){!(i=i.get().BDb)||"avtp"!==t&&"neuhd"!==t||r.ia(i[t])||e.a3(Number(i[t]))}))},e}(t),e.wDa=t},function(t,e,i){var n,r,o,a;function s(t){return function(){for(var e=Array(this.length),i=0;i<this.length;++i)e[i]=t.call(this,i);return e}}Object.defineProperties(e,{__esModule:{value:!0}}),e.Brb=e.Bw=e.Sea=e.tLa=void 0,t=i(2),n=i(5),t=t.__importDefault(i(6)),r=i(22),o=new t.default.Console("FRAGMENTS","media|asejs"),a=function(){function t(t,e){this.md=t,this.Me=e}return Object.defineProperties(t.prototype,{index:{get:function(){return this.Me},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Vc:{get:function(){return new r.T(this.Wa,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Pd:{get:function(){return new r.T(this.ob,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Wa:{get:function(){return this.md.I2+this.md.fC[this.Me]},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ob:{get:function(){return this.Wa+this.md.mr[this.Me]},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Lt:{get:function(){return this.md.mr[this.Me]},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sa:{get:function(){return this.md.sa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.md.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Z:{get:function(){return Math.floor(1e3*this.Wa/this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ha:{get:function(){return Math.floor(1e3*(this.Wa+this.Lt)/this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{duration:{get:function(){return this.Ha-this.Z},enumerable:!1,configurable:!0}}),t.prototype.toJSON=function(){return{startPts:1e3*this.Wa/this.sa.S,endPts:1e3*this.ob/this.sa.S,duration:1e3*this.Lt/this.sa.S,index:this.index}},t}(),e.tLa=a,i=function(){function t(t,e,i,n){if(this.mediaType=t,this.length=i.vd.length,this.nb=i.S,this.mr=i.vd,this.c3=n&&n.Du,this.UPa=n&&n.Tu,this.TK=e,this.Gxa=this.Hxa=this.TNa=void 0,this.I2=i.jl,this.fC=new Uint32Array(this.length+1),this.length){for(e=t=0;e<this.length;++e)this.fC[e]=t,t+=this.mr[e];this.fC[e]=t,this.lfa=Math.floor((this.Ha-this.Z)/this.length)}}return Object.defineProperties(t.prototype,{jl:{get:function(){return this.Q9a(0)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Fla:{get:function(){return this.Q9a(this.length)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Z:{get:function(){return this.Cj(0)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ha:{get:function(){return this.Cj(this.length)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Uk:{get:function(){return new r.T(this.Fla,this.S)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{jra:{get:function(){return this.TNa||this.mlb()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sa:{get:function(){return this.TK},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.nb},enumerable:!1,configurable:!0}}),t.prototype.Q9a=function(t){return this.I2+this.fC[t]},t.prototype.Cj=function(t){return Math.floor(1e3*(this.I2+this.fC[t])/this.S)},t.prototype.VU=function(t){return this.Cj(t+1)},t.prototype.vd=function(t){return this.VU(t)-this.Cj(t)},t.prototype.get=function(t){return new a(this,t)},t.prototype.zn=function(t,e,i){if(0===this.length||t<this.Cj(0))return-1;t=Math.max(t,e||0);for(var n,r,o=0,a=this.length-1;a>=o;)if(n=o+(a-o>>1),t<(r=this.Cj(n)))a=n-1;else{if(!(t>=r+this.vd(n))){for(;e&&n<this.length&&this.Cj(n)<e;)++n;return n<this.length?n:i?this.length-1:-1}o=n+1}return i?this.length-1:-1},t.prototype.o5=function(t,e,i){return 0<=(t=this.zn(t,e,i))?this.get(t):void 0},t.prototype.jka=function(t,e){var i,n;if(i=Math.floor(e*this.S/1e3),e=Math.min(t+Math.ceil(e/this.lfa),this.length),(n=this.fC[e]-this.fC[t])>i){for(;n>=i;)--e,n-=this.mr[e];return e-t+1}for(;n<i&&e<=this.length;)n+=this.mr[e],++e;return e-t},t.prototype.subarray=function(e,i){return n.assert(void 0===e||0<=e&&e<this.length),n.assert(void 0===i||i>e&&i<=this.length),new t(this.mediaType,this.sa,{S:this.S,jl:this.I2+this.fC[e],vd:this.mr.subarray(e,i)},this.c3&&{Du:this.c3.subarray(e,i+1),Tu:this.UPa})},t.prototype.forEach=function(t){for(var e=0;e<this.length;++e)t(this.get(e),e,this)},t.prototype.map=function(t){for(var e=[],i=0;i<this.length;++i)e.push(t(this.get(i),i,this));return e},t.prototype.reduce=function(t,e){for(var i=0;i<this.length;++i)e=t(e,this.get(i),i,this);return e},t.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.lfa}},t.prototype.dump=function(){var t;o.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.lfa+"ms");for(var e=0;e<this.length;++e)t=this.get(e),o.trace("TrackFragments: "+e+": ["+t.Z+"-"+t.Ha+"]")},t.prototype.mlb=function(){for(var t=0,e=0;e<this.length;e++)t=Math.max(this.mr[e],t);return this.TNa=t},t}(),e.Sea=i,e.Bw=s,i.prototype.P9a=s(i.prototype.Cj),s(i.prototype.VU),s(i.prototype.vd),e.Brb=function(t){return"["+Array(t.length).map((function(e,i){return t[i].toString()})).join(",")+"]"}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.uVa=e.nz=e.yn=e.W5=void 0,n=i(5),r=i(142),e.W5=function(t,e){return t.zn(e,void 0,!0)},e.yn=function(t,i,o,a,s,u){var c,h,f,l;return r.Qm.kq(t),n.assert(o.U,"findFirstFragment called without stream fragments"),c=o.U,a=Math.max(o.U.Cj(0),a),0===t&&!u&&i.fm&&!i.fG&&o.uf&&(a=Math.max(o.U.Cj(0),a+o.uf.Y)),h=e.W5(c,a),(f=o.Wk(h)).Ha<a||((l=f.jma(a))?(0<l.il&&f.Bk({start:l.il}),0!==t||i.zra||(0>l.Ed&&f.Bk({start:l.il}),l.Ed<(i.fm&&!i.fG&&o.uf?Math.floor(o.uf.Y):0)&&f.qla())):a>=f.Ha&&h<c.length-1&&(f=o.Wk(h+1)),1===t&&s&&f.Ha===s&&h<c.length-1&&(f=o.Wk(h+1)),0===t&&!f.wa&&(i.P_a||i.cBb)&&u&&f.Bk({}),f.nP(a)),f},e.nz=function(t,i,n,o,a,s){var u,c;return r.Qm.kq(t),u=n.U,void 0===o&&(o=u.Ha),a&&(a=a.eDb(n,o,t,i,s))||(a=u.sa,s=o?o+e.uVa(t,a,i.WD,i.v$):u.VU(u.length-1),u=u.zn(s,void 0,!0),a=n.Wk(u),0===u||a.Z!==o||1!==t&&i.WD||(--u,a=n.Wk(u)),(s=1===t?s:o)<a.Ha&&((c=a.ima(s))&&0!==c.il?a.Bk({end:c.il}):(0===t&&(c||s<a.Z)&&0!==u||1===t&&c&&0!==u)&&(a=n.Wk(u-1))),0===t&&!a.wa&&i.P_a&&a.Bk(),a.nP(o)),a},e.uVa=function(t,e,i,n){var r;return 1===t||n?0:i?null!==(r=null==e?void 0:e.Y)&&void 0!==r?r:0:e?-e.Y:0}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.dza=void 0,n=i(776),r=i(22),i(5),o=i(101),t=function(){function t(t,e,i){var n;this.I=e,this.H=i,this.ak=t.track,this.sL=t.Lf,this.Dw=t.Dw,this.Nmb=-1===this.profile.indexOf("none"),this.VK=this.Ma=void 0,e=t.ju,this.ju=void 0===e||e,this.H4=t.H4,this.SK=void 0,this.VNa=this.Ag=0,this.url=this.HI=this.Pc=this.ws=this.Aqa=this.location=this.Ra=this.wb=void 0,this.Ez=!1,this.Wpa=this.gf=void 0,"object"==typeof(e=(t=this.I)&&"object"==typeof t.l6a&&t.l6a[this.profile])&&(e=e[this.bitrate])&&(this.Job=new r.T(e.ticks,e.timescale)),this.ynb=0<=(null===(n=t.gsb)||void 0===n?void 0:n.indexOf(this.profile))}return Object.defineProperties(t.prototype,{je:{get:function(){return!!this.Ma},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{P:{get:function(){return this.ak.P},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{W:{get:function(){return this.P.W},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{J:{get:function(){return this.ak.J},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.ak.mediaType},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sa:{get:function(){return this.ak.sa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.ak.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{$N:{get:function(){return this.ak.$N},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{trackId:{get:function(){return this.ak.trackId},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{track:{get:function(){return this.ak},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Lf:{get:function(){return this.sL},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Oa:{get:function(){return this.Dw.downloadable_id},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{id:{get:function(){return this.Oa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Qz:{get:function(){return this.Nmb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{bitrate:{get:function(){return this.Dw.bitrate},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sb:{get:function(){return this.Dw.vmaf||void 0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{eWb:{get:function(){return this.Dw.res_w||void 0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{n$:{get:function(){return this.Dw.res_h||void 0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{profile:{get:function(){return this.Dw.content_profile},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{kh:{get:function(){return this.profile},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{zs:{get:function(){return this.Dw.sidx},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{uf:{get:function(){return this.Job},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{CIb:{get:function(){return this.ynb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{U:{get:function(){return this.Ma},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{iA:{get:function(){return this.Ma&&this.Ma.iA},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Gma:{get:function(){return this.ak.Gma},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Fma:{get:function(){return this.ak.Fma},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Z:{get:function(){return 0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{St:{get:function(){return void 0!==this.SK?this.SK:this.iLb()},set:function(t){this.SK=t},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{lu:{get:function(){return this.ju&&!this.Ez},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Wg:{get:function(){return this.VK},enumerable:!1,configurable:!0}}),t.prototype.Xk=function(){return this.P.Xk(this.mediaType,this.Oa)},t.prototype.Y5=function(){var t;return(t=this.Xk())&&t.stream.U},t.prototype.pE=function(t){return this.P.pE(this,t)},t.prototype.j9=function(){this.track.j9()},t.prototype.i9=function(){this.track.i9()},t.prototype.h9=function(t,e,i,r,o,a,s){r&&void 0!==r.jl&&(this.track.je||void 0!==r.vd&&r.vd.length)&&void 0!==r.offset&&void 0!==r.sizes&&r.sizes.length?(this.I.fm&&this.uf&&0===r.jl&&(r.jl+=this.uf.Zf(r.S).vc),this.VK=t,this.je||(this.track.h9(this,e,i,r,a),this.Ma=new n.QKa(this.sL,this.track.gp,r,o,a,s,this.J),this.track.EQb(this))):r?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:"+(void 0!==r.jl)+","+this.track.je+","+this.track.ola+","+(void 0!==r.vd)+","+!(!r.vd||!r.vd.length)+","+(void 0!==r.offset)+","+(void 0!==r.sizes)+","+!(!r.sizes||!r.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined.")},t.prototype.h4=function(t){this.je||(this.track.Yvb(t.track),this.Ma=t.U,this.VK=t.Wg)},t.prototype.Wk=function(t){return new o.Rm(this,this.U.get(t))},t.prototype.NXa=function(t){var e;return e=this.Wk(t.index),t.wa&&(e.Bk(t.wa),e.nP(t.av)),e},t.prototype.Nab=function(t,e){this.Ag=t,this.VNa=e},t.prototype.Zub=function(){this.Ra=this.wb=this.Pc=this.location=this.url=void 0},t.prototype.toJSON=function(){return{movieId:this.J,mediaType:this.mediaType,streamId:this.Oa,bitrate:this.bitrate,streamIndex:this.Lf,isAvailable:this.ju,fittable:this.St,vmaf:this.sb,resolutionWidth:this.eWb,resolutionHeight:this.n$}},t.prototype.toString=function(){return(0===this.mediaType?"a":"v")+":"+this.Oa+":"+this.bitrate},t.prototype.iLb=function(){var t,e,i,n,r;return!this.je||(this.track.Joa>=this.bitrate?this.SK=!0:this.track.P1a<=this.bitrate?this.SK=!1:((r=this.Ma.ztb(this.I.XW,this.Ag,null!==(e=null===(t=this.P)||void 0===t?void 0:t.QI.Y)&&void 0!==e?e:0,null!==(n=null===(i=this.P)||void 0===i?void 0:i.QI.fa)&&void 0!==n?n:0,this.VNa))?this.track.ola&&!this.Qz||(this.track.Joa=this.bitrate):this.track.P1a=this.bitrate,this.SK=r))},t}(),e.dza=t},function(t){var e,i;(i=new Uint32Array([0,0])).set(new Uint32Array([16843009]),1),e=0!==i[0]?function(t,e,i){new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i*t.byteLength/t.length)}:function(t,e,i){t.set(e,i)},t.exports={from:function(t,e,i,n){t=new t(e.length);for(var r="function"==typeof i,o=0;o<e.length;++o)t[o]=r?i.call(n,e[o],o,e):e[o];return t},set:e}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){var e;return(e=null!==t&&t.apply(this,arguments)||this).qz=1536,e}return n.__extends(e,t),e.Na=!0,e}(i(172).default),e.default=t,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="ac-3",e}(t),e.cba=i,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="ec-3",e}(t),e.hca=t},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(100),t=i(32),o=r.YE,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.fileSize=this.u.Td(),this.S=this.u.Td(),this.duration=this.u.Td(!1,!0),this.wsa=this.u.Td(),this.u.Td(),this.Asa=this.u.Td(),this.csa=this.u.ya(),this.xsa=this.u.Td(),this.vma=this.u.ya(),this.u.EA(),this.Te={moof:{offset:this.wsa},sidx:{offset:this.xsa,size:this.vma}},this.Te[r.zR]={offset:this.Asa,size:this.csa},this.u.offset-this.startOffset<=this.length-24&&(this.zsa=this.u.Td(),this.Wra=this.u.ya(),this.ysa=this.u.Td(),this.Ura=this.u.ya(),this.Te[r.Nx]={offset:this.zsa,size:this.Wra},this.Te[r.Mx]={offset:this.ysa,size:this.Ura}),!0},e.Xb=o,e.Na=!1,e}(t.Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=i(100),i=i(32),r=t.ZE,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t,e,i;this.Ac(),1<=this.version&&this.u.EA(),t=this.u.ya(),this.Te={};for(var n=this.startOffset+this.length,r=0;r<t;++r)"uuid"===(e=this.u.Ml())&&(e=this.u.EA()),i=this.u.Td(),this.Te[e]={offset:n,size:i},n+=i;return!0},e.Xb=r,e.Na=!1,e}(i.Dc),e.default=i},function(t){var e,i,n,r;e={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24e3,duration:1024,Ck:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer},i={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24e3,duration:1024,Ck:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer},n={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48e3,duration:1536,Ck:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer},r={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48e3,duration:1536,Ck:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer},t.exports={standard:{"heaac-2-dash":i,"heaac-2hq-dash":i,"ddplus-5.1-dash":n,"ddplus-5.1hq-dash":n,"ddplus-2.0-dash":r},reset:{"heaac-2-dash":e,"heaac-2hq-dash":e},"heaac-2-dash":e,"heaac-2-dash-alt":i,"ddplus-5.1-dash":n,"ddplus-2.0-dash":r}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(32),o=i(84),t=function(t){function e(e,i,n,r,o){return(n=t.call(this,n,r,o)||this).Kia=e,n.Pq=i,n.Ua={},n}return n.__extends(e,t),e.prototype.parse=function(t){var e,i,n,r,a,s;for(this.offset=0,e=[],t=t||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){if(i=this.offset,0===(n=this.ya()))return{done:!1,offset:this.offset,error:"Invalid zero-length box"};if(null===(r=o.ko(this.ya())))return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===r){if(16>this.view.byteLength-this.offset)break;r=this.EA()}if(0===e.length&&this.Pq.kV(r,i,n))break;if(i+n>this.view.byteLength)break;if(s=void 0,a=this.Kia[r]){if(s=new a(this,r,i,n,e[0]),(e[0]||this).tt(s),!s.parse(t))return{done:!1,offset:this.offset,error:"parse error in "+r+" box"};this.config.bI&&a.Na?e.unshift(s):this.offset=i+n}else this.offset=i+n;for(;e.length&&this.offset>e[0].byteOffset+e[0].Qn-8;){if(!(s=e.shift()).Qt(t))return{done:!1,offset:this.offset,error:"finalize error in "+s.type+" box"};this.offset=s.byteOffset+s.Qn}if(0===e.length&&this.Pq.GU(r,i,n,s))break}return!this.Pq.done&&0<(t=this.Pq.endOffset?this.Pq.endOffset-this.view.byteLength:4096)?{done:!1,offset:this.offset,cX:t}:{done:!0,offset:Math.min(this.Pq.endOffset||1/0,this.offset)}},e.prototype.tt=function(t){r.Dc.tt(this,t)},e}(i(796).Yea),e.zE=t},function(t,e,i){var n;function r(t,e){-1!==(t=e.indexOf(t))&&e.splice(t,1)}Object.defineProperty(e,"__esModule",{value:!0}),n=i(100),t=function(){function t(t){this.endOffset=t,this.done=!1}return t.prototype.kV=function(){return this.done},t.prototype.GU=function(t,e,i){return this.done=e+i>=this.endOffset},t}(),e.DQ=t,t=function(){function t(t,e,i,n){void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===n&&(n=!1),this.Oh=t,this.dz=e,this.oZ=i,this.AX=n,this.done=!1,this.Te={}}return t.prototype.kV=function(e,i,n){if(-1!==t.Boa.indexOf(e)&&(this.Te[e]={offset:i,size:n}),-1!==this.oZ.indexOf(e)){if(this.Te[e]={offset:i,size:n},!this.AX)return this.endOffset=i,this.done=!0;this.endOffset=i+n}else this.Oh&&-1!==this.Oh.indexOf(e)?(e=1<this.Oh.length?4096:0,this.endOffset=Math.max(i+n+e,this.endOffset||0)):-1!==this.dz.indexOf(e)&&(e=this.Oh?4096:0,this.endOffset=Math.max(i+n+e,this.endOffset||0));return this.done},t.prototype.GU=function(t,e,i,o){var a;return a=this,-1!==this.oZ.indexOf(t)?this.done=!0:(t===n.YE&&this.MY(o.Te),t===n.ZE&&this.MY(o.Te),this.Oh&&r(t,this.Oh),r(t,this.dz),this.Oh&&0===this.Oh.length&&!this.dz.some((function(t){return a.Te[t]}))?this.done=!0:this.done)},t.prototype.MY=function(t){var e;e=this,this.Te=t,this.endOffset=(this.Oh||[]).concat(this.dz).reduce((function(t,i){return e.Te[i]?(i=e.Te[i],Math.max(i.offset+(i.size||4096),t)):t}),this.endOffset||0)},t.Boa=["moov","sidx"],t}(),e.Dca=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.Fea=void 0,n=i(2),r=i(116),i(5),n.__importDefault(i(35)),t=function(){function t(t,e,i,n,r,o){this.vd=t,this.VI=i,this.S=r,this.MNa=!1,this.length=Math.min(t.length,e.length,i.length),this.$j=e,this.st=n,this.Qc=o}return Object.defineProperties(t.prototype,{fa:{get:function(){return void 0!==this.Qc?this.Qc:this.Qc=this.sfa()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sizes:{get:function(){return this.$j},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Th:{get:function(){return this.st},enumerable:!1,configurable:!0}}),t.prototype.subarray=function(e,i){return new t(this.vd.subarray(e,i),this.sizes.subarray(e,i),this.VI.subarray(e,i),this.Th.subarray(e,i),this.S)},t.prototype.concat=function(){for(var e,i,o,a,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return s=(u=[this]).concat.apply(u,n.__spread(s)),u=s.reduce((function(t,e){return t+e.length}),0),e=new Uint32Array(u),i=new Uint32Array(u),o=new Uint8Array(u),a=new Uint8Array(u),u=s.reduce((function(t,e){return t||e.S}),void 0),s.reduce((function(t,n){return r.YR.set(e,n.vd,t),r.YR.set(i,n.sizes,t),r.YR.set(o,n.VI,t),r.YR.set(a,n.Th,t),t+n.length}),0),new t(e,i,o,a,u)},t.prototype.sfa=function(){for(var t=this.sizes,e=this.length,i=0,n=0;n<e;++n)i+=t[n];return i},t.prototype.cOb=function(){this.MNa||(this.MNa=!0,this.$j=new Uint32Array(this.$j),this.st=new Uint8Array(this.st),this.uL=new Uint8Array(this.st.length))},t.prototype.dOb=function(){void 0===this.uL&&(this.uL=new Uint8Array(this.st.length))},t.prototype.upgrade=function(t,e){var i;this.cOb(),t.dOb(),i=t.sizes[e],void 0!==this.Qc&&(this.Qc+=i-this.sizes[e]),this.uL[e]=1,t.uL[e]=1,this.VI[e]=t.VI[e],this.Th[e]=t.Th[e],this.sizes[e]=i},t.prototype.c0a=function(t){return void 0!==this.uL&&0<this.uL[t]},t}(),e.Fea=t},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.vba=void 0,n=i(2),r=i(116),t=i(17),o=n.__importDefault(i(6)),a=i(9),s=i(42),u=i(5),c=i(233),h=i(379),i=i(380),f=o.default.MediaSource,i=function(t){function e(e,i,n,r,o,a,s){return i=t.call(this,e,r,o,i,s)||this,h.u_.B_a(i,e,r,s),i.Yo=n,i.track=n.track,i.qw=!!r.qw,i.aO=!!r.aO,i.IC=!!r.IC,i.pRb=r.fa,i.uP=!!r.uP,i.qga=(a?"(cache)":"")+i.Oa+" header",n=r.offset,a=r.fa,i.dn&&(n+=i.dn.byteLength,a-=i.dn.byteLength),i.pL(e.url||r.url,n,a),i}return n.__extends(e,t),Object.defineProperties(e.prototype,{ad:{get:function(){return!0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{BX:{get:function(){return this.rob},enumerable:!1,configurable:!0}}),e.prototype.ed=function(){var e;this.complete||(e={type:"headerRequestCancelled",request:this},this.emit(e.type,e)),t.prototype.ed.call(this)},e.prototype.jV=function(e){this.stream.j9(),t.prototype.jV.call(this,e)},e.prototype.MM=function(e,i,n){this.stream.i9(),t.prototype.MM.call(this,e,i,n)},e.prototype.tk=function(e){this.dn=this.dn?a.AC(this.dn,e.response):e.response,e.iY(),this.stream.i9(),this.pob()?t.prototype.tk.call(this,e):this.vMa?(this.pL(e.url,e.offset+e.fa,this.vMa),this.stream.j9(),t.prototype.tk.call(this,e)):this.y5(this)},e.prototype.pL=function(t,e,i){t=new c.kQ(this.stream,this.track,this.qga+" ("+this.Ea.length+")",{offset:e,fa:i,url:t,location:this.location,Md:this.Md,responseType:0},this,this.Oe,this.H),this.push(t),this.Qc=this.Ea.reduce((function(t,e){return t+e.fa}),0)},e.prototype.pob=function(){var t,i,n,o,s,c;if(n=this.Oe,s=(o=new r.dr(e.dPb,this.stream,this.dn,["sidx"],!0,{mcc:this.stream.track.ola,w9:void 0===this.sa,vaa:!f.pc||!f.pc.sSa,waa:n.waa,fm:n.fm,aB:this.Oe.aB,T7a:!0,eE:!f.pc||!f.pc.w3a})).parse({sa:this.sa}),this.W1b=n.aB&&o.FZa,s.Cm){if(u.assert(s.Wg),this.VK=s.Wg,this.rob=s.BX,this.ZMa=!!s.sVa,void 0===this.sa&&void 0===s.sa&&this.H.error("No frame duration available for "+this.Oa),o=s.sa?new a.T(s.sa):this.sa,c=void 0,1===this.Yua.mediaType&&null!==(t=n.tA)&&void 0!==t&&t.enabled)if(null!=(t=this.Yua.Dw.GI)&&t.length)for(c=new Uint8Array(t.length),i=0;i<t.length;i++)c[i]=t[i].sb;else if(null!==(i=s.Th)&&void 0!==i&&i.length)for(c=new Uint8Array(s.Th.length),i=0;i<s.Th.length;i++)c[i]=s.Th[i];this.stream.h9(s.Wg,s.S,o,s.U,s.NH,s.di,c),this.dn=void 0}else this.vMa=s.SPa||0;return!!s.Cm},e.dPb=new o.default.Console("MP4","media|asejs"),e}(i.sba),e.vba=i,s.xf(h.u_,i,!1,!1),s.xf(t.EventEmitter,i)},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.u_=void 0,n=i(2),r=i(5),t=function(t){function e(i,n,r){var o;return(o=t.call(this,i,n)||this).uP=!1,o.qw=!1,o.aO=!1,o.IC=!1,o.Yo=void 0,e.B_a(o,i,n,r),o}return n.__extends(e,t),e.B_a=function(t,e,i,n){o.mv.xb(t,e,i),t.VK=i.Wg,t.dn=i.Xsa,t.ZMa=i.Tk,t.H=n},Object.defineProperties(e.prototype,{ad:{get:function(){return!0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Wg:{get:function(){return this.VK},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Xsa:{get:function(){return this.dn},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Tk:{get:function(){return this.ZMa},enumerable:!1,configurable:!0}}),e.prototype.ed=function(){},e.prototype.Txa=function(){},e.prototype.drb=function(t){r.assert(this.kd.Oa===t.Oa),!t.je&&this.kd.je&&t.h4(this.kd),!t.location&&this.kd.location&&(t.location=this.kd.location,t.Pc=this.kd.Pc,t.HI=this.kd.HI,t.url=this.kd.url,t.wb=this.kd.wb),this.kd=t},e.prototype.toJSON=function(){return n.__assign(n.__assign({},t.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.U})},e}((o=i(173)).mv),e.u_=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.sba=void 0,(n=i(2)).__importDefault(i(6)),i(5),t=function(t){function e(e,i,n,r,o){return(e=t.call(this,e,i,n,r,o)||this).iNa=!1,e.hNa=!1,e.AS=!1,e.Ea=[],e.qo=!1,e.nOa=!1,e.DNa=!1,e.$e=!1,e.bm=!1,e.Fi=!1,e.uK=!1,e.$K=void 0,e.Iv=void 0,e}return n.__extends(e,t),Object.defineProperties(e.prototype,{Hpa:{get:function(){return this.qo&&!this.AS},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{active:{get:function(){return this.$e},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wua:{get:function(){return this.bm},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{complete:{get:function(){return this.Fi||(this.Fi=this.Ea.every((function(t){return t.complete})))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{aborted:{get:function(){return this.uK},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{bh:{get:function(){return this.Ea.reduce((function(t,e){return t+e.bh}),0)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{bytesReceived:{get:function(){return this.Ea.reduce((function(t,e){return t+e.bytesReceived}),0)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{rf:{get:function(){return this.$K||0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{url:{get:function(){return this.Ea[0]&&this.Ea[0].url},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{readyState:{get:function(){return this.Bh||this.Ea.reduce((function(t,e){return Math.min(t,e.readyState)}),1/0)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{status:{get:function(){return this.Iv&&this.Iv.status||0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ph:{get:function(){return this.Iv&&this.Iv.ph},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{HM:{get:function(){return this.Iv&&this.Iv.HM},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{uj:{get:function(){return this.Iv&&this.Iv.uj},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ku:{get:function(){return!!this.Ea.length&&this.Ea[0].ku},enumerable:!1,configurable:!0}}),e.prototype.push=function(t){this.DNa&&t.xb(this.Pa),this.Ea.push(t),this.qo&&t.oO()},e.prototype.xb=function(e){t.prototype.xb.call(this,e),this.Ea.forEach((function(t){return t.xb(e)})),this.DNa=!0},e.prototype.oO=function(){return this.nOa=!0,(this.qo=this.Ea.every((function(t){return t.oO()})))&&this.jV(this),this.nOa=!1,this.qo},e.prototype.ed=function(){7!==this.readyState&&5!==this.readyState&&(this.H.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort()),this.Ea.forEach((function(t){return t.ed()}))},e.prototype.daa=function(t){return this.Bh=this.Iv=void 0,this.Ea.every((function(e){return 5===e.readyState||7===e.readyState||e.daa(t)}))},e.prototype.abort=function(){var t,e,i;return t=this.active,e=this.aborted,this.Bh=7,this.uK=!0,this.bm=this.$e=!1,i=this.Ea.map((function(t){return t.abort()})).every((function(t){return t})),e||this.MM(this,t,this.Hpa),i},e.prototype.getResponseHeader=function(t){var e;return e=null,this.Ea.some((function(i){return!!(e=i.getResponseHeader(t))})),e},e.prototype.getAllResponseHeaders=function(){var t;return t=null,this.Ea.some((function(e){return!!(t=e.getAllResponseHeaders())})),t},e.prototype.p9=function(){},e.prototype.qA=function(t){this.$e||(this.$e=!0),this.iNa||(this.iNa=!0,this.ks=0,this.$K=this.Hu=t.rf,this.NM(this))},e.prototype.XH=function(t){this.bm||(this.bm=!0),this.hNa||(this.hNa=!0,this.$K=t.rf,this.MC(this))},e.prototype.YH=function(t){this.$K=t.rf,this.TG(this),this.ks=this.bytesReceived,this.Hu=t.rf},e.prototype.tk=function(t){this.$K=t.rf,this.complete?(this.Fi=!0,this.Bh=5,this.bm=this.$e=!1,this.AS=!0,this.Ut(this)):this.TG(this),this.ks=this.bytesReceived,this.Hu=t.rf},e.prototype.uX=function(t){this.$K=t.rf,this.Iv=t,this.Bh=6,this.y5(this)},e.prototype.tX=function(){},e.prototype.mi=function(){return this.Ea[0].mi()+"-"+this.Ea[this.Ea.length-1].mi()},e.prototype.toString=function(){return"Compound["+this.Ea.map((function(t){return t.toString()})).join(",")+"]"},e.prototype.toJSON=function(){return{requests:this.Ea}},e}(i(234).AJ),e.sba=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.gma=void 0,e.gma=function(t,e){for(var i,n,r=t.length-1;0<=r;--r)if((n=t[r]).lu){if(n.bitrate<=e)return r;i=r}return i}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.yna=e.lrb=void 0,e.lrb=function(t){return t.v$},e.yna=function(t,e){return void 0!==t.XN?t.XN:e&&void 0!==e.XN?e.XN:100}},function(t,e,i){var n;function r(t,e){this.tob=t.tA&&t.tA.enabled,this.VF=void 0,this.knb=e,this.aha=[],this.vha=[],this.q2=[],this.dg=[]}n=i(35).tH,r.prototype.reset=function(t){this.VF=void 0,this.aha=[],this.vha=[],this.q2=[],t&&(this.dg=[])},r.prototype.add=function(t,e){var i,r,o;i=e.filter((function(e,i){return n(e)||i===t.Je})),r=i.map((function(t){return t.bitrate})),e=e[t.Je],i=i.indexOf(e),this.VF&&(this.VF.length!==r.length||this.VF.some((function(t,e){return t!==r[e]})))&&(o=this.sXa())&&(this.dg.push(o),this.reset(!1)),void 0===this.VF&&(this.VF=r),this.aha.push([i,t.Axa,t.Ic,t.Yia,t.xRa,t.gTb,t.iQb,t.tf,t.Jp,t.ek,t.v_b-t.Axa,t.NSb]),void 0!==t.xu&&this.q2.push([t.Axa,t.xu.sP,t.xu.$L,t.xu.KO]),this.tob&&void 0!==e.U&&(-1!=(i=e.U.zn(t.ek))&&(o=(i=e.U.get(i)).duration,void 0!==(e=i.sb||e.sb)&&this.vha.push({Z:i.Z,duration:o,sb:e})))},r.prototype.qVa=function(t){for(var e=[],i=[],n=0;n<t.length;n++){for(var r=t[n],o=[],a=0;a<r.length;a++)o.push(r[a]-(i[a]||0));e.push(o),i=r}return e},r.prototype.sXa=function(){var t,e;if(0!==(t=this.qVa(this.aha)).length)return e=0<this.q2.length?this.qVa(this.q2):[],{dltype:this.knb,bitrates:this.VF,seltrace:t,vmaftrace:this.vha,paceratetrace:e}},r.prototype.get=function(){var t,e;if(t=this.sXa(),e=this.dg,t&&e.push(t),0!==e.length)return e},t.exports=r},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.FAa=void 0,n=i(821),t=function(){function t(t){var e;for(e=2;5!==e;)if(2===e){"ZrN","JCp","9",this.H=t,e=5}}var e;for(e=2;3!==e;)switch(e){case 4:case 14:return t;case 2:t.prototype.Wkb=function(t,e){var i,r;for(i=2;14!==i;)switch(i){case 5:i=r&&r.streamingClientConfig&&Object.keys(r.streamingClientConfig).length?4:3;break;case 7:"ing sab cell >= 100, pipelineEnabled",":"," ";"s","ab cell"," >= 200, pipelineEnabled: ";"wSw","itc","hback";" pro","beDetailDenominator: ";"ng sab cell >= 3","00, probeServer","WhenEr","ror: ";" al","lo","wSwi","tchback";"o","beDet","ailDeno","minator: ";return"b cell >= 400",", probeServerWhenError: ",(t=t.sessionABTestCell)&&(t=t.split("."))&&1<t.length&&(400<=(t=parseInt(t[1].replace(/cell/i,""),10))?(e.set?(e.set({probeServerWhenError:!0}),e.set({probeDetailDenominator:1}),e.set({allowSwitchback:!0})):(e.Ju=!0,e.mI=1,e.Ay=!0),this.H.trace("using sab cell >= 400, probeServerWhenError: "+e.Ju+", probeDetailDenominator: "+e.mI+", allowSwitchback"+e.Ay)):300<=t?(e.set?(e.set({probeServerWhenError:!0}),e.set({probeDetailDenominator:1}),e.set({allowSwitchback:!1})):(e.Ju=!0,e.mI=1,e.Ay=!1),this.H.trace("using sab cell >= 300, probeServerWhenError: "+e.Ju+", probeDetailDenominator: "+e.mI+", allowSwitchback"+e.Ay)):200<=t?(e.set?e.set({pipelineEnabled:!1}):e.zq=!1,this.H.trace("using sab cell >= 200, pipelineEnabled: "+e.zq)):100<=t&&(e.set?(e.set({pipelineEnabled:!0}),e.set({maxParallelConnections:1}),e.set({maxActiveRequestsPerSession:e.a8}),e.set({maxPendingBufferLen:e.A2a})):(e.zq=!0,e.RN=1,e.Fw=e.a8,e.g8=e.A2a),this.H.trace("using sab cell >= 100, pipelineEnabled: "+e.zq))),e;case 2:e=n.VSa(e,t),r=t.steeringAdditionalInfo,i=5;break;case 4:return"pplying man","ifest based streamingClientConfi","g",t=r.streamingClientConfig,this.H.trace("applying manifest based streamingClientConfig"+JSON.stringify(t)),this.oOa(e,t);case 8:return e;case 9:i=t?7:8;break;case 3:t=t.cdnResponseData,i=9}},t.prototype.Xkb=function(t,e){var i;for(i=2;9!==i;)switch(i){case 5:for(var n in this.Tmb=t,e.fka)new RegExp(n).test(t)&&(e=this.oOa(e,e.fka[n]));return e;case 2:i=e.fka&&t!==this.Tmb?5:1;break;case 1:case 6:return e}},t.prototype.oOa=function(t,e){var i,n,r;for(2;;){for(n in e)if(e.hasOwnProperty(n)){" ","key",r=e[n],t.set?0===t.set(((i={})[n]=r,i))&&this.H.trace("Invalid key"+n):t[n]=r}return t}},e=4}}(),e.FAa=t},function(t,e){var i,n;Object.defineProperties(e,{__esModule:{value:!0}}),e.BEa=e.HJa=void 0,i=function(){function t(){var t;t=this,this.dT=[],this.yVb=function(e){0<=(e=t.dT.indexOf(e))&&t.dT.splice(e,1)}}return Object.defineProperties(t.prototype,{lC:{get:function(){return 0!==this.dT.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{i4a:{get:function(){return this.dT.length},enumerable:!1,configurable:!0}}),t.prototype.add=function(){var t;return t=new n(this.yVb),this.dT.push(t),t},t.prototype.Xbb=function(t){var e;e=this.add();try{return Promise.resolve(t()).then((function(t){return e.release(),t}),(function(t){return e.release(),Promise.reject(t)}))}catch(t){return e.release(),Promise.reject(t)}},t}(),e.HJa=i,n=function(){function t(t){this.Qob=t}return t.prototype.release=function(){this.Qob(this)},t}(),t=function(){function t(t,e){this.WQb=t,this.console=e,this.counter=new i}return t.prototype.vy=function(){var t,e;return t=this,this.console.trace("Acquiring lease, total count",this.counter.i4a+1),e=this.counter.add(),{release:function(){e.release(),t.console.trace("Releasing lease, total count",t.counter.i4a),t.WQb((function(){return!t.counter.lC}))}}},t}(),e.BEa=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;Object.defineProperties(e,{__esModule:{value:!0}}),e.DEa=e.QR=void 0,n=i(2),r=i(17),o=n.__importStar(i(10)),a=n.__importDefault(i(86)),s=i(16),u=i(238),c=i(22),t=i(42),h=n.__importDefault(i(6)),f=i(826),l=i(388),(p=d=e.QR||(e.QR={}))[p.CWa=0]="forwards",p[p.Dia=1]="backwards",p[p.fO=2]="none",i=function(t){function e(e,i,n,o,a,s,u,h,f,d,p,b,v,y,g,m){var _,w,E;return(w=t.call(this,void 0,i,o,f.P,e,f,void 0,d,v,c.T.Eb(p),u.Re.bind(u),b,m,void 0,new r.EventEmitter,void 0)||this).rb=e,w.ai=n,w.mc=a,w.T1=s,w.V=u,w.nL=h,w.tg=b,w.pV=y,w.Pg=g,w.sl=m,w.active=!1,w.vNa=[],w.Qga=0,null===(_=w.P)||void 0===_||_.Cua(w),w.children=Object.create(null),w.ix=[],w.ke=void 0,void 0===v&&(v=c.T.Eb(f.Z)),E=[w.I.NQa,w.I.Mwa],d.forEach((function(t){var n;n=t.mediaType,t=new l.y0(e,w.ai,w.H,w,t,v.Y,E[n],i,w.T1,w.Pg,w.Zfa[n],null==b?void 0:b.eb(n)),w.ee.wXb(n,t)})),w.mt=w.ee.TX,w}return n.__extends(e,t),Object.defineProperties(e.prototype,{J:{get:function(){return this.P.J},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Gm:{get:function(){var t,e,i,n;return[null!==(e=null===(t=this.eb(0))||void 0===t?void 0:t.Gm)&&void 0!==e?e:0,null!==(n=null===(i=this.eb(1))||void 0===i?void 0:i.Gm)&&void 0!==n?n:0]},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{rn:{get:function(){var t,e,i,n;return[null!==(e=null===(t=this.eb(0))||void 0===t?void 0:t.rn)&&void 0!==e?e:{Y:0,fa:0},null!==(n=null===(i=this.eb(1))||void 0===i?void 0:i.rn)&&void 0!==n?n:{Y:0,fa:0}]},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{z$:{get:function(){return this.O.Z},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wta:{get:function(){return this.z$+this.Fe},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Lc:{get:function(){return this.O.Ha},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{me:{get:function(){return this.Lc+this.Fe},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{kc:{get:function(){return this.P.kc},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{weight:{get:function(){return this.O.weight},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{O:{get:function(){return this.Gp},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{el:{get:function(){return this.ee},enumerable:!1,configurable:!0}}),e.prototype.Df=function(){var e;this.Eh||(this.active=!1,this.tg&&(delete this.tg.children[this.O.id],this.tg=void 0),o.mf(this.children,(function(t){t&&t.tg&&(t.tg=void 0)})),this.children=Object.create(null),this.HK=void 0,t.prototype.Df.call(this),null===(e=this.P)||void 0===e||e.Ixa(this),this.ee.clear())},e.prototype.bva=function(t,e){switch(void 0===e&&(e=d.Dia),this.el.forEach((function(e){(o.ia(t)||e.mediaType===t)&&e.reset()})),e){case d.Dia:this.tg&&this.tg.bva(t,e);break;case d.CWa:this.children&&o.mf(this.children,(function(i){i&&i.bva(t,e)}))}},e.prototype.hW=function(t){var e,i;return!!this.active&&(!(e=this.tg)||0===(i=e.eb(t)).Pa.q5a||(e.IL(t),0===i.Pa.q5a))},e.prototype.Rd=function(t){return this.el.get(t)},e.prototype.BIb=function(){return this.el.every((function(t){return 0===t.HA}))},e.prototype.toJSON=function(){return n.__assign(n.__assign({},t.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.zd,playerEndPts:this.me,pipelines:this.el,previousBranch:this.tg})},e.prototype.d9a=function(t,e){this.P.Ixa(this),this.P=this.O.P=t,this.$va(this.P),this.P.Cua(this),this.el.forEach((function(t){var i;(i=e[t.mediaType])&&t.PY(i)}))},e.prototype.OGb=function(t){return this.sl[t]},e.prototype.eb=function(t){return this.el.get(t)},e.prototype.aHb=function(t){return this.eb(t).HA},e.prototype.Yva=function(t,e,i){var n,r,o,a;return n=this,r=this.O,o=(t=this.N3(r.Z,this.P,t,this.J===(t?t.J:this.mc.Wc.J))).EO,void 0===e&&(e=[0,1]),0===(a=t.oz).length||e.forEach((function(t){var e,o;e=n.eb(t),i&&(e.ie=a[t]),o=n.bV(r.Ha),e.L$(o[t])})),o},e.prototype.W6a=function(t,e){var i,n,r;i=this.rb,n=this.eb(0),void 0===e&&(e=n.$Jb),this.tg&&(r=this.tg.Rd(0)),i=new l.y0(i,this.ai,this.H,this,t,e,n.gP,this.I,this.T1,this.Pg,this.Zfa[0],r),this.ee.replace(n,i),this.mt=this.ee.TX,this.Yva(this.tg,[0],!0),i.KI(e,!!this.tg),n.Df(),o.mf(this.children,(function(e){e&&e.W6a(t)}))},e.prototype.Rt=function(t,e){if(e=this.eb(e))return e.Pa.Rt(t)},e.prototype.IL=function(t){void 0===t?this.el.forEach((function(t){t.IL()})):this.eb(t).IL()},e.prototype.WX=function(t,e,i){(t=this.eb(t))&&t.Pa.WX(e,i)},e.prototype.m6=function(t,e){(e=this.eb(e))&&e.Pa.m6(t)},e.prototype.zNb=function(t){this.vNa[t]=!0},e.prototype.rub=function(){var t;return t=this,[0,1].every((function(e){return!t.kc(e)||t.vNa[e]}))},e.prototype.pub=function(t,e,i,n){var r,o,a,c,f,l,d,p,b;if(r=this.I,o=this.rb,!(c=(a=this.V.getState())===s.ma.xd||a===s.ma.Of)&&void 0===i)return{Pe:!0};if(a===s.ma.Of&&h.default.time.ea()<this.Qga+r.Nra)return{Pe:!1};if(f=this.eb(0),l=this.eb(1),d=this.mc.dw(this,0),p=this.mc.dw(this,1),b=u.K9(a),d=!f||f.XRa(b,this.V.Re(),e,d,this.V.Jo(),n),p=!l||l.XRa(b,this.V.Re(),t,p,this.V.Jo(),n),void 0!==i&&d&&(i=i.trackId,t=this.P.getTrackById(i),this.clb(i,t.oE),o.Ey=void 0),d&&p)return this.nL(),this.UT=h.default.time.ea(),a===s.ma.Of&&(this.Qga=h.default.time.ea()),{Pe:!0,zt:l?l.iG:f.iG};if(d=this.Gh(0),p=this.Gh(1),c){if(o=!l||p>r.tj,(!f||d>r.tj)&&o&&(f=this.pV())>=r.vA)return this.Sb("buffering longer than limit: "+f+" >= "+r.vA+", audio buffer: "+d+" ms, video buffer: "+p+" ms"),this.nL(),this.UT=h.default.time.ea(),a===s.ma.Of&&(this.Qga=h.default.time.ea()),{Pe:!0,zt:"prebufferTimeLimit"};this.ai.Cnb()}return{Pe:!1}},e.prototype.xja=function(t,e){var i,n,r,o,a,s;if(i=this.I,n=this.eb(0),r=this.eb(1),e?(e=this.Gh(0,t),t=this.Gh(1,t)):(e=this.mc.dw(this,0,t),t=this.mc.dw(this,1,t)),o=i.tj,a=!this.kc(0)||n.Vh&&0===n.Pa.KD&&0===n.Pa.Hs,n=!this.kc(1)||r.Vh&&0===r.Pa.KD&&0===r.Pa.Hs,s=a&&n,i=!a&&e<i.tj,!s&&(i||!n&&t<o))return!1;if(r&&r.Pe||!this.kc(1))return!0;if(s){if(!this.rb.t2||0!==e||0!==t)return!0;this.Sb("playlist mode with nothing buffered, waiting for next manifest")}return!1},e.prototype.I$=function(t,e){var i,n;i=this,n=this.I,this.el.forEach((function(t){t.seeking=void 0})),t&&n.ji&&this.el.forEach((function(t){var n;t&&(n=i.mc.mG(i,t.mediaType),t="bufferingComplete: , mediaType: "+t.mediaType+", bufferLevelBytes: "+t.rn.fa+", completedMs: "+t.YL+", completedBytes: "+n+", partials: "+t.Pa.KD+", streamingPts: "+t.Ic+", completeStreamingPts: "+t.Tp+", fragments: "+JSON.stringify(t.Pa.U)+", toAppend: "+e(t.mediaType),i.ai.Bm(t))}))},e.prototype.fE=function(t,e,i){var n,r,a;return n=this,r=h.default.time.ea(),a={},o.mf(this.children,(function(t){var e,i,o,s;t&&(t.ke?(t.ke.RAb=r-t.ke.Z6,t.ke.Z6=void 0,e=t.ke.weight):e=n.mc.XYa(n.O.id,t.O.id),i=t.OC(),o=n.eb(0)&&0===i.vr,s=n.eb(1)&&0===i.$n,a[t.O.id]={weight:e,Br:i,SV:!o&&!s})})),i={Iq:r,Ue:t,Uka:i,S$:this.O.id,ke:a},t||(t=e.Re(),i.wP=t-(this.O.Z+this.Fe),i.wP=Math.max(0,i.wP),i.C4=0,i.startTime=r),this.ix.unshift(i),i},e.prototype.tvb=function(t){var e,i;return(e=this.ix[0]).Ue&&(e.wP=this.Lc-this.O.Z,e.wP=Math.max(0,e.wP)),e.oab={},i=t.OC(),a.default(i,e.oab),e.SV=t.rn.every((function(t){return 0<t.Y})),this.ix=[],e},e.prototype.Vn=function(t){var e;e=this.O,t-=this.Fe,e.Z<t&&t<e.Ha?this.ix.shift():(e=this.ix[0])&&(e.Vn=!0)},e.prototype.N3=function(t,e,i,n){var r,o,a,s;if(r=this,void 0===e&&(e=this.P),o=!1,i){if(o=!0,a=i.eb(1).Hf,i=i.eb(0).Hf,!a||!i)return{EO:[],oz:[]};a=a.Ha,n||(a=void 0)}return s=this.eWa(t,a,o,e),e.Pb===this.mc.Syb&&[1,0].forEach((function(t){var e;(e=r.eb(t))&&(e.ie=s[t])})),{EO:s.map((function(t){return t.Z})),oz:s}},e.prototype.eWa=function(t,e,i,n){var r;return r=this,void 0===n&&(n=this.P),this.nPa(n)?[1,0].map((function(o){var a;return r.kc(o)?(a=n.sh[o],o=r.eb(o).yn(a.stream,t,e,i),t=o.Z,o):{}})).reverse():[]},e.prototype.bV=function(t,e){var i;return i=this,void 0===e&&(e=this.P),this.nPa(e)?[1,0].map((function(n){var r;return i.kc(n)?(r=e.sh[n].stream,n=i.eb(n).nz(r,t),t=i.I.ah?new c.T(n.ob,r.sa.S).Y:n.Ha,n):{}})).reverse():[]},e.prototype.d1b=function(t,e){var i;(i=this.O.Ha)&&i<e&&(t=this.bV(i)),e=this.Rd(1),i=this.Rd(0),e&&e.L$(t[1]),i&&i.L$(t[0])},e.prototype.nPa=function(t){var e;return!!(e=t.sh)&&(t=e[1],t=!this.kc(1)||t&&t.stream.je,e=e[0],e=!this.kc(0)||e&&e.stream.je,!(!t||!e))},e.prototype.clb=function(t,e){this.ai.Anb(t,e)},e}(f.IEa),e.DEa=i,t.xf(r.EventEmitter,i)},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.wda=e.Lfb=void 0,n=i(2),r=n.__importDefault(i(6)),o=i(20),a=i(827),s=i(9),t=function(t,e,i){var n;this.I=e,i=s.wq(r.default,i,"["+t+"]"),this.i3a=1===t?e.F8:e.x8,n=r.default.Io()[t],this.IW=1===t?e.ZNb:e.JNb,this.IW=Math.min(e.QNb*n,this.IW),o.ga&&i.trace("This pipeline's buffer size ",n,this.IW),this.B8=(1===t?e.lA:e.Kw)||e.B8,this.e8=(1===t?e.YNb:e.INb)||e.e8,this.Wha=e.Wha},e.Lfb=t,t=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return n.__extends(e,t),e.prototype.CFb=function(t,e,i,n){var r,s,u,c,h;if(u=e===i.ie.index,!(c=e===i.Hf.index)||u&&i.ie.wa?u?((h=t.NXa(i.ie)).nP(i.ie.av),c&&(i.ie.wa||i.Hf.wa)&&h.Bk({start:null===(r=h.wa)||void 0===r?void 0:r.start,end:null===(s=i.Hf.wa)||void 0===s?void 0:s.end})):h=t.Wk(e):(h=t.NXa(i.Hf)).nP(i.Hf.av),h.bO=e+1,(r=a.PYa(i,i.Ic))&&(o.ga&&i.jn("getFragmentForRequest pts:",i.Ic,"in region:",r,"previous region:",i.dqa),a.WUa(i.H,h,r,{JKb:u,PKb:c,VKb:void 0===i.dqa||i.dqa!==r.region})),c&&(h.j2a(),h.WXb(i.gb.O)),u=t.U.cx,!(h.bO===e||null!=u&&u.c0a(e)||n||!this.Wha&&h.wa))for(++e;e<t.U.length&&e<i.Hf.index&&(h.fa<this.i3a||h.duration<this.B8)&&(1===h.stream.Wg.length||this.Rtb(t,e))&&(n=t.Wk(e),null==u||!u.c0a(e))&&!a.b0a(i,n)&&!(h.duration+n.duration>this.e8)&&!(h.fa+n.fa>this.IW);++e)h.f3(n),h.bO=e+1,o.ga&&i.jn("getFragmentForRequest: extended fragment startPts:",h.Z,"to duration:",h.duration,"size:",h.fa,"min request size:",this.i3a,"max request size:",this.IW,"min request duration:",this.B8,"max request duration:",this.e8,"edit:",h.wa);return o.ga&&i.jn("getFragmentForRequest("+e+") returning:",h,"stream:",h.stream,"firstRequestInRegion:",h.sma,"lastRequestInRegion:",h.zw,"nextIndex:",h.bO),h},e.prototype.Rtb=function(t,e){return!t.Wg.some((function(t){return e===t.Qd}))},e}(t),e.wda=t},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.y0=void 0,n=i(2),t=i(389),r=n.__importDefault(i(28)).default.Ta,o=i(368),a=i(16),s=n.__importDefault(i(6)),u=i(176),c=i(5),h=i(22),f=i(856),i=function(t){function e(e,i,n,r,o,a,c,l,d,p,b,v){return(n=t.call(this,r,l,n,r,r,o,h.T.Eb(a),c,b,!1,null==v?void 0:v.ug)||this).rb=e,n.ai=i,n.mg=d,n.Pg=p,n.Via=0,n.LC=[],n.ay=!1,n.uo.jbb=!1,n.zS=new f.EEa(r,n.Pg,l,n.H,n.mediaType,n.ai,n.Pa,n.rb),n.YLb=s.default.time.ea(),n.SLb=void 0,n.GH=l.ipa,n.e6a=s.default.time.ea(),e=(i=u.eN(l)).SD,i=i.O9,n.hTb=0===n.mediaType?e:i,n.PY(o),n}return n.__extends(e,t),Object.defineProperties(e.prototype,{ut:{get:function(){return this.Pa.ut},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{YL:{get:function(){return this.Pa.YL},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zC:{get:function(){return this.Pa.zC},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{HA:{get:function(){return this.Pa.HA},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Vh:{get:function(){return this.zS.Vh},set:function(t){this.zS.Vh=t},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Xq:{get:function(){return this.zS.Xq},set:function(t){this.zS.Xq=t},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{R7:{get:function(){return this.Vd},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{$Jb:{get:function(){return this.BNa.Y},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gP:{get:function(){return this.kl.gP},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{lHb:{get:function(){return this.rb.Uga},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Pe:{get:function(){return this.ay},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{iG:{get:function(){return this.EMa},enumerable:!1,configurable:!0}}),e.prototype.reset=function(){this.seeking=void 0,this.connected=this.Vh=!1,this.uo.reset()},e.prototype.Df=function(){this.reset(),t.prototype.Df.call(this)},e.prototype.nz=function(t,e){return o.nz(this.ak.mediaType,this.I,t,e,this.ah,this.rb.oOb)},e.prototype.yn=function(t,e,i,n){return o.yn(this.ak.mediaType,this.I,t,e,i,n)},e.prototype.Vn=function(){this.GH=this.I.ipa},e.prototype.IL=function(){this.Pa.zaa()},e.prototype.PY=function(t){var e,i;e=this.rb,i=this.mediaType,c.assert(t.mediaType===i),c.assert(t.P===this.gb.P),this.ak=t,this.gb.P.Sxa(i,t.$d),e.Bmb(this,t.cA),this.Atb(t.$d),this.ug.PY(t),this.gb.P.Ija(),this.Vh=!1},e.prototype.dma=function(t){var e;if((e=this.gb.P.sh[this.mediaType])&&e.stream.je&&-1!==(t=e.stream.U.zn(t)))return t},e.prototype.KI=function(t,e){var i,n,r;if(this.ie&&this.ie.Z===t)e=this.ie.index,i=t;else{if(!(r=(n=this.gb.P).sh[this.mediaType])||!r.stream.je)return this.cI=t,void(this.fSb=e);if(i=r.stream.U,this.ie=this.yn(r.stream,t,void 0,e),void 0===this.ie){if(e=i.length-1,i=i.Cj(e),this.Sb("setStreamingPts out of range of fragments, pts:",t,"last startPts:",i,"fragment index:",e,"fastplay:",n.sf.Vg),n.sf.Vg)return void(this.cI=t)}else e=this.ie.index,i=this.ie.Z}this.Jn=e,this.jT=i,this.cI=void 0},e.prototype.k2b=function(t){var e,i;return i="verifying streamId: "+t+" stream's track: "+((e=this.ak.ww(t))?e.Oa:"unknown")+" currentTrack: "+this.ak.trackId,!!e||(this.ai.Bm(i),this.ai.Bm("unknown streamId: "+t),!1)},e.prototype.Atb=function(t){this.TIb=t.reduce((function(t,e){return e.lu&&e.bitrate>t.bitrate?e:t}),t[0])},e.prototype.L$=function(t){this.Hf=t},e.prototype.qNb=function(t,e,i,n,r){this.uab(t,e,n,r),i&&++this.Via,this.rb.Zj()},e.prototype.qA=function(e){e.Ha&&e.Z&&(this.GH-=e.Ha-e.Z),t.prototype.qA.call(this,e)},e.prototype.tk=function(t){this.vZa(t),this.Ut(t)},e.prototype.f1b=function(t){var e;e=s.default.time.ea(),this.GH+=t*(e-this.e6a),this.e6a=e},e.prototype.dWb=function(){this.GH=this.I.ipa},e.prototype.VL=function(t){this.Pa.tja(),this.ah||this.zS.VL(t,this.Lc)},e.prototype.vZa=function(t){var e,i,n;i=this.R7,n=this.rb,this.mg.ZOa()||(this.ai.Znb(t.mediaType,t.P.Pb,t.stream.track.jC,this.Tp,this.xa),null===(e=this.ah)||void 0===e||e.MJb(t),e=i.V.Re()||0,n.zb.cy()||(i=i.eb(r.Mb))&&!i.Pe&&i.B6&&n.zb.Xna(i),this.VL(e),this.rb.uZa(t),this.mg.I1(this)&&this.mg.Zj())},e.prototype.Qsa=function(t){this.rb.y6(t)},e.prototype.XRa=function(t,e,i,n,r,o){var a,s;return s=(a=this.I).tj,!(i>=a.tj&&(a.j$&&(s=i+1e3),a.k$&&!this.connected))&&(this.ah?this.ah.Qy():!(!(i=this.Vh&&0===this.Pa.Wsa&&0===this.Pa.Hs)&&n<s)&&(i?!o||0!==n||(this.Sb("playlist mode with nothing buffered, waiting for next manifest"),!1):this.Aub(t,e,r)))},e.prototype.NXb=function(t){this.jT=t},e.prototype.I$=function(t){this.ay=!0,this.EMa=t},e.prototype.Gja=function(){this.ay=!1,this.EMa=void 0},e.prototype.Aub=function(t,e,i){return!(!this.Pe&&0!==this.mediaType)||void 0!==this.ou&&(e=this.omb(e,t),this.track.P.ym.LZ(this.track.P.W,this.track.$d),this.kl.Jta([this.ou],!1,e,this.hTb),(t=this.kl.Qy(e,t,i,this.ou,this.gb.P.aq)).complete?this.I$(t.reason):(this.Gja(),this.tD=t.tD,this.progress=t.progress),this.Pe)},e.prototype.omb=function(t,e){var i,n,r,o;return"number"!=typeof(t={ew:s.default.Io()[this.mediaType],Z:null!==(i=(o=this.Pa.m6()).zd)&&void 0!==i?i:0,Mc:t,Ic:null!==(n=o.yO||t)&&void 0!==n?n:0,lm:null!==(r=o.gU||t)&&void 0!==r?r:0,bh:o.bh,cl:o.cl,FWa:o.U.length,U:o.U}).Z?(t.Z=0,t.Ic=0):e===a.Jc.xd&&t.Mc!==t.Z&&(t.Mc=t.Z),t},e}(t.Sda),e.y0=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y;Object.defineProperties(e,{__esModule:{value:!0}}),e.Sda=void 0,n=i(2),r=i(17),o=i(828),a=i(83),s=i(829),u=i(836),c=i(243),h=i(244),f=i(9),l=i(5),d=i(22),p=n.__importDefault(i(6)),t=i(102),b=i(42),v=i(393),y=i(125),i=function(t){function e(e,i,n,a,l,d,b,y,g,m,_,w,E){var k;return(k=t.call(this,e)||this).I=i,k.Vd=l,k.ak=d,k.BNa=b,k.mmb=g,k.Rv=E,k.events=new r.EventEmitter,k.connected=!1,k.xoa=!1,k.Xl=!1,k.H=f.wq(p.default,n,"["+k.mediaType+"]"),k.Kk=k.H.error.bind(k.H),k.Sb=k.H.warn.bind(k.H),k.jn=k.H.trace.bind(k.H),k.jT=b.Y,"string"==typeof y||void 0===y?(e=0===k.mediaType&&i.xla||1===k.mediaType&&i.yla,k.jha=new h.Lea(y,i,new c.Kea(_),e)):k.jha=y,k.gn=new o.jIa(k,a,k.I,k.H,k.mediaType),k.uo=new s.SJa(k,i,k.H,k.gn,k.Vd,k.mediaType,k.Rv,(function(){return k.zj})),i.ah&&(k.ah=new u.HKa(i.ah,k.H)),m&&(k.If=null!=w?w:v.Ht(k.mediaType,k.track.P,k.I,k.H,k.gn.LDb.bind(k.gn),(function(){})),k.If.on("created",(function(){return k.events.emit("requestQueueCreated")}))),k}return n.__extends(e,t),Object.defineProperties(e.prototype,{mediaType:{get:function(){return this.ak.mediaType},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{track:{get:function(){return this.ak},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gb:{get:function(){return this.Vd},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{xa:{get:function(){return this.Vd.O.id},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Pa:{get:function(){return this.uo},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{$d:{get:function(){return this.ak.$d},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{rn:{get:function(){return this.uo.rn},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Gm:{get:function(){return this.uo.Gm},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Ic:{get:function(){return this.jT},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{U$:{get:function(){var t;return null!==(t=this.xj)&&void 0!==t?t:this.Tr},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{fU:{get:function(){var t;return null!==(t=this.Pa.fU)&&void 0!==t?t:this.U$},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Dha:{get:function(){return this.Pa.fU},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Tp:{get:function(){return this.Pa.Tp},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Uja:{get:function(){return this.Pa.Uja},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{PLb:{get:function(){var t;return null==(t=this.Pa.QLb)?void 0:t.Pd},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Aw:{get:function(){return!!this.Hf&&(this.Jn>this.Hf.index||this.jT>=this.Hf.Lc)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wl:{get:function(){return this.Aw&&0===this.uo.KD},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ut:{get:function(){return this.Pa.ut},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Rq:{get:function(){return this.xe?d.T.max(this.xe.Qa(this.jE),d.T.Gb):void 0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{KM:{get:function(){return this.gb.KM},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{HTa:{get:function(){return this.Pa.U.LU},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{kl:{get:function(){return this.jha},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ug:{get:function(){return this.kl.ug},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ou:{get:function(){return this.kl.ug.ou},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{S:{get:function(){var t,e;return null!==(e=null===(t=this.ie)||void 0===t?void 0:t.S)&&void 0!==e?e:1},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Wa:{get:function(){var t;return null===(t=this.ie)||void 0===t?void 0:t.Wa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ob:{get:function(){var t;return null===(t=this.Hf)||void 0===t?void 0:t.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zj:{get:function(){return this.gb.jg.Zf(this.S).vc},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{B6:{get:function(){return this.Pa.B6},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ex:{get:function(){return this.Pa.ex},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Cwa:{get:function(){return this.Pa.Cwa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Tr:{get:function(){return this.BNa.add(this.gb.jg)},enumerable:!1,configurable:!0}}),e.prototype.rT=function(){var t;t=this,this.uo.rT(void 0,(function(e){var i;e=(i=e[0]).fd,(i=i.index)<t.Jn&&t.mP(e,i)}))},e.prototype.reset=function(){this.Pa.reset(),this.ie&&this.mP(this.ie.fd,this.ie.index),this.If&&this.gb.P.yL(this.mediaType,this.If)},e.prototype.Df=function(){var t;this.Xl=!0,this.uo.Df(),null===(t=this.jha)||void 0===t||t.ug.Nb(),this.If&&(this.gb.P.yL(this.mediaType,this.If),y.lp.instance.oM(this.If),this.If.removeAllListeners(),this.If=void 0)},e.prototype.toJSON=function(){return{started:this.ex,startOfSequence:this.Cwa,segmentId:this.xa,requestedBufferLevel:this.Gm,viewableId:this.Vd.P.W,hasFragments:this.B6}},e.prototype.Om=function(){return this.Pa.Om()},e.prototype.mP=function(t,e){this.jT=t,this.Jn=e},e.prototype.yz=function(){return this.Pa.yz()},e.prototype.LG=function(){this.Pa.close()},e.prototype.vG=function(t){return!!(t=this.Pa.Rt(t.Y))&&t.complete},Object.defineProperties(e.prototype,{$g:{get:function(){return this.Vd.$g},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{jE:{get:function(){var t,e,i,n;return null!==(n=null!==(t=this.Pa.jE)&&void 0!==t?t:null===(i=null===(e=this.ie)||void 0===e?void 0:e.Vc)||void 0===i?void 0:i.add(this.gb.jg))&&void 0!==n?n:this.Tr},enumerable:!1,configurable:!0}}),e.prototype.vab=function(t,e){var i;return l.assert(this.If),l.assert(!this.Xl,"pipeline.tryIssueRequest on disabled pipeline"),(i=t.Y5())?this.uab(t,i,this.If,e):(t=t.pE(this.If))?{Gn:t,reason:"success"}:{Gn:t,reason:"pipelineTryIssueHeaderRequest"}},e.prototype.e7=function(t,e){t&&(this.ie=t),e&&(this.Hf=e),l.assert(this.ie),l.assert(this.Hf),l.assert(void 0===this.Jn),this.mP(this.ie.fd,this.ie.index)},e.prototype.truncate=function(t){var e;e=this,l.assert(this.ie,"expected first fragment to exist on updateStreaming"),this.Hf=t,this.Aw&&(t=n.__read(this.uo.cqb(t),2),this.mP(t[0],t[1]),this.Ur()&&(this.Pa.F8a(),this.Pa.tja(),Promise.resolve((function(){e.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:e.mediaType})}))))},e.prototype.mD=function(){return!this.Ur()&&(!!this.ri()||this.track.N8)},e.prototype.ri=function(){return void 0!==this.ie&&void 0!==this.Hf},e.prototype.Ur=function(){return this.Xl||this.Aw},Object.defineProperties(e.prototype,{c6a:{get:function(){var t;return t=!0,this.I.k$&&(t=this.connected),this.I.j$&&(t=t&&this.xoa),t},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{CRb:{get:function(){return void 0!==this.ah},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{K4a:{get:function(){var t;return null!==(t=this.ah)&&void 0!==t&&t.Qy()?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"}},enumerable:!1,configurable:!0}}),e.prototype.tk=function(t){this.gn.QPb(t),"oncomplete"===this.I.y_a&&(this.xoa=!0),this.Ut(t)},e.prototype.qA=function(t){t.ad||this.gn.Z3a(t.stream,t.Z,t.fd),this.gn.MPb(this.xa,t.stream,t.ad),this.NM(t)},e.prototype.XH=function(t){t.e3||(this.connected=!0),"onfirstbyte"===this.I.y_a&&(this.xoa=!0),this.MC(t)},e.prototype.TXa=function(t){var e,i;return 0===(e=this.Pa.U).length?{U:[],x9:0,cl:0}:(0>(i=e.JM(t.Y))&&(i=void 0===e.Z||t.Y<=e.Z?0:e.length),{U:e.ZWb(i),x9:Math.max(0,e.FSa-i),cl:e.cl})},e.prototype.uab=function(t,e,i,n){var r,o,a,s,u,c;return s=(a=this.Vd).P,u=this.mediaType,(c=this.Jn)>=e.length?(this.Sb("makeRequest nextFragmentIndex:",c,"past fragments length:",e.length),{Gn:!1,reason:"insufficientFragments"}):this.ie&&this.Hf?(e=this.mmb.CFb(t,c,this,s.Oz()),this.dqa=e.region,null===(r=this.ah)||void 0===r||r.OJb(e,t),e.uq&&1===u&&this.gn.Fga(a.O,e.Ha),this.I.SN&&(e.SN=this.I.SN),void 0!==t&&(e.location=t.location,e.Md=t.Pc,e.Pva=t.ws),(r=a.P.P$)&&(u=0===u&&this.I.xla||1===u&&this.I.yla,c=this.I.KBb&&1===this.mediaType&&this.I.zq,e.vI=u?n:void 0,e.Q$=r.Gt({Qp:a.Gh(this.mediaType),X8:this.I.FBb?this.I.X8:void 0,Y$a:String(p.default.time.ea()),jU:u?n:void 0,Lia:c?{start:e.offset,size:e.fa}:void 0})),p.default.time.ea(),(i=this.Pa.xyb(e,i,t)).oO()?(null===(o=this.ah)||void 0===o||o.aCb(i,e,t),this.gn.RPb(i),this.mP(i.Lc,e.bO),this.Ur()&&(this.Pa.F8a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType})),{Gn:!0,reason:"success"}):(this.Sb("MediaRequest.open error: "+i.ph+" native: "+i.uj),7===i.readyState?{Gn:!1,reason:"requestAborted"}:(this.Sb("makeRequest caught:",i.ph),s.Nh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure"),{Gn:!1,reason:"openAseMediaRequest"}))):(this.Sb("makeRequest delayed, first or last fragment not set","first:",!!this.ie,"last:",!!this.Hf),{Gn:!1,reason:"noFirstOrLastFragment"})},e}(a.kv),e.Sda=i,b.xf(t.kB,i),b.xf(t.rx,i)},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.k8=e.l8=void 0,n=i(2).__importDefault(i(35)).default.console,e.l8=r,e.k8=o,function(){var t;for(t=2;4!==t;)switch(t){case 1:"SI","Yb","Z","rNJCp9",e.k8=o=function(t,e,n,r){var o,a,s,u,c,h,f;for(o=2;8!==o;)switch(o){case 2:o=1;break;case 5:"en","t_","v","maf",t=i(e,h=[],(f=r.Kg).Lf),void 0!==(f=null===(s=null===(a=f.U)||void 0===a?void 0:a.cx)||void 0===s?void 0:s.VI[n])&&(-1!==(a=i(e,h,f))&&(a!==t&&(r.f3a=t,r.Kg=e[a],r.reason="min_fragment_vmaf"),null!==(c=null===(u=r.Kg)||void 0===u?void 0:u.U)&&void 0!==c&&c.get&&r.Kg.U.get(n))),o=8;break;case 1:o=!t.UW||0>=t.UW?8:5}},t=4;break;case 2:e.l8=r=function(t,e,r,o,a){var s,u,c,h,f,l,d,p;for(s=2;18!==s;)switch(s){case 5:s=o<a?4:18;break;case 6:u=r.Th[o],c=r.sizes[o],s=14;break;case 4:h=i(e,p,r.VI[o]),s=3;break;case 12:s=u&&l?11:19;break;case 11:s=l>u||l===u&&d>c?10:20;break;case 13:l=(f=e[h].U.cx).Th[o],d=f.sizes[o],s=12;break;case 9:"m","ents: inv","alid"," streams",n.error("maybeUpgradeLowVmafFragments: invalid streams"),s=18;break;case 7:s=r.Th[o]<t.UW&&h<e.length?6:19;break;case 19:o++,s=5;break;case 14:s=e[h].U?13:19;break;case 8:h+=1,s=7;break;case 1:p=[],s=5;break;case 3:s=-1===h?9:8;break;case 20:h++,s=7;break;case 10:i(e,p,f.VI[o]),r.upgrade(f,o),s=20;break;case 2:s=t.UW&&0<t.UW?1:18}},t=1}function i(t,e,i){var n,r;for(n=2;7!==n;)switch(n){case 5:n=r<t.length?4:9;break;case 1:r=0,n=5;break;case 2:n=0===e.length?1:9;break;case 4:e[t[r].Lf]=r,n=3;break;case 3:r++,n=5;break;case 9:return void 0!==(t=e[i])?t:-1}}}()},function(t,e,i){var r,o,a,s,u,c,h,f,l,d,p;Object.defineProperties(e,{__esModule:{value:!0}}),e.bx=void 0,t=i(2),r=t.__importStar(i(10)),o=i(25),a=i(101),s=t.__importDefault(i(28)),u=t.__importDefault(i(35)),c=t.__importDefault(i(843)),h=i(16),f=i(390),l=u.default.assert,d=u.default.up,e.bx=p,function(){var t;function i(t,e,i){for(2;;)return(t=new d).Kg=i[0],t}function u(t,e,i,r,a){var s;for(2;;)return n.Z4L(2),s=n.j4L(r,a,i),i=0<(i=o.Mp(t,(function(t){for(2;;)return t.bitrate>s})))?i-1:0===i?0:t.length-1,t[Math.max(e,i)]}function b(t,e,i,n,r,o,a,s,u,h,d,p,b,v,y,g,m,_,w){var E,k,O,S,T,A;function P(i,n,r){var o;for(o=2;5!==o;)if(2===o)f.l8(t,e,i,n,r),k.push(i.subarray(n,r)),o=5}for(E=2;15!==E;)switch(E){case 8:return!1;case 11:E=0<w?10:20;break;case 14:E=w?13:16;break;case 7:A||(n=i),k=[],E=14;break;case 13:w=v,E=12;break;case 17:return 0<v||0<y?c.default(r.concat(k),d+v+y,o,s,a,p,u,d,d+v,m,b,O/_,g,t.XW,t.bZ):O>i.iA?{result:!0,EW:0,St:!0}:{result:!1,EW:0,St:!0};case 10:S=Math.min(w,i.U.length-h),P(i.U.cx,h,h+S),w-=S,(h+=S)>=i.U.length&&(h=0),E=11;break;case 18:S=Math.min(w,n.U.length-h),P(n.U.cx,h,h+S),w-=S,(h+=S)>=n.U.length&&(h=0),E=19;break;case 2:" stream u","nde","fine","d";"m u","nde","fi","ned",l(i,"First stream undefined"),l(n,"Second stream undefined"),O=i.Ra,S=s-o,T=i.U&&i.U.length,A=n.U&&n.U.length,l(r.length===d),t.Sqa&&(g=Math.min(g,S)),E=9;break;case 12:S=void 0,E=11;break;case 19:E=0<w?18:17;break;case 20:w=y,E=19;break;case 9:E=!O||O<i.bitrate*_*t.Foa||!T?8:7;break;case 16:v=Math.max(0,Math.min(v,i.U.length-h)),y=Math.max(0,Math.min(y,n.U.length-h-v)),0<v&&P(i.U.cx,h,h+v),0<y&&P(n.U.cx,h+v,h+v+y),E=17}}for(t=2;5!==t;)if(2===t){"S","IYbZr","NJC","p9",e.bx=p=function(t,e,c,p,v,y,g){var m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F=n;for(m=2;30!==m;)switch(m){case 34:m=v.U&&v.U.length?33:22;break;case 27:m=K(v,c[Math.max(p-1,0)],v,L,D,!1,e.playbackRate)?26:34;break;case 23:v=o.ig(c.slice(p+1,g),(function(t,i){for(2;;)return K(t,c[p+i],_,M,R,!1,e.playbackRate)})),m=22;break;case 14:return null!==(L=(v=u(c,p,v.Ra||0,t.VVa,e.playbackRate)).U)&&void 0!==L&&L.length||(v.Y$=!0),x.Kg=v,x;case 19:m=T!==s.default.h0.tkb&&v.Ra?17:18;break;case 13:_=v,w=e.buffer.Z,E=e.buffer.Mc,k=e.buffer.Ic,O=e.buffer.lm,S=e.Qd,F.Z4L(0),g=F.j4L(E,O),T=this.ug.$0a||s.default.h0.zh,A=e.state===h.ma.Kc||e.state===h.ma.hh?e.buffer.cl:0,P=t.i8,j=t.$z?t.$z:1e3,m=10;break;case 26:m=p+1<c.length&&g>t.Zz&&(void 0===this.L7||this.pqa&&this.pqa>this.L7||k-this.L7>t.V7&&g>t.Rqa)?25:22;break;case 3:"e","r";"u","mbe","r",l("number"==typeof e.buffer.ew),l("number"==typeof e.kla),x=new d,m=7;break;case 31:v=T,m=22;break;case 25:g=t.swa&&g>=t.qya?c.length:p+2,M=q(v,S,t.Ioa),R=q(v,S+M,t.Pqa),m=23;break;case 22:x.Kg=v||_,f.k8(t,c,S,x),m=35;break;case 32:m=(v=o.ig(c.slice(0,p).reverse(),(function(t,i){for(2;;)return K(t,c[Math.max(p-i-2,0)],_,N,C,!0,e.playbackRate)})))&&v.Lf<T.Lf||!v?31:22;break;case 33:N=q(v,S,t.Hoa),C=q(v,S+N,t.Oqa),m=32;break;case 35:return x;case 18:return i.call(this,e,t,c,v);case 7:v=c[p],m=6;break;case 2:"agme","n","tInde","x";"at"," least one selected strea","m",l(!r.ia(p),"Must have at least one selected stream"),void 0===e.Qd&&(e.Qd=0),l(r.Ba(e.Qd),"invalid player fragmentIndex"),m=3;break;case 6:m=g?14:13;break;case 10:L=q(v,S,t.Goa),F.N4L(1),D=q(v,F.J4L(S,L),t.Nqa),m=19;break;case 17:v.U&&v.U.length||(v.Y$=!0),U=a.Rm.xTa(e.buffer.U),B=e.buffer.ew-U.fa,T=c[0],m=27}function q(t,e,i){for(2;;)return t.U?t.U.jka(e,i):0}function K(i,n,r,o,a,s,u){var h,f,l,d;for(h=2;20!==h;)switch(h){case 9:h=l&&!t.bZ?8:6;break;case 5:return!1;case 4:s||l||(i.Y$=!0),h=3;break;case 6:h=f>=i.bitrate*u*d?14:13;break;case 3:h=s&&l?13:9;break;case 7:case 14:return!0;case 2:f=i.Ra||0,l=i.U&&i.U.length,d=s?t.Yla:l?t.l5:t.VVa,h=1;break;case 13:return r=!t.bka||i===r||i.Pc===r.Pc&&y?0:(r=i.wb)&&r.Aj&&r.Aj.Ga?r.Aj.Ga+t.Zja*(r.Aj.aj?Math.sqrt(r.Aj.aj):0):0,(n=b(t,c,i,n,U,E+r-w,P,O-w,k-w,S,U.length,A,B,o,a,j,e.kla,e.playbackRate,!!e.K1a))&&n.result&&(x.nac=n.EW),I={m5:n&&n.result,Ra:f,bitrate:i.bitrate},n&&n.result;case 8:h=f>=Math.max(i.iA*u,i.bitrate*u*d)&&i.St?7:13;break;case 1:h=I&&!I.m5&&I.Ra>=f&&I.bitrate<=i.bitrate?5:4}}},t=5}}()},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,r){return a(!n.ia(r),"Must have at least one selected stream"),new u(r)}function h(t,e,i,r){return a(!n.ia(r),"Must have at least one selected stream"),new u(r)}n=i(10),e=i(35),r=e.console,o=e.debug,a=e.assert,s=e.tH,u=e.up,t.exports={STARTING:function(t,e,i){var n,a,c,h,f,l,d,p,b,v;for(n=new u,a=t.W8b||1,c=i.length-1;0<=c;--c){if(h=i[c],l=c,d=void 0,p=void 0,b=void 0,v=void 0,d=(f=h).id,p=f.bitrate,v=!!(b=f.Ra||0),o&&r.log("Checking feasibility of ["+l+"] "+d+" ("+p+" Kbps)"),f.lu?p>t.HW?(o&&r.log("  Above maxInitAudioBitrate ("+t.HW+" Kbps)"),0):p*t.D8/8<e.buffer.ew?v?(o&&r.log("  Have throughput history = "+v+" : available throughput = "+b+" Kbps"),p*e.playbackRate<b/a?(o&&r.log(" +FEASIBLE: bitrate less than available throughput"),1):(o&&r.log(" bitrate requires more than available throughput"),0)):(f=t.WW,e.zpa&&(f=Math.max(f,t.VW)),p<=f?(o&&r.log("  Bitrate is less than max of minInitAudioBitrate ("+t.WW+" Kbps) "+(e.zpa?" and also minHCInitAudioBitrate ("+t.VW+" Kbps)":"")),o&&r.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),1):(o&&r.log("  No throughput history"),0)):(o&&r.log("  audio buffer too small to handle this stream"),0):(o&&!f.ju&&r.log("  Not available"),o&&f.Ez&&r.log("  Failed"),0)){n.Je=c;break}s(h)&&(n.Je=c)}return n},BUFFERING:c,REBUFFERING:c,PLAYING:h,PAUSED:h}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.Ht=void 0,n=i(20),r=i(125),o=i(5),e.Ht=function(t,e,i,a,s,u){var c;return n.ga&&a.trace("AsePlaygraph.createRequestQueue()"),(c=r.lp.instance.Ht(t,e.J,!0,!1,{iz:i.iz},i)).Xg.on(c,"networkfailing",(function(){var t;n.ga&&a.trace("requestQueue OnNetworkFailing: ",c),c.k5&&(o.assert(c.$U),null===(t=e.aq)||void 0===t||t.ms(c.$U,void 0,c.ph,c.uj)),e.Om()})),c.Xg.on(c,"error",(function(){u(c.ph,c.uj)})),c.on("transportreport",s),c.xb(),c}},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.xba=void 0,n=i(2),t=i(17),r=i(20),o=n.__importDefault(i(6)),a=i(9),s=i(858),u=i(149),c=i(859),h=i(22),f=i(862),i=function(t){function e(){var e;return(e=null!==t&&t.apply(this,arguments)||this).JOa=0,e.Yga=0,e.J1=0,e.Afa=0,e}return n.__extends(e,t),e.prototype.Wua=function(e){var i,n;t.prototype.Wua.call(this,e),this.JOa++,this.Yga++,this.dPa=o.default.time.ea(),this.RK||(this.RK={Lc:e.Lc,fd:e.fd,index:e.index},this.X1||(this.X1=this.RK)),n=!1,(i=this.k2)&&100>Math.abs(i.me-e.zd)&&(this.J1+=e.me-i.me,this.Afa++,n=!0),n||(this.J1=e.Hr,this.Afa=1),this.k2=e},e.prototype.stop=function(){t.prototype.stop.call(this),this.Yga=0,this.RK=void 0},e.prototype.aYa=function(){var t,e,i,n;if(e=(t=this.ZB).p4)return(n=e.eb(this.Sg))&&n.Pa&&(i=n.Pa.Kna()),{RM:i,currentBranch:{sId:e.O&&e.O.id,cancelled:e.Eh},currentReceivedCount:t&&t.Ryb,totalReceivedCount:this.JOa,currentState:t&&t.ITa||"Uninitialized",lastRequestPushed:this.k2&&{contentEndPts:this.k2.Lc,fragmentIndex:this.k2.index},tslp:this.dPa&&o.default.time.ea()-this.dPa,cpts:this.J1,crq:this.Afa,rslp:this.Yga,firstRequestSSPushed:this.RK&&{contentStartPts:this.RK.fd,fragmentIndex:this.RK.index},firstRequestPushed:this.X1&&{contentStartPts:this.X1.fd,fragmentIndex:this.X1.index}}},e}(function(t){function e(e,i,n,r,u,l,d,p,b){var v;return(v=t.call(this)||this).Og=e,v.Sg=i,v.I=r,v.H=u,v.TB=new a.er(!1),v.SB=new a.er(h.T.Eb(-1/0)),v.H=a.wq(o.default,v.H,"AsePlayerBuffer ["+i+"]:"),v.ZB=new s.Eza(v.H,n,i),v.resume(),l&&d&&p&&(v.Lta=new c.uJa(i,u,l,v.Og,l.events,d,p,b),e=new f.vCa(null==l?void 0:l.Cu,h.T.Eb(v.I.YW),u),v.ZB.Mqb(e)),v.Og.on("requestAppended",(function(t){v.TB.set(!0),t.request.xe&&v.SB.set(t.request.xe),v.emit("requestAppended")})),v}return n.__extends(e,t),Object.defineProperties(e.prototype,{jA:{get:function(){return this.TB},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{qW:{get:function(){return this.SB},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{vKb:{get:function(){return this.ZB.Zk},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{TA:{get:function(){return this.Og.TA},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{mediaType:{get:function(){return this.Sg},enumerable:!1,configurable:!0}}),e.prototype.aYa=function(){},e.prototype.resume=function(){r.ga&&this.H.trace("resume"),this.zwa()},e.prototype.Z_a=function(t){return this.Og.sna()>t},Object.defineProperties(e.prototype,{Vrb:{get:function(){return this.zK},enumerable:!1,configurable:!0}}),e.prototype.reset=function(t){var e;void 0===t&&(t=!1),r.ga&&this.H.trace("reset"),this.stop(),this.Og.reset(t),this.TB.set(!1),this.SB.set(h.T.Eb(-1/0)),t||(this.zK=void 0),t||null===(e=this.Lta)||void 0===e||e.reset()},e.prototype.Hm=function(t){void 0===t&&(t=!1),r.ga&&this.H.trace("restart"),this.reset(t),this.zwa(!0)},e.prototype.stop=function(){r.ga&&this.H.trace("stop"),this.ZB.U9a()},e.prototype.close=function(){var t;r.ga&&this.H.trace("start"),null===(t=this.Lta)||void 0===t||t.close()},e.prototype.Nb=function(){this.stop(),this.close()},e.prototype.oX=function(){this.I.u5&&this.Og.wWa(),this.Og.gz()},e.prototype.uDb=function(t){this.Og.U3a(t,!0)},e.prototype.Li=function(t){var e;return!(null===(e=this.Lta)||void 0===e||!e.Li(t))},e.prototype.zwa=function(t){this.ZB.Zk&&!t||(this.ZB.lWb(),u.AsyncIterator.wLb(this.ZB,this.F7.bind(this)))},e.prototype.F7=function(t){t.done||this.Wua(t.value)},e.prototype.Wua=function(t){r.ga&&this.H.trace("requestReceived: "+t.toString()),this.Og.endOfStream?r.ga&&this.H.error("Buffer manager has declared EOS, ignoring request",t.toString()):(this.zK?(this.zK.TLb=t.Lc,this.zK.ULb=t.me,this.zK.c1a=t.xe):this.zK={i$b:t.fd,j$b:t.zd,TLb:t.Lc,ULb:t.me,c1a:t.xe},this.Og.Urb(t))},e}(t.EventEmitter)),e.xba=i},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.mea=void 0,n=i(2),r=i(17),o=i(9),a=i(20),s=i(72),u=o.T.Eb(1e3),t=function(){function t(t,e,i,n,a,s,c,h,f){var l,d,p;l=this,this.mediaType=t,this.console=e,this.Fa=i,this.events=a,this.Qv=s,this.Yf=c,this.j0b=h,this.So=[],this.Ysa=u.add(o.T.Eb(null!==(p=null===(d=s.rP)||void 0===d?void 0:d.Y)&&void 0!==p?p:0)),this.listeners=new r.Wh,this.listeners.on(i.V,"skipped",(function(){return l.qX()})),this.listeners.on(n,"requestAppended",(function(t){return l.jA(t.request)})),this.hT=!0,this.OU=c.AG((function(){return l.lBb()}),"Presentation Emit",f),this.V9=c.AG((function(){return l.iUb()}),"Presentation Prune")}return t.prototype.qX=function(){this.trace("skipped, scheduler clock "+this.Yf.za.currentTime.Zd()),this.hT=!0,this.OU.Hm()},t.prototype.lBb=function(){var t,e;return n.__generator(this,(function(i){switch(i.label){case 0:this.kI=this.wPb(this.hT),t=this.F3a(),i.label=1;case 1:return t?(e=this.hT?this.Fa.Ug:null==t?void 0:t.timestamp,this.trace("queuing task for "+t.lJ+" at player time "+t.timestamp.Zd()+" scheduler clock is "+this.Yf.za.currentTime.Zd()),[4,s.Jk.XP(t.timestamp)]):[3,3];case 2:return i.bd(),this.trace("executing task for "+t.lJ+" at player time "+t.timestamp.Zd()+" scheduler clock is "+this.Yf.za.currentTime.Zd()),this.hT=!1,this.aVa(t,e),this.kI++,t=this.F3a(),e=null==t?void 0:t.timestamp,[3,1];case 3:return[2]}}))},t.prototype.F3a=function(){if(void 0!==this.kI)return this.So[this.kI]},t.prototype.wPb=function(t){var e,i,n;void 0===t&&(t=!1);for(var r=t?0:null!==(e=this.kI)&&void 0!==e?e:0;r<this.So.length;r++)if(e=this.So[r],n=o.T.Eb(null!==(i=this.Qv.vta)&&void 0!==i?i:0),e.timestamp.greaterThan(this.Fa.Ug.add(n)))return t&&0<r?r-1:r;return Math.max(this.So.length-1,0)},t.prototype.iUb=function(){var t,e;return n.__generator(this,(function(i){switch(i.label){case 0:return 1<this.So.length?(t=n.__read(this.So,2),e=t[1],this.trace("queuing pruning task for "+e.lJ+" at player time "+this.Ysa.add(e.timestamp).Zd()+" scheduler clock is "+this.Yf.za.currentTime.Zd()),[4,s.Jk.XP(this.Ysa.add(e.timestamp))]):[3,2];case 1:return i.bd(),this.trace("executing pruning task for "+e.lJ+" at player time "+this.Ysa.add(e.timestamp).Zd()+" scheduler clock is "+this.Yf.za.currentTime.Zd()),this.So.shift(),this.kI&&this.kI--,[3,0];case 2:return[2]}}))},t.prototype.reset=function(){this.So=[],a.ga&&this.trace("reset"),this.hT=!0,this.J7=void 0,this.kI=0,this.V9.Hm(),this.OU.Hm()},t.prototype.close=function(){this.OU.Nb(),this.V9.Nb(),this.listeners.clear()},t.prototype.Li=function(t){var e;return a.ga&&this.trace("canSkip() "+t),0===this.So.length?(a.ga&&this.trace("canSkip false, no media sequence"),!1):(e=this.So[0]).timestamp.greaterThan(t)?(a.ga&&this.trace("canSkip false, before earliest item at "+e.timestamp),!1):void 0!==this.J7&&!this.J7.lessThan(t)||(a.ga&&this.trace("canSkip false, later than last appended at "+this.J7),!1)},t.prototype.trace=function(t){a.ga&&this.console.trace("PresentationTracker ["+this.mediaType+"] "+this.j0b+": "+t)},t.prototype.FPa=function(t,e,i){return i&&(this.J7=i),(void 0===(i=this.So.length?this.So[this.So.length-1]:void 0)||i.lJ!==t)&&(this.So.push({lJ:t,timestamp:e}),this.OU.state===s.Ym.complete&&this.OU.Hm(),this.V9.state===s.Ym.complete&&this.V9.Hm(),!0)},t}(),e.mea=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;Object.defineProperties(e,{__esModule:{value:!0}}),e.Iba=void 0,t=i(2),n=t.__importStar(i(10)),r=t.__importDefault(i(86)),o=t.__importDefault(i(6)),a=i(863),s=i(16),u=i(242),c=i(9),h=i(5),f=i(22),l=i(349),d=i(386),i=function(){function t(t,e,i,n,r,a,s,f,l,d){this.rb=t,this.ai=e,this.H=i,this.nL=n,this.I=s,this.T1=f,this.tOa=l,this.pV=d,this.Sb=this.H.warn.bind(this.H),this.jn=this.H.trace.bind(this.H),this.Dg=this.H.log.bind(this.H),this.Yh=[],this.ih={},r.Bo?(h.assert(!r.Wo),this.pfa=!0,this.qob(r,r.Bo,a)):(this.mo=this.dy(r.Wo||"",r,0,void 0,void 0,{},!0),this.mo.cs=!0,this.mo.Ha=1/0,this.P2=[this.mo]),this.Vd=this.L1(this.mo,void 0,a),this.Vd.active=!0,t=c.wq(o.default,this.H,"BranchQueue::"),this.hj=new u.x_(t),this.hj.enqueue(this.Vd),this.Rga=this.JS=void 0}return t.Mma=function(t){return"m"+t},Object.defineProperties(t.prototype,{Oz:{get:function(){return!!this.pfa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{jk:{get:function(){return this.Vd.Eh},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Yd:{get:function(){return this.mo},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{oh:{get:function(){return this.Vd.O.id},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Syb:{get:function(){return this.Vd.P.Pb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Wc:{get:function(){return this.Vd},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Kb:{get:function(){return this.Yh},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Fe:{get:function(){return this.Vd.Fe},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Pg:{get:function(){return this.rb.Pg},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{si:{get:function(){return this.JS?this.JS:this.Kb[0]},enumerable:!1,configurable:!0}}),t.prototype.Nb=function(){this.Yh.forEach((function(t){t.Df()})),this.Yh=[],this.hj.clear()},t.prototype.ue=function(t){return this.ih[t]},t.prototype.YYa=function(){return this.hj.getIterator()},t.prototype.XYa=function(t,e){var i;if(i=this.ih[t])return(t=i.Bl[e])&&t.weight;this.Sb("getSegmentWeight, unknown segment:",t)},t.prototype.hHb=function(t){var e;if(e=this.ih[t])return e.Z;this.Sb("getSegmentStartPts, unknown segment:",t)},t.prototype.gHb=function(t){var e;if(e=this.ih[t]){if(n.Ba(e.Ha)&&isFinite(e.Ha)&&n.Ba(e.Z)&&isFinite(e.Z))return e.Ha-e.Z}else this.Sb("getSegmentDuration, unknown segment:",t)},t.prototype.Hua=function(t){var e;e=-1,this.Yh.some((function(i,n){return i===t&&(e=n,!0)})),-1!==e?this.Yh.splice(e,1):this.Sb("Unable to find branch:",t,"in branches array")},t.prototype.mG=function(t,e){var i;return i=0,this.nmb(t).forEach((function(t){(t=t.Rd(e))&&(i+=t.zC)})),i},t.prototype.dw=function(t,e,i){var n;if(!t.kc(e))return 0;for(n=t.eb(e),n=i?n.Ic:n.Tp;void 0===n;){if(!t.tg)return 0;n=(t=t.tg).eb(e),n=i?n.Ic:n.Tp}return t=this.tOa.Re(),Math.max(n-t,0)},t.prototype.bma=function(t){return this.Yh.filter((function(e){if(e.P.Pb===t)return!0}))},t.prototype.cDb=function(t,e){return this.bNa(t,!1,e)},t.prototype.bDb=function(t,e){return this.bNa(t,!0,e)},t.prototype.FVb=function(t,e,i){n.mf(this.Yh,(function(n){n.P===t&&n.d9a(e,i)})),n.mf(this.ih,(function(i){i.P===t&&(i.P=e)}))},t.prototype.K7a=function(){var t;t=this,n.mf(this.Yh,(function(e){var i;i=t.rb.qh(e.P.Pb),e.kx(f.T.Eb(i.Cw))}))},t.prototype.Lq=function(t){var e;e=this,n.mf(this.Yh,(function(i){i.eb(1).track.$d.forEach((function(i){var n;n=l.cia(i.kh,i.bitrate,t,e.H),r.default(n,i)}))}))},t.prototype.Rt=function(t,e,i,n){for(var r;e;){if(r=e.Rt(t,i))return r;if(n)break;e=e.tg}},t.prototype.NTa=function(t){var e,i;return e=this,void 0===t&&(t=!1),i=this.Yh,t&&(i=i.filter((function(t){return t!==e.Vd}))),i.forEach((function(t){t.active=!1,e.hj.remove(t)})),t||this.hj.clear(),i},t.prototype.hUb=function(){for(var t;0<this.Yh.length&&((t=this.Yh[0]).eb(0),t.eb(1),t.active)&&t!==this.Vd&&t.BIb();)t.Df(),this.Yh.shift()},t.prototype.WX=function(t,e,i,n,r){if(i>n){for(i-=n;t;)t.WX(e,i,r),t=t.tg;return i}},t.prototype.X1a=function(t,e){for(var i={gU:null,yO:null,zd:null,cl:0,bh:0,U:[]};t;)t.m6(i,e),t=t.tg;return i},t.prototype.fvb=function(t){var e,i,n;(e=this.Vd).L1a?i=e.L1a:(n=this.Vd.Fe,i=this.L1(e.O,e),s.zf.forEach((function(t){var n;(n=i.Rd(t))&&(n.KI(0),t=e.Rd(t),n.L$(t.Hf))})),i.kx(f.T.Eb(n+t)),e.L1a=i),this.vK(i,e)},t.prototype.Lqb=function(e,i,n){var r,o;h.assert(!e.Oz()),this.pfa||(this.pfa=!0,this.JS=this.si,r=this.mo.id||t.Mma(0),this.mo.id=r,this.ih[r]=this.mo,this.mo.Ha=this.rb.OFb().cYa(),this.mo.QD=!0),o=void 0!==e.Wo?e.Wo:t.Mma(e.Pb),(e=this.dy(o,e,i,n,void 0,{},!0)).QD=!0,this.P2.forEach((function(t){t.Bl={},t.Bl[o]={weight:100},t.wU=o,t.bv=!1})),this.P2=[e]},t.prototype.Cr=function(t,e){var i,n,r,o;return n=(i=this.si).fE(e,this.rb.V),r=i.O,o=i.children[t],e?r.Bl[t]?i.Sk?i.Sk===t:(i.Sk=t,o&&i.x5&&this.vK(o,i),!0):(this.Vd.Sb("chooseNextSegment, invalid destination:",t,"for current segment:",r.id),!1):void 0===i.Sk&&(o?(n.B3a=!o.xja(),this.rb.Zga(void 0,d.QR.fO),i.x5=void 0,i.Sk=t,this.vK(o,i),i.LG(),this.rb.fT(),!0):(n.B3a=!0,!1))},t.prototype.XIb=function(t,e){var i,r,o,a;i=this,a=t.O,e&&!t.Sk&&(t.Sk=a.wU,t.fE(!0,this.rb.V,!0)),t.children=Object.create(null),n.mf(a.Bl,(function(e,n){t.Sk&&n!==t.Sk||(r=i.ih[n],o=i.Flb(r,t),t.children[n]=o)})),t.Sk&&(e=t.children[t.Sk])&&this.vK(e,t),t.x5=!0},t.prototype.c0b=function(){var t;return t=0,n.mf(this.Yh,(function(e){s.zf.forEach((function(i){e.kc(i)&&(i=e.Rd(i),t+=i.Pa.Jp)}))})),t},t.prototype.g_b=function(t,e){var i,n,r;i=this,(n=this.kmb(t,e))?(n!==this.Vd.O?(this.NTa(),(r=this.L1(n,this.Vd,t)).tg=void 0,r.Yva(void 0,void 0,!0),this.Lkb(this.Vd),this.vK(r,this.Vd)):this.NTa(!0).forEach((function(t){t.Df(),i.Hua(t),i.hj.remove(t)})),n===this.si.O&&(this.si.ix.shift(),r&&(r.ix=this.si.ix,r.Sk=this.si.Sk)),this.ai.o2(n,this.Vd.Fe),this.Vd.x5=void 0):this.Sb("findSegment no segment for manifestIndex:",e)},t.prototype.W1a=function(t,e){var i;i=t.O,e||(e=i.wU),t.Sk||(t.Sk=e,t.fE(!0,this.rb.V,!0)),(e=t.children[t.Sk])&&this.vK(e,t)},t.prototype.K8a=function(t,e){if(this.Vd!==t){if(e)for(e=this.Vd;e&&e!==t;)e.active=!1,this.hj.remove(e),e=e.tg;this.Vd=t}},t.prototype.Is=function(t,e){var i,n,r,o,a;i=this,this.Oz&&(n=this.I,o=(r=this.si).O,a=c.VWb(o.id),!r.Sk&&!o.bv&&r.Lc-e<=n.BD&&(this.Sb(a+"updatePts making fork decision at playerPts:",t,"contentPts:",e),this.W1a(r))),s.zf.forEach((function(t){i.Vd.kc(t)&&i.Pg[t].Is()}))},t.prototype.SPb=function(t,e){var i,n;this.Oz&&(i=this.JS,this.I.xJb&&t&&this.Rga&&t.Z===this.Rga||(t=t.Pa.gb,i&&t.O.id===i.O.id)||(n=null==(n=null==i?void 0:i.Rd(1))?void 0:n.Hf,this.Rga=null==n?void 0:n.Z,this.JS=t,this.glb(i),i=i&&i.tvb(t),this.ai.Vnb(t.O,e,i)))},t.prototype.Y8=function(t,e,i){e.cs||(e.Z=this.xYa(t,e.Z,!0),i||(e.Ha=this.xYa(t,e.Ha,!1)),e.cs=!0)},t.prototype.QP=function(t,e){var i;(i=this.ih[t])?n.mf(i.Bl,(function(t,i){t.weight=e[i]||0})):this.Sb("updateChoiceMapEntry, unknown segment:",t)},t.prototype.xYa=function(t,e,i){return(t=i?t.eWa(e):t.bV(e)).length?(e=t[1],i?e.Z:e.Ha):e},t.prototype.FNa=function(t,e,i){var n;return n=e?i.Lc:i.me,(e?i.z$:i.wta)<=t&&t<n},t.prototype.bNa=function(t,e,i){for(var r,o=this.rb,a=this.Vd;a;){if((!n.Ba(i)||o.wpa(i,a.P.Pb))&&this.FNa(t,e,a))return a;a=a.tg}if(e){a=Object.keys(this.Vd.children);for(var s=0;s<a.length;s++)if(r=this.Vd.children[a[s]],(!n.Ba(i)||o.wpa(i,r.P.Pb))&&this.FNa(t,e,r))return r}},t.prototype.Flb=function(t,e){var i,n;return i=this.L1(t,e),n=i.Yva(e,void 0,this.I.yua),s.zf.forEach((function(t){var r,o,a;i.kc(t)&&(r=i.Rd(t),o=e.Rd(t),a=n[t],1===t&&i.kx(f.T.Eb(o.Ic+e.Fe-a)),r.KI(a))})),this.ai.o2(t,i.Fe),i},t.prototype.Lkb=function(t){for(var e=[t.O.id];t.tg;)t=t.tg,e.unshift(t.O.id);this.gfa(t)},t.prototype.gfa=function(t){var e,i;e=this,i=t.O,n.mf(t.children,(function(t){t&&e.gfa(t)})),this.hj.remove(t),t.Df(),this.Hua(t),this.ai.Gga(i)},t.prototype.vK=function(t,e){var i,r,a,s;i=this,r=e.O,e.P!==t.P&&this.rb.RNa(t.P.Pb),t.active=!0,this.hj.enqueue(t),t.IL(),a=o.default.time.ea(),s={},n.mf(e.children,(function(e){var n,r;e&&(e.ke&&(n=e.Rd(0),r=e.Rd(1),e.ke.Qp=[n?n.rn.Y:0,r?r.rn.Y:0],e.ke.RAb=a-e.ke.Z6,e.ke.Z6=void 0,s[e.O.id]=e.ke),e.O.id!==t.O.id&&i.gfa(e))})),e.children=Object.create(null),e.children[t.O.id]=t,e.HK=void 0,this.K8a(t),this.ai.Tnb(t.O,s),1<Object.keys(r.Bl).length&&t.xja()},t.prototype.glb=function(t){var e,i;t&&(e=o.default.time.ea(),(i=t.ix[0])&&void 0===i.C4?i.C4=e-i.Iq:i||(this.Sb("missing metrics for branch:",t.O.id),i={S$:t.O.id,Ue:!0,C4:0,ke:{}},t.ix.unshift(i)),void 0===i.startTime&&(i.startTime=e))},t.prototype.kmb=function(t,e){var i,r,o,a;for(var s in h.assert(0<=t),this.ih)if(i=this.ih[s],this.rb.wpa(i.P.Pb,e)){if(i.Z<=t&&(1/0===i.Ha||void 0===i.Ha||t<i.Ha))return i;r=Math.min(Math.abs(t-i.Z),Math.abs(t-i.Ha)),(n.ia(o)||r<o)&&(o=r,a=i)}return a},t.prototype.dy=function(t,e,i,n,r,o,s,u,c){return e=new a.lKa(t,e,i,n,r,o,s,u,void 0,c),this.ih[t]=e},t.prototype.qob=function(t,e,i){var r,o,a;r=this,this.mo=void 0,this.P2=[],o=null,a=null,n.mf(e.segments,(function(e,s){var u,c,h,f,l;u=e.startTimeMs,c=e.endTimeMs,h={},n.mf(e.next,(function(t,i){h[i]={weight:t.weight||0,q0b:t.transitionHint||e.transitionHint,W9b:"number"==typeof t.earliestSkipRequestOffset?t.earliestSkipRequestOffset:e.earliestSkipRequestOffset}})),f=e.defaultNext,n.ia(f)&&(f=Object.keys(h)[0]),l=n.ia(f),f=r.dy(s,t,u,c,f,h,l,e.exitZones,e.transitionHint),u<=i&&(i<c||n.ia(c))?r.mo=f:u>i&&(!o||u<a)&&(o=s,a=u),l&&r.P2.push(f)})),this.mo||(this.mo=o?this.ih[o]:this.ih[e.initialSegment])},t.prototype.L1=function(t,e,i){var n,r,o,a;return n=t.P,o=(r=this.rb.qh(n.Pb)).Cw,a=[],[0,1].forEach((function(t){n.kc(t)&&a.push(r.jq(t))})),t=new d.DEa(this.rb,this.I,this.ai,this.H,this,this.T1,this.tOa,this.nL,t,a,o,e,i?f.T.Eb(i):void 0,this.pV,this.rb.Pg,this.rb.Pv),this.Mkb(t),this.Yh.push(t),t},t.prototype.Mkb=function(t){var e;function i(t){e.rb.emit(t.type,t)}e=this,t.addListener("locationSelected",i),t.addListener("logdata",i),t.addListener("serverSwitch",i),t.addListener("streamSelected",i),t.addListener("lastSegmentPts",i),t.addListener("managerdebugevent",i),t.addListener("requestCreated",(function(t){t=t.request,e.rb.cha(t.mediaType,t.Z)}))},t.prototype.nmb=function(t){for(var e=[t];t.tg;)t=t.tg,e.push(t);return e},t}(),e.Iba=i},function(t,e,i){var n,r,o;function a(t,e,i){this.PD=e,this.yl=i,this.QA=this.cW=this.bta=this.n5a=this.m5a=this.iO=this.$d=this.GSb=this.yl=this.Lm=this.Ic=this.Z=this.Ks=this.$n=this.U=this.O_a=this.KT=void 0}function s(t,e,i){this.Ha=e,this.r0a=i,this.uQa=this.Nbb=this.vr=this.$n=this.EH=this.lw=void 0}function u(t,e,i,r,o,s,u){var c;c=new a(i,e,t.yl),t.forEach((function(t){var i,r;r=(i=t.buffer).U,t.mediaType===n.Ta.Wb?c.KT=r.length?r[0].bitrate:void 0:t.mediaType===n.Ta.Mb&&(c.O_a=r.length?r[0].bitrate:void 0,c.U=r,c.$n=i.lm-i.Mc,c.Ks=i.bh,c.Z=i.Mc,c.Ic=i.Ic,c.Lm=t.Qd,c.yl=t.yl,c.GSb=e-t.yl,c.$d=t.$d,c.iO=r.filter((function(t){return c.Z<=t.Vw})).length)})),this.Dj=c,this.Nt=void 0,this.STa=r,this.$w=o,this.pRa=s,this.uua=this.a$=this.z4a=this.VA=this.DL=this.bWa=this.nx=this.$d=this.Nt=void 0,this.hrb=u,this.Cta={}}n=i(28).default,r=i(35).assert,o=i(16).ma,a.prototype.constructor=a,s.prototype.constructor=s,u.prototype.constructor=u,u.prototype.Qt=function(t,e){var i,r,a,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k;if(i=this.Dj,r=[],a=t[n.Ta.Mb],u=t[n.Ta.Wb],void 0===a||void 0===u)return!1;if(c=a.buffer,h=u.buffer,f=i.$d.filter((function(t){return t.Y5()})),void 0===c||void 0===h||void 0===f||0===f.length)return!1;l=new s(e?o[e]:"maxbitratechanged",a.Mc,e===o.Of),d=0,p=0,b=0,v=0,y=i.Z,t=t[n.Ta.Mb].Mc;for(var O=i.U,S=i.iO,T=0;T<S;T++)m=(g=O[T]).offset,_=g.offset+g.fa-1,w=g.Hr,k=(E=g.AA)+w,g&&E<=t&&k>y&&(w=g.Hr,v+=E=Math.min(w,Math.min(t,k)-Math.max(E,y)+1),d+=E/w*(_-m+1),p+=g.bitrate*E,b+=g.sb*E);return i.m5a=d,i.n5a=v,i.bta=0<v?p/v:0,i.dSb=0<v?b/v:0,i.cW||(i.cW=0,f.some((function(t,e){if(t.bitrate===i.O_a)return i.cW=e,!0}))),f.forEach((function(t){var e,n;t=t.Y5(),e=[],i.QA||(i.QA=t.zn(i.Z,void 0,!0)),l.lw||(l.lw=t.zn(l.Ha,void 0,!0),l.EH=t.length-1),i.Lm!==i.QA+i.iO&&(i.Lm=i.QA+i.iO),S=Math.min(l.EH,l.lw+1);for(var o=i.QA;o<=S;o++)n=t.get(o),e[o]=n;r.push(e)})),e===o.Of&&(l.$n=c.lm-c.Mc,l.vr=h.lm-h.Mc,l.Nbb=a.M6a,l.uQa=u.M6a),this.Nt=l,this.$d=f,this.nx=r,this.bWa=!0},u.prototype.wz=function(){var t,e,i,n,o,a,s,u,c,h,f,l,d,p;if(this.mk)return this.mk;if(t=this.VA,e=this.Dj,i=this.Nt,n=this.$d,o=this.z4a,a=this.hrb,r(void 0!==t,"throughput object must be defined before retrieving the logdata from PlaySegment"),(t.trace&&0===t.trace.length||void 0===t.timestamp)&&(i.r0a?(s=!1,u=!0):i.lw-e.QA+1<=e.iO?u=s=!0:(s=!0,u=!1),c=!0),o)for(var b=o.g7,v=o.FM,y=0;y<a.length;y++)(t=o[h=a[y]])&&t.dsa&&(u=!0);if(i={bst:e.yl,pst:e.PD,s:e.QA,e:i.lw,prebuf:e.iO,brsi:e.Lm,pbdlbytes:e.m5a,pbdur:e.n5a,pbtwbr:e.bta,pbvmaf:e.dSb},this.$w&&(i.fragmentsPrebuffered=e.U),c&&(i.nt=c),u&&(i.nd=u),b&&(i.invalid=b),v&&(i.exception=v),this.uua&&(i.rr=this.uua),this.a$&&(i.ra=this.a$),u||b||v||!this.STa&&!this.$w||(i.bitrate=n.map((function(t){return t.bitrate})),h=(t=this.VA).trace,f=[],d=0,h.forEach((function(t){t=Number(t).toFixed(0),f.push(t-d),d=t})),i.tput={ts:t.timestamp,trace:f,bkms:t.Iy}),u||c||b||v)i.feasible=s;else for(i.sols={},i.elapsed=o.fBb,y=0;y<a.length;y++){if(u={},(t=o[h=a[y]])&&t.Oq&&(u.algelapsed=t.grb,u.maxHeapTotal=t.eA,u.f=t&&t.jD||!1,u.dltwbr=t.xUa,u.dlvmaf=t.AUa,u.dlvdur=t.zUa,u.dlvbytes=t.yUa,u.dlabytes=t.vUa,(this.STa||this.$w)&&(l=t.Oq.filter((function(t){return t})).map((function(t){return t.Je})),d=0,p=[],l.forEach((function(t){p.push(t-d),d=t})),u.strmsel=p),this.$w)){for(var g in c=[],s=this.Dj.Lm,l)b=l[g],(v=this.nx[b][s]).Lf=b,c.push(v),s++;u.fragsel=c,u.streamList=this.$d,u.pause_dlnd_sec=t.Oq.filter((function(t){return t})).map((function(t){return t.Zsa})),u.buffer_sec=t.Oq.filter((function(t){return t})).map((function(t){return t.Tia})),u.buffer_kb=t.Oq.filter((function(t){return t})).map((function(t){return t.Sia})),u.buffer_frags=t.Oq.filter((function(t){return t})).map((function(t){return t.tRa})),u.elapsed_secs=t.Oq.filter((function(t){return t})).map((function(t){return t.XUa})),u.throughput=t.Oq.filter((function(t){return t})).map((function(t){return t.Ra}))}i.sols[h]=u}return this.mk=i},u.prototype.jDb=function(t){var e;if(void 0!==this.Cta[t])return this.Cta[t];for(var i=this.nx[this.Dj.cW],n=0;n<i.length;n++)if((e=i[n])&&e.Z<=t&&e.Z+e.duration>t)return this.Cta[t]=e;throw Error("findPlayingFragment: missing")},t.exports=u},function(t,e,i){var n;function r(t,e,i){this.fa=t,this.Im=e,this.quality=i}function o(t,e){this.Xqa=e,void 0===e&&(this.Xqa=!0),this.Qk=t,this.Ykb()}n=i(5).assert,r.prototype.constructor=r,r.prototype.Bz=function(){return 8*this.fa/1e3/this.Im},o.prototype.constructor=o,o.prototype.Et=function(t,e,i,n,r){void 0===e&&(e=0),void 0===i&&(i=t.mN()),void 0===n&&(n=0),void 0===r&&(r=t.Qk.length);for(var a,s=[],u=n;u<r;u++){n=[];for(var c=e;c<i;c++)a=t.Qk[u][c],n.push(a);s.push(n)}return new o(s,t.Xqa)},o.prototype.Ykb=function(){var t,e;for(e in t=this.Qk[0].length,this.Qk.slice(1))n(this.Qk[e].length===t,"expect this.chunkss[chunksIndex].length === n but got "+this.Qk[e].length+" and "+t);this.Xqa&&this.Zkb(),this.$kb()},o.prototype.mN=function(){return this.Qk[0].length},o.prototype.Zkb=function(){for(var t=0;t<this.Qk.length-1;t++)for(var e=0;e<this.mN();e++)n(this.Qk[t][e].fa<=this.Qk[t+1][e].fa,"Chunk size for epoch "+e+" is not monotonic")},o.prototype.$kb=function(){for(var t=0;t<this.Qk.length-1;t++)for(var e=0;e<this.mN();e++)n(1e-8>Math.abs(this.Qk[t][e].Im-this.Qk[t+1][e].Im),"Chunk duration for epoch "+e+" is not consistent")},o.prototype.THb=function(){var t;return t=[],this.Qk[0].forEach((function(e){t.push(e.Im)})),t},t.exports={Ydb:r,Zdb:o}},function(t,e,i){var n;function r(){}function o(t,e,i){void 0===i&&(i=!1),n(t.length===e.length,"bitrates_kbps and durations_sec must be of the same length."),n(1e-8<function(t){return t.reduce((function(t,e){return t+e}),0)}(t),"bitrate zero, won't be able to send anything."),this.rC=t,this.TUa=e,this.repeat=i,this.mm=this.Do=0}n=i(5).assert,r.prototype=Error(),o.prototype.constructor=o,o.prototype.Et=function(){var t;return(t=new o(this.rC,this.TUa,this.repeat)).Do=this.Do,t.mm=this.mm,t},o.prototype.ooa=function(){return this.rC[this.Do%this.rC.length]},o.prototype.XC=function(){return this.TUa[this.Do%this.rC.length]},o.prototype.NAb=function(t){if(n(0<t,"expect x_sec > 0.0"),!(this.repeat||0<=this.Do&&this.Do<this.rC.length))throw new r;n(this.mm<this.XC(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var e;t-=e=t<(e=this.XC()-this.mm)?t:e,this.mm+=e,!(this.mm<this.XC());)if(this.mm-=this.XC(),this.Do+=1,!this.repeat&&this.Do>=this.rC.length){if(0<t)throw new r;break}},o.prototype.k5a=function(t){this.NAb(t)},o.prototype.OAb=function(t){if(n(0<t,"expect y_kb > 0.0"),!(this.repeat||0<=this.Do&&this.Do<this.rC.length))throw new r;n(this.mm<this.XC(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var e,i=0;;){if(e=t<(e=this.XC()-this.mm)*this.ooa()?t/this.ooa():e,t-=this.ooa()*e,i+=e,this.mm+=e,this.mm<this.XC())return i;if(this.mm-=this.XC(),this.Do+=1,!this.repeat&&this.Do>=this.rC.length){if(0<t)throw new r;return i}}},t.exports={okb:o,pkb:r}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y;Object.defineProperties(e,{__esModule:{value:!0}}),e.bkb=e.oda=e.dkb=e.LKa=void 0,t=i(2),n=t.__importStar(i(10)),r=t.__importDefault(i(6)),o=t.__importDefault(i(35)).default.tH,a=t.__importStar(i(9)).wq,s=t.__importDefault(i(397)),u=i(381),c=i(214),h=i(16),f=i(25),l=i(5),d=i(99),p=i(238),i=function(){function t(t,e,i,n,r,o,a,s,u,c,h){var f;f=this,this.H=t,this.yg=e,this.I=i,this.kc=n,this.V=r,this.iP=o,this.Qb=a,this.Cb=s,this.mg=u,this.C3=c,this.MF=h,this.K2=[],this.hha=[],this.$Na=[],this.zMa=void 0,[0,1].forEach((function(t){f.kc(t)&&(f.K2[t]=new y(f.H,t),f.hha[t]=new b(t),f.$Na[t]=new v(t))})),this.Cbb=new d.rF(this.H),this.dB=d.CC(this.I,this.Cbb),this.tia=d.BC(),this.yF=void 0}return Object.defineProperties(t.prototype,{Kf:{get:function(){return this.K2},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{RA:{get:function(){return this.hha},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Jw:{get:function(){return this.$Na},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ey:{get:function(){return this.zMa},set:function(t){this.zMa=t},enumerable:!1,configurable:!0}}),t.prototype.Lq=function(t,e){this.Cbb.Lq(t,e)},t.prototype.Wqa=function(t){var e,i,o,a,s,u;return e=this.I,i=t.mediaType,o=r.default.Io()[i],a=e.I1b?0===i?e.ET:e.RZ:1===i?e.ET:e.RZ,s=this.V.getState(),u=this.V.Re(),e=t.Pa.gb,o={ew:o,Z:(i=this.C3.X1a(e,i)).zd,Mc:u,Ic:i.yO||u,lm:i.gU||u,bh:i.bh,cl:i.cl,FWa:i.U.length,U:[]},void 0===(a={state:s,sq:this.V.sq(),Qd:t.Jn,buffer:o,kla:a,K1a:!!this.iP.DW,wM:!!this.iP.ns,Jp:this.Qb&&this.Qb.Jp,b$:t.lHb,playbackRate:this.V.Jo()}).Qd&&(a.Qd=t.dma(o.Ic)),a.UT=e.UT,o.U=i.U,n.Ba(o.Z)?t.seeking&&o.Mc!=o.Z&&(o.Mc=o.Z):(o.Z=0,o.Ic=0),this.yg.vub(a),this.yg.Kqb(a),a},t.prototype.wja=function(t,e,i){for(var n,r,a=(t=this.K2[t]).maxBitrate,s="manifest",u=0,c=e.length-1;0<=c;c--){if(r=(n=e[c]).bitrate,o(n)){u=Math.max(u,r);break}this.I.bZ&&!n.St?s="bc":n.ju?n.Ez&&(s="hf"):s="av"}void 0!==a&&u===a||(t.maxBitrate=u,this.Cb.NPb(a,u,s,i))},t.prototype.jHb=function(t){return this.Xna(t).Lf},t.prototype.Xna=function(t){var e,i,r,o,a,s,c,d,b,v,y,g,m,_,w,E,k;if(e=this.I,r=1==(i=t.mediaType),o=0,a=this.K2[i],s=this.hha[i],!a.If)return{Lf:void 0};if(c=this.Wqa(t),b=(d=t.ug).ou,v=t.R7.P,y=t.track.$d,!v.ym.LZ(v.W,y))return t.Kk("location selector did not find any urls"),{Lf:void 0};g=p.K9(c.state),m=r?this.dB:this.tia;try{_=m.wn(y,g)}catch(t){this.H.error("StreamFilters: filterStreams: "+t),_=[y[0]]}if(0===_.length&&(this.H.error("StreamFilters: empty list"),_=[y[0]]),this.MF.Jr&&(t.LC.length!==_.length||0<f.vt(t.LC,_).length||0<f.vt(_,t.LC).length)){try{this.yF&&this.aDb()}catch(t){this.Cb.Kn("Hindsight: Error when handling maxbitrate chagned: "+t)}t.LC=_}g=b?b.Lf:a.uma;try{b&&(o=b.bitrate,b&&d.track&&!b.track.equals(d.track))&&(w=_[u.gma(_,o)||0],b.bitrate===w.bitrate&&1!==i||(c.state=h.ma.zh),b=w,g=y.indexOf(w))}catch(t){this.H.error("StreamFilters: track change: "+t)}if(!r&&(!((o=e.FP)&&0<o.length)&&g&&y[g]&&b&&b.location===y[g].location))return{Lf:g};try{if(E=this.yg.eN(i),!(k=t.kl.Gva(c,_,void 0,E,a.If.config.Rw,v.aq)))return t.Kk("stream selector did not find a stream"),{Lf:void 0}}catch(t){this.H.error("StreamFilters: stream selector: "+t),k={Je:0}}if(k.Je=y.indexOf(_[k.Je]),this.iP.ns&&this.iP.ns.Oqb(t.mediaType,k,y),r&&this.wja(i,_,t.Ic),_=(b=y[c=k.Je]).bitrate,c!=g&&(r&&e.yM&&this.mg.rMa(t,_),r||this.yg.jP(_)),n.Ba(a.uma)||(a.uma=c),t.Pe||(k.Pe?(l.assert(void 0!==k.D3),t.I$(k.D3),s.zt=k.D3):(t.tD=k.tD,t.wI=k.wI,t.progress=k.progress)),this.cy(),r)if(k.ez)v.kP(k.ez);else if(!v.A6()&&!e.A9a)for(t=0;t<y.length;++t)if((e=y[t]).lu&&!v.Xk(i,e.Oa)){v.kP([e.Oa]);break}return k.QQa&&this.Cb.UPb(k.QQa),{Oa:b.Oa,Lf:c,xu:k.xu}},t.prototype.cy=function(){var t,e,i,n,r,o;return i=this.Kf[0],n=this.Kf[1],r=this.RA[1],o=this.RA[0],(i=this.C3.Wc.pub(null!==(t=null==n?void 0:n.Eu)&&void 0!==t?t:0,null!==(e=null==i?void 0:i.Eu)&&void 0!==e?e:0,this.Ey,this.iP.zO)).zt&&(this.iP.Pm&&r?r.zt=i.zt:o&&(o.zt=i.zt)),i.Pe},t.prototype.ama=function(t,e){var i,n,r,o;if(i=this,this.yF)return n=this.yF,r=this.V.Re(),o=[],e&&(r=e.Ha),c.zf.forEach((function(e){var n,a;(n=i.C3.Wc.Rd(e))&&((a=i.Wqa(n)).mediaType=e,a.Mc=r,t===h.ma.Of&&(a.M6a=n.Pa.Zha(r)),o[e]=a)})),n.bWa||n.Qt(o,t)||this.ava(),n},t.prototype.aDb=function(){var t,e;t=this.yF,e=this.I,t&&(this.ama(void 0),t&&!t.DL&&this.yg.gua.Pla(t)),this.pTa(e)},t.prototype.ava=function(){this.yF=void 0},t.prototype.j1b=function(t){var e,i,n;e=t.oldValue,t=t.newValue,i=this.yF,n=this.I,t===h.ma.Kc&&e!==h.ma.Kc?(i&&this.H.warn("override an existing play segment!"),this.pTa(n,e,!0)):t!==h.ma.Kc&&e===h.ma.Kc&&i&&(this.ama(t),i&&!i.DL&&this.yg.gua.Pla(i),this.ava())},t.prototype.pTa=function(t,e,i){var n,o,a;n=this,o=[],c.zf.forEach((function(t){var e,a,s;(e=n.C3.Wc.Rd(t))&&(a=n.Wqa(e),i?(s=n.Kf[t]).uwa?(a.yl=s.uwa,s.uwa=void 0):a.yl=s.yl:a.yl=r.default.time.ea(),a.$d=e.LC,a.mediaType=t,o[t]=a)})),a={Q8b:(a=r.default.Io())[0],Abb:a[1],Bac:t.D2a,gA:t.gA},this.yF=new s.default(o,r.default.time.ea(),e,this.MF.QU,t.$w,a,t.J6)},t}(),e.LKa=i,b=function(){function t(t){this.mediaType=t,this.WT=this.rw=this.Jz=this.zt=this.Kz=void 0}return t.prototype.n1b=function(t,e,i){this.Kz=t||this.Kz,this.zt=this.zt,this.Jz=e||this.Jz,this.rw=i||this.rw},t}(),e.dkb=b,v=function(t){this.mediaType=t,this.jqa=this.qqa=this.lqa=this.AH=void 0},e.oda=v,y=function(t,e){this.mediaType=e,this.H=a(r.default,t,"["+e+"]"),this.Kk=this.H.error.bind(this.H),this.Sb=this.H.warn.bind(this.H),this.jn=this.H.trace.bind(this.H),this.Dg=this.H.log.bind(this.H),this.H.debug.bind(this.H),this.uma=this.yl=this.xo=this.If=void 0,this.MX=this.Eu=0,this.YP=!1,this.maxBitrate=void 0},e.bkb=y},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b;function v(){}function y(t,e){var i,u,c,h;i=n.gd(e)?e:v,this.I=t||{},function(t,e,i){this.Wj[t].De[e]=i}.bind(this),function(t,e){return this.Wj[t].De?this.Wj[t].De[e]:void 0}.bind(this),this.on=this.addEventListener=p.addEventListener,this.removeEventListener=p.removeEventListener,this.emit=this.Va=t.$9b?p.Va:v,u=a.Rxb(t),c=this.I.dailyDiskCacheWriteLimit,u?(this.Hv=u,h=function(t,e){var i,n,r;return i={},n=t.partitions.reduce((function(t,e){return t+e.capacity}),0),r=e/n,t.partitions.map((function(t){var e;e=t.key,i[e]={},i[e].ew=Math.floor(r*t.capacity),i[e].Tyb=t.dailyWriteFactor||1,i[e].ybc=t.owner,i[e].mCb=t.evictionPolicy})),i}(t.Pac||b,a.iFb()),this.uy=function(t){return!n.ia(h)&&null!==h&&void 0!==this.Wj[t]&&!n.ia(h[t])},h?(this.Wj={},e=r.Promise.all(Object.keys(h).map((function(e){return new r.Promise((function(i,n){var r;(r=h[e]).rbb=t.rbb,new s(e,u,r,(function(t,e){t?n(t):i(e)}),c)}))}))).then(function(t){return t.map(function(t){var e;e=t.Ov,this.Wj[e]=t,h[e].PDb=h[e].ew-t.ty,this.Wj[e].on(s.Le.REPLACE,function(t){(t=t||{}).partition=e,t.type="save",this.Va("mediacache",t)}.bind(this)),this.Wj[e].on(s.Le.gMa,function(t){(t=t||{}).partition=e,t.type="save",this.Va("mediacache",t)}.bind(this)),this.Wj[e].on(s.Le.Mf,function(t){(t=t||{}).partition=e,t.type=s.Le.Mf,this.Va("mediacache-error",t)}.bind(this))}.bind(this)),this}.bind(this)).then(function(t){return function(t,e,i){t.query(e,"",(function(n,r){n||Object.keys(r).filter((function(t){return 0>i.indexOf(t.slice(0,t.indexOf(".")))})).map((function(i){t.remove(e,i,v)}))}))}(u,r.storage.AR,Object.keys(h)),t}.bind(this)).then(function(t){Object.keys(t.Wj).map((function(e){t.Wj[e].lna().map((function(i){t.delete(e,i)}))})),t.En=!0,i(null,t)}.bind(this)).catch(function(t){o.error("Failed to initialize media cache ",t),this.rH=l.TAa,i(this.rH,this)}.bind(this)),d.Uw(e)):(this.rH=l.Sgb,i(this.rH,this))):(this.rH=l.TAa,i(this.rH,this))}function g(t,e,i,a,s,u){var c;c=u?"mediacache-error":"mediacache",e={partition:i,type:e,resource:a,time:r.time.now()},u&&(e.error=u),s&&(n.Ba(s.duration)&&(e.duration=s.duration),n.Ba(s.Ky)&&(e.bytesRead=s.Ky));try{t.Va(c,e)}catch(t){o.warn("caught exception while emitting basic event",t)}}function m(t,e,i,n,a){var s;s=a?"mediacache-error":"mediacache",e={partition:i,type:e,resources:n,time:r.time.now()},a&&(e.error=a);try{t.Va(s,e)}catch(t){o.warn("caught exception while emitting basic event",t)}}function _(t){return!u.BN(t)&&!h.OKb(t)}function w(t,e,i){var n,o;function a(e){t.delete(n,(function(n){n?i(n):(delete t.De[o],n=Object.keys(e.resourceIndex),n=r.Promise.all(n.map((function(e){return new r.Promise((function(i,n){t.delete(e,(function(t){t?n(t):i(e)}))}))}))).then((function(){i()}),(function(t){i(t)})),d.Uw(n))}))}u.BN(e)?(n=e,o=u.j5(e)):(n=u.lka(e),o=e),(e=t.De[o])?a(e):t.read(n,(function(t,e){t?i(t):a(e)}))}function E(t,e,i){return i?h.rAb(t,e).reduce((function(t,e){return Object.keys(e).map((function(i){t[i]=e[i]})),t}),{}):((i={})[t]=e,i)}n=i(10),r=i(127),o=new r.Console("MEDIACACHE","media|asejs"),a=i(877),s=i(878),u=i(402),c=i(128),h=i(885),f=i(886),l=i(249),d=i(250),p=i(403).EventEmitter,b={Dbc:[]},y.prototype.YX=function(t,e,i){var r;r=n.gd(i)?i:v,this.uy(t)?this.Wj[t].query(e,(function(t,e){t?(o.error("Failed to query resources",t),r([])):r(e.filter(_))})):r([])},y.prototype.read=function(t,e,i){var r,o,a,s;r=n.gd(i)?i:v,this.uy(t)?(o=this.Wj[t],a=o.De[e],!u.BN(e)&&this.I.lOb?(s=function(i){o.Z9(Object.keys(i),function(i,n,o){i?r(l.jK.Uq("Failed to read "+e,i)):(g(this,"read",t,e,o),r(null,h.hKb(n)))}.bind(this),i)}.bind(this),a?s(a.resourceIndex):this.wUb(t,e,(function(t,i){t?r(l.jK.Uq("Failed to read "+e,t)):s(i.resourceIndex)}))):o.read(e,function(i,n,o){i?r(l.jK.Uq("Failed to read "+e,i)):(a&&a.convertToBinaryData&&(n=f.Vvb(n)),g(this,"read",t,e,o),r(null,n))}.bind(this))):r(l.sB)},y.prototype.Z9=function(t,e,i){var o,a;o=n.gd(i)?i:v,this.uy(t)?(a={},e=r.Promise.all(e.map(function(e){return new r.Promise(function(i,n){this.read(t,e,(function(t,r){t?((r={})[e]=t,n(r)):(a[e]=r,i())}))}.bind(this))}.bind(this))).then((function(){o(null,a)}),(function(t){o(t)})),d.Uw(e)):o(l.sB)},y.prototype.f8a=function(t,e,i){var a;a=n.gd(i)?i:v,this.uy(t)?"[object Object]"!==Object.prototype.toString.call(e)?a(l.v1.Uq("items must be a map of keys to objects")):(i=new r.Promise(function(i){var n,r;n=this.Wj[t].lna(),r=Object.keys(e),(n=n.filter((function(t){return-1===r.indexOf(t)})))&&0<n.length?this.gUa(t,n,(function(){i()})):i()}.bind(this)).then(function(){return r.Promise.all(Object.keys(e).map(function(i){return new r.Promise(function(n,r){this.save(t,i,e[i].Kq,e[i].Gc,(function(t,e){t?(o.error("Received an error saving",i,t),r(t)):n(e)}),!0)}.bind(this))}.bind(this)))}.bind(this)).then(function(i){var o,s,u;try{o=Number.MAX_VALUE,s=Number.MAX_VALUE,u=i.reduce((function(t,e){return e.An&&e.An<o&&(o=e.An),e.jM&&e.jM<s&&(s=e.jM),o<Number.MAX_VALUE&&(t.freeSize=o),s<Number.MAX_VALUE&&(t.dailyBytesRemaining=s),n.Ba(e.Ok)&&(t.bytesWritten+=e.Ok),n.Ba(e.duration)&&(t.duration+=e.duration),t}),{partition:t,type:"saveMultiple",keys:Object.keys(e),time:r.time.now(),bytesWritten:0,duration:0}),this.Va("mediacache",u),a(null,u)}catch(t){a(err)}}.bind(this),function(e){n.isArray(e.YPa)?e.YPa.forEach(function(e){this.Va("mediacache-error",{partition:t,type:"saveMultiple",error:e.error,resources:e.resources})}.bind(this)):this.Va("mediacache-error",{partition:t,type:"saveMultiple",error:e}),a(e)}.bind(this)),d.Uw(i)):(n.gd(i)?i:v)(l.sB)},y.prototype.save=function(t,e,i,a,s,h){var d,p,b,y,_,w,k,O,S;d=n.gd(s)?s:v,this.uy(t)?(p=this.Wj[t],b=u.lka(e),s=(s=p.lna()).filter((function(t){return t!==e})),n.ia(a)||n.Bb(a)||!n.Ba(a.lifespan)?d(l.qhb):(y=E(e,i,this.I.lOb),(w=(_=p.De[e]||{}).resourceIndex)&&Object.keys(w).map((function(t){n.ia(y[t])&&p.delete(t)})),a.convertToBinaryData&&(i=f.Wvb(y),y=E(e,i,!1)),w=r.time.now(),(k={}).partition=t,k.resourceIndex=Object.keys(y).reduce((function(t,e){return t[e]=c.joa(y[e]),t}),{}),k.creationTime=_.creationTime||w,k.lastRefresh=w,k.lifespan=a.lifespan,k.lastMetadataUpdate=w,k.size=_.size,k.convertToBinaryData=a.convertToBinaryData,O=function(t,i,r){t.Lzb(function(a,s){a&&o.error("Evicting","Failed to delete some orphaned records",a),s.Aua?r():(a=t.uFb())?this.delete(t.Ov,a,function(o){o?(h||(n.isArray(i)?i.forEach(function(e){m(this,"save",t.pGb,e.resources,e.error)}.bind(this)):g(this,"save",t.Ov,e,void 0,i)),d(i)):r()}.bind(this)):d(l.DJ)}.bind(this))}.bind(this),S=function(){var t,e,i;if(t=this.Wj,e=0,i=r.time.now(),!n.ia(t))for(var o in t)e+=t[o].KEb(i);return e}.bind(this),this.gUa(t,s,function(){p.replace(b,k,function(r,o){o?(p.De[e]=u.Ima(k),p.GVb(y,function(t,e,i,r,o,a,s,u,c,h,f){return function(d,p){d?n.isArray(d)?(p=d.map((function(t){return t.error}))).some((function(t){return t.code===l.DJ.code}))&&!p.some((function(t){return t.code===l.w1.code}))?f(h,d,(function(){c.save(e,i,r,o,a,s)})):(h.delete(u),delete h.De[i],a({error:d[0].error,yu:d[0].yu,type:d[0].type,YPa:d})):a({error:d,yu:e,type:"save"}):(d=p.items.filter((function(e){return 0<=Object.keys(t).indexOf(e.key)})).reduce((function(t,e){return t+e.D7}),0),h.De[i].$8a(d),d={PDb:p.An,E9b:p.jM,Ok:0,items:p},0<p.Ok&&(d.Ok=p.Ok),0<p.duration&&(d.duration=p.duration),a(null,d))}}(y,t,e,i,a,d,h,b,this,p,O),h,S)):r.code===l.DJ.code?O(p,r,function(){this.save(t,e,i,a,d,h)}.bind(this)):d(r)}.bind(this),h,S)}.bind(this)))):d(l.sB)},y.prototype.delete=function(t,e,i){var r;r=n.gd(i)?i:v,this.uy(t)?w(this.Wj[t],e,function(i){g(this,"delete",t,e,void 0,i),r(i)}.bind(this)):r(l.sB)},y.prototype.gUa=function(t,e,i){var a,s;a=n.gd(i)?i:v,this.uy(t)?(s=this.Wj[t],i=r.Promise.all(e.map(function(t){return new r.Promise(function(e){w(s,t,function(i){e({$:n.ia(i),error:i,Kq:t})}.bind(this))}.bind(this))}.bind(this))).then(function(e){for(var i,n,r=[],s=[],u=[],c=0;c<e.length;c++)(i=e[c]).$?r.push(i.Kq):i.error&&s.push(i);0<r.length&&m(this,"delete",t,r),0<s.length&&(u=s.map((function(t){return t.Kq})),n=(e=d.sZa(s))[0],e.forEach(function(e){o.error("Failed to delete resources ",e.error,e.resources),m(this,"delete",t,e.resources,e.error)}.bind(this))),(e={}).Tbc=r,0<u.length&&(e.Ubc=u),a(n||void 0,e)}.bind(this),function(i){m(this,"delete",t,e,i),a(i)}.bind(this)),d.Uw(i)):a(l.sB)},y.prototype.clear=function(t,e){var i;i=n.gd(e)?e:v,this.uy(t)?this.Wj[t].clear((function(t){i(t.filter(_))})):i(l.sB)},y.prototype.wUb=function(t,e,i){var r,o;r=n.gd(i)?i:v,this.uy(t)?(o=this.Wj[t]).read(u.lka(e),(function(t,i){var a;t?r(l.rhb):(a=u.Ima(i)||{},o.FYa(Object.keys(a.fva),(function(t){a.size=t,(t=o.De[e])&&(a.lastMetadataUpdate&&t.lastMetadataUpdate&&t.lastMetadataUpdate<=a.lastMetadataUpdate?o.De[e]=a:t.lastMetadataUpdate&&(t.lastMetadataUpdate>a.lastMetadataUpdate||n.ia(a.lastMetadataUpdate))&&(a=t)),r(null,a)})))})):r(l.sB)},y.prototype.constructor=y,t.exports=y},function(t,e,i){var n,r;function o(t,e,i,n,r,o){return new s(t,e,i,n,r,o)}function a(t){return t&&0<=t.indexOf(".__metadata__")}function s(t,e,i,n,r,o){return this.partition=t,this.lifespan=i,this.resourceIndex=e,this.size=n,this.creationTime=r,this.lastRefresh=o,this.fab()}n=i(10),r=i(127),i(128),new r.Console("MEDIACACHE","media|asejs"),s.prototype.refresh=function(){return this.lastRefresh=r.time.now(),this.fab()},s.prototype.$8a=function(t){this.size=t},s.prototype.JSa=function(){var t;return t=r.time.now(),(this.lastRefresh+1e3*this.lifespan-t)/1e3},s.prototype.fab=function(){return this.lastMetadataUpdate=r.time.now(),this},s.prototype.constructor=s,t.exports={create:o,Ima:function(t){var e;if(e=t,"string"==typeof t&&(e=JSON.parse(t)),e&&e.partition&&!n.ia(e.lifespan)&&e.resourceIndex&&e.creationTime&&e.lastRefresh)return t=o(e.partition,e.resourceIndex,e.lifespan,-1,e.creationTime,e.lastRefresh),e.lastMetadataUpdate&&(t.lastMetadataUpdate=e.lastMetadataUpdate),!n.ia(e.size)&&0<=e.size&&t.$8a(e.size),t.JSa(),t.convertToBinaryData=e.convertToBinaryData,t},lka:function(t){return t+".__metadata__"},j5:function(t){return a(t)?t.slice(0,t.length-13):t},BN:a}},function(t,e,i){t.exports={EventEmitter:i(881),Wh:i(882)}},function(t){t.exports="4.1.1819"},function(t,e,i){var n,r,o;function a(t){return t.Cs-t.Er}function s(t,e){return Math.exp(-Math.log(2)/t*e)}function u(t,e){return t=Math.log(2)*e/t,(1-Math.exp(-t))/t}function c(t,e){return t=Math.log(2)/t.N6a,h(e)*Math.exp(-t*a(e))}function h(t){var e;return(null!==(e=t.gH)&&void 0!==e?e:1)*t.$g.reduce((function(t,e){var i;return i=e.dD,t*(e.Ue+(void 0===i?0:i))}),1)}function f(t){return t.$g.filter((function(t){return!t.dD})).reduce((function(t,e){return t*e.Ue}),1)}Object.defineProperties(e,{__esModule:{value:!0}}),e.ija=e.NRa=e.Jtb=e.MRa=e.Ntb=void 0,n=i(16),r=i(5),o=i(20),e.Ntb=a,e.MRa=function(t,e,i){var h,l,d,p,b,v,y,g;return!t.R4||n.No(e.Cf)?c(t,e):(l=t.N6a,t=a(e),d=function(t){var e,i,n,r;return 0===t.$g.length?0:(i=0,1>t.RX&&(i=t.Ota,n=t.Nta,r=null!==(e=t.$g[0].duration)&&void 0!==e?e:0,i=Math.max(0,Math.min(r,i-(n-r)))),t.$g.reduce((function(t,e){return t+(void 0===(e=e.duration)?0:e)}),0)-i)}(e),p=f(e),b=function(t,e){var i,n,o,a,c;return i=e.Ota,n=e.Nta,o=e.RX,0===e.$g.length?{d3:!1}:(e=(a=e.$g[0]).Ue,c=a.dD,a=a.duration,c&&1!==o?(r.assert(a,"duration should be defined when immediate probability is included in probabilities array"),r.assert(0<o,"presenting segment seamless probability cannot be zero"),i<(n-=a)?{d3:!1}:(c=c*(1-(i=o+(n=i-n)/a*(1-o)))/(1-o),t=e*i/o*s(t,a-=n)+c*u(t,a),r.assert(1>=t),{d3:!0,Zqb:t})):{d3:!1})}(l,e),v=b.d3,b=void 0===(b=b.Zqb)?1:b,y=1>e.LA?function(t){var e,i,n,o,a;return e=t.Hr,i=t.d$a,n=t.LA,o=t.Cs,a=t.Er,t=t.qWa,r.assert(void 0!==i),r.assert(void 0!==e),n=1-n,o-=a,t?(e-=t,0>=(a=i-t-o)?t=Math.max(0,(i-t)/e):(t=0<(i=e-a)?o/i:0,n*=0<i?i/e:1)):0>=(a=i-o)?t=i/e:(t=0<(i=e-a)?o/i:0,n*=0<i?i/e:1),r.assert(0<=t),r.assert(1>=t),r.assert(0<=n),r.assert(1>=n),1-t*n}(e):1,g=(null!==(h=e.gH)&&void 0!==h?h:1)*p*s(l,t-d)*b*y*e.$g.filter((function(t,e){return t.dD&&(0<e||!v)})).reduce((function(t,e){var i,n;return i=e.dD,n=void 0===(n=e.duration)?0:n,i=void 0===i?0:i,t*(e=e.Ue*s(l,n)+i*u(l,n))}),1),o.ga&&(null==i||i.log("{"+e.groupId+"} ["+e.mediaType+"] calculateStreamablePriority: sp: "+e.LA+", pssp: "+e.RX+", streamingDuration: "+e.d$a+", duration: "+e.Hr+", seamlessProbability: "+p+", distance: "+t+", immediateDistance: "+d+", risk:"+s(l,t-d)+", adjustedFirstTerm: "+b+", streamingAdjustment: "+y+", probabilities: "+JSON.stringify(e.$g)+" => "+g)),g)},e.Jtb=c,e.NRa=h,e.ija=f},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.hea=void 0,n=i(2),r=i(17),o=i(9),a=i(5),s=i(16),t=function(){function t(){this.qO=[],this.TB=new o.er(!1),this.SB=new o.er(o.T.Eb(-1/0)),this.events=new r.EventEmitter}return Object.defineProperties(t.prototype,{hx:{get:function(){},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{playbackRate:{get:function(){return this.Jo()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{jA:{get:function(){return this.TB},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{qW:{get:function(){return this.SB},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{TA:{get:function(){return!1},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{vm:{get:function(){return this.nN},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ug:{get:function(){return this.WM()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{nj:{get:function(){var t,e;return t=this.Ug,e=this.js(t),a.assert(e,"Could not find current branch for "+t.Y),e},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{YJb:{get:function(){return this.Kb[0]},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{wH:{get:function(){return this.nN?this.Kb[this.Kb.length-1]:void 0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{si:{get:function(){var t,e;return t=this.Ug,e=this.H5(t),a.assert(e,"Could not find presenting branch for "+t.Y),e},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{nN:{get:function(){return 0<this.Kb.length},enumerable:!1,configurable:!0}}),t.prototype.yZa=function(t){return-1!==this.Kb.indexOf(t)},t.prototype.q3=function(){return void 0===this.pa},t.prototype.Nb=function(){},t.prototype.OV=function(t){var e,i,n;if(0!==(e=this.Kb.filter((function(e){return e.O.id===t.xa}))).length)return i=this.WM(),n=new o.T(1/0,1),e.forEach((function(e){e=e.gI.add(t.offset),i.rUa(e).lessThan(i.rUa(n))&&(n=e)})),n},t.prototype.js=function(t){var e,i;if(e=this.H5(t))return{xa:(i=e.O).id,offset:t=t.Qa(i.Mg.add(e.jg))}},t.prototype.reset=function(){},t.prototype.vY=function(){},t.prototype.pause=function(t){void 0===t&&(t=s.zf),this.qO=null==t?void 0:t.reduce((function(t,e){return-1===t.indexOf(e)&&t.push(e),t}),this.qO)},t.prototype.resume=function(t){var e;e=this,void 0===t&&(t=s.zf),t.forEach((function(t){-1!==(t=e.qO.indexOf(t))&&e.qO.splice(t,1)}))},t.prototype.qxa=function(t){var e;return a.assert(this.pa),a.assert(t!==this),this.TI(),(e=t.q3(this.pa,this))&&(t.pause(this.qO),t.Hla.apply(t,n.__spread(this.Kb)),this.$ka(this.pa)),e},t.prototype.WM=function(){return this.$Xa()},t.prototype.$Xa=function(){var t,e;return a.assert(this.nN,"Attempted to get initial time before any branches were queued"),e=n.__read(this.Kb,1)[0],a.assert(e),null!==(t=e.xj)&&void 0!==t?t:e.Tr},t.prototype.Jo=function(){return 1},t.prototype.H5=function(t){var e;if(this.nN)return e=this.$Xa(),t.lessThan(e)?this.Kb[0]:o.kWa(this.Kb,t)},t.prototype.XEb=function(){var t,e,i,r,o,a,s,u;e={};try{for(var c=n.__values(this.Kb),h=c.next();!h.done;h=c.next()){for(r in i=h.value,r=void 0,o=void 0,a=i.OC())(u=a[s=r])&&(e[s]=(null!==(o=e[s])&&void 0!==o?o:0)+u);if(!i.wl)break}}catch(t){var f;f={error:t}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(f)throw f.error}}return e},t}(),e.hea=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F,q,K;Object.defineProperties(e,{__esModule:{value:!0}}),e.w_=void 0,n=i(2),r=i(17),o=i(216),a=i(16),s=i(896),u=i(9),c=i(897),h=i(901),f=n.__importDefault(i(6)),l=i(5),d=i(902),p=i(25),b=i(72),v=i(99),y=i(54),g=i(410),m=i(252),_=i(253),w=i(903),E=i(118),k=n.__importDefault(i(144)),O=i(904),S=i(905),T=i(906),A=i(907),P=i(908),j=i(909),I=i(910),x=i(913),M=i(915),R=i(916),N=i(917),C=i(918),L=i(919),D=i(921),U=i(922),B=i(923),F=i(924),q=i(925),K=i(413).yta.qzb,t=function(){function t(t,e,i,n,s,c,l,p,g,k){var T;T=this,this.jL=t,this.oPa=e,this.config=i,this.id=n,this.IOa=c,this.imb=l,this.Pk=p,this.Oub=g,this.dG="2.0",this.vo=void 0,this.$c=o.Jj.CLOSED,this.Xfa=!0,this.HL=!1,this.jya=this.wia=void 0,this.mRa=new r.Wh,this.JC=0,this.Z$=!1,this.JD=function(t){var e,i;t=T.navigator.ue(t.position.xa),(t=T.Cna(t))&&T.V.vm&&(i=T.V.si,null===(e=T.V.hx)||void 0===e||e.fE({O:i.O,get uaa(){return i.Pd.Qa(i.O.Mg)}},t,T.nj.offset,!0,!1)),T.Op.start()},this.oX=function(){T.Pk("onDrmReady")},this.console=new f.default.Console("ASEJS_PLAYGRAPH","asejs",""+this.id),this.zi=new E.IB({xD:10,wu:this,source:"AsePlaygraph"}),this.W8a(t),this.Kb=new x.RIa,this.Ni=new F.TIa(this.console),this.events=new r.EventEmitter,this.roa=new A.RCa(this.config,u.T.Eb(this.config.i8),{parent:this.aZa.bind(this)},this.events,this.console),this.Pwa=new h.TKa(this.console,this.events),this.TT={mH:i.ru||1/0},this.V=new d.Uda(this),this.Cu=new b.XR(this.V.za,this.console,"playgraph"),this.Ls=new b.XR(new m.k1({Zk:!0,currentTime:function(){return u.T.Eb(f.default.time.ea())},speed:1}),this.console,"wallclock"),this.Qf=new M.Kza(this.console,i,s,this.events,this,this.Ls),this.B3=new C.Dza(this.Cu,this.Ls,this.config,this.wi.bind(this),this.Cf,this.console),this.f9=this.Qf.f9.bind(this.Qf),this.rX=this.Qf.rX.bind(this.Qf),this.o9=this.Qf.o9.bind(this.Qf),this.C$=this.C$.bind(this),this.PO=new y.wea(i),U.fTa({Qf:this.Qf,Ls:this.Ls},b.Jk.tJ(u.T.Eb(this.config.vA)),(function(){T.V.vm&&T.V.si&&(T.Qf.state.value===a.Jc.Of||T.Qf.state.value===a.Jc.xd)&&T.qr(T.V.si)}),"buffering"),this.PO.Ji(new _.HB(this.Qf.zi)),this.PO.Ji(new w.kIa(this.IGb.bind(this))),this.PO.Ji(new _.HB(this.zi)),this.PO.Ji(new O.QIa(this.Kb)),this.c$a=new B.SKa(this,this.console,k),this.D1a=new S.iFa(this.Ls,this.console,this.events),this.Op=new q.VIa(this.d$.bind(this)),this.M$(v.CC(this.config),v.BC())}return Object.defineProperties(t.prototype,{state:{get:function(){return this.$c},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{E6:{get:function(){return!(this.V instanceof d.Uda)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ca:{get:function(){return this.jL},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{weight:{get:function(){return this.oPa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{x$:{get:function(){return l.assert(this.oN,"AsePlaygraph.seekPosition accessed before seekStreaming"),this.vo.position},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{m8a:{get:function(){return l.assert(this.oN,"AsePlaygraph.seekTimestamp accessed before seekStreaming"),this.ZC(this.x$).wG},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Cf:{get:function(){return this.Qf.state},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{tf:{get:function(){return this.Qf.tf},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{oN:{get:function(){return void 0!==this.vo},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{nj:{get:function(){return this.V.vm?this.V.nj:this.x$},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ug:{get:function(){return this.V.vm?this.V.Ug:this.m8a},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{tia:{get:function(){return this.blb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{dB:{get:function(){return this.Tpb},enumerable:!1,configurable:!0}}),t.prototype.open=function(){return this.Xfa=!0,this.events.emit("opening",{type:"opening"}),this.events.emit("openComplete",{type:"openComplete"}),this.$c===o.Jj.CLOSED&&(this.$c=o.Jj.OPEN,!0)},t.prototype.Nb=function(){this.Ls.Nb(),this.Cu.Nb(),this.$c!==o.Jj.CLOSED&&(this.Df(),this.Op.Nb(),this.Qf.stop(),this.$c=o.Jj.CLOSED)},t.prototype.bE=function(t,e){var i,n,r;return i=this,this.wia=t,this.jya=e,t=(e=R.IVa(this.Kb,this.C$.bind(this))).nub,e=e.Zsb,0===t.length||1===t.length&&0===t[0]&&(n=this.nj,t.forEach((function(t){return i.V.vY(t)})),r=this.ZC(n).wG,e.forEach((function(t){var e;(e=t.gb).bE(t.vg,n.xa===e.O.id?r:void 0,void 0!==i.Kb.Ina(e))})),this.Qf.fRb(n,e[0].vg),!0)},t.prototype.BC=function(t){return v.BC(this.config,t)},t.prototype.CC=function(t){return v.CC(this.config,t)},t.prototype.bN=function(t,e){var i,n;return i=this.navigator.ue(t),n=this.navigator.ue(e),{zbb:i.AIb(e),NL:e!==t&&this.Kb.has(e)&&this.Kb.rz(e)[0].ri,fd:n.Mg.Y,cO:this.Cna(i)}},t.prototype.wi=function(t,e,i,n){var r,o,a,s;if(r=this,void 0===n&&(n=!0),!e)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");n&&this.Ni.get(t)?i||this.Ni.set(t,e):(a=this.Wma(t)[0],s=this.navigator.ue(t),this.nj.xa===t&&a&&(null===(o=this.V.hx)||void 0===o||o.fE({O:a.O,get uaa(){return a.Pd.Qa(a.O.Mg)}},e,this.nj.offset,n,i)),n||(t={offset:u.T.Gb,xa:e},this.vo={position:t,ri:!0,Fab:t}),i?this.Ni.AXb(s.id,e):this.Ni.set(s.id,e),this.Op.start(),n&&s.Zw&&0<s.Zw.length&&(l.assert(a),a.zxa(s.Zw)&&this.Wma(e).forEach((function(t){return r.kx(a,t)}))),n||this.Qf.x4a(this.x$))},t.prototype.kx=function(t,e){var i;i=this,t=t.xe.Qa(e.O.Mg),e.kx(t),this.Kb.UEb(e).forEach((function(t){return i.kx(e,t)}))},t.prototype.Ai=function(t){this.navigator.Ai(t),this.Op.start()},t.prototype.M$=function(t,e){this.blb=t,this.Tpb=e,this.state===o.Jj.ej&&this.Pk("setStreamFilters")},t.prototype.ZD=function(t,e){var i,n,r,a;if(i=this,T.C0a(this.Ca,t)){if(void 0===(a=this.rva(t)))this.Nh("Invalid seekPosition");else if(void 0===this.wia||void 0===this.jya)this.Nh("No track selectors available");else if(this.E6&&this.V.nN||!T.rZa(null===(n=this.vo)||void 0===n?void 0:n.Fab,a)){this.oN&&(n=this.navigator.ue(this.nj.xa),null===(r=this.V.hx)||void 0===r||r.fE({O:n,uaa:n.duration},a.xa,this.nj.offset,!1),this.nj.xa===t.xa?this.Ni.Tub(t.xa):this.Ni.Eja()),t=this.Kb.map((function(t){return i.IOa(t.O.W).Q7}));try{this.Df(!0),this.Sub(),this.vo={position:a,Fab:a,ri:!1,MSb:e},this.Qf.x4a(),this.$c=o.Jj.ej,this.Op.start()}finally{t.forEach((function(t){return t.release()}))}}}else this.Nh("Invalid seekPosition")},t.prototype.Df=function(t){var e,i,r;if(r=this.RHb(),this.Kb.reset(),!t&&(this.Ni.Eja(),r.length))try{for(var a=n.__values(r),s=a.next();!s.done;s=a.next())s.value.mVb()}catch(t){var u;u={error:t}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(u)throw u.error}}this.Cu.reset(),this.Ls.reset(),this.V.reset(),this.vo=void 0,this.B3.reset(),null===(i=this.mRa)||void 0===i||i.clear(),this.$c===o.Jj.ej&&(this.$c=o.Jj.OPEN)},t.prototype.Wma=function(t){return this.Kb.rz(t)},t.prototype.sk=function(t){this.Qf.sk(t),l.assert(this.V.wH,"Must have an appended branch on underflow"),this.B3.oxa(this.V.wH,this.Ug),this.Pk("onUnderflow"),this.events.emit("underflow")},t.prototype.Ji=function(t){this.PO.Ji(t)},t.prototype.nia=function(t){this.Ji(new g.RJa(t)),this.Srb(t)},t.prototype.Srb=function(t){this.V.qxa(t)?(this.V=t,this.Cu.GQa(this.V.za),this.V.events.on("segmentPresenting",this.JD),this.V.events.on("drmReady",this.oX)):this.Nh("player in use")},t.prototype.ZC=function(t){var e,i;return e=t.offset,{W:t=(i=this.navigator.ue(t.xa)).W,wG:e=i.Mg.add(e)}},t.prototype.js=function(t,e){var i;return void 0!==(i=this.V.js(t))?i:(i=this.V.wH,T.js(t,{pa:this,ZJb:i&&{id:i.O.id,WWb:i.gI}},e))},t.prototype.OV=function(t){return this.V.OV(t)},t.prototype.rva=function(t){var e;if(void 0!==(e=this.Ca.qa[t.xa]))return null===e.Ob||void 0===e.Ob?{xa:t.xa,offset:u.T.max(u.T.Gb,t.offset)}:{xa:t.xa,offset:u.T.max(u.T.Gb,u.T.min(t.offset,u.T.Eb(e.Ob-e.Jb)))}},t.prototype.yn=function(t,e){return this.imb(this.Ca.qa[t].W,e)},t.prototype.g6=function(){return L.$Wa(this.Kb,this.k7.bind(this))},t.prototype.k7=function(t){return void 0===(t=this.Kb.Ina(t))||t.wl&&this.k7(t)},t.prototype.f6=function(){return this.TT.mH},t.prototype.qFb=function(t){return D.eZa(this.Kb,t)},t.prototype.Gh=function(t){var e,i,n;return e=this,this.Kb.hV((function(t){var r,o;return r=t.KV(0),o=t.KV(1),!t.O.bv&&e.Kb.voa(t)&&t.wl||((!i||r<i)&&(i=r),(!n||o<n)&&(n=o)),t.wl})),{zZ:i?Math.max(i-t.Y,0):0,AZ:n?Math.max(n-t.Y,0):0}},t.prototype.tw=function(){var t,e,i,n;return i=this.oN?this.Gh(this.Ug):{zZ:0,AZ:0},n=k.default.instance().get(),{totalabuflmsecs:i.zZ,totalvbuflmsecs:i.AZ,abuflbytes:0,vbuflbytes:0,currentBandwidth:null!==(e=Number(0<n.confidence)&&(null===(t=n.Ra)||void 0===t?void 0:t.Ga))&&void 0!==e?e:0}},t.prototype.hN=function(){var t,e,i,r,o,a,s,u;return t=this,this.Fn()?(this.zi.wy({isStreamingFailureReported:!0}),[]):(i=this.Kb.size,this.zi.wy({branchCount:i}),this.oN&&0!==i?(r=this.Ug,o=this.nj,a=[],i=this.navigator.ue(this.nj.xa),s=i.duration,u=this.Ni.get(i.id)?1:null!==(e=i.LA)&&void 0!==e?e:1,e=this.Kb.reduce((function(e,i,c){var h,f,l,d,p;try{for(var b=n.__values(i.e6()),v=b.next();!v.done;v=b.next())(l=v.value).Ur()||(d="p"+t.id+"-"+c+"-"+(null===(f=i.xj)||void 0===f?void 0:f.Y),p=t.$Ya(l),e.push(t.zyb(l,p.Y,d,s.Y,u,r.Y,o))),!l.mD()&&t.zi.enabled&&a.push({segmentId:l.xa,isDoneStreaming:l.Ur(),isNormalized:l.ri(),needsHeaderRequest:l.track.N8})}catch(t){var y;y={error:t}}finally{try{v&&!v.done&&(h=b.return)&&h.call(b)}finally{if(y)throw y.error}}return e}),[]),this.zi.wy({nonStreamables:a}),e):[])},t.prototype.$Ya=function(t){var e;return t.Dha?t.Dha:!(e=this.aZa(t))||this.config.R4&&this.navigator.yIb(e.gb.O,t.xa)?t.fU:this.$Ya(e)},t.prototype.aZa=function(t){var e;return null===(e=this.Kb.Ina(t.gb))||void 0===e?void 0:e.aN(t.mediaType)},t.prototype.hRb=function(t){var e,i;this.Pwa.Fn()||(e=void 0,(i=this.V.nj)&&(e=this.navigator.ue(i.xa).W),this.Nh("BufferingStateTracker: Temporary failure while buffering",e,"NFErr_MC_StreamingFailure",null==t?void 0:t.ph,null==t?void 0:t.cD,null==t?void 0:t.uj))},t.prototype.Nh=function(t,e,i,n,r,o,a){void 0===a&&(a=!1),this.Pwa.Nh(t,e,i,n,r,o,a)},t.prototype.FZ=function(t,e){e=this.c6(e),this.events.emit("logdata",{type:"logdata",target:t,fields:e})},t.prototype.c6=function(t){var e;return this.D1a.jMb(t),e=this.PO.Ho(t),t===y.de.$p&&(t=this.tw(),e.vbuflmsec=t.totalvbuflmsecs,e.abuflmsec=t.totalabuflmsecs,e.vbuflbytes=t.vbuflbytes,e.abuflbytes=t.abuflbytes),e},t.prototype.Mab=function(t){this.TT=t,this.Pk("updateBudget")},t.prototype.Fn=function(){return this.Pwa.Fn()},t.prototype.cbb=function(t){t!==this.weight&&(this.oPa=t,this.events.emit("weightUpdated"))},t.prototype.KZ=function(t){var e,i,r,o,s,c,h,f,l,d,p,b,v,y,g;if(o=(r=I.IRa(this.Ca,t)).mub,s=r.L0b,[r.Uqb,r.MO,o].every((function(t){return!t.length})))return{$:!0,reason:a.Wx.Lib};if(0===o.length&&0===s.length)return{$:!1,reason:a.Wx.Yhb};try{for(var m=n.__values(o),_=m.next();!_.done;_=m.next()){if(c=_.value,f=(h=this.Ca.qa[c]).Jb,l=h.Ob,d=h.W,b=(p=t.qa[c]).Ob,v=p.Jb,y=p.W,this.nj.xa===c&&b!==l){if(!b)return{$:!1,reason:a.Wx.Kjb};if(g=u.T.Eb(b-v),null!==(i=this.nj.offset)&&void 0!==i&&i.greaterThan(g))return{$:!1,reason:a.Wx.lcb}}if(f!==v)return{$:!1,reason:a.Wx.xfb};if(d!==y)return{$:!1,reason:a.Wx.yfb}}}catch(t){var w;w={error:t}}finally{try{_&&!_.done&&(e=m.return)&&e.call(m)}finally{if(w)throw w.error}}return this.W8a(t),this.Op.start(),{$:!0,reason:a.Wx.Kib}},t.prototype.W8a=function(t){this.jL=t,this.navigator=new j.$Ia(t),this.WHb=I.QSa(this.navigator)},t.prototype.Nsa=function(t,e){this.j7a(t),t.EM.addListener("criticalNetworkError",this.f9),t.EM.addListener("temporaryNetworkError",this.rX),t.EM.addListener("updatingLastSuccessEvent",this.o9),this.$c===o.Jj.ej&&e&&this.i8a()},t.prototype.Osa=function(t){0===this.Kb.filter((function(e){return e.VV&&e.P===t})).length&&this.j7a(t)},t.prototype.j7a=function(t){t.EM.removeListener("criticalNetworkError",this.f9),t.EM.removeListener("temporaryNetworkError",this.rX),t.EM.removeListener("updatingLastSuccessEvent",this.o9)},t.prototype.uPa=function(t){var e;l.assert(t.ri,"expected branch to be normalized on addBranchToPlayer"),this.V.nN||null!==(e=this.vo)&&void 0!==e&&e.ri||this.sDb(t),this.Qf.Gaa(t.vg),this.V.Hla(t),this.B3.oxa(t,this.Ug)},t.prototype.sDb=function(t){l.assert(t.Vc,"Normalized branch should have a defined content start timestamp"),l.assert(this.vo,"AsePlaygraph should have a seek position on first branch normalization"),l.assert(!this.vo.ri,"Seek position should not already be normalized on first branch normalization"),this.vo=n.__assign(n.__assign({},this.vo),{position:{xa:t.O.id,offset:t.Vc.Qa(t.O.Mg)},ri:!0}),this.Qf.vXb(this.vo.position,t.vg.filter((function(t){return 0===t.mediaType}))[0])},t.prototype.Sub=function(){var t;this.B3.reset(),this.V.oG(),this.vo=void 0,null===(t=this.mRa)||void 0===t||t.clear()},t.prototype.zyb=function(t,e,i,n,r,o,s){var u,c,h,f;return u=this,f=null!==(h=null===(c=t.gb.xj)||void 0===c?void 0:c.Y)&&void 0!==h?h:t.gb.Tr.Y,c=t.jE.Y,h=this.Ni.get(t.xa)?1:t.gb.O.LA,{identifier:t.xa,mediaType:t.mediaType,$g:t.$g,Cf:this.Cf.value,sA:e,Cs:c,Er:o,qWa:t.KM.Y,Ota:s.offset.Y,Nta:n,RX:r,LA:h,Hr:t.gb.LU.Y,d$a:Math.max(c-f,0),mD:t.mD(),Ur:t.Ur(),groupId:i,F0a:function(e,i){return e=u.c$a.Vtb(e,t.mediaType,1>i||!u.k7(t.gb)),1===i&&"global"===a.tua(e.reason)&&u.Qf.DQb(t.mediaType,u.Gh(u.Ug)),e},J0a:function(){var e,i,n,r,o,s,c,h,f;return r=t.mediaType,s=(o=u.roa.aXb(u.Cf.value,u.Ug,t.jE,u.V.playbackRate,t,0===r?u.tia:u.dB,u.HL)).stream,c=o.vP,h=o.cXb,f=o.xu,o=o.reason,s?u.Cf.value===a.Jc.ej&&t.gb&&t.gb.P.iH&&!t.gb.P.KW&&!u.V.Oo(t.gb.P.W)&&t.jE.Y-u.Ug.Y>u.config.gra?{Gn:!1,reason:"maxBufferingCompleteBufferInMs"}:(o=1,null!==(e=t.gb)&&void 0!==e&&e.vg.every((function(t){return 0===t.mediaType}))&&(o=0),u.Qf.pg&&r===o&&u.Qf.IXb(t.kl.gP,s.bitrate,h),u.kP(c),e=null===(i=t.gb.Rq)||void 0===i?void 0:i.Y,(i=t.vab(s,f)).Gn&&(u.Xfa&&(u.am("firstDriveStreaming"),u.Xfa=!1),0<u.JC&&(s=null===(n=t.gb.Rq)||void 0===n?void 0:n.Y,e&&s&&(u.JC-=e-s,0>=u.JC&&u.i8a()))),i):{Gn:!1,reason:o||"selectLocationsAndStream"}}}},t.prototype.kP=function(t){var e;e=this,t.forEach((function(t){t.P.BXb(t,(function(){var t,i;return l.assert(e.oN,"Speculative header callback after streaming is cancelled"),i=(t=e.Ug.Y)+e.config.TW,{$g:[],Cf:e.Qf.state.value,sA:i,Cs:i,Er:t}}))}))},t.prototype.i8a=function(){var t;t=this,this.Op.Uaa(q.OE.Bx,(function(){return t.Op.start()}))},t.prototype.d$=function(){var t,e,i,n,r;t=this,this.$c===o.Jj.ej&&(e=this.nj,i=this.navigator.ue(e.xa),n=this.Kb.JHb(),r=this.pEb(e.xa).map((function(t){return t.O.id})),n=(i=P.d$(this.console,this.WHb,i,n,this.Ni,r,u.T.Eb(this.config.Xsb),this.config.Ora,u.T.Eb(this.config.Mia))).A7a,this.JC=i.JC||0,this.Kb.Y0b(n,(function(i,n){var r;return r=t.navigator.ue(i),i=i===e.xa?r.Mg.add(e.offset):r.Mg,t.C0b(r,i,n)})).MO.forEach((function(e){e.Df(),t.Ni.clear(e.O.id),t.V.yZa(e)||t.Op.Uaa(q.OE.Bx,(function(){return t.Gga(e.O.id)}))})),this.X6a(),this.ZRa(),this.Op.Uaa(q.OE.Bx,(function(){t.Pk("reevaluateBranches"),t.Op.RW(q.OE.PR)})))},t.prototype.pEb=function(t){var e;return e=!1,this.V.Kb.filter((function(i){return i.O.id===t&&(e=!0),e}))},t.prototype.RHb=function(){return p.wQa(this.Kb.filter((function(t){return t.VV})).map((function(t){return t.P})))},t.prototype.X6a=function(){var t;if(this.$c===o.Jj.ej&&(this.V.wH||null!=(t=n.__read(this.Kb.rz(this.x$.xa),1)[0])&&t.ri&&this.uPa(t),this.V.wH))for(;(t=this.Cna(this.V.wH.O))&&(null!=(t=n.__read(this.Kb.rz(t),1)[0])&&t.ri)&&!this.V.yZa(t);)this.uPa(t)},t.prototype.Cna=function(t){var e;return void 0!==(e=this.Ni.get(t.id))?e:1===(t=this.navigator.hFb(t)).length?t[0].id:void 0},t.prototype.ZRa=function(){var t;(t=0!==this.kEb())||this.Z$?t&&this.Z$&&(this.Z$=!1):(this.Qf.pg&&(t=this.Gh(this.Ug),this.Qf.Pe("complete",t.zZ,t.AZ)),this.Xnb(),this.Z$=!0)},t.prototype.kEb=function(){return this.Kb.filter((function(t){return!t.wl})).length},t.prototype.qr=function(t){this.k7(t)&&this.Qf.zja(this.Ug,this.V.playbackRate,t,{yja:this.roa.yja.bind(this.roa,this.c$a)})},t.prototype.tQb=function(t,e){var i,n;i=this,e.didNormalizeSegment&&(n=N.oKa.QHb(t),l.assert(n,"Segment should be normalized"),Promise.resolve().then((function(){return i.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:t.O.id,normalizedStart:e.segmentContentStart,normalizedEnd:e.branchContentEnd,viewableContentEnd:n.y2b,viewableEarliestContentEnd:n.A2b})}))),Promise.resolve().then((function(){i.X6a()})),this.Pk("branchNormalized")},t.prototype.uQb=function(){this.ZRa()},t.prototype.sQb=function(){this.Op.start()},t.prototype.C0b=function(t,e,i){var n,r,a,h,f;if(n=this,this.Oub(t,e))throw Error("Not implemented");return f=new s.Gza(t.W,this.IOa,(function(t,e,i){n.state!==o.Jj.CLOSED&&(n.Nsa(e,i),n.Op.Uaa(q.OE.PR,(function(){n.o2(t.O.id,e,t.jg)})))}),this.Osa.bind(this)),(t=new c.Cza(this.config,this.console,this.events,t,this.C$,e,null!==(h=null===(a=null===(r=this.vo)||void 0===r?void 0:r.MSb)||void 0===a?void 0:a.Qa(this.m8a))&&void 0!==h?h:u.T.Gb,(function(){return n.Ug.Y}),i,this.Cf,this.Cu,f)).events.on("needsRequest",this.Pk.bind(this,"branchNeedsHeader")),t.events.on("branchNormalized",this.tQb.bind(this,t)),t.events.on("lastRequestIssued",this.sQb.bind(this,t)),t.events.on("branchStreamingComplete",this.uQb.bind(this,t)),t.events.on("checkBufferingProgress",this.qr.bind(this,t)),void 0===i&&(this.am("createDlTracksStart"),t.events.once("requestQueuesCreated",(function(){n.am("createDlTracksEnd")}))),t.xb(),t},t.prototype.IGb=function(t){if(this.V.vm)return this.V.si.eb(t)},t.prototype.C$=function(t){return[[0,this.wia,"audio_tracks"],[1,this.jya,"video_tracks"]].map((function(e){var i,r;if(r=(i=n.__read(e,3))[1],e=i[2],l.assert(r,"Expected mediaType "+i[0]+" track selector to be defined"),void 0!==(i=r.us(t.oa,t.oa[e])))return t.getTrackById(t.oa[e][i].NP)})).filter(p.Z8)},t.prototype.o2=function(t,e,i){t={type:"segmentStarting",segmentId:t,contentOffset:i.Y,maxBitrates:{audio:e.Gw[0],video:e.Gw[1]}},this.events.emit(t.type,t)},t.prototype.Gga=function(t){t={type:"segmentAborted",segmentId:t},this.events.emit(t.type,t)},t.prototype.Xnb=function(){var t;t={type:"streamerEnd",time:f.default.time.ea()},this.events.emit(t.type,t)},t.prototype.am=function(t){t={type:"startEvent",event:t,time:f.default.time.ea()},this.events.emit(t.type,t)},n.__decorate([n.__param(0,K.XHb())],t.prototype,"ZD",null),n.__decorate([E.bc({methodName:"getStreamables",pm:!0})],t.prototype,"hN",null),t}(),e.w_=t},function(t,e,i){var n,r,o;function a(t,e,i,n,r){var o,a;return i=null!==(o=e.ie)&&void 0!==o?o:e.track.yn(t,i.Y,void 0,r),t=null!==(a=e.Hf)&&void 0!==a?a:e.track.nz(t,null==n?void 0:n.Y,e.ah),[!e.ri(),i,t]}function s(t,e){for(var i,n,a=[],s=0,u=t[s],c=null==u?void 0:u[0],h=null==u?void 0:u[1],f=e.Hf.index,l=e.track.gp,d=0,p=e.ie.Vc,b=e.ie.Pd.Y>u[0],v=b,y=e.ie.index;y<=f;++y)i=!1,u&&(n=l.get(y),b&&(n.Vc.Y>=h?(b=!1,++s>=t.length?h=c=u=void 0:(c=null==(u=t[s])?void 0:u[0],h=null==u?void 0:u[1])):v?v=!1:(a.push(new r.c1(d,p,n.Vc)),p=n.Vc,i=!0)),!b&&u&&n.Pd.Y>c&&(b=!0,i=n.Vc,(n=e.track.uN.Wk(y).jWa(c))&&0!==n.il&&(i=o.T.Eb(n.Ed)),a.push(new r.c1(d,p,i)),p=i,i=!0)),i&&++d;return a.push(new r.c1(d,p,e.Hf.Pd)),a}Object.defineProperties(e,{__esModule:{value:!0}}),e.DNb=e.k2a=e.R3a=e.P3a=e.Pua=void 0,n=i(2),r=i(409),o=i(9),e.Pua=function(t,e,i){var n,r,o;return o=e.get(0),e=null==(e=e.get(1))?void 0:e.track.nz(t,null==i?void 0:i.Y,e.ah),[null==o?void 0:o.track.nz(t,null!==(r=null===(n=null==e?void 0:e.Pd)||void 0===n?void 0:n.Y)&&void 0!==r?r:null==i?void 0:i.Y,o.ah),e]},e.P3a=function(t,e,i,r,s){var u,c,h,f;return u=e.get(0),e=e.get(1),h=(c=n.__read(e?a(t,e,i,r,s):[!1],3))[0],f=c[1],c=c[2],t=(r=n.__read(u?a(t,u,h&&void 0!==(null==f?void 0:f.Z)?o.T.Eb(f.Z):i,void 0!==(null==c?void 0:c.Ha)?o.T.Eb(null==c?void 0:c.Ha):r,s):[!1],3))[0],i=r[1],r=r[2],t&&(null==u||u.e7(i,r)),h&&(null==e||e.e7(f,c)),[t,h]},e.R3a=function(t,e,i){return e.track.yn(t,i.Y,void 0,!0).Vc},e.k2a=function(t,e,i){var n;return(n=e.O).hq&&0!==n.hq.length?s(n.hq.map((function(t){return[n.Jb+t[0],n.Jb+t[1]]})),i.TX):[]},e.DNb=s},function(t,e,i){var n,r;function o(t){return"immediate"===t}Object.defineProperties(e,{__esModule:{value:!0}}),e.eJa=e.c1=e.e0a=void 0,n=i(9),r=i(5),e.e0a=o,t=function(){function t(t,e,i){this.region=t,this.Vc=e,this.Pd=i}return t.prototype.toJSON=function(){return{region:this.region,Z:this.Vc.hI,Ha:this.Pd.hI}},t}(),e.c1=t,t=function(){function t(t,e,i){var o,a;o=this,this.id=t,this.O=e,this.eOa=!1,this.kN=function(t){var e,i,n,r;return null!==(e=o.Zw)&&void 0!==e&&e.length?"immediate":null!==(r=null===(n=null===(i=o.O.next)||void 0===i?void 0:i[t])||void 0===n?void 0:n.ae)&&void 0!==r?r:o.ae},this.iT=new n.T(e.Jb,1e3),this.xS=void 0!==e.Ob&&null!==e.Ob?new n.T(e.Ob,1e3):n.T.fD,this.Ipb=null!==(a=e.ae)&&void 0!==a?a:i,this.M_a(),r.assert(this.iT.lessThan(this.xS),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)")}return Object.defineProperties(t.prototype,{W:{get:function(){return this.O.W},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{cs:{get:function(){return this.eOa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Mg:{get:function(){return this.iT},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Uk:{get:function(){return this.xS},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{duration:{get:function(){return this.xS.Qa(this.iT)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Z:{get:function(){return this.iT.Y},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ha:{get:function(){return this.xS.Y},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{QD:{get:function(){return!1},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{bv:{get:function(){return!this.oA.length||!this.O.Qe&&0===this.eO.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{xPb:{get:function(){return this.UB},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{oA:{get:function(){var t,e;return Object.keys(null!==(e=null===(t=this.O)||void 0===t?void 0:t.next)&&void 0!==e?e:{})},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{eO:{get:function(){var t;return t=this,this.oA.filter((function(e){return!!t.UB[e]}))},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Vwa:{get:function(){var t;return null!==(t=this.$Oa)&&void 0!==t?t:this.$Oa=this.Otb()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{aaa:{get:function(){var t;return null!==(t=this.aPa)&&void 0!==t?t:this.aPa=this.Ptb()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{LA:{get:function(){return this.O.weight?this.O.weight/(this.O.weight+this.aaa):1},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ae:{get:function(){var t;return null!==(t=this.Zw)&&void 0!==t&&t.length?"immediate":this.Ipb},enumerable:!1,configurable:!0}}),t.prototype.normalize=function(t,e,i){this.iT=t,this.xS=e,this.Zw=i,this.eOa=!0,this.Ubb()},t.prototype.vXa=function(){var t;return this.eO.length&&null!==(t=this.eO.map(this.kN).reduce((function(t,e){return t===e?e:void 0})))&&void 0!==t?t:this.ae},t.prototype.Ai=function(t){this.M_a(t)},t.prototype.Etb=function(t){var e,i;return this.Vwa?(e=(this.UB[t]||0)/this.Vwa,void 0===this.O.weight||0===this.aaa?{Ue:e}:1!==(i=this.LA)&&o(this.kN(t))&&this.UB[t]?{Ue:i*e,dD:this.UB[t]/this.aaa*(1-i)}:{Ue:i*e}):{Ue:null!==(e=this.O.next)&&void 0!==e&&e[t]?1/this.oA.length:0}},t.prototype.AIb=function(t){return-1<this.oA.indexOf(t)},t.prototype.M_a=function(t){var e;void 0===this.O.next?this.UB={}:(e=this.O.next,this.UB=Object.keys(e).reduce((function(i,n){var r;return null!=(r=t?t[n]||0:e[n].weight)&&0<=r&&(i[n]=r),i}),{})),this.Ubb()},t.prototype.Otb=function(){var t;return t=this,this.eO.reduce((function(e,i){return e+t.UB[i]}),0)},t.prototype.Ptb=function(){var t;return t=this,this.eO.filter((function(e){return o(t.kN(e))})).reduce((function(e,i){return e+t.UB[i]}),0)},t.prototype.Ubb=function(){this.aPa=this.$Oa=void 0},t}(),e.eJa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.aXa=e.GYa=e.Vma=e.RJa=void 0,n=i(2),r=i(20),o=i(54),t=function(){function t(t){this.Fa=t}return Object.defineProperties(t.prototype,{mj:{get:function(){return"queue-audit"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ED:{get:function(){return"qaudit"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return r.ga},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){var i,r,a;if(((t=t.Qi)===o.de.$p||t===o.de.Zn)&&(t=this.Fa.Sma())){r={};try{for(var s=n.__values(t.HSb),u=s.next();!u.done;u=s.next())r[(a=u.value).mediaType]=this.wNb(a)}catch(t){var c;c={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(c)throw c.error}}return{branchQueue:e.aXa(t.sUb),playerIterator:r,driftStats:this.Fa.pya}}},t.prototype.wNb=function(t){return null==t?void 0:t.aYa()},t}(),e.RJa=t,e.Vma=function(t){var i,n;return t?(i=t.O,n={},t.lq().forEach((function(t){n[t.mediaType]=e.GYa(t)})),{sId:null==i?void 0:i.id,cancelled:t.Eh,RM:n}):t},e.GYa=function(t){var e;if(t&&t.Pa)return n.__assign(n.__assign({},t.Pa.Kna()),{unsentRequests:t.Pa.Hs,lastFragmentContentEndPts:null===(e=t.Hf)||void 0===e?void 0:e.Lc})},e.aXa=function(t){return t.map((function(t){return e.Vma(t)}))}},function(t,e){var i,n,r;function o(t){return void 0!==(null==t?void 0:t.pMa)}function a(t){return(o(t)?t:Object.defineProperties(t,{pMa:{value:{},configurable:!1,enumerable:!1}})).pMa}Object.defineProperties(e,{__esModule:{value:!0}}),e.rea=void 0,n=null!==(i=Number.MAX_SAFE_INTEGER)&&void 0!==i?i:1e9,r=Date.now()%n,t=function(){function t(){this.id=r=(r+1)%n}return t.prototype.get=function(t){return o(t)?a(t)[this.id]:void 0},t.prototype.set=function(t,e){return a(t)[this.id]=e,this},t.prototype.has=function(t){return o(t)&&void 0!==a(t)[this.id]},t.prototype.delete=function(t){return!!this.has(t)&&(a(t)[this.id]=void 0,!0)},t}(),e.rea=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.wR=void 0,t=function(){function t(){this[0]=0,this[1]=0}return Object.defineProperties(t.prototype,{total:{get:function(){return this[0]+this[1]},enumerable:!1,configurable:!0}}),t.prototype.add=function(t){this[0]+=Math.max(t[0]||0,0),this[1]+=Math.max(t[1]||0,0)},t.prototype.Kha=function(t,e){this[t]+=Math.max(e||0,0)},t}(),e.wR=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.yta=void 0,t=i(926),n=i(254),r=i(414),i=i(931),n=n.Z7a(),t=t.zRa()({i2a:"combinedPlaygraph",$7a:{XHb:n()({xNb:function(t,e,i){return e===r.A0.V0b?i.Jla.Iab(t):i.Jla.DAb(t)},lLb:i.o0a})}}),e.yta=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.A0=void 0,(t=e.A0||(e.A0={}))[t.V0b=0]="up",t[t.CAb=1]="down"},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.EV=void 0,n=i(2),r=i(941),o=n.__importDefault(i(6)),e.EV=function(t){var e;return e=new o.default.Console("ASEJS","media|asejs"),a||(a=new r.nJa((function(){return function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve().then((function(){return n.__importStar(i(251))}))];case 1:return[2,(0,t.bd().bH)()]}}))}))}()}),t,e)),a}},function(t){t.exports=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,e,i){var n,r,o,a,s,u;e=i(59),n=i(418),r=i(967),o=i(416),a=i(257),s=i(972),u=i(421),i=e(n(["filter"],s,(function(t,e){return o(e)?a((function(i,n){return t(e[n])&&(i[n]=e[n]),i}),{},u(e)):r(t,e)}))),t.exports=i},function(t,e,i){var n,r;n=i(419),r=i(966),t.exports=function(t,e,i){return function(){var o,a;if(0===arguments.length)return i();if(a=(o=Array.prototype.slice.call(arguments,0)).pop(),!n(a)){for(var s=0;s<t.length;){if("function"==typeof a[t[s]])return a[t[s]].apply(a,o);s+=1}if(r(a))return e.apply(null,o)(a)}return i.apply(this,arguments)}}},function(t){t.exports=Array.isArray||function(t){return null!=t&&0<=t.length&&"[object Array]"===Object.prototype.toString.call(t)}},function(t){t.exports={xb:function(){return this.e_["@@transducer/init"]()},result:function(t){return this.e_["@@transducer/result"](t)}}},function(t,e,i){var n,r,o,a,s;e=i(130),n=i(256),r=i(973),o=!{toString:null}.propertyIsEnumerable("toString"),a="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" "),s=function(){return arguments.propertyIsEnumerable("length")}(),i=e("function"!=typeof Object.keys||s?function(t){var e,i,u,c;if(Object(t)!==t)return[];for(u in e=[],i=s&&r(t),t)!n(u,t)||i&&"length"===u||(e[e.length]=u);if(o)for(i=a.length-1;0<=i;){if(u=a[i],c=n(u,t)){t:{for(c=0;c<e.length;){if(e[c]===u){c=!0;break t}c+=1}c=!1}c=!c}c&&(e[e.length]=u),--i}return e}:function(t){return Object(t)!==t?[]:Object.keys(t)}),t.exports=i},function(t){t.exports=function(t,e){for(var i=0,n=e.length,r=Array(n);i<n;)r[i]=t(e[i]),i+=1;return r}},function(t,e,i){var n,r,o;n=i(258),r=i(130),e=i(59),o=i(976),i=e((function(t,e){return 1===t?r(e):n(t,o(t,[],e))})),t.exports=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.dDa="HLSPlaylistBuilderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OIa="PlayerPlaydataMonitorSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Jea="StreamChangeDetectorSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qR="HLSLogblobMonitorFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rDa="HeaderFetcherSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BDa="HttpDispatcherSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.vDa="HLSHeaderParserFactorySymbol"},function(t){var e,i;(i=new Uint32Array([0,0])).set(new Uint32Array([16843009]),1),e=0!==i[0]?function(t,e,i){new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i*t.byteLength/t.length)}:function(t,e,i){t.set(e,i)},t.exports={from:function(t,e,i,n){t=new t(e.length);for(var r="function"==typeof i,o=0;o<e.length;++o)t[o]=r?i.call(n,e[o],o,e):e[o];return t},set:e}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){var e;return(e=null!==t&&t.apply(this,arguments)||this).qz=1536,e}return n.__extends(e,t),e.Na=!0,e}(i(179).default),e.default=t,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="ac-3",e}(t),e.cba=i,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="ec-3",e}(t),e.hca=t},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(104),t=i(33),o=r.YE,t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.fileSize=this.u.Td(),this.S=this.u.Td(),this.duration=this.u.Td(!1,!0),this.wsa=this.u.Td(),this.u.Td(),this.Asa=this.u.Td(),this.csa=this.u.ya(),this.xsa=this.u.Td(),this.vma=this.u.ya(),this.u.EA(),this.Te={moof:{offset:this.wsa},sidx:{offset:this.xsa,size:this.vma}},this.Te[r.zR]={offset:this.Asa,size:this.csa},this.u.offset-this.startOffset<=this.length-24&&(this.zsa=this.u.Td(),this.Wra=this.u.ya(),this.ysa=this.u.Td(),this.Ura=this.u.ya(),this.Te[r.Nx]={offset:this.zsa,size:this.Wra},this.Te[r.Mx]={offset:this.ysa,size:this.Ura}),!0},e.Xb=o,e.Na=!1,e}(t.Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=i(104),i=i(33),r=t.ZE,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t,e,i;this.Ac(),1<=this.version&&this.u.EA(),t=this.u.ya(),this.Te={};for(var n=this.startOffset+this.length,r=0;r<t;++r)"uuid"===(e=this.u.Ml())&&(e=this.u.EA()),i=this.u.Td(),this.Te[e]={offset:n,size:i},n+=i;return!0},e.Xb=r,e.Na=!1,e}(i.Dc),e.default=i},function(t){var e,i,n,r;e={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24e3,duration:1024,Ck:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer},i={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24e3,duration:1024,Ck:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer},n={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48e3,duration:1536,Ck:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer},r={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48e3,duration:1536,Ck:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer},t.exports={standard:{"heaac-2-dash":i,"heaac-2hq-dash":i,"ddplus-5.1-dash":n,"ddplus-5.1hq-dash":n,"ddplus-2.0-dash":r},reset:{"heaac-2-dash":e,"heaac-2hq-dash":e},"heaac-2-dash":e,"heaac-2-dash-alt":i,"ddplus-5.1-dash":n,"ddplus-2.0-dash":r}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(33),o=i(88),t=function(t){function e(e,i,n,r,o){return(n=t.call(this,n,r,o)||this).Kia=e,n.Pq=i,n.Ua={},n}return n.__extends(e,t),e.prototype.parse=function(t){var e,i,n,r,a,s;for(this.offset=0,e=[],t=t||{};this.offset<this.view.byteLength&&!(8>this.view.byteLength-this.offset);){if(i=this.offset,0===(n=this.ya()))return{done:!1,offset:this.offset,error:"Invalid zero-length box"};if(null===(r=o.ko(this.ya())))return{done:!1,offset:this.offset,error:"Invalid box type"};if("uuid"===r){if(16>this.view.byteLength-this.offset)break;r=this.EA()}if(0===e.length&&this.Pq.kV(r,i,n))break;if(i+n>this.view.byteLength)break;if(s=void 0,a=this.Kia[r]){if(s=new a(this,r,i,n,e[0]),(e[0]||this).tt(s),!s.parse(t))return{done:!1,offset:this.offset,error:"parse error in "+r+" box"};this.config.bI&&a.Na?e.unshift(s):this.offset=i+n}else this.offset=i+n;for(;e.length&&this.offset>e[0].byteOffset+e[0].Qn-8;){if(!(s=e.shift()).Qt(t))return{done:!1,offset:this.offset,error:"finalize error in "+s.type+" box"};this.offset=s.byteOffset+s.Qn}if(0===e.length&&this.Pq.GU(r,i,n,s))break}return!this.Pq.done&&0<(t=this.Pq.endOffset?this.Pq.endOffset-this.view.byteLength:4096)?{done:!1,offset:this.offset,cX:t}:{done:!0,offset:Math.min(this.Pq.endOffset||1/0,this.offset)}},e.prototype.tt=function(t){r.Dc.tt(this,t)},e}(i(1008).Yea),e.zE=t},function(t,e,i){var n;function r(t,e){-1!==(t=e.indexOf(t))&&e.splice(t,1)}Object.defineProperty(e,"__esModule",{value:!0}),n=i(104),t=function(){function t(t){this.endOffset=t,this.done=!1}return t.prototype.kV=function(){return this.done},t.prototype.GU=function(t,e,i){return this.done=e+i>=this.endOffset},t}(),e.DQ=t,t=function(){function t(t,e,i,n){void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===n&&(n=!1),this.Oh=t,this.dz=e,this.oZ=i,this.AX=n,this.done=!1,this.Te={}}return t.prototype.kV=function(e,i,n){if(-1!==t.Boa.indexOf(e)&&(this.Te[e]={offset:i,size:n}),-1!==this.oZ.indexOf(e)){if(this.Te[e]={offset:i,size:n},!this.AX)return this.endOffset=i,this.done=!0;this.endOffset=i+n}else this.Oh&&-1!==this.Oh.indexOf(e)?(e=1<this.Oh.length?4096:0,this.endOffset=Math.max(i+n+e,this.endOffset||0)):-1!==this.dz.indexOf(e)&&(e=this.Oh?4096:0,this.endOffset=Math.max(i+n+e,this.endOffset||0));return this.done},t.prototype.GU=function(t,e,i,o){var a;return a=this,-1!==this.oZ.indexOf(t)?this.done=!0:(t===n.YE&&this.MY(o.Te),t===n.ZE&&this.MY(o.Te),this.Oh&&r(t,this.Oh),r(t,this.dz),this.Oh&&0===this.Oh.length&&!this.dz.some((function(t){return a.Te[t]}))?this.done=!0:this.done)},t.prototype.MY=function(t){var e;e=this,this.Te=t,this.endOffset=(this.Oh||[]).concat(this.dz).reduce((function(t,i){return e.Te[i]?(i=e.Te[i],Math.max(i.offset+(i.size||4096),t)):t}),this.endOffset||0)},t.Boa=["moov","sidx"],t}(),e.Dca=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fDa="HLSPlaylistTransformerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.pAa="CdnPartitionerSymbol"},function(t,e,i){var n,r;function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.eca=void 0,n=i(44),r=i(110),o.Up=function(){var t;return(t={})[n.N.QJ]="avc1.4D401E",t[n.N.FE]="avc1.4D401F",t[n.N.tca]="avc1.4D4028",t[n.N.Rfb]="hev1.2.6.L90.B0",t[n.N.Sfb]="hev1.2.6.L93.B0",t[n.N.Tfb]="hev1.2.6.L120.B0",t[n.N.Ufb]="hev1.2.6.L123.B0",t[n.N.i0]="hev1.2.6.L90.B0",t[n.N.k0]="hev1.2.6.L93.B0",t[n.N.m0]="hev1.2.6.L120.B0",t[n.N.o0]="hev1.2.6.L123.B0",t[n.N.ZQ]="hev1.2.6.L150.B0",t[n.N.aR]="hev1.2.6.L153.B0",t[n.N.j0]="hev1.2.6.L90.B0",t[n.N.l0]="hev1.2.6.L93.B0",t[n.N.n0]="hev1.2.6.L120.B0",t[n.N.p0]="hev1.2.6.L123.B0",t[n.N.$Q]="hev1.2.6.L150.B0",t[n.N.bR]="hev1.2.6.L153.B0",t[n.N.VCa]="hev1.2.6.L90.B0",t[n.N.WCa]="hev1.2.6.L93.B0",t[n.N.XCa]="hev1.2.6.L120.B0",t[n.N.YCa]="hev1.2.6.L123.B0",t[n.N.ZCa]="hev1.2.6.L150.B0",t[n.N.$Ca]="hev1.2.6.L153.B0",t[n.N.OQ]="hev1.2.6.L90.B0",t[n.N.QQ]="hev1.2.6.L93.B0",t[n.N.SJ]="hev1.2.6.L120.B0",t[n.N.TQ]="hev1.2.6.L123.B0",t[n.N.VQ]="hev1.2.6.L150.B0",t[n.N.XQ]="hev1.2.6.L153.B0",t[n.N.PQ]="hev1.2.6.L90.B0",t[n.N.RQ]="hev1.2.6.L93.B0",t[n.N.SQ]="hev1.2.6.L120.B0",t[n.N.UQ]="hev1.2.6.L123.B0",t[n.N.WQ]="hev1.2.6.L150.B0",t[n.N.YQ]="hev1.2.6.L153.B0",t[n.N.J_]=r.Gd.I_,t[n.N.L_]=r.Gd.Wba,t[n.N.AQ]=r.Gd.Xba,t[n.N.O_]=r.Gd.Yba,t[n.N.Q_]=r.Gd.Zba,t[n.N.S_]=r.Gd.$ba,t[n.N.K_]=r.Gd.I_,t[n.N.M_]=r.Gd.Wba,t[n.N.N_]=r.Gd.Xba,t[n.N.P_]=r.Gd.Yba,t[n.N.R_]=r.Gd.Zba,t[n.N.T_]=r.Gd.$ba,t[n.N.TCa]="avc1.640016",t[n.N.LQ]="avc1.64001E",t[n.N.MQ]="avc1.64001F",t[n.N.sca]="avc1.640028",t[n.N.s1]=r.Gd.aS,t[n.N.qK]=r.Gd.aS,t[n.N.rK]=r.Gd.aS,t[n.N.bS]=r.Gd.aS,t[n.N.Aya]=r.Gd.Hj,t[n.N.Bya]=r.Gd.Hj,t[n.N.l_]=r.Gd.Hj,t[n.N.m_]=r.Gd.Hj,t[n.N.n_]=r.Gd.Hj,t[n.N.o_]=r.Gd.Hj,t[n.N.p_]=r.Gd.Hj,t[n.N.q_]=r.Gd.Hj,t},e.eca=o},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.dca=void 0,n=i(44),r.Up=function(){var t;return(t={})[n.ze.GE]="mp4a.40.2",t[n.ze.aDa]="mp4a.40.2",t[n.ze.HE]="mp4a.40.2",t[n.ze.tF]="mp4a.40.42",t[n.ze.xQ]="ec-3",t[n.ze.Rba]="ec-3",t[n.ze.yQ]="ec-3",t},e.dca=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.O5b="LogblobBuilderSymbol",e.nR="HLSLogblobBuilderFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.jLa="ThroughputTrackerConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.mLa="ThroughputTrackerSymbol",e.kLa="ThroughputTrackerFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.xCa="ExtraPlatformInfoProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.iAa="CapabilityDetectorFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lza={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"}},function(t,e,i){var n,o,a;function s(t,e,i,r){this.config=t,this.sj=e,this.mediaType=i,this.Iw=r,this.Ara={},this.Ara[n.Pj.Audio]="audio",this.Ara[n.Pj.VLa]="video"}Object.defineProperty(e,"__esModule",{value:!0}),e.wQ=void 0,n=i(26),t=i(111),o=i(182),a=(new t.FB).format,s.prototype.hZa=function(t){return this.aAb(this.OYa(t))},s.prototype.Ny=function(t){return this.sj.isTypeSupported(t)},s.prototype.uXa=function(){return[o.Xe.g_,o.Xe.gDa,o.Xe.KQ]},s.prototype.lpa=function(){this.Rn=[],this.Ku=[],this.config().DRb&&this.Ku.push(o.Xe.tF),this.config().O4a&&this.Ku.push(o.Xe.bDa),this.config().N4a&&this.Ku.push(o.Xe.UCa),this.config().M4a&&this.Ku.push(o.Xe.Qs),this.config().aI&&this.Ku.push(o.Xe.iB),this.config().P4a&&this.Ku.push(o.Xe.Xx),this.config().L4a&&this.Ku.push(o.Xe.Hj),this.Ku=this.Ku.concat(this.uXa()),!this.config().SBb&&this.Rn.push(o.Xe.tF),!this.config().eVa&&this.Rn.push(o.Xe.eeb),!this.config().dVa&&this.Rn.push(o.Xe.feb),!this.config().PU&&this.Rn.push(o.Xe.geb),!this.config().GBb&&this.Rn.push(/prk$/),this.config().M4a||this.config().rBb||this.Rn.push(o.Xe.Qs),this.config().O4a||this.config().tBb||this.Rn.push(o.Xe.bDa),this.config().N4a||this.config().zla||this.Rn.push(o.Xe.UCa),this.config().aI||this.config().xM||this.Rn.push(o.Xe.iB),this.config().P4a||this.config().QBb||this.Rn.push(o.Xe.Xx),this.config().L4a||this.config().nBb||this.Rn.push(o.Xe.Hj),!this.config().OBb&&this.Rn.push(o.Xe.pK)},s.prototype.$Va=function(t){var e,i;return e=this,i=t.map((function(t){for(var i=v(e.Ku),n=i.next();!n.done;n=i.next())if(n.value.test(t))return Promise.resolve(!0);for(n=(i=v(e.Rn)).next();!n.done;n=i.next())if(n.value.test(t))return Promise.resolve(!1);return e.mz(t).catch((function(){return!1}))})),Promise.all(i).then((function(e){return t.filter((function(t,i){return e[i]}))}))},s.prototype.mz=function(t){return this.config().DBb?this.Iw.mz(t):this.YCb(t)},s.prototype.YCb=function(t){var e;return e="",(t=this.Zta[t])?(Array.isArray(t)&&(e=1<t.length?" "+t[1]:"",t=t[0]),t=a("{0}/mp4;codecs={1};{2}",this.Ara[this.mediaType],t,e),t=this.Ny(t),Promise.resolve(t)):Promise.resolve(!1)},s.prototype.aAb=function(t){var e;return e={},this.lpa(),this.$Va(t).then((function(t){return t.map((function(t){return e[t]=1}))})).then((function(){return Object.keys(e)}))},r.Object.defineProperties(s.prototype,{Zta:{configurable:!0,enumerable:!0,get:function(){return this.yOa||(this.yOa=this.Up()),this.yOa}}}),e.wQ=s},function(t,e,i){var n,r,o,a,s;function u(t,e,i){return(i=r.wQ.call(this,t,e,n.Pj.Audio,i)||this).config=t,i.sj=e,i.type=n.nv.qv,i}Object.defineProperty(e,"__esModule",{value:!0}),e.V_=void 0,n=i(26),r=i(448),o=i(110),t=i(111),a=i(441),s=(new t.FB).format,g(u,r.wQ),u.prototype.dZ=function(){var t;return t=s(u.PP,o.Gd.deb),Promise.resolve(this.config().PU&&this.sj.isTypeSupported(t))},u.prototype.Up=function(){return a.dca.Up()},u.prototype.OYa=function(t){return t||this.config().oC},e.V_=u,u.PP="audio/mp4;codecs={0};"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SFa="MediaCapabilitiesDetectorSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.WFa="MediaCapabilitiesSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VFa="MediaCapabilitiesLogHelperSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.tJa="PresentationAPISymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.w0="IndexedDBConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Iea="Storage"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.JAa="CorruptedStorageValidatorConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TEa="LocalStorageSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.oGa="MemoryStorageSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.zza="BookmarkSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.xza="BookmarkConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.wza="BookmarkConfigParserSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Qza="CDMAttestedDescriptorProvider"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.HFa="ManifestProviderConfigSymbol"},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.Nea=void 0,n=i(11),r.NYa=function(){var t;return(t=n.yv&&n.yv.height)&&1080<=t?1080:720},e.Nea=r},function(t,e){function i(t,e){this.log=t,this.taa=e}Object.defineProperty(e,"__esModule",{value:!0}),e.vR=void 0,i.prototype.nab=function(t,e){var i,n;return i=this,t?((n=t.map((function(t){var n,r,o,a,s,u,c;return(c=i.taa(e,e.type,t.Gr,t.bitrate,t.sb,t.size,i.lFb(t.urls),t.xG,t.JWa/t.IWa,t.Qz)).hYb(t.E7a,t.D7a,t.y5a,t.x5a),c.xXb(null!==(n=t.Pyb)&&void 0!==n?n:void 0,null!==(r=t.Qyb)&&void 0!==r?r:void 0,null!==(o=t.Oyb)&&void 0!==o?o:void 0,null!==(a=t.Nyb)&&void 0!==a?a:void 0,null!==(s=t.y5a)&&void 0!==s?s:void 0,null!==(u=t.x5a)&&void 0!==u?u:void 0),e.rm&&(c.rm=e.rm),t.xG&&(c.kh=t.xG),c}))).sort((function(t,e){return t.bitrate-e.bitrate})),n.forEach((function(t,e){t.lower=n[e-1],t.SIb=n[e+1]})),n):(this.log.warn("There are no media streams for "+e.type+" track - "+e.trackId),[])},i.prototype.lFb=function(t){return t.reduce((function(t,e){return t[e.Sp]=e.url,t}),{})},e.vR=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.PIa="PlayerTextTrackFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uLa="TrackStreamFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CLa="TrickPlayFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.LFa="ManifestVerifyErrorFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.KHa="PboLinksManagerSymbol",e.IHa="PboLinksManagerFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DFa="ManifestEnricherSymbol"},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.bcb=void 0,n=i(8),r=i(19),e.bcb=function(t){var e,i;if(r.Sz(t)){if((i=(e=(new DOMParser).parseFromString(t,"text/xml")).getElementsByTagName("parsererror"))&&i[0]){try{n.log.error("parser error details",{errornode:(new XMLSerializer).serializeToString(i[0]),xmlData:t.slice(0,300),fileSize:t.length})}catch(t){}throw Error("xml parser error")}return e}throw Error("bad xml text")}},function(t,e,i){var n;function r(t){var i,o,a,s,u,c,h;for((o={})[n.cQ]=t.localName,a={},o[n.Fk]=a,s=[],o[n.bQ]=s,c=(u=t.attributes).length,i=0;i<c;i++)a[(h=u[i]).localName]=h.value;for(c=(t=t.childNodes).length,a={},i=0;i<c;i++)switch((u=t[i]).nodeType){case e.fcb:h=(u=r(u))[n.cQ],u[n.Zaa]=o,s.push(u),o[h]?a[h][n.uE]=u:o[h]=u,a[h]=u;break;case e.gcb:case e.dcb:u=u.text||u.nodeValue,s.push(u),o[n.Ms]||(o[n.Ms]=u)}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.ecb=e.dcb=e.gcb=e.Z2b=e.fcb=e.$2b=e.ccb=void 0,n=i(158),e.ccb=function(t){return r(t.nodeType==e.ecb?t.documentElement:t)},e.$2b=r,e.fcb=1,e.Z2b=2,e.gcb=3,e.dcb=4,e.ecb=9},function(t){t.exports=function(){var t;for(t=0;t<arguments.length;t++)if(null!=arguments[t])return arguments[t];return null}},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.Wdb=e.fAa=void 0,n=i(12),r=i(24),o=i(19),a=i(90),e.fAa=function(t,e,i,n,a,s,u,c,h,f){var l,d;l=this,d={Type:e,Bitrate:n,DownloadableId:i},r.Zb(l,{track:t,type:e,Bc:i,bitrate:n,sb:a,kh:c,size:s,jw:u,header:null,hYb:function(t,e,i,n){(o.Xc(t)||o.Xc(e))&&(l.width=t,l.height=e,o.Ba(i)&&o.Ba(n)&&(l.Tha=i/n*t),d.Resolution=(l.width||"")+":"+(l.height||""))},xXb:function(t,e,i,n,r,a){o.Xc(t)&&o.Xc(e)&&o.Xc(i)&&o.Xc(n)&&(l.vka=t,l.o4=e,l.n4=i,l.m4=n),o.Xc(r)&&o.Xc(a)&&(l.z5a=r,l.A5a=a)},framerate:h,Qz:f,Ri:d,toJSON:function(){return d}})},e.Wdb=function(t,e,i,r,o){return t==n.z0||t===a.Ei.audio?e:t==n.aK||t===a.Ei.video?i:t==a.Ei.laa?r:t==a.Ei.vxa?o:void 0}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.tda="MslReadyNotifierSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kBa="DeviceIdGeneratorSymbol"},function(t,e){function i(t,e,n){if(null!=n){if(0<n(t,e))throw i.vTa(t,e)}else if(t.Al&&0<t.Al(e))throw i.vTa(t,e);this.start=t,this.end=e}Object.defineProperty(e,"__esModule",{value:!0}),e.vea=void 0,i.vTa=function(t,e){return new RangeError("end ["+e+"] must be >= start ["+t+"]")},e.vea=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.nBa="DeviceProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.LAa="CryptoKeysSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uHa="PboBindDeviceCommandSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kFa="LogblobSenderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qGa="MessageQueueSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MHa="PboLogblobCommandSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.RLa="UuidProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Jya="AppLogSinkSymbol"},function(e,i,n){var o,a,s,u,c,h,f,l,d,p,b,y,g,m,_,w,E,k,O,S,T,A,P;function j(e,i,n,r,f,_,T,P,j,I,x,M,R,N,C,L,D,U,B,F){var q;q=this,this.j=e,this.va=i,this.L$a=n,this.Vf=r,this.tra=f,this.Vla=_,this.pe=T,this.L4=P,this.hf=j,this.config=I,this.Fd=x,this.za=M,this.Aa=R,this.Aq=N,this.Yz=C,this.Vi=L,this.Kr=D,this.JH=U,this.yc=B,this.yD=F,this.rZ=[],this.Gra=this.iD=this.qY=0,this.sM=[],this.Nha=!1,this.gE=function(e){var i,n,r,o,a,s,c;n={};try{n={playdelaysdk:l.Sf(q.j.XT()),applicationPlaydelay:l.Sf(q.j.eja()),playdelay:l.Sf(q.j.gja()),trackid:q.j.Fj,bookmark:l.Sf(q.j.aw||0),pbnum:q.j.index,endianness:u.LXa()},q.config().RBb&&(n.transitiontime=q.j.Nm,n.uiplaystarttime=q.j.bb.HZ,n.playbackrequestedat=q.j.vk.da(d.ja),n.clockgettime=q.getTime(),n.clockgetpreciseepoch=q.za.ff.da(d.ja),n.clockgetpreciseappepoch=q.Aa.Vz.da(d.ja),n.absolutestarttime=q.j.VG(),n.relativetime=q.j.Lna()),q.E5(n,"startplay")}catch(t){q.log.error("error in startplay log fields",t)}if(q.j.ei&&(n.blocked=q.j.ei),q.yc.n_a(n),q.o_a(n),q.config().Taa&&q.j.bb.Rbb&&(r={},Object.entries(q.j.bb.Rbb).reverse().forEach((function(t){var e;t=(e=v(t)).next().value,e=e.next().value,r[t.toLowerCase()]=e})),n.vui=r),E.Ba(q.j.lRa)&&(n.bookmarkact=l.Sf(q.j.lRa)),(o=q.j.pd.at&&q.j.pd.ats?q.j.pd.at-q.j.pd.ats:void 0)&&(n.nccpat=o),(o=q.j.pd.lr&&q.j.pd.lc?q.j.pd.lr-q.j.pd.lc:void 0)&&(n.nccplt=o),(o=q.PAb())&&(n.downloadables=o),t._cad_global.device&&E.Xc(t._cad_global.device.b5)&&(n.esnSource=t._cad_global.device.b5),l.Zb(n,q.Aq,{prefix:"pi_"}),q.j.yo&&q.j.yo.initBitrate&&(n.initvbitrate=q.j.yo.initBitrate),q.j.yo&&q.j.yo.selector&&(n.selector=q.j.yo.selector),n.fullDlreports=q.mbb,q.j.state.value>=w.Rb.re)try{(a=q.j.Ft())&&(q.maxBitrate=u.iQ(a.map((function(t){return t.bitrate}))),q.E2a=u.iQ(a.map((function(t){return t.height}))),s=0<a.length?k.q2a(a,(function(t){return t.bitrate})):void 0,n.maxbitrate=q.maxBitrate,n.maxresheight=q.E2a)}catch(t){q.log.error("Exception computing max bitrate",t)}try{(c=u.dH())&&(n.pdltime=c)}catch(t){}try{l.Zb(n,q.j.pd,{prefix:"sm_"}),l.Zb(n,q.j.s6(),{prefix:"vd_"})}catch(t){}if("undefined"!=typeof nrdp&&nrdp.device&&(n.firmware_version=nrdp.device.firmwareVersion),e&&q.j.Lu&&(n.pssh=q.j.Lu),q.u_a(q.j,n),n.avtp=q.bJ.Zt().hxa,null!==(i=q.j.Ka)&&void 0!==i&&i.PB&&q.S6(n),q.j.jc.value)try{n.ttTrackFields=q.j.jc.value.Ri}catch(t){}q.yc.j_a(n,q.j.oc.value),q.yc.tN(n,q.j.xg.value),q.j.oa&&"boolean"==typeof q.j.oa.$b.nD&&(n.isSupplemental=q.j.oa.$b.nD),q.j.oa&&(n.packageId=q.j.oa.$b.Vo),q.j.oa&&q.j.oa.$b.Bo&&(n.hasChoiceMap=!0),q.config().xWa&&(n.forceL3WidevineCdm=!0),q.LLb(s),q.KLb(),e&&q.bpa(n),q.l_a(q.j,n),q.nH(q.j,n),q.oH(q.j,n),q.eD(q.j,n,q.Nha),q.cpa(n),q.dpa(n),q.yc.sN(n),q.r_a(n),q.k_a(n),q.yc.U6(n,q.va),q.s_a(n),q.Hc(O.cd.gE,e,A.Ae|A.Ws|A.Bi|A.Ys|A.AE|A.A_|A.DE|A.kp,n)},this.$O=function(t,e,i){e={playdelay:l.Sf(t),reason:i,intrplayseq:q.iD-1,skipped:e},"repos"===i&&(e.prstate=!0===q.j.paused.value?"paused":"playing"),q.oH(q.j,e),q.Hc(O.cd.$O,!1,A.Ae|A.Ws|A.Bi,e),"rebuffer"!==i&&"force_rebuffer"!==i||q.j.Ll.xqb(Number(l.Sf(t)))},this.WL=function(t,e,i,n){t={moff:l.Go(i),moffms:l.Sf(i),vbitrate:e.bitrate,vbitrateold:t.bitrate,vdlid:e.Bc,vdlidold:t.Bc,vheight:e.height,vheightold:t.height,vwidth:e.width,vwidthold:t.width,bw:n},q.oH(q.j,t),q.eD(q.j,t),q.Hc(O.cd.WL,!1,A.Bi,t)},this.Oua=function(t,e,i){t={moff:l.Go(i),moffms:l.Sf(i),vdlidold:t.Bc,vbitrateold:t.bitrate},q.oH(q.j,t),q.eD(q.j,t),q.yc.pq(t,e,q.j.jf.value&&q.j.jf.value.stream),q.Hc(O.cd.k7a,!1,A.Bi,t)},this.pta=function(){var t,e;t={waittime:l.Sf(q.j.Lna()),abortedevent:"startplay",trackid:q.j.Fj,prstate:q.xz(),paustate:q.j.paused.value},q.E5(t,"endplay"),q.Kr.SU&&(t.eventlist_version=1,t.eventlist=q.JH.IYa(q.j)),q.j.yo&&q.j.yo.initBitrate&&(t.initvbitrate=q.j.yo.initBitrate);try{(e=u.dH())&&(t.pdltime=e),l.Zb(t,q.j.pd,{prefix:"sm_"})}catch(t){}q.Zoa(t,!0),q.yc.U6(t,q.va),q.yc.tN(t,q.j.xg.value),q.bpa(t),q.yc.pq(t,q.j.We.value,q.j.jh.value),q.u_a(q.j,t),q.nH(q.j,t),q.Hc(O.cd.H9,!1,A.Ae|A.Bi|A.AE|A.Ys|A.kp,t)},this.ota=function(t,e){t={waittime:l.Sf(t),abortedevent:"resumeplay",resumeplayreason:e},q.j.yo&&q.j.yo.initBitrate&&(t.initvbitrate=q.j.yo.initBitrate),q.yc.pq(t,q.j.We.value,q.j.jh.value),q.Hc(O.cd.H9,!1,A.Ae|A.Bi|A.kp,t)},this.Fwa=function(t,e){t={newstate:e?"Paused":"Playing",oldstate:t?"Paused":"Playing"},q.oH(q.j,t),q.eD(q.j,t),q.yc.pq(t,q.j.oe.value&&q.j.oe.value.stream,q.j.jf.value&&q.j.jf.value.stream),q.Hc(O.cd.T9a,!1,A.Ae|A.Bi,t)},this.ppa=function(t,e,i){var n,r;t=l.Zb({vdlid:q.j.We.value.Bc,playingms:t,pausedms:e,intrplayseq:q.iD++,prstate:q.xz(),paustate:q.j.paused.value},i),q.E5(t,"intrplay"),e=q.j.qc[o.Tb.Ta.Mb].value,i=q.j.qc[o.Tb.Ta.Wb].value,t.cdnid=t.vcdnid=e&&e.id,t.acdnid=i&&i.id,t.locid=q.rW&&q.rW.Bqa,t.loclv=q.rW&&q.rW.C1a,t.avtp=q.bJ.Zt().hxa,t.mediabuffered=null===(n=q.j.Xf)||void 0===n?void 0:n.J5(),null!==(r=q.j.Ka)&&void 0!==r&&r.PB&&(q.Zoa(t,!0),q.S6(t),q.q_a(t));try{l.Zb(t,q.j.s6(),{prefix:"vd_"})}catch(t){}q.oH(q.j,t),q.eD(q.j,t),q.yc.pq(t,q.j.oe.value&&q.j.oe.value.stream,q.j.jf.value&&q.j.jf.value.stream),q.Hc(O.cd.ppa,!1,A.Ae|A.Bi,t)},this.QO=function(t,e,i){t={moffold:l.Go(t),reposseq:q.qY++,prstate:q.xz(),paustate:q.j.paused.value},q.eD(q.j,t),q.yc.pq(t,i&&i.stream,e&&e.stream),q.Hc(O.cd.QO,!1,A.Ae|A.Bi,t)},this.uia=function(){var t,e,i,n,r;e=q.j.oc.value,i=q.j.jh.value.Bc,e=e?{trackId:e.trackId,bcp47:e.Wd,lang:e.Wd,downloadableId:i,rank:e.uc}:{},n=q.Tz,r=null===(t=q.aqa)||void 0===t?void 0:t.Bc,t=n?{trackId:n.trackId,bcp47:n.Wd,lang:n.Wd,downloadableId:r,rank:n.uc}:{},q.Hc(O.cd.PQa,!1,A.Ae|A.Bi,{switchdelay:l.Sf(q.getTime()-q.bqa),newtrackinfo:e,oldtrackinfo:t,oldAudioDownloadableId:r,newAudioDownloadableId:i})},this.UY=function(t){q.Hc(O.cd.I9a,!1,A.Ae|A.Bi,{speedold:Math.floor(1e3*t.oldValue),speed:Math.floor(1e3*t.newValue)})},this.IP=function(){q.Hc(O.cd.N_b,!1,A.Ae|A.Bi,{track:q.j.jc.value.Ri})},this.UA=function(t){var e,i,n;i=q.j.jc.value,(t.newValue||i&&i.Vr()&&!i.rq())&&(n={},t=null!==(e=t.newValue)&&void 0!==e?e:i,n.newtrackinfo=t?{trackId:t.trackId,bcp47:t.Wd,lang:t.Wd,downloadableId:t.Bc,rank:t.uc,isImageBased:t.kk}:{},e=q.oqa,n.oldtrackinfo=e?{trackId:e.trackId,bcp47:e.Wd,lang:e.Wd,downloadableId:e.Bc,rank:e.uc,isImageBased:e.kk}:{},n.switchDelay=l.Sf(q.getTime()-q.nqa),q.yc.pq(n,q.j.oe.value&&q.j.oe.value.stream,q.j.jf.value&&q.j.jf.value.stream),q.Hc(O.cd.W$a,!1,A.Ae|A.Bi,n))},this.Np=function(t){q.Hc(O.cd.Qsb,!1,A.Ae|A.Bi,t.newValue)},this.fub=function(t,e){var i,n;i=e.serverid,(n={locid:e.location,loclv:e.locationlv,selocaid:i,selcdnid:i,selocaname:e.servername}).mediatype=e.mediatype,n.selreason=e.selreason||"unknown",n.seldetail=e.seldetail,n.cdnbwdata=JSON.stringify([{id:i}]),t&&(n.oldlocid=t.Bqa,n.oldloclv=t.C1a,n.oldocaid=t.nXb,n.oldocaname=t.HI),q.Hc(O.cd.RRa,!1,A.A_,n)},this.uUa=function(){var t,e,i;if(q.j.hi)try{t=!1,q.mbb||(t=!0,q.sM=q.sM.filter((function(t){return!t.$}))),0<q.sM.length&&(e=q.L4.construct(q.sM,q.j.vk.da(d.ja)),q.sM=[],e.erroronly=t,i={},l.te(e,(function(t,e){i[t]=JSON.stringify(e)})),q.Hc(O.cd.wAb,!1,A.Bi,i))}catch(t){q.log.error("Exception in dlreport.",t)}},this.xz=function(){var t;return(t=q.j.yb.value)===w.cb.Kc?"playing":t===w.cb.hh?"paused":t===w.cb.Wq?"ended":"waiting"},this.zD=function(){var t,e,i;q.j.state.value==w.Rb.re&&(i=q.IX(),q.config().Uua&&(i.avtp=q.bJ.Zt().hxa,null!==(t=q.j.Ka)&&void 0!==t&&t.PB&&q.S6(i)),i.mediabuffered=null===(e=q.j.Xf)||void 0===e?void 0:e.J5(),i.midplayseq=q.Gra++,i.prstate=q.xz(),i.paustate=q.j.paused.value,q.config().kXb&&q.l$a("midplay"),q.config().Sw&&q.epa(i),q.cpa(i),q.dpa(i),q.yc.sN(i),q.Hc(O.cd.zD,!1,A.Ae|A.Bi|A.AE|A.Ys,i))},this.l$a=function(t){var e,i;(e={}).trigger=t;try{i=q.j.Fna(),e.subtitleqoescore=q.j.Qq.xHb(i),e.metrics=JSON.stringify(q.j.Qq.$na(i))}catch(t){q.log.error("error getting subtitle qoe data",t)}q.Hc(O.cd.TZb,!1,A.Ae|A.AE|A.Ws,e,"info")},this.transition=function(t){q.eD(q.j,t),q.Hc(O.cd.transition,!1,0,t)},this.MG=function(t){var e,i,n,r,o,a,s,u;i=q.IX(),q.E5(i,"endplay"),i.prstate=q.xz(),i.paustate=q.j.paused.value,i.muted=q.j.muted.value,q.j.WA&&"downloaded"===q.j.WA.o6()&&(i.trickplay_ms=q.j.EZ.offset,i.trickplay_res=q.j.EZ.C7a),q.config().ubb&&(i.rtinfo=q.j.cHb()),q.config().Uua&&null!==(e=q.j.Ka)&&void 0!==e&&e.PB&&q.S6(i),q.o_a(i),i.endreason=t?"error":q.j.yb.value===w.cb.Wq?"ended":"stopped",e=q.Aq,q.CJb(e),e&&l.Zb(i,e,{prefix:"pi_"}),e=q.j.li,t&&e&&p.kca(e.errorCode)&&(n="info");try{l.Zb(i,q.j.pd,{prefix:"sm_"})}catch(t){}if(q.j.Yoa&&(i.inactivityTime=q.j.Yoa),q.Zoa(i,"info"!==n&&t),q.q_a(i),q.j.etb){e=q.j.etb,r=q.config().ML,o=q.j.loadTime,a={iv:r,seg:[]},s=function(t,e,i){return 0===e||void 0===i[e-1]?t:t-i[e-1]},u=e.FT.map(s),s=e.TZ.map(s);for(var c,h=0;h<u.length;h++)(u[h]||s[h])&&(c?(c.ams.push(u[h]),c.vms.push(s[h])):c={ams:[e.FT[h]],vms:[e.TZ[h]],soffms:e.startTime+h*r-o}),h!==u.length-1&&u[h]&&s[h]||!c||(a.seg.push(c),c=void 0);i.bt=JSON.stringify(a)}t&&q.bpa(i),q.l$a("endplay"),q.config().Sw&&q.epa(i),q.yc.tN(i,q.j.xg.value),q.l_a(q.j,i),q.nH(q.j,i),q.oH(q.j,i),q.eD(q.j,i,q.Nha),q.cpa(i),q.dpa(i),q.yc.sN(i),q.r_a(i),q.DJb(i),q.k_a(i),q.FJb(i),q.EJb(i),q.IJb(i),q.s_a(i),q.JJb(i),q.Hc(O.cd.MG,t,A.Ae|A.Ws|A.Bi|A.AE|A.Ys|A.DE|A.kp,i,n)},this.FAb=function(t){q.sM.push(q.L4.Xvb(t.response))},this.hla=function(t){var e,i,n,r,o,a;if(e=(t=t.response).request,i=t.request.kA,(n=e.track)&&(r=!t.$&&t.na!=p.L.qB,o=n.type,a=t.zm,r||q.va.Gqa)){switch(i={dltype:o,url1:e.url,url2:t.url||"",cdnid:e.qc&&e.qc.id,tresp:l.Sf(a.vi-a.Iq),brecv:l.AWa(a.eka),trecv:l.Sf(a.Zo-a.vi),sbr:i&&i.bitrate},t.ls&&(i.range=t.ls),o){case c.Ei.audio:i.adlid=e.stream.Bc;break;case c.Ei.video:i.vdlid=e.stream.Bc;break;case c.Ei.laa:i.ttdlid=n.Bc}(e=S.Bna(t.na))&&(i.nwerr=e),t.ik&&(i.httperr=t.ik),q.Hc(O.cd.hla,r,A.Bi,i)}},this.ei=function(){q.Hc(O.cd.iRa,!1,A.Ae|A.AE|A.kp,{})},this.jvb=function(t){var e,i;e=t.response.zm,t=d.Nc(e.vi),i=d.Nc(e.Zo),(e=y.fa(e.eka||0)).G0a()||e.Fpa()||(t=new g.vea(t,i),q.bJ.qqb(new m.sBa(t,e)))},this.y9=function(t){var e;e=t.newValue,t.om&&t.om.hsa&&e||e==q.yH||(q.Fwa(q.yH,e),q.yH=e)},this.Jy=function(t){function e(t){var e;if(q.j.Vb&&q.j.Vb.sourceBuffers&&(e=q.j.Vb.sourceBuffers.filter((function(e){return e.type===t})).pop()))return{busy:e.Hh(),updating:e.updating(),ranges:e.K5()}}(t={cause:t.cause}).cause&&t.cause===s.Xda&&(t.mediaTime=q.j.mediaTime.value,t.buf_audio=e(a.z0),t.buf_video=e(a.aK)),q.ppa(q.rZ[w.cb.Kc]||0,q.rZ[w.cb.hh]||0,t)},this.hab=function(t){var e;t=t.oldValue,e=q.getTime(),t===w.cb.Pf?q.rZ=[]:q.rZ[t]=(q.rZ[t]||0)+(e-q.VLb),q.VLb=e},this.gm=function(t){q.bqa=q.getTime(),q.Tz=t.oldValue},this.Rl=function(t){q.nqa=q.getTime(),q.oqa=t.oldValue},this.HT=function(t){q.aqa=t.oldValue},this.Xz=function(t){function e(t,e){var i;if(!t||t.Bqa!==e.location)return i={Bqa:e.location,C1a:e.locationlv,nXb:e.serverid,HI:e.servername},q.fub(t,e),i}"audio"===t.mediatype?(t=e(q.RLb,t))&&(q.RLb=t):(t=e(q.rW,t))&&(q.rW=t)},this.GY=function(t){var e,i;e=t.mediatype,i=t.reason,"video"===e?"serverswitchaway"===i?(q.Ej.summary.Obb++,q.Ej.N7=q.za.ff.da(d.ja)):"serverswitchback"===i&&(q.Ej.summary.Pbb++,q.Ej.N7&&(q.Ej.summary.Qbb.push(q.za.ff.da(d.ja)-q.Ej.N7),q.Ej.N7=void 0)):"audio"===e&&("serverswitchaway"===i?(q.Ej.summary.CQa++,q.Ej.I7=q.za.ff.da(d.ja)):"serverswitchback"===i&&(q.Ej.summary.DQa++,q.Ej.I7&&(q.Ej.summary.EQa.push(q.za.ff.da(d.ja)-q.Ej.I7),q.Ej.I7=void 0))),q.Hc(O.cd.pXb,!1,A.Ae|A.Bi,{mediatype:t.mediatype,server:t.server,selreason:t.reason,location:t.location,bitrate:t.bitrate,confidence:t.confidence,throughput:t.throughput,oldserver:t.oldserver})},this.FL=function(t){q.Hc(O.cd.Frb,!1,A.Bi,{strmsel:t.strmsel})},this.DP=function(t){(t=b.pP(t)).details&&(t.details=JSON.stringify(t.details)),q.Hc(O.cd.SZb,!0,A.Ae|A.Ws|A.A_,t)},this.Nha=L.bya||L.Jaa||L.yWa,this.bJ=n(),this.log=h.Ih(e,"LogblobBuilder"),this.yH=e.paused.value,this.ba=this.va.ba,this.Ej={summary:{Obb:0,Pbb:0,Qbb:[],CQa:0,DQa:0,EQa:[]},N7:void 0,I7:void 0}}Object.defineProperty(i,"__esModule",{value:!0}),i.oR=void 0,o=n(47),a=n(12),s=n(58),u=n(50),c=n(90),h=n(8),f=n(21),l=n(24),d=n(4),p=n(3),b=n(30),y=n(52),g=n(478),m=n(1102),_=n(11),w=n(15),E=n(19),k=n(1103),O=n(272),S=n(160),T=n(132),j.prototype.u_a=function(t,e){var i,n,r,o,a,s,u,c,h,f,d,p,b,v,y,g,m;if(this.config().Sw)try{i={},n=this.Fd.getStats(void 0,void 0,t.J),r=t.VG(),o=n.aJ.uvb||[],i.attempts=n.P9||0,i.num_completed_tasks=o.length,a=this.pe.VCb,s={},u=T.Ik.EP,c=T.Ik.Pt,h=T.Ik.nja,n.Dl&&(s.scheduled=n.Dl-r),(f=t.oa)&&E.Ba(f.uI)&&(s.preauthsent=f.uI-t.loadTime,s.preauthreceived=f.TO-t.loadTime),d=o.filter((function(t){return"manifest"===t.type})),i.mf_succ=d.filter(a("status",u)).length,i.mf_fail=d.filter(a("status",c)).length,p=t.pd,E.Xc(p.lg)&&0>p.lg&&t.loadTime&&(s.ldlsent=p.lc,s.ldlreceived=p.lr),b=o.filter((function(t){return"ldl"===t.type})),i.ldl_succ=b.filter(a("status",u)).length,i.ldl_fail=b.filter(a("status",c)).length,n=!0,r=[],"notcached"===t.lG&&(n=!1,r.push("Missing cached manifest")),this.config().RU||(n=!1,r.push("LDL prefetch disabled")),v=b.filter(a("status",h)).length,this.config().RU&&0===v&&(!s.ldlreceived||0<=s.ldlreceived)&&(n=!1,r.push("LDL received after start")),this.config().kVa&&(e.isPrefetchItem?(y=e.prefetchedAudioMs/e.bcABufferLevelMs,(1>e.prefetchedVideoMs/e.bcVBufferLevelMs||1>y)&&(n=!1,r.push("Insufficient media fetched"))):(n=!1,r.push("aseStats not initialized"))),g=o.filter((function(t){return"getHeaders"===t.type})),i.header_succ=g.filter(a("status",u)).length,i.header_fail=g.filter(a("status",c)).length,m=o.filter((function(t){return"getMedia"===t.type})),i.media_succ=m.filter(a("status",u)).length,i.media_fail=m.filter(a("status",c)).length,i.hm_succ=i.header_succ+i.media_succ,i.hm_fail=i.header_fail+i.media_fail,l.Zb(e,i,{prefix:"pr_"}),this.Kr.SU&&(e.eventlist_version=1,e.eventlist=this.JH.IYa(t)),(e.prefetchCompleted=n)||(e.prefetchFailed=r,l.Zb(e,s,{prefix:"pe_"})),this.epa(e)}catch(t){this.log.warn("error in collecting video prepare data",t)}},j.prototype.iHb=function(t,e){if((t=t.qV())&&(e=t[e]))return e.Jb},j.prototype.l_a=function(t,e){t.bb.Fl&&(e.isBranching=!0)},j.prototype.nH=function(t,e){var i,n;n=(null===(i=t.oa)||void 0===i?void 0:i.i0a)||"videopreparer"===t.kG,e.cachedManifest=t.lG,e.cachedLicense=t.kG,e.usedldl=this.config().RU?n.toString():"not_capable"},j.prototype.oH=function(t,e){var i,n;this.config().HJb&&(i=t.Gna(),n=t.ha.oa,i&&n&&(e.segment=i,n=t.TC(),e.segmenttime=n,t=this.iHb(t,i),null!==n&&void 0!==t&&(e.segmentoffset=n-t)))},j.prototype.eD=function(t,e,i){e.pxid=t.L9,void 0!==i&&i&&(e.playgraph_trace=t.P5a)},j.prototype.q_a=function(t){var e,i;i=(e=this.j.N$b)&&e.Qbc,e&&e.iJb&&(t.htwbr=e.iJb,t.pbtwbr=e.bta,t.hptwbr=e.P$b),e&&e.wWb&&(t.rr=e.wWb,t.ra=e.Mbc),e&&i&&0<(i.length||0)&&(t.qe=JSON.stringify(i))},j.prototype.bpa=function(t){var e,i,n;try{(i=(e=this.pe.createElement("canvas")).getContext("webgl")||e.getContext("experimental-webgl"))&&(n=i.getExtension("WEBGL_debug_renderer_info"))&&(t.WebGLRenderer=i.getParameter(n.UNMASKED_RENDERER_WEBGL),t.WebGLVendor=i.getParameter(n.UNMASKED_VENDOR_WEBGL))}catch(t){}},j.prototype.IJb=function(t){t.switchAwaySummary={vsa:this.Ej.summary.Obb,vsb:this.Ej.summary.Pbb,vsbt:this.Ej.summary.Qbb,asa:this.Ej.summary.CQa,asb:this.Ej.summary.DQa,asbt:this.Ej.summary.EQa}},j.prototype.fmb=function(t){var e;return e=[],t?Object.keys(t).map((function(t){return+t})):e},j.prototype.PAb=function(){var t,e;if(t=this,this.j.ip&&this.j.Ki)return e=[],this.j.ip.concat(this.j.Ki).forEach((function(i){i.streams.forEach((function(i){e.push({dlid:i.Bc,type:i.type,bitrate:i.bitrate,vmaf:i.sb,cdn_ids:t.fmb(i.jw)})}))})),JSON.stringify(e)},j.prototype.eub=function(){var t,e,i;function n(t,n){var r,o,a;r=t.cdnId+"$"+t.correlationId,(o=i[r])||(o={cdnid:t.cdnId,pbcid:t.correlationId,dls:[]},i[r]=o,e.push(o)),f.kM(t.bitrate),f.kM(t.duration),r={bitrate:t.bitrate,tm:_.bj(t.duration)},(a=t.vmaf)&&(f.kM(t.vmaf),r.vf=a),r[n]=l.He(t.downloadableId),o.dls.push(r)}return t=this.j.Ll.uEb(),e=[],i={},t.audio.forEach((function(t){n(t,"adlid")})),t.video.forEach((function(t){n(t,"dlid")})),JSON.stringify(e)},j.prototype.IX=function(){var t,e,i,n,r,o,a,s,u,c,h,d,p;t=this.j.Ll,e={totaltime:l.Go(t.jN()),totalcontenttime:l.Go(t.hoa()),cdndldist:this.eub(),reposcount:this.qY,intrplaycount:this.iD};try{for(i={numskip:0,numlowqual:0},r=(n=this.j.Xf).QC(),E.Ba(r)&&(e.totfr=r,i.numren=r),r=n.XG(),E.Ba(r)&&(e.totdfr=r,i.numrendrop=r),r=n.sV(),E.Ba(r)&&(e.totcfr=r,i.numrenerr=r),r=n.X5(),E.Ba(r)&&(e.totfdl=r),e.playqualvideo=JSON.stringify(i),(o=this.j.We.value)&&(e.videofr=o.framerate.toFixed(3)),(a=t.Tma())&&(e.abrdel=a),(s=t.JZa()&&t.YWa())&&(e.tw_vmaf=s),(u=t.WWa())&&l.Zb(e,u),e.rbfrs=this.iD,e.maxbitrate=this.maxBitrate,e.maxresheight=this.E2a,c=this.j.fH(),t=0;t<c.length;t++){if(h=c[t],d=this.va.VN.Yu(h)){f.hb(p),e.maxbitrate=p?p.bitrate:0,e.maxresheight=p?p.height:0,e.bitratefilters=d.join("|");break}p=h}this.j.WA&&(e.trickplay=this.j.WA.o6()),null!==this.j.Qq.ZQa&&(e.avg_subt_delay=this.j.Qq.ZQa)}catch(t){this.log.error("Exception reading some of the endplay fields",t)}return l.Zb(e,this.j.s6(),{prefix:"vd_"}),e},j.prototype.getTime=function(){return this.Aa.Yb().da(d.ja)},j.prototype.epa=function(t){var e;try{e=this.Fd.getStats(),t.pr_cache_size=JSON.stringify(e.cache),t.pr_stats=JSON.stringify(e.aEb)}catch(t){}},j.prototype.cpa=function(t){this.log.debug("httpstats",this.hf.ec),l.Zb(t,this.hf.ec,{prefix:"http_"})},j.prototype.Zoa=function(t,e){var i,n,r;i=this.config().QTa&&!(this.ba%this.config().QTa),r=null==(n=this.j.Ka)?void 0:n.$h,i&&r&&(t.ASEstats=JSON.stringify(n.f7(e)))},j.prototype.S6=function(t){Object.assign(t,this.j.Ka.Qb.DHb())},j.prototype.dpa=function(t){var e;try{e=_.xv.memory,E.D0a(e)&&(t.totalJSHeapSize=e.totalJSHeapSize,t.usedJSHeapSize=e.usedJSHeapSize,t.jsHeapSizeLimit=e.jsHeapSizeLimit)}catch(t){}},j.prototype.r_a=function(t){var e;e=this.j.nf,this.config().$tb&&e&&!this.config().hp&&(e=this.j.DPb(e.w$b()),t.keystatuses=e,this.log.trace("keystatuses",e))},j.prototype.k_a=function(t){var e;try{this.config().$T&&(e=this.j.EEb(),t.battery=e,this.log.trace("batterystatuses",e))}catch(t){}},j.prototype.DJb=function(t){this.j.u4&&(t.dqec=this.j.u4)},j.prototype.CJb=function(t){this.j.Q3&&l.Zb(t,{cast_interaction_counts:this.j.Q3.D$b()})},j.prototype.s_a=function(t){var e,i,n;null!==(e=this.j.nf)&&void 0!==e&&e.Wt?t.keysys=this.j.nf.Wt():null!==(n=null===(i=this.j.nf)||void 0===i?void 0:i.mediaKeys)&&void 0!==n&&n.keySystem?t.keysys=this.j.nf.mediaKeys.keySystem:this.yD.V0a&&(t.keysys=this.yD.V0a)},j.prototype.EJb=function(t){this.Ula&&(t.externaldisplay=this.Ula.YU)},j.prototype.FJb=function(t){this.rE&&this.rE.pc&&(t.media_capabilities_smooth=this.rE.pc.smooth,t.media_capabilities_efficient=this.rE.pc.powerEfficient,t.media_capabilities_bitrate=this.rE.pc.bitrate,t.media_capabilities_height=this.rE.pc.height,t.media_capabilities_width=this.rE.pc.width)},j.prototype.o_a=function(t){var e,i;if(this.j.aM&&((e=this.j.aM).f4&&(t.controllerESN=e.f4),e.Uvb&&(t.controllerUiVer=e.Uvb),e.Tvb))try{i=JSON.parse(e.Tvb),t.controllerGroupNames=i}catch(t){this.log.error("Exception parsing controller group names",t)}},j.prototype.JJb=function(t){t.didHydrateTracks=this.j.G4},j.prototype.KLb=function(){void 0===this.Ula&&(this.Ula=this.Vla.NCb())},j.prototype.LLb=function(t){void 0===this.rE&&void 0!==t&&(this.rE=this.tra.$la(t))},j.prototype.E5=function(t,e){(e=this.j.wz(e))&&Object.entries(e).forEach((function(e){var i;e=(i=v(e)).next().value,i=i.next().value,t[e]=i}))},j.prototype.Hc=function(t,e,i,n,r){this.Fha(n,this.j,e,i),t=this.Yz.Gt(t,r||(e?"error":"info"),n,this.va),this.Vf.Hc(t)},j.prototype.Fha=function(t,e,i,n){var r,o,a,s,u;if("undefined"!=typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(t.devmod=nrdp.device.deviceModel),this.yc.m_a(t,e),n&A.Ae&&(f.hb(!t||void 0===t.moff),this.yc.t_a(t,e)),n&A.Ws&&this.yc.v_a(t,e),n&A.Bi&&null!==(r=e.Ka)&&void 0!==r&&r.$h&&(t.abuflbytes=null!==(o=t.abuflbytes)&&void 0!==o?o:e.oia(),t.abuflmsec=null!==(a=t.abuflmsec)&&void 0!==a?a:e.DT(),t.vbuflbytes=null!==(s=t.vbuflbytes)&&void 0!==s?s:e.gya(),t.vbuflmsec=null!==(u=t.vbuflmsec)&&void 0!==u?u:e.QZ()),n&A.Ys&&this.yc.w_a(t,e.Jg),n&A.AE&&(0<=(r=_.kf.hardwareConcurrency)&&(t.numcores=r),r=this.va.sla)&&(o=r.zEb(),t.droppedFrames=JSON.stringify(o),r=r.GV(this.config().ZAb),l.te(r,(function(e,i){t["droppedFramesP"+e]=JSON.stringify(i)}))),n&A.A_)try{e.hi&&(t.cdninfo=JSON.stringify(e.hi.map((function(t){return{id:t.id,nm:t.name,rk:t.uc,wt:t.location.weight,lv:t.location.level}}))))}catch(t){}i&&n&A.DE&&(f.hb(e.li),this.yc.p_a(t,e,e.li)),n&A.kp&&this.yc.apa(t)},r.Object.defineProperties(j.prototype,{mbb:{configurable:!0,enumerable:!0,get:function(){return this.j.iz||this.j.wM}}}),i.oR=j,(P=A||(A={}))[P.Ae=1]="MOFF",P[P.Ws=2]="PRESENTEDSTREAMS",P[P.Bi=4]="BUFFER",P[P.Ys=8]="SCREEN",P[P.AE=16]="CPU",P[P.A_=32]="CDN",P[P.DE=64]="FATALERROR",P[P.kp=128]="BROWSERINFO"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.uBa="DownloadReportBuilderSymbol"},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t){this.config=t}Object.defineProperty(e,"__esModule",{value:!0}),e.tBa=void 0,t=i(1),n=i(160),r=i(90),o=i(24),a=i(3),s=i(21),u=i(11),c=i(19),h=i(0),i=i(13),l.prototype.construct=function(t,e){var i,n,r;return i=this,n={},t.forEach((function(t){var e;e=t.url,n[e]||(n[e]=[]),n[e].push(t)})),r=[],o.te(n,(function(t,n){r.push(i.LHb(n,e))})),{urls:r}},l.prototype.LHb=function(t,e){var i,n,r,a;return i=this,n=t[0],r={url:n.url,bitrate:n.bitrate,cdnid:c.Jh(n.qc)?n.qc.id:n.qc,dltype:n.yAb,id:n.Bc},a={},t.forEach((function(t){var e;e=i.HKb(t)?"fail":"success",a[e]||(a[e]=[]),a[e].push(t)})),o.te(a,(function(t,n){"fail"===t?r.failures=i.wFb(n,e):"success"===t&&(r.downloads=i.nFb(n,e))})),r},l.prototype.nFb=function(t,e){var i,n,r;return i=this,n={},t.forEach((function(t){var e;e=t.bvb,n[e]||(n[e]=[]),n[e].push(t)})),r=[],o.te(n,(function(t,n){var o;o=[],n.forEach((function(n){o.push(n),i.sKb(n)&&(r.push(i.zXa(o,e,t)),o=[])})),0<o.length&&r.push(i.zXa(o,e,t))})),r},l.prototype.zXa=function(t,e,i){var n,r,o,a,s;o=(r=(n=t.sort((function(t,e){return t.zm.vi<e.zm.vi?-1:t.zm.vi>e.zm.vi?1:0})))[0].zm).Iq,a=r.vi,r=r.Zo;for(var u=1;u<t.length;u++)(s=t[u].zm).Iq<o&&(o=s.Iq),s.vi<a&&(a=s.vi),s.Zo>r&&(r=s.Zo);return u=this.VGb(n),s=n[n.length-1],{time:o-e,tcpid:i?parseInt(i):-1,tresp:a-o,first:u,ranges:this.WGb(n,u),dur:r-a,trace:this.VC(t),status:this.o6(s)}},l.prototype.VGb=function(t){var e;return e=0,t.forEach((function(t){t.ls&&(e=u.np(e,t.ls[0]))})),e},l.prototype.WGb=function(t,e){var i;return i=[],t.forEach((function(t){t.ls?i.push([t.ls[0]-e,t.ls[1]-e]):i.push([0,-1])})),i},l.prototype.VC=function(t){var e,i;return e=[],t.forEach((function(t){var n;t=t.zm,i&&(0<(n=t.Iq-i.Zo)&&e.push([n,-2]),n=u.fo(i.Zo,t.Iq),0<(n=t.vi-n)&&e.push([n,-3])),e.push([t.Zo-t.vi,t.eka||0]),i=t})),e},l.prototype.sKb=function(t){if(t.na===a.L.qB||t.na===a.L.IE)return!0},l.prototype.o6=function(t){return t.$?"complete":t.na===a.L.qB?"abort":t.na===a.L.IE?"stall":(s.hb(!1,"download status should never be: other"),"other")},l.prototype.wFb=function(t,e){var i,r;return i=this,r=[],t.forEach((function(t){var o;t={time:(o=t.zm).vi-e,tresp:o.vi-o.Iq,dur:o.Zo-o.vi,range:t.ls,reason:i.YGb(t),httpcode:t.ik,nwerr:n.Bna(t.na)},r.push(t)})),r},l.prototype.YGb=function(t){return t.ik||t.na===a.L.dR?"http":t.na===a.L.fR?"timeout":"network"},l.prototype.HKb=function(t){return!t.$&&void 0!==t.$&&t.na!==a.L.qB&&t.na!==a.L.IE},l.prototype.Xvb=function(t){var e,i,n,o,a,s;switch(i=(e=t.request).stream,n=e.track,o=e.url,a=this.kFb(n,o)){case r.Ei.audio:case r.Ei.video:s=e.stream.Bc;break;case r.Ei.laa:case r.Ei.vxa:s=n.Bc}return t={bitrate:i&&i.bitrate,yAb:a,Bc:s,zm:t.zm,qc:e.qc,url:o,pf:t.pf,ik:t.ik,na:t.na,$:t.$,bvb:this.ACb(t)},void 0!==e.offset&&null!=e.length&&(t.ls=[e.offset,e.offset+e.length-1]),t},l.prototype.kFb=function(t,e){if(t)return t.type;if(0<=e.indexOf("netflix.com")){if(0<=e.indexOf("nccp"))return"nccp";if(0<=e.indexOf("api"))return"api"}return"other"},l.prototype.ACb=function(t){if(t.headers&&(t=t.headers["X-TCP-Info"]||t.headers["x-tcp-info"]))return(t=t.split(";").filter((function(t){return 0==t.indexOf("port=")})).map((function(t){return t.split("=")[1]}))[0])?o.He(t):t},f=l,f=t.__decorate([h.R(),t.__param(0,h.l(i.Zc))],f),e.tBa=f},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qR="LogblobMonitorFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.oMa="XhrFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.HGa="NetworkMonitorSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GCa="FtlDataParserSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EDa="HttpRequesterSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rHa="PboAcquireLicenseCommandSymbol"},function(t,e,i){var n,r,o,a,s,u;function c(t){var e;if(1481462272!=(t=new o.BQ(t)).Gq())throw Error("Invalid header");return e={XMR:{Version:t.Gq(),RightsID:t.Yw(16)}},h(t,e.XMR,t.buffer.length),e}function h(t,e,i){for(var n,r,o,a,s;t.position<i;){switch(n=t.uh(),r=t.Gq(),r-=8,n){case 1:o="OuterContainer";break;case 2:o="GlobalPolicy";break;case 3:o="MinimumEnvironment";break;case 4:o="PlaybackPolicy";break;case 5:o="OutputProtection";break;case 6:o="UplinkKID";break;case 7:o="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:o="AnalogVideoOutputConfiguration";break;case 9:o="KeyMaterial";break;case 10:o="ContentKey";break;case 11:o="Signature";break;case 12:o="DeviceIdentification";break;case 13:o="Settings";break;case 18:o="ExpirationRestriction";break;case 42:o="ECCKey";break;case 48:o="ExpirationAfterFirstPlayRestriction";break;case 50:o="PlayReadyRevocationInformationVersion";break;case 51:o="EmbeddedLicenseSettings";break;case 52:o="SecurityLevel";break;case 54:o="PlayEnabler";break;case 57:o="PlayEnablerType";break;case 85:o="RealTimeExpirationRestriction";break;default:o="Other"}switch(a={Type:f(n)},(s=e[o])?u.isArray(s)?s.push(a):(e[o]=[],e[o].push(s),e[o].push(a)):e[o]=a,n){case 1:case 2:case 4:case 7:case 9:case 54:h(t,a,t.position+r);break;case 5:a.Reserved1=t.uh(),a.MinimumUncompressedDigitalVideoOutputProtectionLevel=t.uh(),a.MinimumAnalogVideoOutputProtectionLevel=t.uh(),a.Reserved2=t.uh(),a.MinimumUncompressedDigitalAudioOutputProtectionLevel=t.uh();break;case 10:a.Reserved=t.Yw(16),a.SymmetricCipherType=t.uh(),a.AsymmetricCipherType=t.uh(),r=t.uh(),a.EncryptedKeyLength=r,n=t.Yw(r),a.EncryptedKeyData=10>=r?n:n.substring(0,4)+"..."+n.substring(n.length-4,n.length);break;case 11:a.SignatureType=t.Yw(2),r=t.uh(),n=t.Yw(r),a.SignatureData=10>=r?n:n.substring(0,4)+"..."+n.substring(n.length-4,n.length);break;case 13:a.Reserved=t.uh();break;case 18:a.BeginDate=t.Gq(),a.EndDate=t.Gq();break;case 42:a.CurveType=t.Yw(2),r=t.uh(),n=t.Yw(r),a.Key=10>=r?n:n.substring(0,4)+"..."+n.substring(n.length-4,n.length);break;case 48:a.ExpireAfterFirstPlay=t.Gq();break;case 50:a.Sequence=t.Gq();break;case 51:a.LicenseProcessingIndicator=t.uh();break;case 52:a.MinimumSecurityLevel=t.uh();break;case 57:a.PlayEnablerType=l(t.Yw(16));break;case 85:break;default:a.OtherData=t.Yw(r)}}}function f(t){return"0x"+t.toString(16)}function l(t){return t.substring(6,8)+t.substring(4,6)+t.substring(2,4)+t.substring(0,2)+"-"+t.substring(10,12)+t.substring(8,10)+"-"+t.substring(14,16)+t.substring(12,14)+"-"+t.substring(16,20)+"-"+t.substring(20,32)}Object.defineProperty(e,"__esModule",{value:!0}),e.izb=e.jzb=e.hzb=e.gzb=e.fzb=void 0,n=i(12),r=i(8),o=i(165),a=i(158),s=i(280),u=i(19),e.fzb=function(t,e,i){if(e===n.Y_)t&&(t=r.aRa(t),s.vya(t,(function(t){t.$&&(t=t.object)&&(t=a.wXa(t,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(t=a.g5a(t))&&(t=r.Ar(t))&&(t=c(t))&&i(t)})))},e.gzb=c,e.hzb=h,e.jzb=f,e.izb=l},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.eIa="PboReleaseLicenseCommandSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GHa="PboLicenseRequestTransformerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.wHa="PboCachedPlaydataSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.IIa="PlaydataConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Nda={pW:"keepAlive",splice:"splice"},e.CHa="PboEventSenderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.YHa="PboPlaydataPlaybackMonitorSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.HBa="DxDisplaySymbol"},function(t,e,i){var n,r,o,a,s;function u(t,e,i){this.ce=t,this.is=e,this.prefix=i,this.SX=this.isVisible=!1,this.kb=new a.BLa(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.WR=e.EJ=e.bAa=e.aAa=e.$za=void 0,t=i(1),n=i(0),r=i(29),o=i(27),a=i(1133),s=i(11),e.$za="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)",e.aAa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);",e.bAa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);",e.EJ="",u.prototype.show=function(){this.isVisible||(this.Jvb(),this.bM&&s.Be.body.appendChild(this.bM),this.Jg&&s.Be.body.appendChild(this.Jg),this.QT&&s.Be.body.appendChild(this.QT),this.WI&&s.Be.getElementsByTagName("head")[0].appendChild(this.WI),this.isVisible=!0,this.refresh())},u.prototype.Qr=function(){this.isVisible&&(this.Jg&&s.Be.body.removeChild(this.Jg),this.QT&&s.Be.body.removeChild(this.QT),this.bM&&s.Be.body.removeChild(this.bM),this.WI&&s.Be.getElementsByTagName("head")[0].removeChild(this.WI),this.WI=this.lZ=this.bM=this.QT=this.Jg=void 0,this.isVisible=!1)},u.prototype.toggle=function(){this.isVisible?this.Qr():this.show()},u.prototype.Z_b=function(){(this.SX=!this.SX)||this.refresh()},u.prototype.LEb=function(t){return"table."+t+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.'+t+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table."+t+"-display-table tr:nth-child(2n+3) {background-color: #fff;}table."+t+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}table."+t+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table."+t+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span."+t+"-display-indexheader {margin-left:5px;}span."+t+"-display-indexvalue {margin-left:5px;}span."+t+"-display-keyheader {margin-left:5px;}span."+t+"-display-keyvalue {margin-left:5px;}span."+t+"-display-valueheader {margin-left:5px;}ul."+t+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul."+t+"-display-tree li {list-style-type: none; position: relative;}ul."+t+"-display-tree li ul {display: none;}ul."+t+"-display-tree li.open > ul {display: block;}ul."+t+"-display-tree li a {color: black;text-decoration: none;}ul."+t+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul."+t+"-display-tree li > a:not(:last-child):before {content: '+';}ul."+t+"-display-tree li.open > a:not(:last-child):before {content: '-';}div."+t+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button."+t+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select."+t+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul."+t+"-display-item-inline {margin:0;padding:0}."+t+"-display-btn:hover, ."+t+"-display-btn:focus, ."+t+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button."+t+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}."+t+"-display-btn-inline:hover, ."+t+"-display-btn-inline:focus, ."+t+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }"},u.prototype.Jvb=function(){var t;t=this,this.WI=s.Be.createElement("style"),this.WI.type="text/css",this.WI.innerHTML=this.LEb(this.prefix),this.QT=this.ce.createElement("div",e.$za,void 0,{class:this.prefix+"-display-blur"}),this.Jg=this.ce.createElement("div",e.aAa,void 0,{class:this.prefix+"-display"}),this.bM=this.ce.createElement("div",e.bAa,void 0,{class:this.prefix+"-display"}),this.qXa().forEach((function(e){return t.bM.appendChild(e)}))},u.prototype.Lvb=function(t){for(var e=(t=this.ce.createElement("div","",t,{class:this.prefix+"-display-tree1"})).querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),i=0;i<e.length;i++)e[i].addEventListener("click",(function(t){var e,i;if(t=t.target.parentElement)if((e=t.classList).contains("open")){e.remove("open");try{for(i=t.querySelectorAll(":scope .open"),t=0;t<i.length;t++)i[t].classList.remove("open")}catch(t){}}else e.add("open")}));return t},u.prototype.refresh=function(){var t;return t=this,!this.isVisible||this.SX?Promise.resolve():this.Y6a().then((function(e){if(e&&(e=t.Lvb(e),t.Jg)){t.lZ&&(t.Jg.removeChild(t.lZ),t.lZ=void 0),t.lZ=e,t.Jg.appendChild(t.lZ),e=t.Jg.querySelectorAll("button."+t.prefix+"-display-btn-inline");for(var i=0;i<e.length;++i)e[i].addEventListener("click",t.X7a);(e=t.Jg.querySelector("#"+t.prefix+"-display-close-btn"))&&e.addEventListener("click",(function(){t.toggle()}))}}))},i=u,i=t.__decorate([n.R(),t.__param(0,n.l(r.cg)),t.__param(1,n.l(o.bg)),t.__param(2,n.nl())],i),e.WR=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.KBa="DxManagerSymbol",e.JBa="DxManagerProviderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ZEa="LogDisplayConfigSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kMa="WindowUtilsSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qIa="PlayPredictionDeserializerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qJa="PreparerManifestFetcherSymbol",e.pJa="PreparerLicenseFetcherSymbol",e.oJa="PreparerLegacyLicenseFetcherSymbol"},function(t,e,i){var n,r,o,a;function s(t){this.Em=t}Object.defineProperty(e,"__esModule",{value:!0}),e.jea=e.dJa=void 0,t=i(1),n=i(14),r=i(0),o=i(121),a=i(67),s.prototype.g2a=function(t){var e,i;return e=this,t.Nd.key.Ca?Promise.resolve(t.Nd.key.Ca):(i=t.Nd.key.W,t.Nd.Gj.Cn(i).hv.then((function(t){return(t=t.oa).Bo?a.xC(t.Bo,{config:n.config}):a.NI(i,e.Em.Lr(i))})))},i=s,i=t.__decorate([r.R(),t.__param(0,r.l(o.hK))],i),e.dJa=i,e.jea="PlaygraphResolverSymbol"},function(t,e){function i(){this.sJ=new Map}Object.defineProperty(e,"__esModule",{value:!0}),e.$ea=void 0,i.prototype.store=function(t,e){this.IPb(t),this.sJ.set(t,e)},i.prototype.Cn=function(t){return this.sJ.get(t)},i.prototype.has=function(t){return this.sJ.has(t)&&!this.sJ.get(t).Ot},i.prototype.clear=function(){this.sJ.clear()},i.prototype.IPb=function(t){var e;this.sJ.has(t)&&(null===(e=(t=this.sJ.get(t)).events)||void 0===e||e.emit("viewableEvicted",{type:"viewableEvicted"}),t.p$a=!0)},e.$ea=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.aGa="MediaHttpSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.WGa="OpenConnectSideChannelSymbol",e.hGa="MediaRequestDownloaderSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fGa="MediaRequestConstructorFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AHa="PboDispatcherSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.zLa="TransportFactorySymbol",e.zGa="MslTransportSymbol",e.GKa="SslTransportSymbol"},function(t,e,i){var n,r;function o(t){return!(!t||!t.MD&&!t.pboc||!t.code&&!t.code)}function a(t){return!(!t||!t.Cc)}function s(t){return!!(t instanceof Error)}function u(t){switch(t){case"ACCOUNT_ON_HOLD":return r.L.sib;case"STREAM_QUOTA_EXCEEDED":return r.L.wib;case"INSUFFICICENT_MATURITY":return r.L.zib;case"TITLE_OUT_OF_WINDOW":return r.L.Gib;case"CHOICE_MAP_ERROR":return r.L.vib;case"BadRequest":return r.L.Bib;case"Invalid_SemVer_Format":return r.L.Aib;case"RESTRICTED_TO_TESTERS":return r.L.Eib;case"AGE_VERIFICATION_REQUIRED":return r.L.tib;case"BLACKLISTED_IP":return r.L.uib;case"DEVICE_EOL_WARNING":return r.L.Cda;case"DEVICE_EOL_FINAL":return r.L.YGa;case"INCORRECT_PIN":return r.L.bHa;case"MOBILE_ONLY":return r.L.Dib;case"MDX_CONTROLLER_CTICKET_INVALID":return r.L.Cib;case"VIEWABLE_RESTRICTED_BY_PROFILE":return r.L.Hib;case"RESET_DEVICE":return r.L.aHa;case"RELOAD_DEVICE":return r.L.$Ga;case"EXIT_DEVICE":return r.L.ZGa;case"FREE_PREVIEW_ENDED":return r.L.yib;case"STREAMING_LOCATION_DISALLOWED":return r.L.Fib;default:return r.L.MCa}}function c(t,e){var i;return i=e.bladeRunnerCode?Number(e.bladeRunnerCode):void 0,new n.qd(t,u(e.code),"BadRequest"===e.code?r.t0.cdb:void 0,e.code,void 0,e.display,void 0,e.detail,e.display,i,e.alert,e.alertTag)}function h(t,e){return new n.qd(t,e.Cc,e.Kd,void 0,e.mA,e.message,e.details,e.data)}Object.defineProperty(e,"__esModule",{value:!0}),e.ARa=e.BRa=e.RDb=e.VDb=e.Bn=e.UDb=e.FKb=e.AKb=e.n0a=void 0,n=i(41),r=i(3),e.n0a=o,e.AKb=a,e.FKb=s,e.UDb=u,e.Bn=function(t,e){return a(e)?h(t,e):o(e)?c(t,e):s(e)?n.qd.Hma(t,e):new n.qd(t,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,e)},e.VDb=c,e.RDb=h,e.BRa=function(t,e,i,n,r){var o,a,s,u;if(void 0===(o=e.A8a[i]))throw{MD:!0,code:"FAIL",display:"Unable to build the URL for "+i+" because there was no configuration information",detail:e};if(void 0===(a=o.version))throw{MD:!0,code:"FAIL",display:"Unable to build the URL for "+i+" because there was no version information",detail:e};if(void 0===(s=o.service))throw{MD:!0,code:"FAIL",display:"Unable to build the URL for "+i+" because there was no service information",detail:e};if(void 0===(u=o.orgOverride)&&void 0===(u=e.organization))throw{MD:!0,code:"FAIL",display:"Unable to build the URL for "+i+" because there was no organization information",detail:e};return o.isPlayApiDirect?t.JGb(n)+"/"+u+"/"+s+"/"+a:t.yGb(n)+"/"+u+"/"+s+"/"+a+"/"+(void 0===r?"router":r)},e.ARa=function(t,e){var i;return i={"Content-Type":"text/plain"},e=e(),t.RPa&&e&&(i["X-Esn"]=e.Vk),i}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.gIa="PboRequestFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GLa="TrickPlayManagerSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.wp=void 0,(t=e.wp||(e.wp={}))[t.J0=0]="NOT_LOADED",t[t.LOADING=1]="LOADING",t[t.ME=2]="LOADED",t[t.kR=3]="LOAD_FAILED",t[t.XGa=4]="PARSE_FAILED"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.qza="BandwidthMeterFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AIa="PlaybackInfoPanelFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.QJa="RepositionTraceSymbol",e.OJa="RepositionTraceFactorySymbol"},function(t,e,i){var n,o,a,s,u,c,h,f,l,d,p,b,y,g,m,_,w,E,k,O,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F,q,K,H,V,G,J,z;function Y(t,e,i,n,r,o,a,u,c,h,f,v,g,w,k,S,x,M,N,C,L,U,q,K,H,V,J,z,Y,W,X,Z,Q,$){var tt,et;tt=this,this.fb=r,this.Ek=o,this.Gz=a,this.Aa=c,this.mC=h,this.za=f,this.GW=v,this.$qa=k,this.NN=S,this.Fd=x,this.Lh=M,this.Vi=N,this.KL=C,this.KX=L,this.nk=U,this.uxa=q,this.Vf=K,this.pe=H,this.qta=V,this.Dm=J,this.q7a=z,this.hia=Y,this.JH=W,this.$sa=X,this.EL=Z,this.Q3=Q,this.P5a=[],this.gs=new Map,this.oc=new p.dc(null),this.xg=new p.dc(null),this.jc=new p.dc(null),this.ci=new p.dc(null),this.cv=new p.dc(void 0),this.We=new p.dc(null),this.jh=new p.dc(null),this.mediaTime=new p.dc(void 0),this.playbackRate=new G.EIa(1,b.config.lra),this.Jxa=function(t){return tt.oc.set(t.newValue)},this.x1b=function(t){return tt.xg.set(t.newValue)},this.u1b=function(t){return tt.jc.set(t.newValue)},this.W0b=function(t){return tt.ci.set(t.newValue)},this.t1b=function(t){return tt.cv.set(t.newValue)},this.w1b=function(t){return tt.We.set(t.newValue)},this.X0b=function(t){return tt.jh.set(t.newValue)},this.l1b=function(t){return tt.oe.set(t.newValue)},this.k1b=function(t){return tt.jf.set(t.newValue)},this.h1b=function(t){return tt.mediaTime.set(t.newValue)},this.Eaa=function(t){return tt.playbackRate.set(t.newValue)},this.mk={},this.gva=this.nxa=0,this.Ub=new y.Gk,this.SZ={},this.YY=this.I5a=!1,this.state=new p.dc(B.Rb.dK),this.yj=new p.dc(!1),this.paused=new p.dc(!1),this.muted=new p.dc(!1),this.volume=new p.dc(b.config.Ezb/100),this.yb=new p.dc(B.cb.Pf),this.Cf=new p.dc(B.yf.xd),this.zr=new p.dc(B.yf.xd),this.Mm=new p.dc(B.yf.xd),this.jf=new p.dc(null),this.oe=new p.dc(null),this.$ia=new p.dc(null),this.O6=l.CDa(this),this.qc=[new p.dc(null),new p.dc(null)],this.Iia={},this.wM=!1,this.Ra=this.Aj=-1,this.Rna=function(t,e){var i;return t=void 0===t?null:t,R.Ba(t)?e&&!tt.um(e).oa?t:null!==(i=tt.Ka)&&void 0!==i&&i.$h?tt.Ka.Dt(t):t:null},this.m4a=function(){tt.ywa()},this.gM=t,this.addEventListener=this.Ub.addListener,this.removeEventListener=this.Ub.removeListener,this.fireEvent=this.Ub.Fc,this.IPa({W:t,xa:n,bb:i||{}},b.config.Sw?this.Fd.Az(t):void 0,e),this.log=T.Ih(this),this.E4=u(this),this.Csb=g(this),this.Jg=D.createElement("DIV",d.uea,void 0,{id:this.J}),this.SJb(),et=w(A.vh(1)),this.od=this.log.oka("Playback"),this.xSb=s.nIa(this),_.zB.r3a=this,_.zB.rma||(_.zB.rma=this),this.od.info("Playback created",this.Ri),this.Gqa?this.od.info("Playback selected for trace playback info logging"):this.od.trace("Playback not selected for trace playback info logging"),b.config.Sw&&(this.Fd.kIb(this.J),this.addEventListener(B.ca.Cq,(function(){tt.Fd.lIb(tt.J),tt.jc.addListener((function(){tt.Fd.wZa()})),tt.oc.addListener((function(){tt.Fd.wZa()}))})),this.addEventListener(B.ca.kg,(function(){tt.Fd.jIb(tt.J)}))),this.state.addListener((function(t){tt.od.info("Playback state changed",{From:t.oldValue,To:t.newValue}),j.hb(t.newValue>t.oldValue)})),m.ve.addListener(m.El,this.m4a,d.P0),this.mediaTime.addListener((function(){tt.qDb(),et.Ol((function(){return tt.mWa()}))})),this.yb.addListener((function(t){tt.od.info("PresentingState changed",{From:t.oldValue,To:t.newValue,MediaTime:I.cj(tt.mediaTime.value)},tt.su())})),this.yb.addListener((function(){tt.yj.set(tt.yb.value===B.cb.Kc)})),this.Cf.addListener((function(t){tt.od.info("BufferingState changed",{From:t.oldValue,To:t.newValue,MediaTime:I.cj(tt.mediaTime.value)},tt.su())})),this.zr.addListener((function(t){tt.od.info("AV BufferingState changed",{From:t.oldValue,To:t.newValue,MediaTime:I.cj(tt.mediaTime.value)},tt.su())})),this.Mm.addListener((function(t){tt.od.info("Text BufferingState changed",{From:t.oldValue,To:t.newValue,MediaTime:I.cj(tt.mediaTime.value)},tt.su())})),this.oc.addListener((function(t){j.hb(t.newValue&&t.newValue.oi),tt.od.info("AudioTrack changed",t.newValue&&{ToBcp47:t.newValue.Wd,To:t.newValue.trackId},t.oldValue&&{FromBcp47:t.oldValue.Wd,From:t.oldValue.trackId},{MediaTime:I.cj(tt.mediaTime.value)})})),this.jc.addListener((function(t){j.hb(!t.newValue||t.newValue.oi),tt.od.info("TimedTextTrack changed",t.newValue?{ToBcp47:t.newValue.Wd,To:t.newValue.trackId}:{To:"none"},t.oldValue?{FromBcp47:t.oldValue.Wd,From:t.oldValue.trackId}:{From:"none"},{MediaTime:I.cj(tt.mediaTime.value)})})),this.yb.addListener((function t(e){e.newValue!==B.cb.Pf&&(tt.yb.removeListener(t),tt.JX=tt.za.ff.da(A.ja),tt.Ub.Fc(B.ca.Bq))}),d.cF),this.yb.addListener((function t(e){e.newValue!==B.cb.Pf&&e.newValue!==B.cb.hh&&(tt.yb.removeListener(t),tt.qH=tt.za.FY,tt.Ub.Fc(B.ca.Cq))})),this.addEventListener(B.ca.Cq,(function(){tt.YY=!0,tt.M9a=tt.XT(),tt.Dd("start"),tt.d7=tt.oe.value.stream.bitrate})),O.wIa(this),_.ho.push(this),b.config.nY&&(this.E9=this.qta(this),this.G9=new E.GIa(this)),_.bea.forEach((function(t){t(tt)})),this.Hqb=function(){tt.addEventListener(B.ca.tI,(function(t){var e;(t=t.cause)!==B.Ce.Fx&&t!==B.Ce.lK&&(null===(e=tt.Ka)||void 0===e||e.stop())})),tt.addEventListener(B.ca.wk,(function(t){var e,i,n,r,o,a,s,u,c,h;if(tt.q7a.wk(t),n=t.cause,r=t.skip,o=t.U8,a=t.Csa,s=t.J,u=t.ek,tt.ha.Ll.nsa(a,o),n!==B.Ce.lK&&(b.config.zDb&&n===B.Ce.UR&&tt.Ka.K3(),n!==B.Ce.Fx))if(r)if(null!==(e=tt.Ka)&&void 0!==e&&e.Li(o)){tt.od.trace("Repositioned. Skipping from "+a+" to "+o),t=function(t){tt.log.error("streamingSession.skipped threw an exception",t),t=F.qd.Hma(P.M.rcb,t),tt.Dq(t.code,t)};try{tt.Ka.Vn(o).then((function(t){var e;t.wN||null===(e=tt.Ka)||void 0===e||e.play()})).catch(t)}catch(e){t(e)}}else tt.log.error("can skip returned false");else{tt.od.trace("Repositioned. Seeking from "+a+" to "+o);try{c=tt.fb.k6(tt.ha),h=Object.keys(c.qa).find((function(t){var e;return(t=c.qa[t]).W===s&&t.Jb<=u&&(null!==(e=t.Ob)&&void 0!==e?e:1/0)>u})),null===(i=tt.Ka)||void 0===i||i.ss(u,h)}catch(t){tt.log.error("streamingSession.seekByContentPts threw an exception",t),o=F.qd.Hma(P.M.pcb,t),tt.Dq(o.code,o)}}}))},this.playbackRate.addListener((function(){var t,e;null!==(t=tt.Ka)&&void 0!==t&&t.$h&&(null===(e=tt.Ka)||void 0===e||e.sta())})),this.addEventListener(B.ca.Jy,(function(t){var e;t.cause==_.Yda&&(tt.Cf.set(B.yf.xd),null===(e=tt.Ka)||void 0===e||e.Zn(tt.Xf.IXa()))})),$&&(this.ha.oa=$,this.nk.aZ(t,$))}Object.defineProperty(e,"__esModule",{value:!0}),e.zIa=void 0,n=i(1),o=i(47),a=i(295),s=i(297),u=i(134),c=i(529),h=i(1180),f=i(1181),l=i(532),d=i(12),p=i(80),b=i(14),y=i(73),g=i(533),m=i(60),_=i(58),w=i(106),E=i(535),k=i(1184),O=i(539),T=i(8),A=i(4),P=i(3),j=i(21),I=i(92),x=i(24),M=i(61),R=i(19),N=i(540),C=i(129),L=i(302),D=i(30),U=i(103),B=i(15),F=i(41),q=i(298),K=i(542),H=i(131),V=i(1187),G=i(1188),J=i(67),z=i(51),Y.prototype.Dd=function(t,e){var i;e=void 0===e?this.gM:e,null===(i=this.gs.get(e))||void 0===i||i.Dd(t)},Y.prototype.Hz=function(t){this.ha.Hz(t)},Y.prototype.SJb=function(){var t;t=this,this.oc.addListener((function(e){return t.ha.oc.set(e.newValue)})),this.xg.addListener((function(e){return t.ha.xg.set(e.newValue)})),this.jc.addListener((function(e){return t.ha.jc.set(e.newValue)})),this.ci.addListener((function(e){return t.ha.ci.set(e.newValue)})),this.cv.addListener((function(e){return t.ha.cv.set(e.newValue)})),this.We.addListener((function(e){return t.ha.We.set(e.newValue)})),this.jh.addListener((function(e){return t.ha.jh.set(e.newValue)})),this.oe.addListener((function(e){return t.ha.oe.set(e.newValue)})),this.jf.addListener((function(e){return t.ha.jf.set(e.newValue)})),this.qc[o.Tb.Ta.Wb].addListener((function(e){return t.ha.qc[o.Tb.Ta.Wb].set(e.newValue)})),this.qc[o.Tb.Ta.Mb].addListener((function(e){return t.ha.qc[o.Tb.Ta.Mb].set(e.newValue)})),this.mediaTime.addListener((function(e){return t.ha.mediaTime.set(e.newValue)})),this.playbackRate.addListener((function(e){return t.ha.playbackRate.set(e.newValue)})),this.V7a()},Y.prototype.V7a=function(){var t;t=this,this.ha!==this.Eva&&(this.ha.mediaTime.set(this.mediaTime.value),this.ha.playbackRate.set(this.playbackRate.value),this.Tq((function(t){return t.oc}),this.Jxa),this.Tq((function(t){return t.xg}),this.x1b),this.Tq((function(t){return t.cv}),this.t1b),this.Tq((function(t){return t.jc}),this.u1b),this.Tq((function(t){return t.ci}),this.W0b),this.Tq((function(t){return t.We}),this.w1b),this.Tq((function(t){return t.jh}),this.X0b),this.Tq((function(t){return t.jf}),this.k1b),this.Tq((function(t){return t.oe}),this.l1b),this.Tq((function(t){return t.qc[o.Tb.Ta.Wb]}),(function(e){return t.qc[o.Tb.Ta.Wb].set(e.newValue)})),this.Tq((function(t){return t.qc[o.Tb.Ta.Mb]}),(function(e){return t.qc[o.Tb.Ta.Mb].set(e.newValue)})),this.Tq((function(t){return t.mediaTime}),this.h1b),this.Tq((function(t){return t.playbackRate}),this.Eaa),this.jc.set(this.ha.jc.value),this.oc.set(this.ha.oc.value,{dQa:!0}),this.xg.set(this.ha.xg.value),this.ci.set(this.ha.ci.value),this.cv.set(this.ha.cv.value),this.We.set(this.ha.We.value),this.jh.set(this.ha.jh.value),this.Eva=this.ha)},Y.prototype.Tq=function(t,e){this.Eva&&t(this.Eva).removeListener(e),t(this.ha).addListener(e)},Y.prototype.load=function(t){var e,i;e=this,this.load=function(){},this.S5a=t,this.state.value==B.Rb.dK&&(this.od.info("Playback loading",this),this.KPb(),this.Dd("asl_load_start"),i=(t=this.mC).endTime,R.Xc(t.startTime)?R.Xc(i)?this.Dd("asl_ended"):this.Dd("asl_in_progress"):this.Dd("asl_not_started"),this.mC.LN((function(t){e.Dd("asl_load_complete"),t.$?e.Mxb():e.Dq(t.errorCode||P.M.Gca,t)})))},Y.prototype.ZSb=function(){var t;try{this.state.value===B.Rb.LOADING&&(t={width:1,height:1,Tha:1},this.fH().forEach((function(e){t.width*t.height<e.width*e.height&&(t.width=e.width,t.height=e.height,t.Tha=e.Tha)})),this.cB=t,this.aw=this.KL.Yqb({oJ:A.Nc(this.Z),J:this.J,D9:this.Uy,bb:this.bb}).da(A.ja),this.eia(),this.Lyb())}catch(t){this.Dq(P.M.Ggb,{na:P.L.Lj,ub:x.wd(t)})}},Y.prototype.Nw=function(){var t,e;e=this.fb.k6(this),this.qTa(e),null===(t=this.Ka)||void 0===t||t.KZ(e)},Y.prototype.WH=function(t){var e,i;j.hb(this.Ka,"ASE should be initialized"),(i=this.fb.DV(t))?t===this.fb.oh?this.Ka.Cr(i,!0,!0)||this.NV(i,{}):null===(e=this.Ka)||void 0===e||e.wi(t,i,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found")},Y.prototype.NV=function(t,e,i){var n,r,o,a,s;if(n=this,i=void 0===i||i,a=this.fb.ue(t),this.Vi.Jaa&&this.fb.ha.W===a.W)return Promise.resolve(this.Xf.seek(a.Jb,B.Ce.CB,void 0));if(e=C.u8(this.Ek.lN(a.W).Fb,e),null===(r=this.Ka)||void 0===r||!r.$h)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");return this.log.debug("going to next segment: "+this.fb.oh+" -> "+t),this.bG("Transition "+this.fb.oh+"->"+t),(s=this.um(t)).Nm=this.Aa.Yb().da(A.ja),s.bb=e,"seamless"!==(null!==(o=this.fb.ue(t).ae)&&void 0!==o?o:"seamless")||i?(this.Ka.bN(t).NL?this.VHb(t,s.J):this.AY(t,s.J)).then((function(){n.IDb(s.J)})):Promise.resolve()},Y.prototype.AY=function(t,e){var i;return i=this.fb.fl.qa[t].Jb,this.log.debug("Segment is not pre-buffered - performing a regular seek"),this.bG("NO DATA "+t+", SEEKING "+i+", viewableId: "+e),Promise.resolve(this.Xf.seek(i,B.Ce.CB,t,!0))},Y.prototype.VHb=function(t,e){var i,n,r,o,a;if(i=this,null==(n=this.Ka)||!n.$h)throw Error("No streaming session");return r=new Promise((function(t){n.addEventListener("stop",(function e(){i.log.debug("Stopped ASE"),n.removeEventListener("stop",e),t()}))})),o=!1,a=new Promise((function(t){i.addEventListener(B.ca.tI,(function t(){i.log.debug("Repositioning"),i.removeEventListener(B.ca.tI,t),n.stop()})),i.addEventListener(B.ca.wk,(function e(n){i.log.debug("Repositioned"),i.removeEventListener(B.ca.wk,e),o=n.skip,t()}))})),r=Promise.all([r,a]).then((function(){var r;if(r=!1,o&&(r=n.Cr(t,!1,!0)),!r)return i.bG("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),i.AY(t,e)})),a=n.cM(t,this.fb.fl.qa[t].Jb),this.log.debug("Calling seek on internal player to "+a),this.Xf.seek(a,B.Ce.lK,t,!0),r},Y.prototype.IPa=function(t,e,i){var n,r,o,a;e=void 0===e?this.Gz.Wy():e,i=void 0===i?this.Aa.Yb():i,r=!(!b.config.Bbb||e%b.config.Bbb),o=t.W,a=t.xa,t=t.bb,this.gs.has(o)?this.gs.get(o):(e=this.KX(_.zB.index++,o,a,t,e,i,r,this.ha,this.Rna),this.gs.set(o,e),1<this.gs.size&&(e.AW=this.NN.create(this,e,!1)),e.VN=new w.kGa(this,e),null===(n=this.Ka)||void 0===n||n.oU(e.xa,{ba:e.ba,ds:e.Fg}))},Y.prototype.dN=function(t){if(!this.gs.has(t))throw Error("Playback segment not found: "+t);return this.gs.get(t)},Y.prototype.um=function(t){var e;return t=this.fb.ue(t),null!==(e=this.gs.get(null==t?void 0:t.W))&&void 0!==e?e:this.ha},Y.prototype.NGb=function(t){for(var e,i,n=v(this.LX),r=n.next();!r.done;r=n.next())if((null===(i=null===(e=(r=r.value).nf)||void 0===e?void 0:e.Ib)||void 0===i?void 0:i.sessionId)===t)return r;return this.ha},Y.prototype.pUb=function(t){var e,i;return e=this,i=t.J,this.Ek.GXb(i),this.EY(t).then((function(n){return e.Uta(n,t),(t.oD?e.Vb.Gl.r7a(t):Promise.resolve()).then((function(){return e.Ek.L8a(i)}))})).catch((function(t){throw e.log.error("queueManifest failed",t),e.Ek.FXb(i,t),e.Lh(t.code,t)}))},Y.prototype.wEb=function(){if(R.Ba(this.pd.ats)&&R.Ba(this.pd.at))return this.pd.at-this.pd.ats},Y.prototype.cXa=function(){var t,e;return t=this.QZ(),e=this.DT(),Math.min(t,e)},Y.prototype.yP=function(){this.background||(this.od.info("Starting inactivity monitor for movie "+this.J),new g.fEa(this))},Y.prototype.close=function(t){t&&(this.state.value==B.Rb.CLOSED?t():this.addEventListener(B.ca.closed,(function(){t()}))),this.ywa()},Y.prototype.Xd=function(t,e,i){t=this.Lh(t,e,i),this.qG(t,void 0)},Y.prototype.qG=function(t,e){var i,n,r,o;i=this,this.state.value==B.Rb.dK?this.li||(this.li=t,this.load()):(e&&(this.state.value==B.Rb.CLOSED?e():this.addEventListener(B.ca.closed,(function(){e()}))),n=function(){i.ywa(t)},r=b.config.eUa&&t&&b.config.eUa[t.errorCode],o=-1,R.Sz(r)&&(o=x.He(r)),this.od.error("Fatal playback error",{Error:""+t,HandleDelay:""+r}),0<=o?setTimeout(n,o):n())},Y.prototype.bG=function(t){var e;e=void 0===e?this.xa:e,this.P5a.push(this.Aa.Yb().da(A.ja)+"-"+e+"-"+t)},Y.prototype.ADb=function(){this.mWa()},Y.prototype.Gna=function(){var t;return null!==(t=this.Ka)&&void 0!==t&&t.$h&&void 0!==(t=this.Ka.Ko().id)?t:null},Y.prototype.TC=function(){var t,e;return e=null===(t=this.Ka)||void 0===t?void 0:t.$h,void 0===this.ha.iU||e?this.Rna(this.mediaTime.value):this.ha.iU},Y.prototype.Fna=function(){var t;return null===(t=this.Rna(this.Xf.IXa()))?null:Math.min(this.Uy.da(A.ja),Math.max(0,t))},Y.prototype.qV=function(){var t,e;return null===(e=null===(t=this.oa)||void 0===t?void 0:t.$b.Bo)||void 0===e?void 0:e.qa},Y.prototype.Daa=function(t){this.bb=C.u8(this.bb,t),this.eia()},Y.prototype.rEb=function(){return this.oc.value?this.oc.value.streams:[]},Y.prototype.fH=function(t){return t=void 0===t?this.J:t,(t=this.dN(t).xg)&&t.value?t.value.streams:[]},Y.prototype.rIb=function(t){for(var e=v(this.LX),i=e.next();!i.done;i=e.next())if(i=(i=i.value.hi)&&i.find((function(e){return e.id===t})))return i},Y.prototype.lTb=function(t){(t=void 0===t?this.ha:t).jc.value?this.Qq.iTb(t.jc.value):Promise.resolve()},Y.prototype.xZa=function(t){for(var e=v(this.LX),i=e.next();!i.done;i=e.next())for(var n=(i=v(i.value.Ki)).next();!n.done;n=i.next())if(n=n.value.streams.find((function(e){return e.Bc===t})))return n},Y.prototype.IZa=function(t){for(var e=v(this.LX),i=e.next();!i.done;i=e.next())for(var n=(i=v(i.value.ip)).next();!n.done;n=i.next())if(n=(n=n.value)&&n.streams.find((function(e){return e.Bc===t})))return n},Y.prototype.Ft=function(){var t,e,i;return null!==(i=null===(e=null===(t=this.G9)||void 0===t?void 0:t.kU)||void 0===e?void 0:e.call(t))&&void 0!==i?i:this.Wxb().LC},Y.prototype.b9a=function(t){var e,i;null!==(e=this.Ka)&&void 0!==e&&e.$h&&this.gs.has(t)&&(null!==(i=this.G9)&&void 0!==i&&i.kU?this.G9.Kab():(e=this.uka(t),this.Ka.Lq(e,t)))},Y.prototype.mLb=function(){return"trailer"===this.ye},Y.prototype.xKb=function(){return!!this.ye&&0<=this.ye.indexOf("billboard")},Y.prototype.rLb=function(){return!!this.ye&&0<=this.ye.indexOf("video-merch")},Y.prototype.SKb=function(){return!!this.ye&&0<=this.ye.indexOf("mini-modal")},Y.prototype.nD=function(){return this.mLb()||this.xKb()||this.rLb()||this.SKb()},Y.prototype.O5=function(){var t,e,i;if(this.ip){for(var n,r=0;r<this.ip.length;r++)for(var o=this.ip[r],a=0;a<o.streams.length;a++)t=o.streams[a],R.Ba(t.vka)&&R.Ba(t.o4)&&R.Ba(t.n4)&&R.Ba(t.m4)&&(0<t.vka||0<t.o4)&&(e=1,i=1,R.Ba(t.z5a)&&R.Ba(t.A5a)&&(e=t.z5a,i=t.A5a),t=t.m4*i/(t.n4*e),n=R.Ba(n)?Math.min(n,t):t);return n}},Y.prototype.cHb=function(){return{tr:this.nxa,rt:this.gva}},Y.prototype.wz=function(t){return this.mk[t]},Y.prototype.eja=function(){return this.Nm?this.Aa.Yb().da(A.ja)-this.Nm:this.za.ff.da(A.ja)-this.VG()},Y.prototype.XT=function(){var t;return this.Nm?this.Aa.Yb().da(A.ja)-this.Nm:(t=this.Aa.Vz,this.JX-(this.vk.da(A.ja)+t.da(A.ja)))},Y.prototype.gja=function(){return this.Nm?this.Aa.Yb().da(A.ja)-this.Nm:this.JX-this.VG()},Y.prototype.DPb=function(t){var e,i;return e=this.loadTime,i={},x.te(t,(function(t,n){i[t]=n.map((function(t){return t-e}))})),i},Y.prototype.EEb=function(){var t,e;return t=this.loadTime,e={},x.te(this.Iia,(function(i,n){e[i]=n.map((function(e){return e-t}))})),c.$v?{level:c.$v.eYa(),charging:c.$v.Zma(),statuses:e}:null},Y.prototype.s6=function(){return this.lWa(),this.SZ},Y.prototype.VG=function(){var t;return t=this.bb.HZ,t=R.Ba(t)?t:this.vk.da(A.ja)+this.Aa.Vz.da(A.ja),j.hb(R.Rz(t)),t},Y.prototype.Lna=function(){return this.Aa.Yb().da(A.ja)-this.vk.da(A.ja)},Y.prototype.c9a=function(t,e){this.SZ[t]=e},Y.prototype.E2b=function(){this.HYb=!0},Y.prototype.c9=function(){this.$6a()},Y.prototype.QZ=function(){var t;return(t=this.o3())&&t.vbuflmsec||0},Y.prototype.DT=function(){var t;return(t=this.o3())&&t.abuflmsec||0},Y.prototype.gya=function(){var t;return(t=this.o3())&&t.vbuflbytes||0},Y.prototype.oia=function(){var t;return(t=this.o3())&&t.abuflbytes||0},Y.prototype.EY=function(t,e,i){var n,r,o,a;return n=this,t=void 0===t?this.ha:t,i=void 0===i||i,o=!(r=!!e)&&t!==this.ha,a=b.config.W9.enabled?U.Vm.ujb:o?U.Vm.eF:this.nD()?U.Vm.g1:U.Vm.rp,r=this.nD()||r?void 0:this.Vb.Gl.b6(o),this.nk.ZM({ba:t.ba,bb:t.bb,W:t.J,Tt:a,Uf:r,raa:e},i).then((function(e){return e.h0a&&n.fireEvent(B.ca.KN,{J:t.J}),e}))},Y.prototype.Uta=function(t,e,i){var n;e=void 0===e?this.ha:e,i=void 0!==i&&i,n=this.GW.create(this),i?(t=(n=n.mJb(e.oa,e.Rc,t)).oa,n=n.Rc):n=n.f5a(t),e.oa=t,e.Rc=n,i||(e.xg.set(n.A4),e.oc.set(n.vU),e.jc.set(n.xU))},Y.prototype.IDb=function(t){this.EI(t,!1)},Y.prototype.AZa=function(t,e){return!this.Vi.bya||(0>(t=this.Bu.da(A.ja)-t)||t>e)},Y.prototype.mWb=function(){this.Xf.seek(this.TC()||0,B.Ce.c0)},Y.prototype.c_a=function(t,e){var i,n;return i=this,(n=this.ha).G4=!0,this.EY(n,{uRb:n.Ti,ZVb:t,bWb:e},!1).then((function(t){var e;return i.Uta(t,n,!0),i.nk.aZ(n.J,n.oa),null===(e=i.Ka)||void 0===e?void 0:e.lx(i.O5a)})).then((function(){var r,o;if(r=n.Ki.find((function(e){return e.trackId===t})),o=n.Qh.find((function(t){return t.trackId===e})),!(r&&r.oi&&o&&o.oi))throw Error("Track hydration failed: requiredAudioTrackId="+t+" requiredTextTrackId="+e);return i.fireEvent(B.ca.lab),{oc:r,pZ:o}}))},Y.prototype.EI=function(t,e){var i,n;if(this.BO){if(t===this.gM)return void(this.BO=t);(n=(i=this.dN(t)).oa)&&R.Xc(n.uI)&&R.Xc(n.TO)&&i.Hz({pr_ats:n.uI,pr_at:n.TO}),this.fireEvent(B.ca.Yqa,{J:this.gM}),this.gM=t,this.eia(),e||this.V7a(),this.qH=this.za.FY,this.ha.Nm||(this.ha.Nm=this.Aa.Yb().da(A.ja))}("boolean"==typeof this.bb.zM?this.bb.zM:b.config.zM)&&!e&&this.uxa.zM(this),e={J:t,p7:e,BO:this.BO},this.BO=t,this.fireEvent(B.ca.CH,e)},Y.prototype.Mxb=function(){try{this.Vb=new h.ZFa(this),this.e4=new q.GAa(this),this.AW=this.NN.create(this,this.ha,!0),b.config.aub&&new K.uCa(this,this.Vf,this.log),b.config.$T&&this.$T(this),this.f2b()}catch(t){this.Dq(P.M.Fgb,{na:P.L.Lj,ub:x.wd(t)})}},Y.prototype.f2b=function(){this.li?this.qG(this.li):R.Lpa(this.J)?this.zub():this.Dq(P.M.rgb,{ub:""+this.J})},Y.prototype.zub=function(){var t;(t=a.UI.D8a)?t.$?this.Mja():this.Dq(P.M.bEa,t):(j.hb(!b.config.V4),this.Aha())},Y.prototype.Mja=function(){var t;t=this,!this.background&&b.config.Mja?_.aea((function(){t.Aha()}),this):this.Aha()},Y.prototype.Aha=function(){var t;t=this,this.state.value==B.Rb.LOADING&&(b.config.Gla&&!this.nD()?a.UI.vy(_.vIa,(function(e){e.$?(t.W7=e.W7,b.config.D$?t.xia():t.Kva()):t.Dq(P.M.aEa)}),!0):b.config.D$?this.xia():this.Kva())},Y.prototype.Kva=function(){var t;t=this,this.state.value==B.Rb.LOADING&&(this.Dd("ic"),this.xSb.gXb((function(e){e.error&&t.log.error("Error sending persisted playdata",P.Ts(e));try{t.xia()}catch(e){t.log.error("playback.authorize threw an exception",e),t.Dq(P.M.Bcb,{na:P.L.Lj,ub:x.wd(e)})}})))},Y.prototype.xia=function(){var t,e,i;t=this,this.state.value==B.Rb.LOADING&&(this.log.info("Authorizing",this),e=this.Aa.Yb().da(A.ja),this.Dd("ats"),j.kM(this.J),j.kM(this.Fj),i=this.WTb.bind(this,e),Promise.all([this.oa,b.config.Sw&&this.nk.uoa(this.J)?this.nk.L5(this.J).catch((function(){})):void 0]).then((function(e){var i,n;return e=(i=v(e)).next().value,i=i.next().value,e&&i?n=i.$b.expiration>e.$b.expiration?i:e:e?n=e:i&&(n=i),n&&18e5>n.$b.expiration-z.W3()&&(n=void 0),n?(t.lG=n===e?"ui":"videopreparer",n):t.EY()})).then((function(e){try{t.Uta(e),i(d.Ye),t.I5a||(t.I5a=!0,t.$sa.ap(t))}catch(e){t.log.error("Exception processing authorization response",e),i({$:!1,na:P.L.ejb})}})).catch(i))},Y.prototype.WTb=function(t,e){var i,n;i=this,this.state.value==B.Rb.LOADING&&(this.Dd("at"),n=this.oa,this.Hz({pr_ats:n&&R.Xc(n.uI)?n.uI:t,pr_at:n&&R.Xc(n.TO)?n.TO:this.Aa.Yb().da(A.ja)}),e.$?0<this.Rc.hi.length&&this.Rc.vU&&this.Rc.A4&&this.Rc.xU?this.S5a?(this.log.info("Processing post-authorize",this),this.S5a(this,(function(t){t.$?i.Oab():i.Dq(P.M.Kgb,t)}))):this.Oab():this.Dq(P.M.lhb,this.$qa(this.Rc)):this.Dq(P.M.sR,e))},Y.prototype.Oab=function(){var t,e;n.__awaiter(this,void 0,void 0,(function i(){var n;return n=this,S(i,(function(i){if(n.state.value!=B.Rb.LOADING)return i.return();null!==(t=n.ha.oa)&&void 0!==t&&t.$b.Bo&&n.fb.reset(J.xC(null===(e=n.ha.oa)||void 0===e?void 0:e.$b.Bo,{config:b.config})),n.Ka=n.hia(n.fb,n),n.Ka.kYb({ln:u.ln,config:b.config,pe:n.pe,od:n.od,su:n.su.bind(n),Oi:T.Oi,JY:n.JY.bind(n),EI:n.EI.bind(n)}),n.ZSb(),i.SH=0}))}))},Y.prototype.Lyb=function(){var t,e,i,n,r,o;t=this;try{if(this.state.value===B.Rb.LOADING){this.Vb.open(),e=new Promise((function(e){t.Vb.addEventListener(L.Oj.H9a,e)})),this.Xf=new N.dGa(this),i=this.Rc.vU.ml===H.vp.NONE,n={Vg:!1,DW:!1,ii:!this.oD,zO:!!this.bb.w7,Ha:this.bb.Ha,sE:this.Rc.vU.Vr||i},r={ba:this.ba,ds:this.Fg,iz:this.iz};try{if(this.state.value!==B.Rb.LOADING)return;(o=this.Ka).e7({flags:n,hw:r,xa:this.O5a,uka:this.uka.bind(this)}),this.qTa(this.fb.k6(this)),this.Hqb(),o.Osb({mk:this.mk,loadTime:this.loadTime})}catch(t){throw this.log.error("Failed to initialize ASE streaming",{error:t,startPts:this.Z,flags:n}),t}e.then((function(){var e;t.state.value!==B.Rb.CLOSING&&t.state.value!==B.Rb.CLOSED&&(null===(e=t.Ka)||void 0===e||e.open())})),this.mediaTime.set(this.Z),this.Qq=new f.pLa(this),("boolean"==typeof this.bb.f$?this.bb.f$:b.config.f$)&&(this.sZ=new k.qLa(this)),this.yP(),_.cea.forEach((function(e){e(t)})),this.JPb()}}catch(t){this.Dq(P.M.Hgb,{na:P.L.Lj,ub:x.wd(t)})}},Y.prototype.KPb=function(){j.hb(this.state.value==B.Rb.dK),this.loadTime=this.Aa.Yb().da(A.ja),this.state.set(B.Rb.LOADING)},Y.prototype.Dq=function(t,e){this.done||(this.done=!0,e instanceof F.qd?this.Xd(e.code,e):this.Xd(t,e))},Y.prototype.$T=function(t){var e,i;function n(){var i,n;i=c.$v.Zma()+"",(n=t.Iia[i])||(n=t.Iia[i]=[]),n.push(e.Aa.Yb().da(A.ja)),e.log.trace("charging change event",{level:c.$v.eYa(),charging:c.$v.Zma()})}e=this,i=c.$v.Edb,c.$v.addEventListener(i,n),t.addEventListener(B.ca.kg,(function(){c.$v.removeEventListener(i,n)}))},Y.prototype.ywa=function(t){var e,i;if(e=this,this.state.value==B.Rb.dK||this.state.value==B.Rb.LOADING||this.state.value==B.Rb.re){this.od.info("Playback closing",this,t?{ErrorCode:t.I4}:void 0),this.bG("Closing"),m.ve.removeListener(m.El,this.m4a),this.li=t,this.ha.iU=this.TC(),this.lWa(),null!==(i=this.Ka)&&void 0!==i&&i.$h&&this.Ka.flush();try{this.Ub.Fc(B.ca.kg,{movieId:this.gM})}catch(t){this.od.error("Unable to fire playback closing event",t)}this.state.set(B.Rb.CLOSING),this.ocb(),this.HYb||M.Rf((function(){return e.$6a()}))}},Y.prototype.qDb=function(){this.Ub.Fc(B.ca.Hab)},Y.prototype.mWa=function(){var t;t=this.mediaTime.value,this.ZLb!=t&&(this.ZLb=t,this.Ub.Fc(B.ca.fxa))},Y.prototype.$6a=function(){var t,e;t=this,j.hb(this.state.value==B.Rb.CLOSING),e=this.W7,this.W7=void 0,e?a.UI.release(e,(function(e){j.hb(e.$),t.Tja()})):this.Tja()},Y.prototype.ocb=function(){var t;null===(t=this.Ka)||void 0===t||t.ed(),delete this.Ka,delete this.Bcc,delete this.Acc},Y.prototype.Tja=function(){var t;this.Tja=d.ql,j.hb(this.state.value==B.Rb.CLOSING),t=_.ho.indexOf(this),j.hb(0<=t),_.ho.splice(t,1),this.state.set(B.Rb.CLOSED),this.Ub.Fc(B.ca.closed,void 0,!0),this.Ub.Fh(),delete this.nf,this.ha.c9()},Y.prototype.eia=function(){this.bb.playbackState&&("number"==typeof this.bb.playbackState.volume&&this.volume.set(I.op(this.bb.playbackState.volume,0,1)),"boolean"==typeof this.bb.playbackState.muted&&this.muted.set(this.bb.playbackState.muted),"number"==typeof this.bb.playbackState.playbackRate&&this.playbackRate.set(this.bb.playbackState.playbackRate))},Y.prototype.lWa=function(){this.Ub.Fc(B.ca.q9a,{SZ:this.SZ})},Y.prototype.JY=function(t,e,i){var n;(n=(t=this.um(t)).hi.filter((function(t){return t.id===e}))[0])&&t.qc[i].set(n)},Y.prototype.su=function(){return{AudioBufferLength:this.DT(),VideoBufferLength:this.QZ()}},Y.prototype.o3=function(){var t;if(null!==(t=this.Ka)&&void 0!==t&&t.$h)return this.Ka.f7(!1)},Y.prototype.JPb=function(){this.state.value==B.Rb.LOADING&&this.state.set(B.Rb.re)},Y.prototype.Wxb=function(){var t,e,i;return t=void 0===t?this.J:t,e=this.fH(t),i=this.dN(t),V.Ft(e,(function(t){return i.VN.Yu(t)}))},Y.prototype.uka=function(t){var e,i;return t=void 0===t?this.J:t,e=this.fH(t),i=this.dN(t),V.oZa(e,(function(t){return i.VN.Yu(t)}))},Y.prototype.qTa=function(t){var e;e=this,Object.keys(t.qa).filter((function(t){return!e.gs.has(e.fb.ue(t).W)})).forEach((function(t){var i,n,r;r=(n=e.fb.ue(t)).W,n=Object.assign(null!==(i=e.Ek.lN(r).Fb)&&void 0!==i?i:{},{Z:n.Jb,Ha:n.Ob,Fl:!1,HZ:Date.now(),w7:!0}),e.IPa({W:r,xa:t,bb:n})}))},r.Object.defineProperties(Y.prototype,{LX:{configurable:!0,enumerable:!0,get:function(){return this.gs.values()}},ha:{configurable:!0,enumerable:!0,get:function(){return this.gs.get(this.gM)}},Z:{configurable:!0,enumerable:!0,get:function(){var t,e;return void 0!==this.aw?this.aw:null!==(e=null===(t=this.LX.next())||void 0===t?void 0:t.value.bb.Z)&&void 0!==e?e:0}},Rc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rc},set:function(t){this.ha.Rc=t}},v5:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb.v5}},w5:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb.w5}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index}},xa:{configurable:!0,enumerable:!0,get:function(){return this.ha.xa}},O5a:{configurable:!0,enumerable:!0,get:function(){return this.fb.cya?this.fb.oh:this.ha.xa}},nf:{configurable:!0,enumerable:!0,get:function(){return this.ha.nf},set:function(t){this.ha.nf=t}},Nm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Nm},set:function(t){this.ha.Nm=t}},lG:{configurable:!0,enumerable:!0,get:function(){return this.ha.lG},set:function(t){this.ha.lG=t}},kG:{configurable:!0,enumerable:!0,get:function(){return this.ha.kG},set:function(t){this.ha.kG=t}},d7:{configurable:!0,enumerable:!0,get:function(){return this.ha.d7},set:function(t){this.ha.d7=t}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ha.oa},set:function(t){this.ha.oa=t}},aw:{configurable:!0,enumerable:!0,get:function(){return this.ha.aw},set:function(t){this.ha.aw=t}},jZ:{configurable:!0,enumerable:!0,get:function(){return this.ha.jZ},set:function(t){this.ha.jZ=t}},bb:{configurable:!0,enumerable:!0,get:function(){return this.ha.bb},set:function(t){this.ha.bb=t}},AW:{configurable:!0,enumerable:!0,get:function(){return this.ha.AW},set:function(t){this.ha.AW=t}},Ll:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ll}},J:{configurable:!0,enumerable:!0,get:function(){return this.ha.J}},ye:{configurable:!0,enumerable:!0,get:function(){return this.ha.ye}},Ki:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ki}},ip:{configurable:!0,enumerable:!0,get:function(){return this.ha.ip}},XA:{configurable:!0,enumerable:!0,get:function(){return this.ha.XA}},Qh:{configurable:!0,enumerable:!0,get:function(){return this.ha.Qh}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ti}},oD:{configurable:!0,enumerable:!0,get:function(){return this.ha.oD}},Lu:{configurable:!0,enumerable:!0,get:function(){return this.ha.Lu}},rm:{configurable:!0,enumerable:!0,get:function(){return this.ha.rm}},hi:{configurable:!0,enumerable:!0,get:function(){return this.ha.hi}},Uy:{configurable:!0,enumerable:!0,get:function(){return this.ha.Uy},set:function(t){this.ha.Uy=t}},ba:{configurable:!0,enumerable:!0,get:function(){return this.ha.ba}},Fj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Fj}},vk:{configurable:!0,enumerable:!0,get:function(){return this.ha.vk}},qH:{configurable:!0,enumerable:!0,get:function(){return this.ha.qH},set:function(t){this.ha.qH=t}},Fg:{configurable:!0,enumerable:!0,get:function(){return this.ha.Fg}},II:{configurable:!0,enumerable:!0,get:function(){return this.ha.II}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background},set:function(t){this.ha.background=t}},zka:{configurable:!0,enumerable:!0,get:function(){return this.ha.zka}},pd:{configurable:!0,enumerable:!0,get:function(){return this.ha.pd}},Np:{configurable:!0,enumerable:!0,get:function(){return this.ha.Np}},sla:{configurable:!0,enumerable:!0,get:function(){return this.ha.sla}},VN:{configurable:!0,enumerable:!0,get:function(){return this.ha.VN}},iz:{configurable:!0,enumerable:!0,get:function(){return 0!==b.config.M4&&0==this.ha.ba%b.config.M4}},G4:{configurable:!0,enumerable:!0,get:function(){return this.ha.G4}},Ri:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.J,TrackingId:this.Fj,Xid:this.ba}}},L9:{configurable:!0,enumerable:!0,get:function(){return this.fb.L9}}}),e.zIa=Y},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.Y9a=void 0,n=i(12),r=i(8),o=i(3),i(24),e.Y9a=function(t){var e;r.Oi("Storage"),e={},t({$:!0,storage:{load:function(t,i){e.hasOwnProperty(t)?i({$:!0,data:e[t],W$:t}):i({na:o.L.EB})},save:function(t,i,n,r){n&&e.hasOwnProperty(t)?r({$:!1}):(e[t]=i,r&&r({$:!0,W$:t}))},remove:function(t,i){delete e[t],i&&i(n.Ye)}}})}},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.W9a=void 0,n=i(8),r=i(79),o=i(29),a=i(527),e.W9a=function(t){n.ka.get(r.jB).create().then((function(e){t({$:!0,storage:new a.Tca(e,n.ka.get(o.cg))})})).catch((function(e){t(e)}))}},function(t,e){function i(t,e){this.Yv=t,this.pe=e}Object.defineProperty(e,"__esModule",{value:!0}),e.Tca=void 0,i.prototype.load=function(t,e){var n;n=this,this.Yv.load(t).then((function(t){e&&e(i.n$a(t))})).catch((function(i){e&&e(n.Nla(t,i))}))},i.prototype.save=function(t,e,n,r){var o;o=this,this.Yv.save(t,e,n).then((function(){r&&r(i.n$a({key:t,value:e}))})).catch((function(e){r&&r(o.Nla(t,e))}))},i.prototype.remove=function(t,e){var i;i=this,this.Yv.remove(t).then((function(){e&&e({$:!0,W$:t})})).catch((function(n){e&&e(i.Nla(t,n))}))},i.n$a=function(t){return{$:!0,data:t.value,W$:t.key}},i.prototype.Nla=function(t,e){return{$:!1,W$:t,na:e.na,ub:e.cause?this.pe.wd(e.cause):void 0}},e.Tca=i},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.X9a=void 0,n=i(527),r=i(8),o=i(457),a=i(29),e.X9a=function(t){t({$:!0,storage:new n.Tca(r.ka.get(o.TEa),r.ka.get(a.cg))})}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;Object.defineProperty(e,"__esModule",{value:!0}),e.$v=void 0,n=i(12),r=i(14),t=i(3),o=i(8),a=i(30),s=i(11),u=i(31),c=i(19),h=i(64),f=i(4),i=o.ka.get(u.fh),l=o.ka.get(h.Rx),i.register(t.M.LDa,(function(t){var i,u;function h(){t(n.Ye),h=a.ql}i=o.Oi("BatteryManager"),e.$v={Edb:"chargingchange",eYa:function(){return u?u.level:null},Zma:function(){return u?u.charging:null},addEventListener:function(t,e){u&&u.addEventListener(t,e)},removeEventListener:function(t,e){u&&u.removeEventListener(t,e)}},r.config.$T&&c.gd(s.kf.getBattery)?l.Jq(f.Nc(r.config.DEb),Promise.resolve().then((function(){var t;if(t=s.kf.getBattery(),!c.gd(t.then))throw"getBattery did not return a promise";return t}))).then((function(t){!function(t){if(!(t instanceof EventTarget))throw"batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach((function(e){if(!c.gd(t[e]))throw e+" is not a function"}))}(t),u=t})).catch((function(t){i.error("getBattery failed",t)})).then(h):h()}))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.NEa="LicenseBrokerFactorySymbol"},function(t,e){function i(t,e){var i;i=this,this.sYa=t,this.k4a=e,this.lxa=!1,this.nO=function(){i.ep=void 0,i.update()}}Object.defineProperty(e,"__esModule",{value:!0}),e.rLa=void 0,i.prototype.update=function(t){var e,i,n,r,o;n=this.sYa(),this.ebb!==n&&((r=null===(i=null===(e=this.Ro)||void 0===e?void 0:e.WG(n))||void 0===i?void 0:i[0])&&"startTime"in r&&(r.startTime<=n&&n<=r.endTime?(o=r,this.Tab(r.endTime-n)):this.Tab(r.startTime-n)),this.ebb=n,this.Cha!==o&&(this.Cha=o,!t&&this.k4a&&this.k4a()))},i.prototype.start=function(){this.lxa=!0,this.update()},i.prototype.R8a=function(t){this.Ro=t,this.Cha=this.ebb=void 0,t||this.stop()},i.prototype.stop=function(){this.lxa=!1,this.Bs()},i.prototype.lEb=function(){return this.update(!0),this.Cha},i.prototype.Tab=function(t){this.Bs(),this.lxa&&0<t&&(this.ep=setTimeout(this.nO,t+i.Thb))},i.prototype.Bs=function(){this.ep&&(clearTimeout(this.ep),this.ep=void 0)},e.rLa=i,i.Thb=10},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.CDa=void 0,n=i(15),r=i(74),e.CDa=function(t){function e(e){t.fireEvent(n.ca.GG,{response:e,J:t.ha.J})}return{download:function(i,n){return i.j=t,(i=r.hf.download(i,n)).Eha(e),i}}}},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperty(e,"__esModule",{value:!0}),e.fEa=void 0,n=i(14),r=i(51),o=i(3),a=i(534),s=i(11),u=i(19),c=i(15),h=i(8),f=i(208),e.fEa=function(t){var e,i,l,d;function p(){t.state.value!==c.Rb.re||t.yb.value!==c.cb.hh&&t.yb.value!==c.cb.Wq?i.Bs():i.NG()}e=n.config.YRb,!t.nD()&&e&&(i=h.ka.get(f.o1)(e,(function(){t.fireEvent(c.ca.rN,o.M.Q0)})),t.yb.addListener(p),t.state.addListener(p),n.config.Xoa&&(l=r.lj(),(d=new a.GJa(n.config.Xoa,(function(){var i,a;(a=(i=r.lj())-l)>e&&(t.fireEvent(c.ca.rN,o.M.u0),d.mSa()),a>2*n.config.Xoa&&(t.Yoa=s.fo(a,t.Yoa||0)),l=i}))).cYb()),t.addEventListener(c.ca.kg,(function(){i.Bs(),u.Xc(d)&&d.mSa()})))}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.GJa=void 0,e.GJa=function(t,e){var i;this.cYb=function(){i||(i=setInterval(e,t))},this.mSa=function(){i&&(clearInterval(i),i=void 0)}}},function(t,e,i){var n,r,o,a,s,u,c;function h(t){var e,i,n,u;e=this,this.j=t,this.kU=void 0,this.Mfa=o.createElement("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{class:"player-streams"}),this.Bfa=o.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px"),this.rfa=o.createElement("DIV","width:100%;text-align:center"),this.alb=this.Dfa("Audio Bitrate"),this.tha=this.Dfa("Video Bitrate"),this.ufa=this.Dfa("CDN"),this.TS={},this.v6=a.ka.get(s.Tm),this.Mfa.appendChild(this.Bfa),this.Bfa.appendChild(this.rfa),(i=o.createElement("BUTTON",void 0,"Override")).addEventListener("click",this.Vkb.bind(this),!1),this.rfa.appendChild(i),(i=o.createElement("BUTTON",void 0,"Reset")).addEventListener("click",this.dpb.bind(this),!1),this.rfa.appendChild(i),n=this.lob.bind(this),r.ve.addListener(r.YC,n),t.addEventListener(c.ca.CH,(function(){e.TS={}})),t.addEventListener(c.ca.kg,(function(){r.ve.removeListener(r.YC,n)})),u=this.Rob.bind(this),t.qc.forEach((function(t){t.addListener(u)})),t.oc.addListener(u),t.xg.addListener(u)}Object.defineProperty(e,"__esModule",{value:!0}),e.GIa=void 0,n=i(47),r=i(60),o=i(30),a=i(8),s=i(40),u=i(133),c=i(15),h.prototype.show=function(){this.oT||(this.HOa(),document.body.appendChild(this.Mfa),this.oT=!0)},h.prototype.Qr=function(){this.oT&&(document.body.removeChild(this.Mfa),this.oT=!1)},h.prototype.toggle=function(){this.oT?this.Qr():this.show()},h.prototype.Kab=function(){var t,e,i,n;function r(t,e,i){var n,r,o;return r=[],e.filter((function(e){return e.kh===t})).forEach((function(t){0<=i.indexOf(t)?(void 0===o?o=t.bitrate:n=t.bitrate,void 0===n&&(n=t.bitrate)):void 0!==o&&void 0!==n&&(r.push({min:o,max:n}),o=n=void 0)})),void 0!==o&&void 0!==n&&(r.push({min:o,max:n}),o=n=void 0),r}function o(t,e,i){var n;return n=[],e.filter((function(e){return e.kh===t})).forEach((function(t){-1===i.indexOf(t)&&n.push({stream:{bitrate:t.bitrate},disallowedBy:["manual"]})})),n}e=this.j.Ft(),n=(i=this.j.fH().sort((function(t,e){return t.bitrate-e.bitrate}))).reduce((function(t,e){return 0>t.indexOf(e.kh)&&t.push(e.kh),t}),[]).map((function(t){return{profile:t,ranges:r(t,i,e),disallowed:o(t,i,e)}})),null===(t=this.j.Ka)||void 0===t||t.Lq(n,this.j.J)},h.prototype.Vkb=function(){var t,e;this.TS={};for(var i=this.tha.options,r=i.length;r--;)(t=i[r]).selected&&(this.TS[t.value]=1);this.kU=this.zlb.bind(this),this.Kab(),(i=this.j.hi)&&(e=this.ufa.value,i=i.filter((function(t){return t.id==e}))[0],r=this.j.qc[n.Tb.Ta.Mb].value,i&&i!=r&&(i.RRa={testreason:"streammanager",selreason:"userselection"},this.j.qc[n.Tb.Ta.Mb].set(i))),this.Qr()},h.prototype.dpb=function(){this.kU=void 0,this.j.b9a(this.j.J),this.Qr()},h.prototype.zlb=function(){var t;return t=this,this.j.fH().filter((function(e){return t.TS[e.bitrate]}))},h.prototype.HOa=function(){var t,e,i,r;t=this,e=this.j.oc.value,i=this.j.xg.value,r=this.j.hi,e&&((r=r.slice()).sort((function(t,e){return t.uc-e.uc})),this.dha(this.alb,e.streams.map((function(e){return{value:e.bitrate,caption:e.bitrate,selected:e==t.j.jh.value}})))),i&&(this.dha(this.tha,i.streams.map((function(e){var i,n;return i=t.j.VN.Yu(e),n=""+(e=e.bitrate),i&&(n+=" ("+i.join("|")+")"),{value:e,caption:n,selected:t.kU?t.TS[e]:!i}}))),this.tha.removeAttribute("disabled")),r&&(this.dha(this.ufa,r.map((function(e){return{value:e.id,caption:"["+e.id+"] "+e.name,selected:e==t.j.qc[n.Tb.Ta.Mb].value}}))),this.ufa.removeAttribute("disabled"))},h.prototype.Rob=function(){this.oT&&this.HOa()},h.prototype.Dfa=function(t){var e,i;return e=o.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;"),t=o.createElement("DIV",void 0,t),i=o.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"}),e.appendChild(t),e.appendChild(i),this.Bfa.appendChild(e),i},h.prototype.dha=function(t,e){t.innerHTML="",e.forEach((function(e){var i;i={title:e.caption},e.selected&&(i.selected="selected"),(i=o.createElement("option",void 0,e.caption,i)).value=e.value,t.appendChild(i)}))},h.prototype.lob=function(t){t.ctrlKey&&t.altKey&&t.shiftKey&&t.keyCode==u.tv.Fjb&&this.toggle()},e.GIa=h},function(t,e,i){var n,r,o,a,s;function u(t,e){this.wma=t,this.JG={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"},this.element=n.createElement("DIV",void 0,void 0,{class:"player-timedtext"}),this.element.onselectstart=function(){return!1},this.M8a(e),this.uWa=this.AFb(this.wma)}Object.defineProperty(e,"__esModule",{value:!0}),e.oLa=void 0,n=i(30),r=i(537),o=i(538),a=i(11),s=i(24),u.prototype.Dn=function(){return this.element},u.prototype.sXb=function(t){this.jia=t},u.prototype.CXb=function(t){this.entry=t,this.NO()},u.prototype.JXb=function(t){this.M8a(t),this.NO()},u.prototype.NO=function(){var t,e,i,a,s,c,h,f,l,d,p,b,v,y;if(t=this,a=(i=(e=this.Dn()).parentElement)&&i.clientWidth||0,s=i&&i.clientHeight||0,c=i=0,h={width:a,height:s},0<a&&0<s&&this.entry&&(this.jia&&(h=n.LM(a,s,this.jia),i=Math.round((a-h.width)/2),c=Math.round((s-h.height)/2)),l=this.Ltb(h),d=n.LM(l.width,l.height,this.jia),l=(f=this.entry.blocks)&&f.map((function(e){var i;return i=o.Ila(e,d,t.wma,t.uWa),e=o.zVa(e)+";position:absolute",n.createElement("div",e,i,u.Sba)}))),Object.assign(this.JG,{left:i+"px",right:i+"px",top:c+"px",bottom:c+"px"}),e.style.display="none",e.style.direction=this.JG.direction,e.innerHTML="",l&&l.length){a=h.width,i=h.height,p=h,this.RT&&(p=this.fqb(h,this.RT,s,c)),this.JG.margin=this.Zr?this.M3(h,"top")+"px "+this.M3(h,"right")+"px "+this.M3(h,"bottom")+"px "+this.M3(h,"left")+"px ":void 0,l.forEach((function(t){return e.appendChild(t)})),s=n.yG(this.JG),e.style.cssText=s+";visibility:hidden;z-index:-1",c=[];for(var g=l.length-1;0<=g;g--)b=l[g],v=f[g],(y=this.O3a(b,v,a,i)).width>a&&(b.innerHTML=o.Ila(v,h,this.wma,this.uWa,a/y.width),y=this.O3a(b,v,a,i)),c[g]=y;for(c=r.Bab(c,p),(g=f&&f[0]&&f[0].textNodes&&f[0].textNodes[0]&&f[0].textNodes[0].style)&&(p=g.windowColor,g=g.windowOpacity,p&&0<g&&(h=o.BVa(f,c,Math.round(i/50),p,h),h=n.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+g,h,u.Sba),e.insertBefore(h,e.firstChild))),e.style.display="none",h=c.length-1;0<=h;h--)p=l[h].style,g=o.AVa(f[h].region,c[h],a,i,0),Object.assign(p,g);e.style.cssText=s}},u.prototype.dwa=function(t){this.RT=t,this.NO()},u.prototype.eoa=function(){return this.RT},u.prototype.ewa=function(t){this.Zr=t,this.NO()},u.prototype.foa=function(){return this.Zr},u.prototype.goa=function(){return"block"===this.JG.display},u.prototype.fwa=function(t){var e;e=t?"block":"none",this.element.style.display=e,this.JG.display=e,t&&this.NO()},u.prototype.AFb=function(t){var e,i;return e=this,i={},s.te(t,(function(t,n){i[t]=e.jOb(n)})),i},u.prototype.M8a=function(t){this.JG.direction="boolean"==typeof t?t?"ltr":"rtl":"inherit"},u.prototype.M3=function(t,e){if(this.Zr){if("left"===e||"right"===e)return t.width*(this.Zr[e]||0);if("top"===e||"bottom"===e)return t.height*(this.Zr[e]||0)}return 0},u.prototype.Ltb=function(t){return this.Zr?{height:t.height*(1-(this.Zr.top||0)-(this.Zr.bottom||0)),width:t.width*(1-(this.Zr.left||0)-(this.Zr.right||0))}:t},u.prototype.jOb=function(t){var e;return t=n.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+t+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u.Sba),a.Be.body.appendChild(t),e={fontSize:1e3,height:t.clientHeight,width:t.clientWidth/52,lineHeight:t.clientHeight/1e3},a.Be.body.removeChild(t),e},u.prototype.O3a=function(t,e,i,n){var r,o,a,s,u;switch(o=((r=e.region).marginTop||0)*n,a=(r.marginBottom||0)*n,s=(r.marginLeft||0)*i,u=(r.marginRight||0)*i,e=t.clientWidth||1,t=t.clientHeight||1,r.verticalAlignment){case"top":n=o;break;case"center":n=(o+n-a-t)/2;break;default:n=n-a-t}switch(r.horizontalAlignment){case"left":i=s;break;case"right":i=i-u-e;break;default:i=(s+i-u-e)/2}return{top:n,left:i,width:e,height:t}},u.prototype.fqb=function(t,e,i,n){return{height:i-Math.max(n,e.bottom||0)-Math.max(n,e.top||0),width:t.width}},e.oLa=u,u.Sba={class:"player-timedtext-text-container"}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Bab=void 0,n=i(11),e.Bab=function(t,e){function i(t,e,i){var o,a,s,u,c;if(t&&1<t.length){for(var h=[],f=[],l=0;l<t.length;l++)h[l]=0,f[l]=0;for(o=!1,l=0;l<t.length;l++)for(var d=l+1;d<t.length;d++)a=t[l],s=t[d],!(0>a.width||0>s.width||s.left>a.left+a.width||s.left+s.width<a.left||s.top>a.top+a.height)&&s.top+s.height>=a.top?(u=n.fo(a.left,s.left),c=n.fo(a.top,s.top),u={width:n.fo(n.np(a.left+a.width,s.left+s.width)-u,0),height:n.fo(n.np(a.top+a.height,s.top+s.height)-c,0),x:u,y:c}):u=void 0,u&&1<u.width&&1<u.height&&(c=u.width<=u.height,a=r(t[l]),s=r(t[d]),c&&e||!c&&!e?(u=n.fo(u.width/2,.25),a.x<=s.x?(f[l]-=u,f[d]+=u):(f[d]-=u,f[l]+=u)):(c&&!e||!c&&e)&&(a=n.fo(u.height/2,.25),h[l]-=a,h[d]+=a));for(l=0;l<t.length;l++)(-.25>f[l]&&0<=t[l].left+f[l]||.25<f[l]&&t[l].left+t[l].width+f[l]<=i.width)&&(t[l].left+=f[l],o=!0),(-.25>h[l]&&0<=t[l].top+h[l]||.25<h[l]&&t[l].top+t[l].height+h[l]<=i.height)&&(t[l].top+=h[l],o=!0);return o}}function r(t){return{x:t.left+t.width/2,y:t.top+t.height/2}}var o;t=t.map((function(t){return{top:t.top,left:t.left,width:t.width,height:t.height}})),o=e,t.forEach((function(t){0>t.left&&t.left+t.width<o.width?t.left+=n.np(-t.left,o.width-(t.left+t.width)):t.left+t.width>o.width&&0<t.left&&(t.left-=n.np(t.left+t.width-o.width,t.left)),0>t.top&&t.top+t.height<o.height?t.top+=n.np(-t.top,o.height-(t.top+t.height)):t.top+t.height>o.height&&0<t.top&&(t.top-=n.np(t.top+t.height-o.height,t.top))}));for(var a=0;50>a&&i(t,!0,e);a++);for(a=0;50>a&&i(t,!1,e);a++);return t}},function(t,e,i){var n,r,o;function a(t,e,i,n,r){var o;return o={},"right"==t.horizontalAlignment?o.right=100*(i-e.left-e.width-r)/i+"%":o.left=100*(e.left-r)/i+"%","bottom"==t.verticalAlignment?o.bottom=100*(n-e.top-e.height-r)/n+"%":o.top=100*(e.top-r)/n+"%",o}function s(t,e){var i;if(t&&e&&(40===e.x&&19===e.y?i=4/3/(40/19):52===e.x&&19===e.y&&(i=16/9/(52/19)),i))return t.width/t.fontSize/i}function u(t,e,i,n,o){var a,s;for(a=t.style,s=r.XV(t.text),t=t.lineBreaks;t--;)s="<br />"+s;return c(s,a,e,i,n,o)}function c(t,e,i,r,a,u){var c;switch(a=a[c=e.characterStyle],c=0<=c.indexOf("MONOSPACE")&&s(a,e.cellResolution)||a.lineHeight,r=e.characterSize*r.height/(c||1),u={"font-size":(r=0<u?o.Kx(r*u):o.bj(r))+"px","line-height":"normal","font-weight":"normal"},e.characterItalic&&(u["font-style"]="italic"),e.characterUnderline&&(u["text-decoration"]="underline"),e.characterColor&&(u.color=e.characterColor),e.backgroundColor&&0!==e.backgroundOpacity&&(u["background-color"]=h(e.backgroundColor,e.backgroundOpacity)),r=e.characterEdgeColor||"#000000",e.characterEdgeAttributes){case"DROP_SHADOW":u["text-shadow"]=r+" 0px 0px 7px";break;case"UNIFORM":u["text-shadow"]="-1px 0px "+r+",0px 1px "+r+",1px 0px "+r+",0px -1px "+r;break;case"RAISED":u["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case"DEPRESED":u["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black"}return u=n.yG(u),(i=i[e.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(u+=";"+i),0<(e=e.characterOpacity)&&1>e&&(t='<span style="opacity:'+e+'">'+t+"</span>"),'<span style="'+u+'">'+t+"</span>"}function h(t,e){return t=t.substring(1),"rgba("+((t=parseInt(t,16))>>16&255)+","+(t>>8&255)+","+(255&t)+","+(void 0!==e?e:1)+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.zVa=e.eCb=e.cCb=e.fCb=e.dCb=e.AVa=e.BVa=e.Ila=void 0,n=i(50),r=i(24),o=i(11),e.Ila=function(t,e,i,n,r){var o;return o="",t.textNodes.forEach((function(t){o+=u(t,i,e,n,r)})),o},e.BVa=function(t,e,i,n,s){var u,c,h,f,l;u="",c=s.width,s=s.height;for(var d=e.length;d--;)h=e[d],f=(f=t[d])&&f.region,l="position:absolute;background:"+n+";width:"+o.bj(h.width+2*i)+"px;height:"+o.bj(h.height+2*i)+"px;",h=a(f,h,c,s,i),r.te(h,(function(t,e){l+=t+":"+e+";"})),u+='<div style="'+l+'"></div>';return u},e.AVa=a,e.dCb=s,e.fCb=u,e.cCb=c,e.eCb=h,e.zVa=function(t){var e;switch(e={display:"block","white-space":"nowrap"},t.region.horizontalAlignment){case"left":e["text-align"]="left";break;case"right":e["text-align"]="right";break;default:e["text-align"]="center"}return n.yG(e)}},function(t,e,i){var n,r,o,a,s,u,c,h;Object.defineProperty(e,"__esModule",{value:!0}),e.wIa=void 0,n=i(12),r=i(14),o=i(51),a=i(92),s=i(11),u=i(61),c=i(19),h=i(15),e.wIa=function(t){var e,i,f,l,d,p;function b(){return t.state.value===h.Rb.LOADING||t.state.value===h.Rb.re&&t.yb.value===h.cb.Pf}function v(){b()?p||(p=setInterval(y,100)):p&&(clearInterval(p),p=void 0,u.Rf(y))}function y(){var n,u,p,v,y,g,m,_;n=o.lj(),p=(u=e.value)?u.progress:0,(v=t.state.value==h.Rb.LOADING||b()&&n-i>r.config.ntb)&&t.state.value==h.Rb.re?(t.Cf.value===h.yf.aKa?(y=p,g=!0):(m=n,f=f||n,l=l||f+r.config.LOb+1,c.Ba(m)&&(m=s.fo(m,l),y=s.bj(1e3*a.op((n-f)/(m-f),0,.99))/1e3)),y<p&&(p-y<r.config.cUb/100?(y=p,d=void 0):d?n-d>r.config.bUb?(_=!0,d=void 0):y=p:(d=n,y=p))):d=l=f=void 0,(!(n=v?{As:g,progress:y,dUb:_}:null)||!e||!u||c.Ba(n.progress)&&!c.Ba(u.progress)||c.Ba(n.progress)&&c.Ba(u.progress)&&.01<s.SE(n.progress-u.progress)||n.As!==u.As)&&e.set(n)}e=t.$ia,i=0,t.state.addListener((function(){v(),y()}),n.P0),t.yb.addListener((function(t){t.oldValue===h.cb.Pf&&t.newValue===h.cb.Pf||(i=o.lj()),v()})),t.Cf.addListener((function(){v()})),t.zr.addListener((function(){v()})),t.Mm.addListener((function(){v()})),p||(p=setInterval(y,100))}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j;function I(t){var e;e=this,this.j=t,this.Vb=this.j.Vb,this.log=h.Ih(this.j,"MediaPresenterASE"),this.Q8=this.t4=0,this.X=this.Vb.X,this.C5a=this.t5a=this.y7=this.rta=!1,this.j_b=h.ka.get(E.nK)(w.Nc(m.e1)),this.EL=void 0,this.$o=h.ka.get(O.iKa)(this.j),this.ox={},this.Q2a={},this.MV={},this.rg=new T.QFa(this.j),this.h_b=function(){var t,i,n;e.j.jZ=c.lj(),!e.jk()&&e.En&&((t=e.Vb.WYa())||(e.hSb(),e.rg.xxa(e.mediaTime)),e.j.paused.value||!e.rg.Nka(e.mediaTime)||!e.Xia()||t||e.$o.Ipa?e.lva():e.rta||e.mva(),e.gSb(),e.Vb.WYa()||e.y7||(t=e.Vb.tV(!0),i=e.j.yb.value,(n=e.wvb())===y.cb.Wq?(e.mediaTime=e.j.Bu.da(w.ja),e.lva()):n!==y.cb.Pf&&e.i1b(t),e.Xab(),e.rg.uja(e.mediaTime),e.j.yb.set(n),n!==y.cb.Pf||i!==y.cb.Kc&&i!==y.cb.hh||e.UQb()))},this.Ql=S.o6a(this.h_b),this.mediaTime=t.Z,this.j.ei=!1,this.Vb.addEventListener(_.Oj.G9a,(function(){e.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{e.xb()}catch(t){e.log.error("Exception while initializing",t),e.Xd(f.M.Mib)}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.dGa=void 0,n=i(47),r=i(12),o=i(14),a=i(58),s=i(60),u=i(50),c=i(51),h=i(8),i(98),f=i(3),l=i(331),d=i(21),p=i(92),b=i(30),v=i(61),y=i(15),g=i(19),m=i(185),_=i(302),w=i(4),E=i(112),k=i(208),O=i(541),S=i(1185),T=i(1186),A=i(262),P=i(207),j=i(11),I.prototype.IXa=function(){return this.Vb.tV(!1)},I.prototype.S5=function(){return this.Vb.S5()},I.prototype.QC=function(){return this.Vb.QC()},I.prototype.XG=function(){return this.Vb.XG()},I.prototype.sV=function(){return this.Vb.sV()},I.prototype.X5=function(){return this.Vb.X5()},I.prototype.xb=function(){var t;t=this,this.log.trace("Video element initializing"),this.Vb.sourceBuffers.forEach((function(e){return t.rg.YXb(e)})),this.TJb(this.j.oD)},I.prototype.TJb=function(t){var e,i;e=this,t?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.J}),null===(i=this.j.Ka)||void 0===i||i.gz(this.j.J)),this.log.trace("Waiting for loadedmetadata"),this.Vb.addEventListener(_.Oj.n1a,(function(t){var i;t=t.W,e.j.Dd("ld",t),null===(i=e.j.Ka)||void 0===i||i.gz(t),e.j.fireEvent(y.ca.k1a)})),u.OPa(this.X,"loadedmetadata",(function(){e.log.trace("Video element event: loadedmetadata"),e.j.Dd("md")})),s.ve.addListener(s.El,this.MV[s.El]=function(){return e.close()},r.cF),this.j.addEventListener(y.ca.kg,(function(){return e.close()}),r.cF),this.j.addEventListener(y.ca.e8a,(function(){return e.mva()})),this.j.addEventListener(y.ca.CH,(function(){return e.HQb()})),this.j.paused.addListener((function(){return e.Ql()})),this.j.muted.addListener((function(){return e.Uxa()})),this.j.volume.addListener((function(){return e.Uxa()})),this.j.playbackRate.addListener((function(){return e.Eaa()})),this.j.zr.addListener((function(){return e.Ql()})),this.j.Mm.addListener((function(){return e.Ql()})),this.Uxa(),this.Eaa(),this.rg.J$((function(){return e.o8()})),this.o8(),this.B0b()},I.prototype.j3=function(t){var e;e=this,this.rg.wrb(t),this.kub(t).then((function(){e.o8(),e.j.fireEvent(y.ca.n8)})).catch((function(t){e.Xd(f.M.Qib,{ub:b.wd(t)})}))},I.prototype.aia=function(t,e,i){i=void 0===i?{}:i,e=this.dBb(t,e),this.rg.urb(t,e,i),this.o8(),this.t5a||t.type!==n.Tb.ol.Mb||(this.$o.Ipa||this.seek(this.j.Z,y.Ce.Fx),this.t5a=!0)},I.prototype.B0b=function(){var t;t=this,this.Vb.addEventListener(_.Oj.BY,this.ox[_.Oj.BY]=function(){return t.ZQb()}),this.Vb.addEventListener(_.Oj.Wp,this.ox[_.Oj.Wp]=function(){return t.g9()}),this.X.addEventListener("ended",this.ox.ended=function(){return t.CQb()}),this.X.addEventListener("play",this.ox.play=function(){return t.LQb()}),this.X.addEventListener("pause",this.ox.pause=function(){return t.JQb()}),this.X.addEventListener("playing",this.ox.playing=function(){return t.RQb()}),this.En=!0,this.rg.xxa(this.mediaTime),this.log.trace("Video element initialization complete"),this.j.Dd("vi"),o.config.fUa?setTimeout((function(){t.Bsa=!0,t.Ql()}),o.config.fUa):this.Bsa=!0,this.eZb(),v.Rf((function(){return t.Ql()}))},I.prototype.eZb=function(){var t;function e(){var e;t.j.yb.value!==y.cb.Kc||0!==(null===(e=t.j.Xf)||void 0===e?void 0:e.S5())||j.Be.hidden?(t.N3a.Bs(),e="stopTimer"):(t.N3a.NG(),e="ensureTimer"),t.log.trace("No render timer update: "+e,{presentingState:y.cb[t.j.yb.value],hidden:j.Be.hidden})}function i(e){var i,n;e=void 0===e||e,n=(null==(i=t.j.Ka)?void 0:i.$h)&&i.D6(),t.j.yb.value==y.cb.Pf&&t.j.state.value==y.Rb.re&&t.j.zr.value==y.yf.re&&t.j.Mm.value==y.yf.re&&!t.j.ei&&n?(e&&t.v4.Bs(),t.v4.NG(),i="ensureTimer"):(t.v4.Bs(),i="stopTimer"),t.log.trace("Timer update: "+i,{presentingState:y.cb[t.j.yb.value],playbackState:y.Rb[t.j.state.value],avBufferingState:y.yf[t.j.zr.value],textBufferingState:y.yf[t.j.Mm.value],autoplayWasBlocked:t.j.ei,hasLicense:n,restartTimer:e})}t=this,o.config.VTa&&(d.hb(!this.v4),this.v4=h.ka.get(k.o1)(o.config.VTa,(function(){var e;e=h.ka.get(l.cca).oUa(t.j),t.Xd(e.code,e)})),this.j.yb.addListener((function(){return i()})),this.j.zr.addListener((function(){return i()})),this.j.Mm.addListener((function(){return i()})),this.j.state.addListener((function(){return i()})),this.j.addEventListener(y.ca.k1a,(function(){return i()})),this.j.addEventListener(y.ca.ei,(function(){return i()})),this.j.addEventListener(y.ca.zia,(function(){return i()})),this.j.addEventListener(y.ca.tI,(function(){return i(!0)})),i()),o.config.M3a&&(this.N3a=h.ka.get(k.o1)(o.config.M3a,(function(){var i;0===(null===(i=t.j.Xf)||void 0===i?void 0:i.QC())&&(i=h.ka.get(l.cca).oUa(t.j),t.Xd(i.code,i)),t.j.yb.removeListener(e),s.ve.removeListener(s.Nr,t.MV[s.Nr])})),this.j.yb.addListener(e),s.ve.addListener(s.Nr,this.MV[s.Nr]=e),e())},I.prototype.dBb=function(t,e){var i;return i=this.j.nf,(i=P.upa(i)?i.YM():void 0)&&t.type===n.Tb.ol.Mb&&(t=new A.WJ(this.log,{mediaType:A.Pj.Mb,url:"http://some-url"},e).wa(i))&&(e=t),e},I.prototype.o8=function(){this.En?this.Ql():o.config.vrb&&this.rg.xxa(this.mediaTime),this.rg.YRa()},I.prototype.kZb=function(){this.j.yb.set(y.cb.Pf),this.y7=!0,this.Ql()},I.prototype.svb=function(){var t;t=this,this.y7&&(this.y7=!1,v.Rf((function(){return t.VPb()})))},I.prototype.J5=function(){return this.rg.J5()},I.prototype.VPb=function(){var t,e;t=this.j.TC()||0,this.j.bb.Fl?o.config.$sb&&(t=t-(this.Vb.Bva+1)-o.config.Ava,e=this.j.Ka.Ko().fd,t=Math.max(t,e)):(t-=o.config.RWb,t=Math.max(t,this.$o.iqa)),this.seek(t,y.Ce.UR)},I.prototype.d9=function(t){var e;e=this,this.rg.$Xb(t),v.Rf((function(){return e.Ql()}))},I.prototype.TFb=function(){return{t4:this.t4,Q8:this.Q8}},I.prototype.kub=function(t){var e;return e=this.Vb&&this.Vb.rYa(),this.j.Bu&&e&&1/0!==t.n8a&&((t=t.n8a+t.Ou)>this.j.Bu.V5a(w.ja)&&(this.j.Bu=w.Nc(t))),Promise.resolve()},I.prototype.gSb=function(){var t;t=this,this.$o.z9&&this.Xia()&&this.rg.Nka(this.mediaTime)&&(this.Vb.seek(this.mediaTime),this.$o.z9=!1,v.Rf((function(){return t.Ql()})))},I.prototype.i1b=function(t){var e;t<this.mediaTime?(e=this.mediaTime-t,o.config.iSb&&t&&e>m.e1&&(t={ElementTime:p.cj(t),MediaTime:p.cj(this.mediaTime)},e>m.CJa?this.Xd(f.M.$ib,{ub:Object.assign({Trace:this.Vb.VC()},t)}):this.log.warn("VIDEO.currentTime became smaller",t))):this.mediaTime=p.op(t,0,this.j.Bu.da(w.ja))},I.prototype.Xia=function(){return this.j.zr.value===y.yf.re&&this.j.Mm.value===y.yf.re},I.prototype.wvb=function(){var t,e,i;return t=this,i=e=this.j.yb.value,this.$o.Ipa?i=y.cb.Pf:this.X&&this.X.ended?e===y.cb.Kc&&(i=y.cb.Wq):this.Xia()&&this.rg.Nka(this.mediaTime)?this.Vb.dAb()?i=this.X&&this.X.paused?y.cb.hh:y.cb.Kc:this.j_b.Ol((function(){return t.i_b()})):i=this.j.Bu?this.j.AZa(this.mediaTime,this.rg.s4())?y.cb.Pf:y.cb.Wq:y.cb.Pf,i},I.prototype.UQb=function(){var t;this.j.yb.value===y.cb.Pf&&(t=this.rg.R_b()>this.rg.s4(),this.j.Mm.value!==y.yf.re?this.j.ci.value?(this.j.fireEvent(y.ca.Jy,{cause:a.uIa}),this.log.warn("rebuffer due to timed text",this.j.ci.value.Ri)):this.j.fireEvent(y.ca.IP):t?(this.t4++,this.j.fireEvent(y.ca.Jy,{cause:a.Xda})):(this.Q8++,this.j.fireEvent(y.ca.Jy,{cause:a.Yda})))},I.prototype.i_b=function(){this.jk()||(o.config.ZPb&&this.rg.YPb(),this.Ql())},I.prototype.ZQb=function(){this.Ql()},I.prototype.g9=function(){this.Ql(),this.j.fireEvent(y.ca.Wp)},I.prototype.CQb=function(){this.log.trace("Video element event: ended"),this.Ql()},I.prototype.LQb=function(){this.log.trace("Video element event: play"),this.Ql()},I.prototype.JQb=function(){this.log.trace("Video element event: pause"),this.Ql()},I.prototype.RQb=function(){this.log.trace("Video element event: playing"),this.Ql()},I.prototype.Uxa=function(){this.jk()||(this.X&&this.X.volume!==this.j.volume.value&&(this.X.volume=this.j.volume.value),this.X&&this.X.muted!==this.j.muted.value&&(this.X.muted=this.j.muted.value))},I.prototype.Eaa=function(){!this.jk()&&this.X&&(this.X.playbackRate=this.j.playbackRate.value)},I.prototype.mva=function(){var t;t=this,this.jk()||!g.Xc(this.X)||this.X.ended||!this.Bsa||!this.TP&&void 0!==this.TP||(this.log.trace("Calling play on element"),Promise.resolve(this.X.play()).then((function(){t.closed||(t.TP=!1,t.rta=!1,t.X.style.display=null,t.j.ei=!1,t.j.fireEvent(y.ca.zia,{j:t.j}))})).catch((function(e){"NotAllowedError"===e.name?(t.log.warn("Playback is blocked by the browser settings",e),t.j.ei=!0,t.closed||(t.rta=!0,t.X.style.display="none",t.j.fireEvent(y.ca.ei,{player:{play:function(){return t.mva()}}}))):t.closed||(t.TP=!1,t.C5a||(t.C5a=!0,t.log.error("Play promise rejected",e)))})))},I.prototype.HQb=function(){this.$o.iqa=this.j.TC()||0},I.prototype.lva=function(){this.jk()||!g.Xc(this.X)||this.X.ended||!this.Bsa||this.TP&&void 0!==this.TP||(this.log.trace("Calling pause on element"),this.X.pause(),this.TP=!0)},I.prototype.Xab=function(t){this.j.mediaTime.set(this.mediaTime),t&&this.j.ADb()},I.prototype.seek=function(t,e,i,n){var r,o;i=void 0===i?this.j.xa:i,n=void 0!==n&&n,o=null===(r=this.j.Ka)||void 0===r?void 0:r.$h,!this.jk()&&o&&(this.j.fireEvent(y.ca.tI,{cause:e}),this.$o.EX={time:t,cause:e,xa:i,GDb:n},this.j.yb.set(y.cb.Pf),this.Ql())},I.prototype.hSb=function(){var t,e,i,n,r,o,a,s;this.$o.EX&&(e=(t=this.$o.EX).time,i=t.cause,n=t.xa,r=t.GDb,this.rg.Hh()&&i!==y.Ce.Fx||(t=this.j.um(n).J,o=this.rg.Hh()?void 0:this.rg.IEb(),n=(o=this.$o.rGb(e,i,n,r,o)).U8,r=o.ek,a=o.KSb,o=o.Li,this.rg.uja(this.mediaTime),s=this.mediaTime,e=p.cj(e),this.j.bG("SEEKING: Requested: ("+t+":"+i+":"+e+") - Actual: (contentPts: "+r+",playerPts: "+a+", newMediaTime: "+n+")"),this.log.info("Seeking",{Requested:e,Actual:p.cj(n),Cause:i,Skip:o}),i===y.Ce.Fx||o||(this.rg.H7a(),this.rg.VXb()),this.mediaTime=n,this.$o.iqa=r,e=this.j.jf.value,a=this.j.oe.value,this.j.jf.set(null),this.j.oe.set(null),this.Xab(!0),this.$o.EX=void 0,this.$o.z9=!0,this.j.fireEvent(y.ca.wk,{Csa:s,U8:n,ek:r,cause:i,skip:o,jf:e,oe:a,J:t}),o&&this.rg.skip(n)))},I.prototype.Xd=function(t,e,i){this.closed||this.j.Xd(t,e,i)},I.prototype.close=function(){if(!this.closed){this.log.info("Closing."),this.rg.close(),this.Vb.removeEventListener(_.Oj.BY,this.Q2a[_.Oj.BY]),this.Vb.removeEventListener(_.Oj.Wp,this.Q2a[_.Oj.Wp]),this.X.removeEventListener("ended",this.ox.ended),this.X.removeEventListener("play",this.ox.play),this.X.removeEventListener("pause",this.ox.pause),this.X.removeEventListener("playing",this.ox.playing),s.ve.removeListener(s.El,this.MV[s.El]),s.ve.removeListener(s.Nr,this.MV[s.Nr]),this.closed=!0;try{o.config.mPb&&(this.X.volume=0,this.X.muted=!0),this.lva(),this.Vb.close()}catch(t){}this.X=void 0,this.rg.H7a()}},I.prototype.jk=function(){return!!this.closed||!g.Xc(this.X)&&(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0)},e.dGa=I},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.iKa="SeekManagerFactorySymbol"},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.uCa=void 0,n=i(14),r=i(60),o=i(24),a=i(3),s=i(15),e.uCa=function(t,e,i){function u(e){var r,s;r=e.error||e,s=o.wd(r),i.error("uncaught exception",r,s),(r=(r=r&&r.stack)&&n.config.Dab&&n.config.M0b?0<=r.indexOf(n.config.Dab):void 0)&&(e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.Xd(a.M.KLa))}function c(){r.ve.removeListener(r.w6,u),t.removeEventListener(s.ca.kg,c),t.removeEventListener(s.ca.Cq,c)}try{r.ve.addListener(r.w6,u),t.addEventListener(s.ca.kg,c),n.config.yJb&&t.addEventListener(s.ca.Cq,c)}catch(t){i.error("exception in exception handler ",t)}}},function(t,e,i){var n,r,o,a,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.T1a=void 0,n=i(14),r=i(12),o=i(51),t=i(3),a=i(11),s=i(19),u=i(8),i=i(31),u.ka.get(i.fh).register(t.M.PDa,(function(t){var i,u,c,h,f;i=n.config.iNb,u=-6/(i-2-2),c=r.pl,h=[],f=a.Kx(o.lj()/c),s.Lpa(i)&&(setInterval((function(){var t;if((t=a.Kx(o.lj()/c))!=f){for(var e=a.np(t-f,30);e--;)h.push(0);(e=a.fo(h.length-31,0))&&h.splice(0,e),f=t}h[h.length-1]++}),1e3/i),e.T1a={KFb:function(){for(var t,e=[],n=h.length-1;n--;)t=h[n],e.unshift(0>=t?9:1>=t?8:t>=i-1?0:a.bj((t-2)*u+7));return e}}),t(r.Ye)}))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.eea="PlaybackMilestoneStoreSymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.OHa="PboManifestRequestTransformerSymbol"},function(t,e,i){var n,r,o,a,s;function u(t,e){this.Vb=t,this.j=e,this.wW=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.oQ=void 0,t=i(1),n=i(3),r=i(0),o=i(19),a=i(30),s=i(8),u.prototype.r5=function(t){this.wW.forEach((function(e){return e(t)}))},u.prototype.Xd=function(t,e,i){this.j.Xd(t,e,i)},u.prototype.zqb=function(t){-1===this.wW.indexOf(t)&&this.wW.push(t)},u.prototype.uVb=function(t){0<=(t=this.wW.indexOf(t))&&this.wW.splice(t,1)},u.prototype.nZa=function(t){var e,i;e={},o.Xc(t.code)?e.na=n.rCa(t.code):e.na=n.L.Lj;try{i=t.message.match(/\((\d*)\)/)[1],e.pf=s.Hia(i,4)}catch(t){}return e.ub=a.wd(t),e},i=t.__decorate([r.R()],u),e.oQ=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.bJa="PlaygraphPlaybackStrategyFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.fJa="PlaygraphStateFactorySymbol"},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.JEa="LegacyPostPlayShimFactorySymbol"},function(t,e,i){var n;function r(t,e,i,r,o){var a;a=this,this.fb=t,this.Ek=e,this.Wu=i,this.Ub=r,this.Em=o,this.Q9=new Map,this.mYb(),this.Ub.addListener(n.Da.loaded,(function(){return a.a6a()}))}Object.defineProperty(e,"__esModule",{value:!0}),e.WE=void 0,n=i(15),r.prototype.QPa=function(t){var e,i;return e=this,i=Object.keys(this.fb.fl.qa).find((function(i){return e.fb.fl.qa[i].W===t.J})),t.id||(t.id=null!=i?i:this.Em.Lr(t.J)),i||(this.fb.fl=this.Em.xrb(this.fb.fl,t)),i=this.jI(t.id),t.rj&&this.fb.o1b(t.id,t.rj),i},r.prototype.xab=function(){return Promise.reject(Error("Error isn't recoverable"))},r.prototype.qoa=function(t,e){var i;return i=this,e=void 0===e?{}:e,this.Wu.transition(t,e).then((function(){i.fb.oh=t}))},r.prototype.close=function(t){return this.Wu.close(t)},r.prototype.isReady=function(){return this.Wu.XGb()},r.prototype.Dn=function(){return this.Wu.Dn()},r.prototype.cH=function(){return this.Wu.cH()},r.prototype.jI=function(t){return this.Q9.has(t)||this.Q9.set(t,this.Wu.Nk(this.mtb(t))),this.Q9.get(t)},r.prototype.mYb=function(){var t;t=this,this.Wu.addListener(n.iF.CY,(function(){return t.Ub.Fc(n.iF.CY)})),Object.values(n.Da).forEach((function(e){t.Wu.addListener(e,(function(i){return t.Ub.Fc(e,i)}))}))},r.prototype.Nw=function(){this.a6a()},r.prototype.Ksa=function(t){this.Wu.m1b({id:t,J:this.fb.ue(t).W,rj:this.fb.oHb(t)})},r.prototype.WH=function(){},r.prototype.a6a=function(){var t,e;this.isReady()&&(t=this.fb.oh,(e=this.fb.DV(t))&&!this.Q9.has(e)&&(this.Ksa(t),this.jI(e)))},r.prototype.mtb=function(t){var e,i,n,r;return i=this.fb.ue(t),r=null==(n=this.Ek.lN(i.W))?void 0:n.Fb,n=null==n?void 0:n.oa,{id:t,J:i.W,Z:i.Jb,rj:null!==(e=null==r?void 0:r.rj)&&void 0!==e?e:i.Ob,Fb:r,oa:n}},e.WE=r},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.fea=void 0,i.prototype.ara=function(t){return{Fj:(t=void 0===t?{}:t).trackingId,w3:t.authParams,Jm:t.sessionParams,ye:t.uiLabel,Laa:t.uxLabels,fla:t.disableTrackStickiness,HZ:t.uiPlayStartTime,v5:t.forceAudioTrackId,w5:t.forceTimedTextTrackId,Fl:t.isBranching,Rbb:t.vuiCommand,playbackState:t.playbackState?{currentTime:t.playbackState.currentTime,volume:t.playbackState.volume,muted:t.playbackState.muted,playbackRate:t.playbackState.playbackRate}:void 0,zM:t.enableTrickPlay,Eoa:t.heartbeatCooldown,w7:t.isPlaygraph,S7:t.loadImmediately||!1,v5a:t.pin,NX:t.preciseSeeking,Z:t.startPts,Ha:t.endPts,rj:t.logicalEnd,f$:t.renderTimedText,NVa:t.extraManifestParams,lia:t.assetId,dsb:t.audioLanguages,x_b:t.textLanguages,Fbb:t.videoLanguage,Vo:t.packageId,kUa:t.desiredDownloadables,Xua:t.requestReference}},e.fea=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.LCa=void 0,e.LCa=function(t){var e,i,n,r;function o(){if(n)for(var t;t=e.pop();)t(r)}function a(t){n=!0,r=t,o()}return e=[],function(n){e.push(n),i||(i=!0,t(a)),o()}}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y;Object.defineProperty(e,"__esModule",{value:!0}),e.iab=void 0,n=i(74),r=i(12),o=i(14),a=i(50),s=i(51),u=i(8),c=i(3),h=i(24),f=i(71),l=i(11),d=i(123),p=i(31),b=i(39),v=i(34),y=i(18),e.iab=function(){var t,e,i,g;function m(e){var i,n,r;i="info",n="",r=u.ka.get(f.oF).iYa(),e.$||(i="error",n+="&errorcode="+(e.errorCode||""),n+="&errorsubcode="+(e.na||"")),_("startup",n="type=startup&sev="+i+n+"&"+a.kO(h.Zb({},r,{prefix:"m_"})),t)}function _(t,u,c){c&&e&&o.config.kab[t]&&(t=i+"&jsoffms="+s.lj()+"&do="+l.kf.onLine+"&"+u+"&"+a.kO(h.Zb({},g.pd,{prefix:"im_"})),n.hf.download({url:c,Fta:t,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},EC:"track"},r.ql))}return e=!1,i="",u.Oi("TrackingLog"),(g=u.ka.get(p.fh)).register(c.M.UDa,(function(n){var s,c,f;(e=o.config.jab&&!!o.config.pxa)&&(t=u.ka.get(d.zJ).host+o.config.pxa,s=u.ka.get(v.Hk),c=u.ka.get(v.yB),f=u.ka.get(y.jd).id,i="cat=cadplayback&dev="+encodeURIComponent(s.fz)+"&ep="+encodeURIComponent(c.a0)+"&ver="+encodeURIComponent("6.0033.414.911")+"&jssid="+f+"&browserua="+l.xB,o.config.Cz&&(i+="&groupname="+encodeURIComponent(o.config.Cz)),o.config.mJ&&(i+="&uigroupname="+encodeURIComponent(o.config.mJ)),s=i,c=u.ka.get(b.KR),c=h.Zb({},c,{prefix:"pi_"}),c="&"+a.kO(c),i=s+c,g.LN(m)),n(r.Ye)})),_}()},function(t,e,i){var n,r,o,a,s;function u(t){var e;n.Oi("MediaSourceASE").trace("Inside MediaSourceASE"),e=t.BV(),this.readyState=s.Sc.CLOSED,this.sourceBuffers=e.sourceBuffers,this.addSourceBuffer=function(t){return e.addSourceBuffer(t)},this.b3=function(t){return e.b3(t)},this.removeSourceBuffer=function(t){return e.removeSourceBuffer(t)},this.Yp=function(t){return e.Yp(t)},this.TY=a++,this.duration=void 0,e.rXb(this.TY),this.readyState=s.Sc.OPEN,this.pc=r.ka.get(o.cg).LH(s.pc,{})}Object.defineProperty(e,"__esModule",{value:!0}),e.iGa=void 0,n=i(8),r=i(8),o=i(29),a=0,Object.defineProperty(u.prototype,"duration",{get:function(){return this.Tj},set:function(t){var e;this.Tj=t||1/0,e=Math.floor(1e3*t)||1/0,this.sourceBuffers.forEach((function(t){t.Tj=e}))}}),s={Sc:{CLOSED:0,OPEN:1,Wq:2,name:["CLOSED","OPEN","ENDED"]},pc:{sSa:!0,w3a:!0}},e.iGa=Object.assign(u,s)},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t){return t&&"object"==typeof t?JSON.stringify(t):"string"==typeof t?'"'+t+'"':""+t}function l(t,e,i){var r;return"string"==typeof t?l.call(this,function(t){return t.split(",").reduce((function(t,e){var i;return i=e.split("="),e=i[0],i=i.slice(1).join("="),e&&e.length&&(t[e]=i||!0),t}),{})}(t),e,i):(r=0,Object.keys(t).forEach((function(o){var l,d,p;if(l=s[o],d=t[o],l){if(p=u[o]||h[typeof n[l]])try{d=p(d)}catch(t){return void(i&&i.error("Failed to convert value '"+d+"' for config '"+o+"' : "+t.toString()))}p=a[l],this[l]=d,a[l]!==p&&(i&&i.debug("Config changed for '"+o+"' from "+f(p)+" ("+typeof p+") to "+f(d)+" ("+typeof d+")"),++r)}else e?((l=(l=c[o])?l.filter((function(t){return t[0]!==this}),this):[]).push([this,d]),c[o]=l):i&&i.error("Attempt to change undeclared config option '"+o+"'")}),this),r&&a.emit("changed"),r)}function d(){return Object.keys(s).reduce((function(t,e){var i,n;return(n=t[i=s[e]])?(n.push(e),t[i]=n.sort((function(t,e){return e.length-t.length}))):t[i]=[e],t}),{})}function p(t,e){return t.hasOwnProperty(e)?f(t[e]):void 0}function b(t,e){return void 0===t?e:t}e=i(86),i=i(1269).EventEmitter,n={},r=Object.create(n),o=Object.create(r),a=Object.create(o),s={},u={},c={},a.declare=function(t){return Object.keys(t).forEach((function(e){var i,r,o,a;if(r=(i=t[e])[0],o=i[1],a=i[2],n.hasOwnProperty(e))throw Error("The local configuraion key '"+e+"' is already in use");"string"==typeof r&&(r=[r]),r.forEach((function(t){var i;if(s.hasOwnProperty(t))throw Error("The configuration value '"+t+"' has been declared more than once");n.hasOwnProperty(e)||("function"==typeof o&&(o=o()),n[e]=o),s[t]=e,"function"==typeof a&&(u[t]=a),(i=c[t])&&(i.forEach((function(e){var i,n;i=e[0],(n={})[t]=e[1],l.call(i,n,!1)})),delete c[t])}))})),a},h={object:function(t){return"object"==typeof t?t:JSON.parse(""+t)},boolean:function(t){return"boolean"==typeof t?t:!("0"==""+t||"false"===(""+t).toLowerCase())},number:function(t){if("number"==typeof t)return t;if(t=parseFloat(""+t),isNaN(t))throw Error("parseFloat returned NaN");return t}},a.set=l.bind(r),a.wX=l.bind(o),a.dump=function(t,e){var i,u,h,l;function v(){l&&t&&t.log("===========================================")}i=Object.keys(c).sort(),u={},h=d(),e=b(e,!0),Object.keys(s).sort().forEach((function(i){var c,d,y;i=s[i],u[i]||(u[i]=!0,c=p(r,i),d=p(o,i),(e||void 0!==c||void 0!==d)&&(y=h[i].join(","),y+=" = "+f(a[i])+" ("+typeof a[i]+") [",y+=b(d,"<unset>")+",",y+=b(c,"<unset>")+",",y+=p(n,i)+"]",l||(l=!0,t&&t.log("Current config values"),v()),t&&t.log(y)))})),(e||i.length)&&t&&t.log("<undeclared> :",i),v()},a.Et=function(t){var e,i;return e={},i={},Object.keys(s).forEach((function(t){t=s[t],i[t]||(i[t]=!0,e[t]=a[t])})),t&&l.call(e,t),e},a.u5a=function(){var t;return t=d(),Object.getOwnPropertyNames(r).reduce((function(e,i){return e[t[i][0]]=r[i],e}),{})},a.reset=function(){Object.keys(r).forEach((function(t){delete r[t]}))},a.Ad={},e(i,a),t.exports=Object.freeze(a)},function(t,e,i){var n;function r(t){for(var e="",i=0;i<t.length;i++)e+=t[i].W+"|";return e}n=i(307),t.exports={assert:function(t,e){if(!t)throw Error("PlayPredictionModel assertion failed"+(e?" : "+e:""))},Y$b:function(t,e,i){Array.prototype.splice.apply(t,[e,0].concat(i))},YEb:function(t){for(var e=[],i=0;i<t.length;i++)if(t[i].context===n.jR.Vdb){e=t[i].list;break}return e},FEb:function(t){for(var e=[],i=0;i<t.length;i++)if(t[i].context===n.jR.Mcb){e=t[i].list;break}return e},Zzb:function(t,e){for(var i,n,o=0,a=0,s=t.length-1;a<s;a++){i=r(t[a].list||[]),n=!1;for(var u=0,c=e.length;u<c;u++)if(r(e[u].list||[])==i){n=!0;break}if(!1===n){o=a;break}}return o},nQb:function(t,e,i){for(var n,r=[],o=0;o<Math.min(e,t.length);o++)n=t[o].list||[],r=r.concat(n.slice(0,i));return r},mQb:function(t,e){for(var i,n=[],r=0;r<t.length&&(e-=(i=(i=t[r].list||[]).slice(0,Math.min(i.length,e))).length,n=n.concat(i),0!==e);r++);return n},lQb:function(t,e,i){var n;return e<t.length&&0<=e&&(i<(t=t[e].list||[]).length&&(n=t[i])),n},hWa:function(t){for(var e,i={},r=t.length,o=0;o<r;o++){e=t[o].list||[];for(var a=0;a<e.length;a++)if(e[a].property===n.VJ.FR||e[a].property===n.VJ.QAa){i.xk=o,i.jm=a;break}}return void 0===i.xk&&void 0===i.jm&&(i.xk=0,i.jm=0),i}}},function(t,e,i){var n;function r(t,e,i,n,r,o,a){this.PZ=n,this.hcb=t,this.K3a=e,this.Qra=i,this.tLb=o,this.YD=a,this.split=r}function o(){this.K={},this.K[0]=new r("1","2","1","14","-0.0000100136",0,0),this.K[1]=new r("3","4","3","20","-0.0000100136",0,0),this.K[3]=new r("7","8","7","10","1.5",0,0),this.K[7]=new r("15","16","15","9","4.5",0,0),this.K[15]=new r("31","32","31","2","5.5",0,0),this.K[31]=new r("63","64","63","29","-0.0000100136",0,0),this.K[63]=new r("123","124","123","24","-0.0000100136",0,0),this.K[123]=new r("123","124","123","0","0",1,.207298),this.K[124]=new r("123","124","123","0","0",1,.49076),this.K[64]=new r("125","126","125","4","40.5",0,0),this.K[125]=new r("125","126","125","0","0",1,-.00157835),this.K[126]=new r("125","126","125","0","0",1,.934205),this.K[32]=new r("65","66","65","135","5.5",0,0),this.K[65]=new r("127","128","128","4","1272.5",0,0),this.K[127]=new r("127","128","128","0","0",1,-.510333),this.K[128]=new r("127","128","128","0","0",1,.18363),this.K[66]=new r("129","130","129","24","-0.0000100136",0,0),this.K[129]=new r("129","130","129","0","0",1,-.0464542),this.K[130]=new r("129","130","129","0","0",1,.458833),this.K[16]=new r("33","34","34","10","2.00001",0,0),this.K[33]=new r("67","68","67","0","29.5",0,0),this.K[67]=new r("131","132","131","2","39.5",0,0),this.K[131]=new r("131","132","131","0","0",1,-.37577),this.K[132]=new r("131","132","131","0","0",1,.512087),this.K[68]=new r("133","134","134","140","1.5",0,0),this.K[133]=new r("133","134","134","0","0",1,.321272),this.K[134]=new r("133","134","134","0","0",1,-.675396),this.K[34]=new r("69","70","70","2","24.5",0,0),this.K[69]=new r("135","136","136","9","28.5",0,0),this.K[135]=new r("135","136","136","0","0",1,-.0573845),this.K[136]=new r("135","136","136","0","0",1,-.507455),this.K[70]=new r("137","138","137","45","-0.0000100136",0,0),this.K[137]=new r("137","138","137","0","0",1,-.503909),this.K[138]=new r("137","138","137","0","0",1,.450886),this.K[8]=new r("17","18","17","4","44189.5",0,0),this.K[17]=new r("35","36","35","2","21.5",0,0),this.K[35]=new r("71","72","72","0","19.5",0,0),this.K[71]=new r("139","140","140","9","2.5",0,0),this.K[139]=new r("139","140","140","0","0",1,.00403497),this.K[140]=new r("139","140","140","0","0",1,-.312656),this.K[72]=new r("141","142","141","135","96",0,0),this.K[141]=new r("141","142","141","0","0",1,-.465786),this.K[142]=new r("141","142","141","0","0",1,.159633),this.K[36]=new r("73","74","73","130","89.5",0,0),this.K[73]=new r("143","144","144","10","4.5",0,0),this.K[143]=new r("143","144","144","0","0",1,-.76265),this.K[144]=new r("143","144","144","0","0",1,-.580804),this.K[74]=new r("145","146","146","10","16.5",0,0),this.K[145]=new r("145","146","146","0","0",1,.296357),this.K[146]=new r("145","146","146","0","0",1,-.691659),this.K[18]=new r("37","38","38","9","1.5",0,0),this.K[37]=new r("37","38","38","0","0",1,.993951),this.K[38]=new r("75","76","75","0","19",0,0),this.K[75]=new r("147","148","147","39","-0.0000100136",0,0),this.K[147]=new r("147","148","147","0","0",1,-.346535),this.K[148]=new r("147","148","147","0","0",1,-.995745),this.K[76]=new r("147","148","147","0","0",1,-.99978),this.K[4]=new r("9","10","9","5","4.5",0,0),this.K[9]=new r("19","20","19","2","4.5",0,0),this.K[19]=new r("39","40","39","140","7.5",0,0),this.K[39]=new r("77","78","78","134","6.5",0,0),this.K[77]=new r("149","150","150","7","11.5",0,0),this.K[149]=new r("149","150","150","0","0",1,.729843),this.K[150]=new r("149","150","150","0","0",1,.383857),this.K[78]=new r("151","152","151","133","4.5",0,0),this.K[151]=new r("151","152","151","0","0",1,.39017),this.K[152]=new r("151","152","151","0","0",1,.0434342),this.K[40]=new r("79","80","79","133","3.5",0,0),this.K[79]=new r("153","154","154","8","4.5",0,0),this.K[153]=new r("153","154","154","0","0",1,-.99536),this.K[154]=new r("153","154","154","0","0",1,-.00943396),this.K[80]=new r("155","156","155","125","-0.0000100136",0,0),this.K[155]=new r("155","156","155","0","0",1,.266272),this.K[156]=new r("155","156","155","0","0",1,.959904),this.K[20]=new r("41","42","42","10","65.5",0,0),this.K[41]=new r("81","82","82","7","10.5",0,0),this.K[81]=new r("157","158","158","2","37.5",0,0),this.K[157]=new r("157","158","158","0","0",1,-.701873),this.K[158]=new r("157","158","158","0","0",1,.224649),this.K[82]=new r("159","160","159","133","9.5",0,0),this.K[159]=new r("159","160","159","0","0",1,.0955181),this.K[160]=new r("159","160","159","0","0",1,-.58962),this.K[42]=new r("83","84","83","39","-0.0000100136",0,0),this.K[83]=new r("161","162","161","135","31",0,0),this.K[161]=new r("161","162","161","0","0",1,-.229692),this.K[162]=new r("161","162","161","0","0",1,.88595),this.K[84]=new r("163","164","164","1","13.5",0,0),this.K[163]=new r("163","164","164","0","0",1,-.992157),this.K[164]=new r("163","164","164","0","0",1,.922159),this.K[10]=new r("21","22","22","4","486",0,0),this.K[21]=new r("43","44","44","133","4.5",0,0),this.K[43]=new r("85","86","86","10","4.5",0,0),this.K[85]=new r("165","166","166","4","158.5",0,0),this.K[165]=new r("165","166","166","0","0",1,-.127778),this.K[166]=new r("165","166","166","0","0",1,.955189),this.K[86]=new r("165","166","166","0","0",1,-.994012),this.K[44]=new r("87","88","88","1","3.5",0,0),this.K[87]=new r("167","168","168","135","7",0,0),this.K[167]=new r("167","168","168","0","0",1,-.997015),this.K[168]=new r("167","168","168","0","0",1,.400821),this.K[88]=new r("169","170","169","130","36",0,0),this.K[169]=new r("169","170","169","0","0",1,-.898638),this.K[170]=new r("169","170","169","0","0",1,.56129),this.K[22]=new r("45","46","45","9","2.5",0,0),this.K[45]=new r("89","90","90","9","1.5",0,0),this.K[89]=new r("171","172","171","10","10.5",0,0),this.K[171]=new r("171","172","171","0","0",1,.573986),this.K[172]=new r("171","172","171","0","0",1,-.627266),this.K[90]=new r("173","174","173","31","-0.0000100136",0,0),this.K[173]=new r("173","174","173","0","0",1,.925273),this.K[174]=new r("173","174","173","0","0",1,-.994805),this.K[46]=new r("91","92","91","136","5.5",0,0),this.K[91]=new r("175","176","175","10","10.5",0,0),this.K[175]=new r("175","176","175","0","0",1,.548352),this.K[176]=new r("175","176","175","0","0",1,-.879195),this.K[92]=new r("177","178","178","8","14.5",0,0),this.K[177]=new r("177","178","178","0","0",1,.457305),this.K[178]=new r("177","178","178","0","0",1,-.998992),this.K[2]=new r("5","6","5","10","2.5",0,0),this.K[5]=new r("11","12","11","9","4.5",0,0),this.K[11]=new r("23","24","24","10","4.00001",0,0),this.K[23]=new r("47","48","48","133","5.5",0,0),this.K[47]=new r("93","94","93","3","13.5",0,0),this.K[93]=new r("179","180","179","138","15.5",0,0),this.K[179]=new r("179","180","179","0","0",1,.658398),this.K[180]=new r("179","180","179","0","0",1,-.927007),this.K[94]=new r("181","182","182","3","15.5",0,0),this.K[181]=new r("181","182","182","0","0",1,-.111351),this.K[182]=new r("181","182","182","0","0",1,-.99827),this.K[48]=new r("95","96","95","7","167",0,0),this.K[95]=new r("183","184","183","132","36.5",0,0),this.K[183]=new r("183","184","183","0","0",1,.895161),this.K[184]=new r("183","184","183","0","0",1,-.765217),this.K[96]=new r("185","186","186","137","6.00001",0,0),this.K[185]=new r("185","186","186","0","0",1,-.851095),this.K[186]=new r("185","186","186","0","0",1,.674286),this.K[24]=new r("49","50","49","137","5.5",0,0),this.K[49]=new r("97","98","97","5","23.5",0,0),this.K[97]=new r("187","188","187","3","28.5",0,0),this.K[187]=new r("187","188","187","0","0",1,.951654),this.K[188]=new r("187","188","187","0","0",1,-.993808),this.K[98]=new r("187","188","187","0","0",1,-.99705),this.K[50]=new r("187","188","187","0","0",1,-.997525),this.K[12]=new r("25","26","25","8","8.5",0,0),this.K[25]=new r("51","52","52","10","4.00001",0,0),this.K[51]=new r("99","100","100","133","5.5",0,0),this.K[99]=new r("189","190","190","7","40.5",0,0),this.K[189]=new r("189","190","190","0","0",1,.151839),this.K[190]=new r("189","190","190","0","0",1,-.855517),this.K[100]=new r("191","192","192","133","14.5",0,0),this.K[191]=new r("191","192","192","0","0",1,.86223),this.K[192]=new r("191","192","192","0","0",1,.544394),this.K[52]=new r("101","102","101","135","47.5",0,0),this.K[101]=new r("193","194","194","4","24.5",0,0),this.K[193]=new r("193","194","194","0","0",1,.946185),this.K[194]=new r("193","194","194","0","0",1,.811859),this.K[102]=new r("193","194","194","0","0",1,-.991561),this.K[26]=new r("53","54","54","132","6.5",0,0),this.K[53]=new r("103","104","103","131","85",0,0),this.K[103]=new r("195","196","196","134","16.5",0,0),this.K[195]=new r("195","196","196","0","0",1,.0473538),this.K[196]=new r("195","196","196","0","0",1,-.999401),this.K[104]=new r("197","198","198","8","15.5",0,0),this.K[197]=new r("197","198","198","0","0",1,.816129),this.K[198]=new r("197","198","198","0","0",1,-.99322),this.K[54]=new r("105","106","105","133","3.5",0,0),this.K[105]=new r("105","106","105","0","0",1,-.998783),this.K[106]=new r("199","200","199","39","-0.0000100136",0,0),this.K[199]=new r("199","200","199","0","0",1,.528588),this.K[200]=new r("199","200","199","0","0",1,-.998599),this.K[6]=new r("13","14","14","10","7.5",0,0),this.K[13]=new r("27","28","28","133","7.5",0,0),this.K[27]=new r("55","56","56","10","4.5",0,0),this.K[55]=new r("107","108","107","3","3.5",0,0),this.K[107]=new r("201","202","201","4","17.5",0,0),this.K[201]=new r("201","202","201","0","0",1,-.379512),this.K[202]=new r("201","202","201","0","0",1,.15165),this.K[108]=new r("203","204","203","57","-0.0000100136",0,0),this.K[203]=new r("203","204","203","0","0",1,-.884606),this.K[204]=new r("203","204","203","0","0",1,.265406),this.K[56]=new r("109","110","109","136","6.5",0,0),this.K[109]=new r("205","206","205","4","157.5",0,0),this.K[205]=new r("205","206","205","0","0",1,-.0142737),this.K[206]=new r("205","206","205","0","0",1,.691279),this.K[110]=new r("205","206","205","0","0",1,-.998086),this.K[28]=new r("57","58","58","138","11.5",0,0),this.K[57]=new r("111","112","112","2","6.5",0,0),this.K[111]=new r("207","208","208","7","67.5",0,0),this.K[207]=new r("207","208","208","0","0",1,.763925),this.K[208]=new r("207","208","208","0","0",1,-.309645),this.K[112]=new r("209","210","209","40","-0.0000100136",0,0),this.K[209]=new r("209","210","209","0","0",1,-.306635),this.K[210]=new r("209","210","209","0","0",1,.556696),this.K[58]=new r("113","114","113","138","50.5",0,0),this.K[113]=new r("211","212","212","8","25.5",0,0),this.K[211]=new r("211","212","212","0","0",1,.508234),this.K[212]=new r("211","212","212","0","0",1,.793551),this.K[114]=new r("211","212","212","0","0",1,-.998438),this.K[14]=new r("29","30","29","134","27.5",0,0),this.K[29]=new r("59","60","60","7","17.5",0,0),this.K[59]=new r("115","116","115","135","5.5",0,0),this.K[115]=new r("213","214","214","137","5.5",0,0),this.K[213]=new r("213","214","214","0","0",1,.401747),this.K[214]=new r("213","214","214","0","0",1,.0367503),this.K[116]=new r("215","216","216","8","5.5",0,0),this.K[215]=new r("215","216","216","0","0",1,-.0241984),this.K[216]=new r("215","216","216","0","0",1,-.999046),this.K[60]=new r("117","118","117","0","12.5",0,0),this.K[117]=new r("217","218","218","132","5.5",0,0),this.K[217]=new r("217","218","218","0","0",1,-.997294),this.K[218]=new r("217","218","218","0","0",1,.210398),this.K[118]=new r("219","220","219","137","1.5",0,0),this.K[219]=new r("219","220","219","0","0",1,-.55763),this.K[220]=new r("219","220","219","0","0",1,.074493),this.K[30]=new r("61","62","62","133","42.5",0,0),this.K[61]=new r("119","120","119","135","5.5",0,0),this.K[119]=new r("221","222","222","4","473.5",0,0),this.K[221]=new r("221","222","222","0","0",1,-.920213),this.K[222]=new r("221","222","222","0","0",1,-.17615),this.K[120]=new r("223","224","224","5","144",0,0),this.K[223]=new r("223","224","224","0","0",1,-.954295),this.K[224]=new r("223","224","224","0","0",1,-.382538),this.K[62]=new r("121","122","121","133","50",0,0),this.K[121]=new r("225","226","226","10","18.5",0,0),this.K[225]=new r("225","226","226","0","0",1,-.0731343),this.K[226]=new r("225","226","226","0","0",1,.755454),this.K[122]=new r("227","228","228","0","30",0,0),this.K[227]=new r("227","228","228","0","0",1,.25),this.K[228]=new r("227","228","228","0","0",1,-.997101)}function a(t,e,i,n,r,o){this.r$=r,this.Y3=o}e=i(555),n=i(306),(i={}).Xrb=new function(){this.lmb=n(),this.G=0,this.update=function(){this.G=n()-this.lmb},this.getValue=function(){return this.G},this.type="num"},i.nMb=new function(){this.getValue=function(t,e,i){return this.G="becauseYouAdded"===i.Ya[t].context||null},this.type="cat"},i.oMb=new function(){this.getValue=function(t,e,i){return this.G="becauseYouLiked"===i.Ya[t].context||null},this.type="cat"},i.qMb=new function(){this.getValue=function(t,e,i){return this.G="billboard"===i.Ya[t].context||null},this.type="cat"},i.rMb=new function(){this.getValue=function(t,e,i){return this.G="continueWatching"===i.Ya[t].context||null},this.type="cat"},i.pMb=new function(){this.getValue=function(t,e,i){return this.G="bigRow"===i.Ya[t].context||null},this.type="cat"},i.sMb=new function(){this.getValue=function(t,e,i){return this.G="genre"===i.Ya[t].context||null},this.type="cat"},i.tMb=new function(){this.getValue=function(t,e,i){return this.G="netflixOriginals"===i.Ya[t].context||null},this.type="cat"},i.uMb=new function(){this.getValue=function(t,e,i){return this.G="newRelease"===i.Ya[t].context||null},this.type="cat"},i.vMb=new function(){this.getValue=function(t,e,i){return this.G="popularTitles"===i.Ya[t].context||null},this.type="cat"},i.wMb=new function(){this.getValue=function(t,e,i){return this.G="queue"===i.Ya[t].context||null},this.type="cat"},i.xMb=new function(){this.getValue=function(t,e,i){return this.G="recentlyAdded"===i.Ya[t].context||null},this.type="cat"},i.yMb=new function(){this.getValue=function(t,e,i){return this.G="similars"===i.Ya[t].context||null},this.type="cat"},i.AMb=new function(){this.getValue=function(t,e,i){return this.G="trendingNow"===i.Ya[t].context||null},this.type="cat"},i.BMb=new function(){this.getValue=function(t,e,i){return this.G="ultraHD"===i.Ya[t].context||null},this.type="cat"},i.CMb=new function(){this.getValue=function(t,e,i){return this.G="watchAgain"===i.Ya[t].context||null},this.type="cat"},i.zMb=new function(){this.getValue=function(t,e,i){return this.G="topTen"===i.Ya[t].context||null},this.type="cat"},i.Isb=new function(){this.update=function(t){for(var e in t.Ya)if("becauseYouAdded"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.Jsb=new function(){this.update=function(t){for(var e in t.Ya)if("becauseYouLiked"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.Msb=new function(){this.update=function(t){for(var e in t.Ya)if("billboard"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.Svb=new function(){this.update=function(t){for(var e in t.Ya)if("continueWatching"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.Lsb=new function(){this.update=function(t){for(var e in t.Ya)if("bigRow"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.iEb=new function(){this.update=function(t){for(var e in t.Ya)if("genre"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.pPb=new function(){this.update=function(t){for(var e in t.Ya)if("netflixOriginals"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.rPb=new function(){this.update=function(t){for(var e in t.Ya)if("newRelease"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.XSb=new function(){this.update=function(t){for(var e in t.Ya)if("popularTitles"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.Yo=new function(){this.update=function(t){for(var e in t.Ya)if("queue"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.HUb=new function(){this.update=function(t){for(var e in t.Ya)if("recentlyAdded"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.OYb=new function(){this.update=function(t){for(var e in t.Ya)if("similars"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.s0b=new function(){this.update=function(t){for(var e in t.Ya)if("trendingNow"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.K0b=new function(){this.update=function(t){for(var e in t.Ya)if("ultraHD"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.I2b=new function(){this.update=function(t){for(var e in t.Ya)if("watchAgain"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.b0b=new function(){this.update=function(t){for(var e in t.Ya)if("topTen"===t.Ya[e].context){this.G=Math.max(t.Ya[e].list.length,this.G);break}},this.getValue=function(){return this.G},this.type="num",this.G=0},i.cwb=new function(){this.getValue=function(t,e,i){return this.G="AR"===i.Xa||null},this.type="cat"},i.dwb=new function(){this.getValue=function(t,e,i){return this.G="AT"===i.Xa||null},this.type="cat"},i.ewb=new function(){this.getValue=function(t,e,i){return this.G="AU"===i.Xa||null},this.type="cat"},i.fwb=new function(){this.getValue=function(t,e,i){return this.G="AZ"===i.Xa||null},this.type="cat"},i.gwb=new function(){this.getValue=function(t,e,i){return this.G="BB"===i.Xa||null},this.type="cat"},i.hwb=new function(){this.getValue=function(t,e,i){return this.G="BE"===i.Xa||null},this.type="cat"},i.iwb=new function(){this.getValue=function(t,e,i){return this.G="BO"===i.Xa||null},this.type="cat"},i.jwb=new function(){this.getValue=function(t,e,i){return this.G="BR"===i.Xa||null},this.type="cat"},i.kwb=new function(){this.getValue=function(t,e,i){return this.G="BS"===i.Xa||null},this.type="cat"},i.lwb=new function(){this.getValue=function(t,e,i){return this.G="CA"===i.Xa||null},this.type="cat"},i.mwb=new function(){this.getValue=function(t,e,i){return this.G="CH"===i.Xa||null},this.type="cat"},i.nwb=new function(){this.getValue=function(t,e,i){return this.G="CL"===i.Xa||null},this.type="cat"},i.owb=new function(){this.getValue=function(t,e,i){return this.G="CO"===i.Xa||null},this.type="cat"},i.pwb=new function(){this.getValue=function(t,e,i){return this.G="CR"===i.Xa||null},this.type="cat"},i.qwb=new function(){this.getValue=function(t,e,i){return this.G="CW"===i.Xa||null},this.type="cat"},i.rwb=new function(){this.getValue=function(t,e,i){return this.G="DE"===i.Xa||null},this.type="cat"},i.swb=new function(){this.getValue=function(t,e,i){return this.G="DK"===i.Xa||null},this.type="cat"},i.twb=new function(){this.getValue=function(t,e,i){return this.G="DM"===i.Xa||null},this.type="cat"},i.uwb=new function(){this.getValue=function(t,e,i){return this.G="DO"===i.Xa||null},this.type="cat"},i.vwb=new function(){this.getValue=function(t,e,i){return this.G="EC"===i.Xa||null},this.type="cat"},i.wwb=new function(){this.getValue=function(t,e,i){return this.G="EE"===i.Xa||null},this.type="cat"},i.xwb=new function(){this.getValue=function(t,e,i){return this.G="EG"===i.Xa||null},this.type="cat"},i.ywb=new function(){this.getValue=function(t,e,i){return this.G="ES"===i.Xa||null},this.type="cat"},i.zwb=new function(){this.getValue=function(t,e,i){return this.G="FI"===i.Xa||null},this.type="cat"},i.Awb=new function(){this.getValue=function(t,e,i){return this.G="FR"===i.Xa||null},this.type="cat"},i.Bwb=new function(){this.getValue=function(t,e,i){return this.G="GB"===i.Xa||null},this.type="cat"},i.Cwb=new function(){this.getValue=function(t,e,i){return this.G="GF"===i.Xa||null},this.type="cat"},i.Dwb=new function(){this.getValue=function(t,e,i){return this.G="GP"===i.Xa||null},this.type="cat"},i.Ewb=new function(){this.getValue=function(t,e,i){return this.G="GT"===i.Xa||null},this.type="cat"},i.Fwb=new function(){this.getValue=function(t,e,i){return this.G="HK"===i.Xa||null},this.type="cat"},i.Gwb=new function(){this.getValue=function(t,e,i){return this.G="HN"===i.Xa||null},this.type="cat"},i.Hwb=new function(){this.getValue=function(t,e,i){return this.G="HR"===i.Xa||null},this.type="cat"},i.Iwb=new function(){this.getValue=function(t,e,i){return this.G="HU"===i.Xa||null},this.type="cat"},i.Jwb=new function(){this.getValue=function(t,e,i){return this.G="ID"===i.Xa||null},this.type="cat"},i.Kwb=new function(){this.getValue=function(t,e,i){return this.G="IE"===i.Xa||null},this.type="cat"},i.Lwb=new function(){this.getValue=function(t,e,i){return this.G="IL"===i.Xa||null},this.type="cat"},i.Mwb=new function(){this.getValue=function(t,e,i){return this.G="IN"===i.Xa||null},this.type="cat"},i.Nwb=new function(){this.getValue=function(t,e,i){return this.G="IT"===i.Xa||null},this.type="cat"},i.Owb=new function(){this.getValue=function(t,e,i){return this.G="JE"===i.Xa||null},this.type="cat"},i.Pwb=new function(){this.getValue=function(t,e,i){return this.G="JM"===i.Xa||null},this.type="cat"},i.Qwb=new function(){this.getValue=function(t,e,i){return this.G="JP"===i.Xa||null},this.type="cat"},i.Rwb=new function(){this.getValue=function(t,e,i){return this.G="KE"===i.Xa||null},this.type="cat"},i.Swb=new function(){this.getValue=function(t,e,i){return this.G="KN"===i.Xa||null},this.type="cat"},i.Twb=new function(){this.getValue=function(t,e,i){return this.G="KR"===i.Xa||null},this.type="cat"},i.Uwb=new function(){this.getValue=function(t,e,i){return this.G="LU"===i.Xa||null},this.type="cat"},i.Vwb=new function(){this.getValue=function(t,e,i){return this.G="MK"===i.Xa||null},this.type="cat"},i.Wwb=new function(){this.getValue=function(t,e,i){return this.G="MU"===i.Xa||null},this.type="cat"},i.Xwb=new function(){this.getValue=function(t,e,i){return this.G="MX"===i.Xa||null},this.type="cat"},i.Ywb=new function(){this.getValue=function(t,e,i){return this.G="MY"===i.Xa||null},this.type="cat"},i.Zwb=new function(){this.getValue=function(t,e,i){return this.G="NI"===i.Xa||null},this.type="cat"},i.$wb=new function(){this.getValue=function(t,e,i){return this.G="NL"===i.Xa||null},this.type="cat"},i.axb=new function(){this.getValue=function(t,e,i){return this.G="NO"===i.Xa||null},this.type="cat"},i.bxb=new function(){this.getValue=function(t,e,i){return this.G="NZ"===i.Xa||null},this.type="cat"},i.cxb=new function(){this.getValue=function(t,e,i){return this.G="OM"===i.Xa||null},this.type="cat"},i.dxb=new function(){this.getValue=function(t,e,i){return this.G="PA"===i.Xa||null},this.type="cat"},i.exb=new function(){this.getValue=function(t,e,i){return this.G="PE"===i.Xa||null},this.type="cat"},i.fxb=new function(){this.getValue=function(t,e,i){return this.G="PF"===i.Xa||null},this.type="cat"},i.gxb=new function(){this.getValue=function(t,e,i){return this.G="PH"===i.Xa||null},this.type="cat"},i.hxb=new function(){this.getValue=function(t,e,i){return this.G="PK"===i.Xa||null},this.type="cat"},i.ixb=new function(){this.getValue=function(t,e,i){return this.G="PL"===i.Xa||null},this.type="cat"},i.jxb=new function(){this.getValue=function(t,e,i){return this.G="PT"===i.Xa||null},this.type="cat"},i.kxb=new function(){this.getValue=function(t,e,i){return this.G="PY"===i.Xa||null},this.type="cat"},i.lxb=new function(){this.getValue=function(t,e,i){return this.G="QA"===i.Xa||null},this.type="cat"},i.mxb=new function(){this.getValue=function(t,e,i){return this.G="RO"===i.Xa||null},this.type="cat"},i.nxb=new function(){this.getValue=function(t,e,i){return this.G="RS"===i.Xa||null},this.type="cat"},i.oxb=new function(){this.getValue=function(t,e,i){return this.G="RU"===i.Xa||null},this.type="cat"},i.pxb=new function(){this.getValue=function(t,e,i){return this.G="SA"===i.Xa||null},this.type="cat"},i.qxb=new function(){this.getValue=function(t,e,i){return this.G="SE"===i.Xa||null},this.type="cat"},i.rxb=new function(){this.getValue=function(t,e,i){return this.G="SG"===i.Xa||null},this.type="cat"},i.sxb=new function(){this.getValue=function(t,e,i){return this.G="SV"===i.Xa||null},this.type="cat"},i.txb=new function(){this.getValue=function(t,e,i){return this.G="SX"===i.Xa||null},this.type="cat"},i.uxb=new function(){this.getValue=function(t,e,i){return this.G="TH"===i.Xa||null},this.type="cat"},i.vxb=new function(){this.getValue=function(t,e,i){return this.G="TR"===i.Xa||null},this.type="cat"},i.wxb=new function(){this.getValue=function(t,e,i){return this.G="TT"===i.Xa||null},this.type="cat"},i.xxb=new function(){this.getValue=function(t,e,i){return this.G="TW"===i.Xa||null},this.type="cat"},i.yxb=new function(){this.getValue=function(t,e,i){return this.G="US"===i.Xa||null},this.type="cat"},i.zxb=new function(){this.getValue=function(t,e,i){return this.G="UY"===i.Xa||null},this.type="cat"},i.Axb=new function(){this.getValue=function(t,e,i){return this.G="VE"===i.Xa||null},this.type="cat"},i.Bxb=new function(){this.getValue=function(t,e,i){return this.G="ZA"===i.Xa||null},this.type="cat"},i.JUb=new function(){this.getValue=function(t,e,i){return this.G=1===i.ti||null},this.type="cat"},i.KUb=new function(){this.getValue=function(t,e,i){return this.G=10===i.ti||null},this.type="cat"},i.LUb=new function(){this.getValue=function(t,e,i){return this.G=11===i.ti||null},this.type="cat"},i.MUb=new function(){this.getValue=function(t,e,i){return this.G=12===i.ti||null},this.type="cat"},i.NUb=new function(){this.getValue=function(t,e,i){return this.G=13===i.ti||null},this.type="cat"},i.OUb=new function(){this.getValue=function(t,e,i){return this.G=14===i.ti||null},this.type="cat"},i.PUb=new function(){this.getValue=function(t,e,i){return this.G=15===i.ti||null},this.type="cat"},i.QUb=new function(){this.getValue=function(t,e,i){return this.G=16===i.ti||null},this.type="cat"},i.RUb=new function(){this.getValue=function(t,e,i){return this.G=17===i.ti||null},this.type="cat"},i.SUb=new function(){this.getValue=function(t,e,i){return this.G=18===i.ti||null},this.type="cat"},i.TUb=new function(){this.getValue=function(t,e,i){return this.G=19===i.ti||null},this.type="cat"},i.UUb=new function(){this.getValue=function(t,e,i){return this.G=2===i.ti||null},this.type="cat"},i.VUb=new function(){this.getValue=function(t,e,i){return this.G=20===i.ti||null},this.type="cat"},i.WUb=new function(){this.getValue=function(t,e,i){return this.G=21===i.ti||null},this.type="cat"},i.XUb=new function(){this.getValue=function(t,e,i){return this.G=22===i.ti||null},this.type="cat"},i.YUb=new function(){this.getValue=function(t,e,i){return this.G=23===i.ti||null},this.type="cat"},i.ZUb=new function(){this.getValue=function(t,e,i){return this.G=3===i.ti||null},this.type="cat"},i.$Ub=new function(){this.getValue=function(t,e,i){return this.G=4===i.ti||null},this.type="cat"},i.aVb=new function(){this.getValue=function(t,e,i){return this.G=5===i.ti||null},this.type="cat"},i.bVb=new function(){this.getValue=function(t,e,i){return this.G=6===i.ti||null},this.type="cat"},i.cVb=new function(){this.getValue=function(t,e,i){return this.G=7===i.ti||null},this.type="cat"},i.dVb=new function(){this.getValue=function(t,e,i){return this.G=8===i.ti||null},this.type="cat"},i.eVb=new function(){this.getValue=function(t,e,i){return this.G=9===i.ti||null},this.type="cat"},i.UZb=new function(){this.update=function(t){"down"===t.direction&&this.G++},this.getValue=function(){return this.G},this.type="num",this.G=0},i.WZb=new function(){this.update=function(t){"right"===t.direction&&this.G++},this.getValue=function(){return this.G},this.type="num",this.G=0},i.VZb=new function(){this.update=function(t){"left"===t.direction&&this.G++},this.getValue=function(){return this.G},this.type="num",this.G=0},i.XZb=new function(){this.update=function(t){"up"===t.direction&&this.G++},this.getValue=function(){return this.G},this.type="num",this.G=0},i.$Nb=new function(){this.G=0,this.update=function(t){this.G=Math.max(this.G,t.rowIndex)},this.getValue=function(){return this.G},this.type="num"},i.aOb=new function(){this.G=0,this.update=function(t){this.G=Math.max(this.G,t.Pja)},this.getValue=function(){return this.G},this.type="num"},i.hOb=new function(){this.qS=this.G=0,this.update=function(t){this.qS++,this.G=1*(this.G+t.rowIndex)/this.qS},this.getValue=function(){return this.G},this.type="num"},i.iOb=new function(){this.qS=this.G=0,this.update=function(t){return this.qS++,this.G=1*(this.G+t.Pja)/this.qS},this.getValue=function(){return this.G},this.type="num"},i.CTb=new function(){this.getValue=function(t,e,i){return this.G=i.Pja+e},this.type="num"},i.DTb=new function(){this.getValue=function(t,e,i){return this.G=i.rowIndex+t},this.type="num"},o.prototype.YD=function(t){return this.POa(this.K[0].j8a(t),t)},o.prototype.POa=function(t,e){return"string"==typeof t?this.POa(this.K[t].j8a(e),e):t},r.prototype.j8a=function(t){if(0===this.tLb)switch(t.features[this.PZ].type){case"cat":return null===t.features[this.PZ].value?this.K3a:"missing"==t.features[this.PZ].value?this.Qra:this.hcb;case"num":return null===t.features[this.PZ].value?this.Qra:t.features[this.PZ].value<this.split?this.hcb:this.K3a;default:return this.Qra}return this.YD},e.declare({ZW:["modelSelector","modelone"],ivb:["colEpisodeList",5],YIb:["holdDuration",15e3],W7a:["rowFirst",2],uSa:["colFirst",5],Y7a:["rowScroll",2],vSa:["colScroll",6],vWb:["rowScrollHorizontal",6],OWb:["searchTop",3],MTa:["cwFirst",2],WV:["horizontalItemsFocusedMode",3],vLb:["itemsPerRank",1],RNb:["maxNumberPayloadsStored",10],z2a:["maxNumberTitlesScheduled",5],Z9b:["enableDetailedLogging",!0],Ybc:["rowStep",20],y9b:["colStep",15],Abc:["pageRows",100],zbc:["pageColumns",75],dra:["maskParamsList",(new function(){var t,e;for(this.dra=[],this.Te={},this.r$=20,this.Y3=15,t=0;100>t;t++)for(e=0;75>e;e++)Math.floor(t/this.r$)+"_"+Math.floor(e/this.Y3)in this.Te||(this.Te[Math.floor(t/this.r$)+"_"+Math.floor(e/this.Y3)]=1,this.dra.push(new a("grid",10,5,5,Math.floor(t/this.r$),Math.floor(e/this.Y3))))}).dra],K:["nodes",(new o).K],mapping:["mapping",{aOb:"0",iOb:"1",$Nb:"2",hOb:"3",Xrb:"4",XZb:"5",VZb:"6",WZb:"7",UZb:"8",DTb:"9",CTb:"10",nMb:"11",oMb:"12",qMb:"13",rMb:"14",pMb:"15",sMb:"16",tMb:"17",uMb:"18",vMb:"19",wMb:"20",xMb:"21",yMb:"22",zMb:"23",AMb:"24",BMb:"25",CMb:"26",JUb:"27",KUb:"28",LUb:"29",MUb:"30",NUb:"31",OUb:"32",PUb:"33",QUb:"34",RUb:"35",SUb:"36",TUb:"37",UUb:"38",VUb:"39",WUb:"40",XUb:"41",YUb:"42",ZUb:"43",$Ub:"44",aVb:"45",bVb:"46",cVb:"47",dVb:"48",eVb:"49",cwb:"50",dwb:"51",ewb:"52",fwb:"53",gwb:"54",hwb:"55",iwb:"56",jwb:"57",kwb:"58",lwb:"59",mwb:"60",nwb:"61",owb:"62",pwb:"63",qwb:"64",rwb:"65",swb:"66",twb:"67",uwb:"68",vwb:"69",wwb:"70",xwb:"71",ywb:"72",zwb:"73",Awb:"74",Bwb:"75",Cwb:"76",Dwb:"77",Ewb:"78",Fwb:"79",Gwb:"80",Hwb:"81",Iwb:"82",Jwb:"83",Kwb:"84",Lwb:"85",Mwb:"86",Nwb:"87",Owb:"88",Pwb:"89",Qwb:"90",Rwb:"91",Swb:"92",Twb:"93",Uwb:"94",Vwb:"95",Wwb:"96",Xwb:"97",Ywb:"98",Zwb:"99",$wb:"100",axb:"101",bxb:"102",cxb:"103",dxb:"104",exb:"105",fxb:"106",gxb:"107",hxb:"108",ixb:"109",jxb:"110",kxb:"111",lxb:"112",mxb:"113",nxb:"114",oxb:"115",pxb:"116",qxb:"117",rxb:"118",sxb:"119",txb:"120",uxb:"121",vxb:"122",wxb:"123",xxb:"124",yxb:"125",zxb:"126",Axb:"127",Bxb:"128",I2b:"129",HUb:"130",OYb:"131",Yo:"132",Svb:"133",iEb:"134",s0b:"135",b0b:"136",Msb:"137",rPb:"138",K0b:"139",XSb:"140",Isb:"141",Lsb:"142",Jsb:"143",pPb:"144"}],features:["features",i],H8b:["_modelName","tree"],C8b:["_format","xgboost"],G8b:["_itemsToKeep",5],F8b:["_itemsThreshold",null],j9b:["cacheLimit",20]}),t.exports={config:e,vac:a,D9b:r}},function(t,e,i){t.exports=i(559)},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0}),n(560),t._cad_global={},t.DEBUG=!1,n(12),n(11),n(19),n(24),n(50),n(92),n(1255),n(552),n(61),n(51),n(21),n(73),n(60),n(1256),n(301),n(335),n(1257),n(534),n(1258),n(531),n(538),n(536),n(537),n(553),n(525),n(526),n(528),n(296),n(295),n(1259),n(14),n(543),n(1260),n(193),n(74),n(532),n(158),n(472),n(473),n(280),n(1261),n(1262),n(496),n(1263),n(489),n(298),n(487),n(297),n(524),n(1264),n(300),n(540),n(190),n(554),n(134),n(1265),n(106),n(1272),n(1273),n(1274),n(1275),n(1277),n(1279),n(539),n(58),n(1280),n(535),n(475),n(533),n(542),n(1281),n(1282),n(305),n(163),n(1283),n(1284),n(1285),n(1287),n(1288),n(529)},function(e,i,n){(function(e){var i;!function(i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i){var n;if(!(n=f.get(t))){if(!i)return;n=new c,f.set(t,n)}if(!(t=n.get(e))){if(!i)return;t=new c,n.set(e,t)}return t}function b(t,e,i){return!!v(t,e,i)||null!==(e=S(e))&&b(t,e,i)}function v(t,e,i){return void 0!==(e=p(e,i,!1))&&!!e.has(t)}function y(t,e,i){return v(t,e,i)?g(t,e,i):null!==(e=S(e))?y(t,e,i):void 0}function g(t,e,i){return void 0===(e=p(e,i,!1))?void 0:e.get(t)}function m(t,e){var i,n;if(i=_(t,e),null===(t=S(t)))return i;if(0>=(e=m(t,e)).length)return i;if(0>=i.length)return e;t=new h;for(var r=0;r<i.length;r++)n=i[r],t.add(n);for(i=0;i<e.length;i++)n=e[i],t.add(n);return function(t){var e;return e=[],A(t,(function(t,i){e.push(i)})),e}(t)}function _(t,e){var i;return t=p(t,e,!1),i=[],t&&A(t,(function(t,e){return i.push(e)})),i}function w(t){return void 0===t}function E(t){return Array.isArray?Array.isArray(t):t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function k(t){return"object"==typeof t?null!==t:"function"==typeof t}function O(t){return"symbol"==typeof t?t:String(t)}function S(t){var e,i;return e=Object.getPrototypeOf(t),"function"!=typeof t||t===u||e!==u||null==(i=(i=t.prototype)&&Object.getPrototypeOf(i))||i===Object.prototype||"function"!=typeof(i=i.constructor)||i===t?e:i}function T(t){return(t=t.next()).done?void 0:t}function A(t,e,i){var n,r,o;if("function"==typeof(n=t.entries)){n=n.call(t);try{for(;r=T(n);)o=r.value,e.call(i,o[1],o[0],t)}finally{r&&(t=n.return)&&t.call(n)}}else"function"==typeof(n=t.forEach)&&n.call(t,e,i)}function P(t,e,i){var n;return n=0,{next:function(){var r;if((t||e)&&n<(t||e).length)switch(r=n++,i){case"key":return{value:t[r],done:!1};case"value":return{value:e[r],done:!1};case"key+value":return{value:[t[r],e[r]],done:!1}}return e=t=void 0,{value:void 0,done:!0}},throw:function(i){throw(t||e)&&(e=t=void 0),i},return:function(i){return(t||e)&&(e=t=void 0),{value:i,done:!0}}}}function j(t){return t.z8b=1,delete t.A8b,t}n=Object.prototype.hasOwnProperty,r="function"==typeof Object.create,o=function(){var t;function e(){}return t={},e.prototype=t,(new e).__proto__===t}(),a=r?function(){return j(Object.create(null))}:o?function(){return j({__proto__:null})}:function(){return j({})},l=s||(s={}),d=!r&&!o,l.has=d?function(t,e){return n.call(t,e)}:function(t,e){return e in t},l.get=d?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]},u=Object.getPrototypeOf(Function),c="function"==typeof Map?Map:function(){var t;return t={},function(){function e(){this.bf=[],this.Bf=[],this.Dv=t,this.$s=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this.bf.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return 0<=this.gy(t,!1)},e.prototype.get=function(t){return 0<=(t=this.gy(t,!1))?this.Bf[t]:void 0},e.prototype.set=function(t,e){return t=this.gy(t,!0),this.Bf[t]=e,this},e.prototype.delete=function(e){var i;if(0<=(i=this.gy(e,!1))){for(e=this.bf.length,i+=1;i<e;i++)this.bf[i-1]=this.bf[i],this.Bf[i-1]=this.Bf[i];return this.bf.length--,this.Bf.length--,this.Dv=t,this.$s=-2,!0}return!1},e.prototype.clear=function(){this.bf.length=0,this.Bf.length=0,this.Dv=t,this.$s=-2},e.prototype.keys=function(){return P(this.bf,void 0,"key")},e.prototype.values=function(){return P(void 0,this.Bf,"value")},e.prototype.entries=function(){return P(this.bf,this.Bf,"key+value")},e.prototype.gy=function(t,e){var i;return this.Dv===t?this.$s:(0>(i=this.bf.indexOf(t))&&e&&(i=this.bf.length,this.bf.push(t),this.Bf.push(void 0)),this.Dv=t,this.$s=i)},e}()}(),h="function"==typeof Set?Set:function(){function t(){this.Rg=new c}return Object.defineProperty(t.prototype,"size",{get:function(){return this.Rg.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this.Rg.has(t)},t.prototype.add=function(t){return this.Rg.set(t,t),this},t.prototype.delete=function(t){return this.Rg.delete(t)},t.prototype.clear=function(){this.Rg.clear()},t.prototype.keys=function(){return this.Rg.keys()},t.prototype.values=function(){return this.Rg.values()},t.prototype.entries=function(){return this.Rg.entries()},t}(),f=new("function"==typeof WeakMap?WeakMap:function(){var t,e;function i(t,e){for(var i=0;i<e;++i)t[i]=255*Math.random()|0;return t}function r(){var e,n;do{(e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):i(new Uint8Array(16),16):i(Array(16),16))[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",o=0;16>o;++o)4!==o&&6!==o&&8!==o||(r+="-"),16>(n=e[o])&&(r+="0"),r+=n.toString(16).toLowerCase();e="@@WeakMap@@"+r}while(s.has(t,e));return t[e]=!0,e}function o(t,i){if(!n.call(t,e)){if(!i)return;Object.defineProperty(t,e,{value:a()})}return t[e]}return t=a(),e=r(),function(){function t(){this.jt=r()}return t.prototype.has=function(t){return void 0!==(t=o(t,!1))&&s.has(t,this.jt)},t.prototype.get=function(t){return void 0!==(t=o(t,!1))?s.get(t,this.jt):void 0},t.prototype.set=function(t,e){return o(t,!0)[this.jt]=e,this},t.prototype.delete=function(t){return void 0!==(t=o(t,!1))&&delete t[this.jt]},t.prototype.clear=function(){this.jt=r()},t}()}()),i.Fr=function(t,e,i,n){var r;if(!w(n)){if(!E(t))throw new TypeError;if(!k(e))throw new TypeError;if(w(i))throw new TypeError;if(!k(n))throw new TypeError;i=O(i);for(var o=t.length-1;0<=o;--o)if(!w(r=(0,t[o])(e,i,n))){if(!k(r))throw new TypeError;n=r}return n}if(w(i)){if(!E(t))throw new TypeError;if("function"!=typeof e)throw new TypeError;for(i=t.length-1;0<=i;--i)if(!w(n=(0,t[i])(e))){if("function"!=typeof n)throw new TypeError;e=n}return e}if(!E(t))throw new TypeError;if(!k(e))throw new TypeError;for(i=O(i),n=t.length-1;0<=n;--n)(0,t[n])(e,i)},i.Gc=function(t,e){return function(i,n){if(w(n)){if("function"!=typeof i)throw new TypeError;p(i,void 0,!0).set(t,e)}else{if(!k(i))throw new TypeError;p(i,n=O(n),!0).set(t,e)}}},i.B4=function(t,e,i,n){if(!k(i))throw new TypeError;w(n)||(n=O(n)),p(i,n,!0).set(t,e)},i.zIb=function(t,e){var i;if(!k(e))throw new TypeError;return w(i)||(i=O(i)),b(t,e,i)},i.zoa=function(t,e){var i;if(!k(e))throw new TypeError;return w(i)||(i=O(i)),v(t,e,i)},i.getMetadata=function(t,e,i){if(!k(e))throw new TypeError;return w(i)||(i=O(i)),y(t,e,i)},i.EYa=function(t,e,i){if(!k(e))throw new TypeError;return w(i)||(i=O(i)),g(t,e,i)},i.x$b=function(t,e){if(!k(t))throw new TypeError;return w(e)||(e=O(e)),m(t,e)},i.z$b=function(t,e){if(!k(t))throw new TypeError;return w(e)||(e=O(e)),_(t,e)},i.G9b=function(t,e,i){var n;if(!k(e))throw new TypeError;return w(i)||(i=O(i)),!(w(n=p(e,i,!1))||!n.delete(t))&&(0<n.size||((t=f.get(e)).delete(i),0<t.size||f.delete(e),!0))},function(t){if(void 0!==t.Reflect){if(t.Reflect!==i)for(var e in i)n.call(i,e)&&(t.Reflect[e]=i[e])}else t.Reflect=i}(void 0!==t?t:"undefined"!=typeof WorkerGlobalScope?self:void 0!==e?e:Function("return this;")())}(i||(i={}))}).call(this,n(194))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new i((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,o,a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=r[2&a[0]?"return":a[0]?"throw":"next"])&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[0,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.On.pop(),i.Yn.pop();continue;default:if(!(o=i.Yn,(o=0<o.length&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3]))i.label=a[1];else if(6===a[0]&&i.label<o[1])i.label=o[1],o=a;else{if(!(o&&i.label<o[2])){o[2]&&i.On.pop(),i.Yn.pop();continue}i.label=o[2],i.On.push(a)}}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}return i={label:0,bd:function(){if(1&o[0])throw o[1];return o[1]},Yn:[],On:[]},a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},Object.defineProperty(e,"__esModule",{value:!0}),o=i(562),a=i(55),s=i(76),i(43),u=i(308),c=i(563),h=i(570),f=i(572),l=i(107),d=i(135),i(575),p=i(576),t=function(){function t(t){if("object"!=typeof(t=t||{}))throw Error(""+a.Udb);if(void 0===t.DG)t.DG=s.Ps.q1;else if(t.DG!==s.Ps.Gea&&t.DG!==s.Ps.q1&&t.DG!==s.Ps.Request)throw Error(""+a.Sdb);if(void 0===t.LT)t.LT=!1;else if("boolean"!=typeof t.LT)throw Error(""+a.Rdb);if(void 0===t.OI)t.OI=!1;else if("boolean"!=typeof t.OI)throw Error(""+a.Tdb);this.options={LT:t.LT,DG:t.DG,OI:t.OI},this.id=l.id(),this.DK=new p.khb,this.vpb=[],this.parent=this.Cga=null,this.lnb=new u.pda}return t.prototype.load=function(){for(var t,e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];n=this.kNa();for(var r=0;r<i.length;r++)e=n((t=i[r]).id),t.Dua(e.cRa,e.Aab,e.H0a,e.K6a)},t.prototype.LN=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n(this,void 0,void 0,(function(){var e,i,n,o,a;return r(this,(function(r){switch(r.label){case 0:e=this.kNa(),i=0,n=t,r.label=1;case 1:return i<n.length?(o=n[i],a=e(o.id),[4,o.Dua(a.cRa,a.Aab,a.H0a,a.K6a)]):[3,4];case 2:r.bd(),r.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},t.prototype.bind=function(t){var e;return e=new o.edb(t,this.options.DG||s.Ps.q1),this.DK.add(t,e),new f.gdb(e)},t.prototype.DUb=function(t){return this.zab(t),this.bind(t)},t.prototype.zab=function(t){try{this.DK.remove(t)}catch(e){throw Error(a.Ddb+" "+d.gN(t))}},t.prototype.Y_a=function(t){var e;return!(e=this.DK.BZa(t))&&this.parent&&(e=this.parent.Y_a(t)),e},t.prototype.restore=function(){var t;if(void 0===(t=this.vpb.pop()))throw Error(a.Zhb);this.DK=t.PT,this.Cga=t.GOb},t.prototype.Ixb=function(){var e;return(e=new t(this.options)).parent=this,e},t.prototype.get=function(t){return this.jNa(!1,!1,s.Vx.Xea,t)},t.prototype.getAll=function(t){return this.jNa(!0,!0,s.Vx.Xea,t)},t.prototype.resolve=function(t){var e;return(e=this.Ixb()).bind(t).bab(),e.get(t)},t.prototype.kNa=function(){var t;function e(e){return function(i){return(i=t.DUb.bind(t)(i)).Ec.bPb=e,i}}function i(e){return function(i){return(i=t.bind.bind(t)(i)).Ec.bPb=e,i}}return t=this,function(n){return{cRa:i(n),H0a:function(e){return t.Y_a.bind(t)(e)},K6a:e(n),Aab:function(e){t.zab.bind(t)(e)}}}},t.prototype.jNa=function(t,e,i,n){var r;if(r=null,t={wsb:t,Rvb:function(t){return t},TKb:e,key:void 0,Lg:n,q_b:i,value:void 0},this.Cga){if(null==(r=this.Cga(t)))throw Error(a.Rgb)}else r=this.xob()(t);return r},t.prototype.xob=function(){var t;return t=this,function(e){var i;return i=c.uO(t.lnb,t,e.TKb,e.q_b,e.Lg,e.key,e.value,e.wsb),i=e.Rvb(i),h.resolve(i)}},t}(),e.G_=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(76),r=i(107),t=function(){function t(t,e){this.id=r.id(),this.Bha=!1,this.Lg=t,this.scope=e,this.type=n.Kj.chb,this.uG=function(){return!0},this.uM=this.Mw=this.zA=this.GM=this.cache=this.wm=null}return t.prototype.clone=function(){var e;return(e=new t(this.Lg,this.scope)).Bha=!1,e.wm=this.wm,e.uM=this.uM,e.scope=this.scope,e.type=this.type,e.GM=this.GM,e.zA=this.zA,e.uG=this.uG,e.Mw=this.Mw,e.cache=this.cache,e},t}(),e.edb=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e,i,o,a){var s,c;return[],(s=y(i.$a,a.Lg)).length===n.Gba.IGa&&i.$a.options.LT&&"function"==typeof a.Lg&&t.pXa(a.Lg).BSa&&(i.$a.bind(a.Lg).bab(),s=y(i.$a,a.Lg)),c=e?s:s.filter((function(t){var e;return e=new d.Request(t.Lg,i,o,t,a),t.uG(e)})),function(t,e,i,o){switch(e.length){case n.Gba.IGa:if(i.m0a())return e;throw t=u.gN(t),e=r.Xhb,e+=u.mMb(t,i),e+=u.q1a(o,t,y),Error(e);case n.Gba.oib:if(!i.isArray())return e;default:if(i.isArray())return e;throw t=u.gN(t),e=r.kcb+" "+t,e+=u.q1a(o,t,y),Error(e)}}(a.Lg,c,a,i.$a),c}function v(t,e,i,n,a,s){var u;null===a?(e=b(t,e,n,null,s),u=new d.Request(i,n,null,e,s),i=new f.ljb(n,u),n.Gqb(i)):(e=b(t,e,n,a,s),u=a.vPa(s.Lg,e,s)),e.forEach((function(e){var i,a,c;if(i=null,s.isArray())i=u.vPa(e.Lg,e,s);else{if(e.cache)return;i=u}if(e.type===o.Kj.Instance&&null!==e.wm){if(a=l.dFb(t,e.wm),!n.$a.options.OI&&(c=l.BEb(t,e.wm),a.length<c))throw e=r.mcb(l.getFunctionName(e.wm)),Error(e);a.forEach((function(e){v(t,!1,e.Lg,n,i,e)}))}}))}function y(t,e){var i,n;return i=[],(n=t.DK).BZa(e)?i=n.get(e):null!==t.parent&&(i=y(t.parent,e)),i}Object.defineProperty(e,"__esModule",{value:!0}),n=i(564),r=i(55),o=i(76),a=i(43),s=i(309),u=i(135),c=i(565),h=i(65),f=i(566),l=i(567),d=i(569),p=i(311),e.s$b=function(t){return t.DK},e.uO=function(t,e,i,n,r,o,f,l){void 0===l&&(l=!1),e=new c.EAa(e),i=new h.Metadata(i?a.QE:a.hR,r),n=new p.n1(n,"",r,i),void 0!==o&&(o=new h.Metadata(o,f),n.Gc.push(o));try{return v(t,l,r,e,null,n),e}catch(t){throw s.u0a(t)&&e.uO&&u.Lub(e.uO.kva),t}},e.z9b=function(t,e,i,n){return i=new p.n1(o.Vx.Xea,"",e,new h.Metadata(i,n)),t=new c.EAa(t),new d.Request(e,t,null,[],i)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Gba={a6b:2,IGa:0,oib:1}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(107),t=function(){function t(t){this.id=n.id(),this.$a=t}return t.prototype.Gqb=function(t){this.uO=t},t}(),e.EAa=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ljb=function(t,e){this.pO=t,this.kva=e}},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,a){var s,c,l,d,p,b,v,y,g,m,_;if(void 0===(c=(s=t.pXa(i)).BSa))throw Error(r.uhb+" "+e+".");s=s.X1b,l=Object.keys(s),d=0===i.length&&0<l.length?l.length:i.length,l=[];for(var w=0;w<d;w++){if(b=a,v=e,y=c,_=!0!==(m=f(g=s[(p=w).toString()]||[])).nl,y=y[p],(y=m.l||m.OH||y)instanceof n.Sca&&(y=y.U0b()),_){if(_=y===Function,_=y===Object||_||void 0===y,!b&&_)throw Error(r.vhb+" argument "+p+" in class "+v+".");(p=new u.n1(o.Vx.CAa,m.nZ,y)).Gc=g,g=p}else g=null;null!==g&&l.push(g)}return t=h(t,i),l.concat(t)}function h(t,e){for(var i,n,r,a=t.SGb(e),s=[],c=0,l=Object.keys(a);c<l.length;c++)n=a[i=l[c]],r=f(a[i]),(i=new u.n1(o.Vx.tAa,r.nZ||i,r.l||r.OH)).Gc=n,s.push(i);return(e=Object.getPrototypeOf(e.prototype).constructor)!==Object&&(t=h(t,e),s=s.concat(t)),s}function f(t){var e;return e={},t.forEach((function(t){e[t.key.toString()]=t.value})),{l:e[a.hR],OH:e[a.QE],nZ:e[a.E0],nl:e[a.ZR]}}Object.defineProperty(e,"__esModule",{value:!0}),n=i(310),r=i(55),o=i(76),a=i(43),s=i(135),e.getFunctionName=s.getFunctionName,u=i(311),e.dFb=function(t,e){return c(t,s.getFunctionName(e),e,!1)},e.BEb=function t(e,i){var n,r;return(i=Object.getPrototypeOf(i.prototype).constructor)!==Object?(r=(n=c(e,n=s.getFunctionName(i),i,!0)).map((function(t){return t.Gc.filter((function(t){return t.key===a.ZR}))})),r=[].concat.apply([],r).length,0<(n=n.length-r)?n:t(e,i)):0}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t){this.BP=t}return t.prototype.startsWith=function(t){return 0===this.BP.indexOf(t)},t.prototype.endsWith=function(t){var e;return e=t.split("").reverse().join(""),t=this.BP.split("").reverse().join(""),this.startsWith.call({BP:t},e)},t.prototype.contains=function(t){return-1!==this.BP.indexOf(t)},t.prototype.equals=function(t){return this.BP===t},t.prototype.value=function(){return this.BP},t}(),e.vjb=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(107),t=function(){function t(t,e,i,r,o){this.id=n.id(),this.Lg=t,this.pO=e,this.rA=i,this.target=o,this.Bja=[],this.PT=Array.isArray(r)?r:[r],this.UVb=null===i?new Map:null}return t.prototype.vPa=function(e,i,n){return e=new t(e,this.pO,this,i,n),this.Bja.push(e),e},t}(),e.Request=t},function(t,e,i){var n,r,o,a,s;function u(t){return function(e){var i,o,h,f,l;if(i=e.PT,o=e.Bja,h=e.target&&e.target.isArray(),f=!(e.rA&&e.rA.target&&e.target&&e.rA.target.GNb(e.target.Lg)),h&&f)return o.map((function(e){return u(t)(e)}));if(h=null,!e.target.m0a()||0!==i.length){if(i=(l=i[0]).scope===r.Ps.Gea,f=l.scope===r.Ps.Request,i&&l.Bha)return l.cache;if(f&&null!==t&&t.has(l.id))return t.get(l.id);if(l.type===r.Kj.AAa)h=l.cache;else if(l.type===r.Kj.Function)h=l.cache;else if(l.type===r.Kj.BAa)h=l.wm;else if(l.type===r.Kj.LBa&&null!==l.uM)h=c("toDynamicValue",l.Lg,(function(){return l.uM(e.pO)}));else if(l.type===r.Kj.pca&&null!==l.GM)h=c("toFactory",l.Lg,(function(){return l.GM(e.pO)}));else if(l.type===r.Kj.yJa&&null!==l.zA)h=c("toProvider",l.Lg,(function(){return l.zA(e.pO)}));else{if(l.type!==r.Kj.Instance||null===l.wm)throw o=a.gN(e.Lg),Error(n.Ngb+" "+o);h=s.fWb(l.wm,o,u(t))}return"function"==typeof l.Mw&&(h=l.Mw(e.pO,h)),i&&(l.cache=h,l.Bha=!0),f&&null!==t&&!t.has(l.id)&&t.set(l.id,h),h}}}function c(t,e,i){try{return i()}catch(i){if(o.u0a(i))throw Error(n.Gdb(t,e.toString()));throw i}}Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),r=i(76),o=i(309),a=i(135),s=i(571),e.resolve=function(t){return u(t.uO.kva.UVb)(t.uO.kva)}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),r=i(76),o=i(43),e.fWb=function(t,e,i){var a;return a=null,0<e.length?(a=e.filter((function(t){return null!==t.target&&t.target.type===r.Vx.CAa})).map(i),a=function(t,e,i){var n;return e=e.filter((function(t){return null!==t.target&&t.target.type===r.Vx.tAa})),n=e.map(i),e.forEach((function(e,i){e=e.target.name.value(),t[e]=n[i]})),t}(a=new(t.bind.apply(t,[void 0].concat(a))),e,i)):a=new t,function(t,e){var i;if(Reflect.zIb(o.HR,t)){i=Reflect.getMetadata(o.HR,t);try{e[i.value]()}catch(e){throw Error(n.cjb(t.name,e.message))}}}(t,a),a}},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),r=i(76),o=i(573),a=i(312),t=function(){function t(t){this.Ec=t}return t.prototype.to=function(t){return this.Ec.type=r.Kj.Instance,this.Ec.wm=t,new o.tza(this.Ec)},t.prototype.bab=function(){if("function"!=typeof this.Ec.Lg)throw Error(""+n.Tgb);this.to(this.Ec.Lg)},t.prototype.$i=function(t){this.Ec.type=r.Kj.AAa,this.Ec.cache=t,this.Ec.uM=null,this.Ec.wm=null,new a.xE(this.Ec)},t.prototype.nE=function(t){return this.Ec.type=r.Kj.LBa,this.Ec.cache=null,this.Ec.uM=t,this.Ec.wm=null,new o.tza(this.Ec)},t.prototype.V_b=function(t){this.Ec.type=r.Kj.BAa,this.Ec.wm=t,new a.xE(this.Ec)},t.prototype.wf=function(t){this.Ec.type=r.Kj.pca,this.Ec.GM=t,new a.xE(this.Ec)},t.prototype.W_b=function(t){if("function"!=typeof t)throw Error(n.Qgb);this.$i(t),this.Ec.type=r.Kj.Function},t.prototype.$$a=function(t){this.Ec.type=r.Kj.pca,this.Ec.GM=function(e){return function(){return e.$a.get(t)}},new a.xE(this.Ec)},t.prototype.wZ=function(t){this.Ec.type=r.Kj.yJa,this.Ec.zA=t,new a.xE(this.Ec)},t.prototype.X_b=function(t){this.nE((function(e){return e.$a.get(t)}))},t}(),e.gdb=t},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(574),r=i(197),o=i(198),t=function(){function t(t){this.Ec=t,this.hS=new o.Hba(this.Ec),this.nfa=new r.y_(this.Ec),this.AMa=new n.fdb(t)}return t.prototype.aa=function(){return this.AMa.aa()},t.prototype.Woa=function(){return this.AMa.Woa()},t.prototype.when=function(t){return this.hS.when(t)},t.prototype.$Z=function(){return this.hS.$Z()},t.prototype.Mw=function(t){return this.nfa.Mw(t)},t}(),e.tza=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(76),r=i(312),t=function(){function t(t){this.Ec=t}return t.prototype.aa=function(){return this.Ec.scope=n.Ps.Gea,new r.xE(this.Ec)},t.prototype.Woa=function(){return this.Ec.scope=n.Ps.q1,new r.xE(this.Ec)},t}(),e.fdb=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.a4b=function(){function t(){}return t.of=function(e,i){var n;return(n=new t).PT=e,n.GOb=i,n},t}()},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),t=function(){function t(){this.Rg=new Map}return t.prototype.add=function(t,e){var i;if(null==t)throw Error(n.BR);if(null==e)throw Error(n.BR);void 0!==(i=this.Rg.get(t))?(i.push(e),this.Rg.set(t,i)):this.Rg.set(t,[e])},t.prototype.get=function(t){if(null==t)throw Error(n.BR);if(void 0!==(t=this.Rg.get(t)))return t;throw Error(n.vEa)},t.prototype.remove=function(t){if(null==t)throw Error(n.BR);if(!this.Rg.delete(t))throw Error(n.vEa)},t.prototype.BZa=function(t){if(null==t)throw Error(n.BR);return this.Rg.has(t)},t.prototype.clone=function(){var e;return e=new t,this.Rg.forEach((function(t,i){t.forEach((function(t){return e.add(i,t.clone())}))})),e},t}(),e.khb=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(107),e.rd=function(t){this.id=n.id(),this.Dua=t},e.hza=function(t){this.id=n.id(),this.Dua=t}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),r=i(43),e.R=function(){return function(t){var e;if(Reflect.zoa(r.Bda,t))throw Error(n.$eb);return e=Reflect.getMetadata(r.yeb,t)||[],Reflect.B4(r.Bda,e,t),t}}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(65),r=i(93),e.y$a=function(t,e){return function(i,o,a){var s;s=new n.Metadata(t,e),"number"==typeof a?r.ZI(i,o,a,s):r.mZ(i,o,s)}}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),r=i(65),o=i(93),e.z3a=function(t){return function(e,i,a){var s;s=new r.Metadata(n.vB,t),"number"==typeof a?o.ZI(e,i,a,s):o.mZ(e,i,s)}}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),r=i(65),o=i(93),e.optional=function(){return function(t,e,i){var a;a=new r.Metadata(n.RGa,!0),"number"==typeof i?o.ZI(t,e,i,a):o.mZ(t,e,a)}}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),r=i(65),o=i(93),e.nl=function(){return function(t,e,i){var a;a=new r.Metadata(n.ZR,!0),o.ZI(t,e,i,a)}}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),r=i(65),o=i(93),e.OH=function(t){return function(e,i,a){var s;s=new r.Metadata(n.QE,t),"number"==typeof a?o.ZI(e,i,a,s):o.mZ(e,i,s)}}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(43),r=i(65),o=i(93),e.nZ=function(t){return function(e,i,a){var s;s=new r.Metadata(n.E0,t),o.ZI(e,i,a,s)}}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(55),r=i(43),o=i(65),e.T5a=function(){return function(t,e){if(e=new o.Metadata(r.HR,e),Reflect.zoa(r.HR,t.constructor))throw Error(n.Ihb);Reflect.B4(r.HR,e,t.constructor)}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.v3a=function(t){return function(e){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return i.forEach((function(i){return t.bind(i).X_b(e)}))}}}},function(t,e,i){var n,o,a,s,u,c,h,f,l,d,p,b,v,y,m,_,w;function E(t,e){t=t.xw||t.yN?l.FXa(e):t.iW?p.PXa(e):t.u7?d.AYa(e):t.DN?b.SYa(e):f.lXa(e),this.a0=t.a0,this.Tba=t.Tba}function k(t){this.he=t}function O(t){var e;return e=s.Vda.call(this)||this,t.AN?Object.assign(e,b.ZXa()):t.iW?Object.assign(e,p.OXa()):t.u7?Object.assign(e,d.zYa()):t.xw||t.yN?Object.assign(e,l.EXa()):t.DN?Object.assign(e,b.RYa()):Object.assign(e,f.kXa(t)),e}function S(t){this.data=t.iW?p.RXa(t):t.u7?d.CYa(t):t.xw||t.yN?l.HXa(t):t.DN?b.UYa(t):f.nXa(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.zdb=e.ydb=e.xdb=e.wdb=void 0,t=i(1),n=i(0),o=i(34),a=i(108),s=i(588),u=i(164),c=i(315),h=i(200),f=i(589),l=i(590),d=i(591),p=i(592),b=i(593),v=i(594),y=i(595),r.Object.defineProperties(S.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version}},L8:{configurable:!0,enumerable:!0,get:function(){return this.data.L8}},bq:{configurable:!0,enumerable:!0,get:function(){return this.data.bq}},Fo:{configurable:!0,enumerable:!0,get:function(){return this.data.Fo}},PM:{configurable:!0,enumerable:!0,get:function(){return this.data.PM}},fz:{configurable:!0,enumerable:!0,get:function(){return this.data.fz}},bla:{configurable:!0,enumerable:!0,get:function(){return this.data.bla}},aUa:{configurable:!0,enumerable:!0,get:function(){return this.data.aUa}},Hqa:{configurable:!0,enumerable:!0,get:function(){return this.data.Hqa}},BU:{configurable:!0,enumerable:!0,get:function(){return this.data.BU}},eya:{configurable:!0,enumerable:!0,get:function(){return this.data.eya}},g3:{configurable:!0,enumerable:!0,get:function(){return this.data.g3}},jY:{configurable:!0,enumerable:!0,get:function(){return this.data.jY}}}),m=S,m=t.__decorate([n.R(),t.__param(0,n.l(u.mB))],m),e.wdb=m,g(O,s.Vda),_=O,_=t.__decorate([n.R(),t.__param(0,n.l(u.mB))],_),e.xdb=_,k.prototype.apply=function(){return this.he.iW?Object.assign(this,p.QXa(this.he)):this.he.u7?Object.assign(this,d.BYa(this.he)):this.he.xw||this.he.yN?Object.assign(this,l.GXa(this.he)):this.he.DN?Object.assign(this,b.TYa(this.he)):Object.assign(this,f.mXa(this.he)),this},w=k,w=t.__decorate([n.R(),t.__param(0,n.l(u.mB))],w),e.ydb=w,E=t.__decorate([n.R(),t.__param(0,n.l(u.mB)),t.__param(1,n.l(o.Hk))],E),e.zdb=E,e.platform=new n.rd((function(t){t(o.Hk).to(m).aa(),t(a.fF).to(_).aa(),t(c.lIa).to(w).aa(),t(o.yB).to(E).aa(),t(h.Wda).wf((function(t){return function(){var e;return(e=t.$a.get(u.mB)).xw||e.yN?{ac:function(t,e,i){return new y.cfa(t,e,i)},request:v.lMa}:e.DN?{ac:function(t,e,n){return new(i(596))(t,e,n)},request:i(597)}:{}}}))}))},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.Vda=void 0,n=i(4),r=i(52),o=i(199),a=i(44),s={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"},e.Vda=function(){this.UQa=this.JL=o.sx.x0,this.Nva=!0,this.oC=[],this.gv=[],this.aI=this.xM=!1,this.dv=[a.Zm.Uba,a.Zm.Ojb,a.Zm.cK],this.xm=void 0,this.Gla=!0,this.V4=!1,this.AT=r.fa(288e4),this.BT=r.fa(335544320),this.dA=n.Nc(15e3),this.ONb=r.fa(6291456),this.MN=1e3,this.kja=!0,this.jxa=s,this.JP=r.fa(0),this.naa=n.Nc(0),this.$V=!0,this.Haa=!1,this.yra=this.C5=!0,this.KG=!1}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.lXa=e.mXa=e.kXa=e.nXa=void 0,n=i(26),r=i(44),o=i(136),e.nXa=function(t){return Object.assign(Object.assign({},o.VM()),{bq:t.y0a?"T":t.xN?"C":"M",Fo:t.y0a?"NFCDTS-01-":t.A7?"NFCDCH-02-":t.Cpa?"NFCDCH-MC-":t.xN?"NFCDCH-01-":t.i7?"NFCDCH-AP-":t.h7?"NFCDCH-AT-":t.AN?"NFCDCH-PH-":"NFCDCH-LX-",fz:t.xN?"chromeos-cadmium":"chrome-cadmium",jY:t.xN})},e.kXa=function(t){var e;return e=Object.assign(Object.assign({},o.TM()),{xM:!0,aI:!0}),t.xN&&(e.gv=[].concat(y(r.N.rca),y(r.N.pba),y(r.N.SLa),y(r.N.Tea),y(r.N.Uea),y(r.N.vca),y(r.N.uca))),e},e.mXa=function(t){var e;return e={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:n.gj.FJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0},67<=t.Pp&&(e=Object.assign(Object.assign({},e),{enableVP9:!0})),80<=t.Pp&&(e=Object.assign(Object.assign({},e),{enableMediaCapabilities:!0})),t.xN&&89<=t.Pp&&(e=Object.assign(Object.assign({},e),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0,prepareLdlCacheMaxCount:15})),94<=t.Pp&&t.A7&&(e=Object.assign(Object.assign({},e),{overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0})),e},e.lXa=function(t){return o.UM(t)}},function(e,i,n){var r,o,a,s,u,c;Object.defineProperty(i,"__esModule",{value:!0}),i.FXa=i.GXa=i.EXa=i.HXa=void 0,r=n(26),o=n(109),a=n(44),s=n(199),u=n(136),c=n(110),i.HXa=function(t){return Object.assign(Object.assign({},u.VM()),{bq:t.xw?"D":"H",Fo:t.xw?t.Cpa?"NFCDIE-04-":t.i7?"NFCDIE-AP-":t.h7?"NFCDIE-AT-":t.AN?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",fz:"edge-cadmium",g3:!1,jY:!1})},i.EXa=function(){return Object.assign(Object.assign({},u.TM()),{JL:t.crypto?s.sx.x0:s.sx.uEa,UQa:t.crypto?s.sx.x0:s.sx.uEa,oC:[a.ze.GE,a.ze.HE,a.ze.xQ,a.ze.yQ],gv:[].concat(y(a.N.rca),y(a.N.pba),y(a.N.SLa),y(a.N.Tea),y(a.N.Uea),y(a.N.vca),y(a.N.uca),y(a.N.YAa),y(a.N.XAa),y(a.N.Hj)),xm:void 0,$V:!1})},i.GXa=function(e){var i,n,s,u,h,f,l;return s={nudgeSourceBuffer:!0,audioCapabilityDetectorType:r.nv.Lx,videoCapabilityDetectorType:r.gj.Lx,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"},u=e.yN,h=e.xw,f=e.A7,l=null===(i=t.MSMediaKeys)||void 0===i?void 0:i.isTypeSupported(o.Hb.Ud,c.Gd.Ira),i=l||(null===(n=t.MSMediaKeys)||void 0===n?void 0:n.isTypeSupported(o.Hb.gF,c.Gd.Ira)),n={prepareCadmium:!0,enableLdlPrefetch:!i||l,licenseRenewalRequestDelay:5e3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15},l={audioCapabilityDetectorType:r.nv.qv,videoCapabilityDetectorType:r.gj.FJ,microsoftScreenSizeFilterEnabled:!1,keySystemList:[o.Hb.hMa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:[a.ze.GE,a.ze.HE],videoProfiles:[a.N.QJ,a.N.FE,a.N.LQ,a.N.MQ],enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0},u&&(14<=e.Pp&&(s=Object.assign(Object.assign(Object.assign({},s),n),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15<=e.Pp&&(s=Object.assign(Object.assign({},s),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16<=e.Pp&&(s=Object.assign(Object.assign({},s),{microsoftHwdrmRequiresHevc:!1})),17<=e.Pp&&(s=Object.assign(Object.assign({},s),{enableDDPlusAtmos:!0}))),h&&(s=Object.assign(Object.assign({},s),n),f&&(s=Object.assign(Object.assign({},s),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1e4})),i?(s=Object.assign(Object.assign({},s),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[o.Hb.njb,o.Hb.rIa]}),94===e.Pp&&(s=Object.assign(Object.assign({},s),{enableHWDRM:!1})),95<=e.Pp&&(s=Object.assign(Object.assign({},s),{enableHWDRM:!0}))):s=Object.assign(Object.assign({},s),l)),s},i.FXa=function(t){return u.UM(t)}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.AYa=e.BYa=e.zYa=e.CYa=void 0,n=i(26),r=i(136),e.CYa=function(t){return Object.assign(Object.assign({},r.VM()),{bq:"O",Fo:t.i7?"NFCDOP-AP-":t.h7?"NFCDOP-AT-":t.AN?"NFCDOP-PH-":"NFCDOP-01-",fz:"opera-cadmium"})},e.zYa=function(){return Object.assign(Object.assign({},r.TM()),{xM:!0,aI:!0})},e.BYa=function(t){var e;return e={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:n.gj.FJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0},67<=t.Pp&&(e=Object.assign(Object.assign({},e),{enableVP9:!0})),e},e.AYa=function(t){return r.UM(t)}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.PXa=e.QXa=e.OXa=e.RXa=void 0,n=i(26),r=i(136),e.RXa=function(t){return Object.assign(Object.assign({},r.VM()),{bq:"F",Fo:t.Cpa?"NFCDFF-MC-":t.A7?"NFCDFF-02-":t.i7?"NFCDFF-AP-":t.h7?"NFCDFF-AT-":t.AN?"NFCDFF-PH-":"NFCDFF-LX-",fz:"firefox-cadmium"})},e.OXa=function(){return Object.assign(Object.assign({},r.TM()),{xM:!0,aI:!0})},e.QXa=function(t){var e;return e={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:n.gj.FJ,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0},58<=t.Pp&&(e=Object.assign(Object.assign({},e),{enableVP9:!0,preciseSeeking:!0})),e},e.PXa=function(t){return r.UM(t)}},function(t,e,i){var n,r,o,a,s;function u(){return Object.assign(Object.assign({},s.TM()),{oC:[a.ze.GE,a.ze.HE,a.ze.tF],gv:[].concat(y(a.N.rca),y(a.N.pba),y(a.N.Tea),y(a.N.Uea),y(a.N.vca),y(a.N.uca),y(a.N.YAa),y(a.N.XAa)),xm:o.Hb.Ifb,dA:n.Nc(7e3)})}Object.defineProperty(e,"__esModule",{value:!0}),e.SYa=e.TYa=e.RYa=e.ZXa=e.UYa=void 0,n=i(4),r=i(26),o=i(109),a=i(44),s=i(136),e.UYa=function(t){return Object.assign(Object.assign({},s.VM()),{bq:"S",Fo:t.AN?"NFCDSF-PH-":"NFCDSF-01-",fz:"safari-cadmium"})},e.ZXa=function(){return Object.assign(Object.assign({},u()),{Haa:!0,KG:!1,dv:[a.Zm.u1]})},e.RYa=u,e.TYa=function(t){var e;return e={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5e3,enableLastChunkLogging:!0,appendInitSegmentAfterLicense:!0,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:r.gj.qv,enableSeamless:!0},s.kW(t,10,12,2)&&(e=Object.assign(Object.assign({},e),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0})),s.kW(t,10,13,6)&&(e=Object.assign(Object.assign({},e),{enableLdlPrefetch:!0})),s.kW(t,10,15,5)&&(e=Object.assign(Object.assign({},e),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0})),s.kW(t,10,15,6)&&(e=Object.assign(Object.assign({},e),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8e3,enableUHD:!0})),s.E0a(t,9)&&(e=Object.assign(Object.assign({},e),{maxDecoderBufferMilliseconds:31e3})),e},e.SYa=function(t){return s.UM(t)}},function(e,i,n){var r;function o(t,e,i,n){this.log=t,this.aH=e,this.FA=i,this.context=n}Object.defineProperty(i,"__esModule",{value:!0}),i.lMa=void 0,r=n(3),o.prototype.Hg=function(t){var e;return e=this,(this.context.qf||this.context.Yk)&&this.log.trace("Requesting license",{drmType:t.Eo}),this.aH(t).catch((function(t){if(e.log.error("Unable to get the Playready license",t),e.context.Wcc)throw t;throw{$:!1,code:r.M.XJ,Cc:t.Cc,Kd:t.Kd,un:t.un,hk:t.message||t.hk,DM:t.data,message:"Unable to send the Playready license request. "+(t.message||t.hk)}}))},o.prototype.release=function(t){var e;return e=this,this.log.trace("Requesting stop data"),this.FA(t).catch((function(t){throw e.log.error("Unable to release the PlayReady license ",{code:t.code,subCode:t.Cc,extCode:t.Kd,edgeCode:t.un,message:t.message||t.hk}),{$:!1,code:r.M.tea,Cc:t.Cc,Kd:t.Kd,un:t.un,hk:t.message||t.hk,message:"Unable to release the PlayReady license. "+(t.message||t.hk)}}))},i.lMa=o,t._cad_global.WindowsDrmRequests=o},function(e,i,n){var r,o,a,s,u,c,h,f;Object.defineProperty(i,"__esModule",{value:!0}),i.cfa=void 0,r=n(3),o=n(196),a=n(201),s=n(29),u=n(77),c=n(36),h=n(26),f=n(62),function(){var e;function n(t,e,i){var r;if(r=this,this.log=t,this.Nn=e||g.bind(this),this.context=i,this.CX=this.challenge=this.keySystem=this.keySessionId=this.Ib=this.mediaKeys=void 0,this.pd={},this.vqa=this.Iwa=!1,this.pX=b.bind(this),this.CX=void 0,this.lya=new Promise((function(t,e){r.dva=t,r.Fua=e})),this.lya.catch((function(t){r.log.error("wait for license rejected",t)})),o.cc.get(h.yx).T5().then((function(t){(r.context.qf||r.context.Yk)&&r.log.debug("DRIVERINFO: ",t)})).catch((function(t){r.log.error("DRIVERINFO",t)})),this.Mn=function(t,e){r.Fua(t,e),r.context.onerror(t,e)},this.Hsa=function(){r.dva()},!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.")}function l(){return o.cc.get(c.Ci)}function d(){return o.cc.get(s.cg)}function p(t){var e,i;return e=o.cc.get(a.Mea),i="",t.forEach((function(t){i+="<KeyID>"+t+"</KeyID>"})),t='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>'+i+"</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>",e=new Uint8Array(e.g$a(t)),(this.context.qf||this.context.Yk)&&this.log.trace("LICENSE: proactive license cdm data",{xml:t,b64:l().encode(e)}),e}function b(t){var i;i=t.target.error?t.target.error.msExtendedCode:void 0,this.log.error("Received "+t.type+" event",{sessionId:this.Ib.sessionId,systemCode:i}),this.context.onerror&&this.context.onerror(e.ag.fr,e.GB.Ss,i),this.Ib=void 0}function v(t,e,i){for(var n,r,o,a=2;a<arguments.length;++a);for(a="",r=t.length,n=0;n<r;n++)0<(o=t[n])&&(a+=String.fromCharCode(o));for(r="\\s*(.*)\\s*",n=arguments.length-1;0<n;n--){if(o=arguments[n],0>a.search(o))return;r="[\\s\\S]*<"+(o="(?:[^:].*:|)"+o)+"[^>]*>"+r+"</"+o+">[\\s\\S]*"}if(a=a.match(new RegExp(r)))return a[1]}function y(t,i,n){return t.m7()&&t.log.trace("LICENSE: Got the response, calling update",{sessionId:n.sessionId,license:l().encode(i)}),new Promise((function(r,o){try{t.Ib.update(i),r(void 0),t.m7()&&t.log.trace("LICENSE: Update succeeded",{sessionId:n.sessionId})}catch(t){o({$:!1,code:e.ag.R0,message:"Unable to update the EME.",ub:d().wd(t)})}}))}function g(t){this.context.za&&(this.pd[t]=this.context.za.getTime(),this.log.trace("Milestone: "+t+", "+this.pd[t]))}(e={}).ag=r.M,e.GB=r.L,n.prototype.Wt=function(){return this.keySystem},n.prototype.Yab=function(t,e){t.log&&(this.log=t.log),t.Nn&&(this.Nn=t.Nn),e.Nl&&(this.context.Nl=e.Nl),e.onerror&&(this.context.onerror=e.onerror)},n.prototype.create=function(i){var n;return n=this,(i?Promise.resolve(i):o.cc.get(h.yx).Wt()).then((function(i){if(n.Nn("lg"),n.log.trace("Creating the media keys",{keySystem:i}),n.keySystem=i,n.context.UX)i=Promise.reject({$:!1,code:e.ag.GQ,message:"Promise based EME is currently not supported for Internet Explorer"});else t:{try{n.mediaKeys=new t.MSMediaKeys(i)}catch(t){i=Promise.reject({$:!1,code:e.ag.cHa,message:"create MSMediaKeys("+i+") failed",ub:d().wd(t)});break t}try{n.context.X&&n.context.X.msSetMediaKeys(n.mediaKeys)}catch(t){i=Promise.reject({$:!1,code:e.ag.fK,message:"set MSMediaKeys failed",ub:d().wd(t)});break t}i=Promise.resolve({$:!0,mediaKeys:n.mediaKeys})}return i}))},n.prototype.close=function(){if(this.Ib){this.log.info("Closing the session",{sessionId:this.Ib.sessionId}),this.Ib.removeEventListener("mskeyerror",this.pX);try{this.Ib.close()}catch(t){this.log.error("Failed to close the key sessions",t)}this.Ib=void 0}},n.prototype.Hg=function(t,i,n){var r;return 1<i.length?Promise.reject({code:e.ag.hHa}):0===i.length?Promise.reject({code:e.ag.gHa}):(i=i[0],(r=this).context.qf&&r.log.trace("LICENSE: Setting license"),r.context.UX?Promise.reject({$:!1,code:e.ag.SBa,message:"Promise based EME is currently not supported for Internet Explorer"}):new Promise((function(a,s){var c,h,f,b,g,m,_;try{h=function(t){r.Ib&&(r.Ib.removeEventListener("mskeymessage",b),r.Ib.removeEventListener("mskeyadded",g),r.Ib.removeEventListener("mskeyerror",m),r.Ib.addEventListener("mskeyerror",r.pX)),t.state=11,t.$?a(t):(r.close(),s(t))},f=function(t){var e,i;if(e=[],i=Array.prototype.map.call(t,(function(t){return t?String.fromCharCode(t):""})).join("").match(/<KID>(.+?)<\/KID>/))e.push(i[1]);else{t=v(t,"KIDS");for(var n=(i=/VALUE="(.+?)">/g).exec(t);null!=n;)e.push(n[1]),n=i.exec(t)}return e},b=function(e){c&&clearTimeout(c),function(t,e,i,n){var r,o;r=t.target&&t.target.sessionId,o=l().decode(v(t.message,"PlayReadyKeyMessage","Challenge")),i.state=12,i.log.trace("LICENSE: Received "+t.type+" event",{keySystem:t.target&&t.target.keySystem,sessionId:r}),(i.context.qf||i.context.Yk||i.context.bB)&&i.log.debug("LICENSE: License challenge",l().encode(o)),i.keySessionId=r,t={Uf:e,messageType:"license-request",Eo:/clearkey/i.test(i.keySystem)?"clearkey":"playready",dk:[{data:o,sessionId:r}]},12===i.state&&(i.Nn("lc"),o={data:o,Eo:/clearkey/i.test(i.keySystem)?"clearkey":"playready"},i.context.dI||(i.CX=o)),i.context.Nl.Hg(t).then((function(t){if(12!==i.state||(i.Nn("lr"),i.Hsa(),i.context.dI)){if(i.Ib)return y(i,t.qj[0].data,i.Ib).then((function(){i.state=30,n({$:!0,state:i.state})}))}else i.DX=t.qj[0].data,i.state=13,n({$:!0,state:i.state})})).catch((function(t){n(d().LH(t,{state:i.state}))}))}(e,t,r,h)},g=function(t){(r.context.qf||r.context.Yk)&&r.log.trace("LICENSE: Received "+t.type+" event",{keySystem:t.target.keySystem,sessionId:t.target.sessionId}),h({$:!0})},m=function(t){var i,n;c&&clearTimeout(c),t.target&&t.target.error&&(i=t.target.error.systemCode,n=t.target.error.code),i={code:e.ag.fr,Cc:e.GB.Ss,Kd:i?o.cc.get(u.tx).UG(i,4):n,details:d().wd(t),cause:t.target&&t.target.error,faa:i,f5:n},r.log.error("LICENSE: Received "+t.type+" event",{sessionId:r.Ib&&r.Ib.sessionId,keySystem:t.target.keySystem,systemCode:i.faa,code:i.f5}),r.Nn("le"),r.Mn&&r.Mn(e.ag.fr,i),h({$:!1,code:e.ag.fr,Cc:e.GB.Ss,Kd:i.Kd,message:"Received a key error.",ub:i.details,cause:i.cause})},r.log.trace("LICENSE: Executing prefix based EME"),(r.context.qf||r.context.Yk)&&r.log.debug("LICENSE: PSSH",l().encode(i)),r.yw||(r.yw=f(i)),n?(_=p.call(r,r.yw),r.Ib=r.mediaKeys.createSession("video/mp4",new Uint8Array(0),_)):r.Ib=r.mediaKeys.createSession("video/mp4",i,null),(r.context.qf||r.context.Yk)&&r.log.debug("LICENSE: Created the media keys sessions",{keySystem:r.Ib.keySystem,sessionId:r.Ib.sessionId}),r.Ib.addEventListener("mskeymessage",b),r.Ib.addEventListener("mskeyadded",g),r.Ib.addEventListener("mskeyerror",m),r.context.gMb&&(c=setTimeout((function(){h({$:!1,code:e.ag.GR,Cc:e.GB.vfb})}),r.context.gMb))}catch(t){s({code:e.ag.GR,Cc:e.GB.Lj})}})))},n.prototype.rI=function(){var t;return(this.context.qf||this.context.Yk)&&this.log.trace("LICENSE: Renewing license"),t=[new Uint8Array(0)],this.Hg(f.co.Rca.rp,t,!0)},n.prototype.k3=function(t){this.DX||this.log.error("pending license must exist at this point"),this.context.dI=!0;try{t&&(this.context.X=t,this.context.X.msSetMediaKeys(this.mediaKeys))}catch(t){return Promise.reject({$:!1,code:e.ag.fK,message:"setMediaKeys failed",ub:d().wd(t)})}return y(this,this.DX,this.Ib)},n.prototype.MVa=function(t){var e,i;return(e=this).log.trace("Releasing the license of current session",JSON.stringify(t)),i={ba:t.ba,we:t.we},new Promise((function(n,r){e.context.Nl.release.call(e.context.Nl,i).then((function(){var i;e.log.trace("successfully released the license",JSON.stringify(t)),i={$:!0},e.close(),i.$?n(i):r(i)})).catch((function(t){e.log.error("Unable to release the license",{sessionId:e.keySessionId,code:t.code,subCode:t.Cc,extCode:t.Kd,edgeCode:t.un,message:t.hk}),e.close(),t.$?n(t):r(t)}))}))},n.prototype.m7=function(){return this.context.qf||this.context.Yk},i.cfa=n,t._cad_global.WindowsEmeSession=i.cfa}()},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b;function v(t,e,i){var n;if(n=this,this.log=t,this.Nn=e||A.bind(this),this.context=i,this.CX=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0,this.pd={},this.sj=void 0,this.url="",this.vqa=this.Iwa=!1,this.pX=w.bind(this),this.Jg=this.CX=void 0,this.lya=new Promise((function(t,e){n.dva=t,n.Fua=e})),this.Mn=function(t,e){n.Fua(t,e),n.context.onerror(t,e)},this.Hsa=function(){n.dva()},!(this instanceof v))throw new TypeError("EmeSession constructor not called correctly.")}function y(){return r.ka.get(u.Bv)}function g(){return r.ka.get(s.Ci)}function m(){return r.ka.get(o.cg)}function _(t){return/com.apple.fps/.test(t)&&!/com.apple.fps.2_0/.test(t)}function w(t){var e;e=E(t),this.log.error("LICENSE Error: Received event: "+t.type,{sessionId:this.Ib?this.Ib.sessionId:void 0,keySystem:t.target.keySystem,systemCode:e.faa,code:e.f5}),this.Mn&&this.Mn(b.ag.fr,e),this.Ib=void 0}function E(t){var e,i;return t.target.error&&(e=t.target.error.systemCode,i=t.target.error.code),{code:b.ag.fr,Cc:b.GB.Ss,Kd:e?r.ka.get(a.tx).UG(e,4):i,details:m().wd(t),cause:t.target.error,faa:e,f5:i}}function k(t,e,i,n){var r,o,a;r=t.target.sessionId,o=t.message,a=m().Bt(o,y().decode("certificate")),i.vqa=e===l.co.Rca.eo,i.state=a?2:12,i.log.trace("LICENSE: Received event: "+t.type,{keySystem:t.target.keySystem,sessionId:r}),(i.context.qf||i.context.Yk||i.context.bB)&&i.log.debug("LICENSE: License challenge",g().encode(o)),i.keySessionId=r,t={pj:i.pj,Uf:e,messageType:"license-request",Eo:/clearkey/i.test(i.keySystem)?"clearkey":"fps",dk:[{data:o,sessionId:r}]},12===i.state&&(i.Nn("lc"),o={data:o,Eo:/clearkey/i.test(i.keySystem)?"clearkey":"fps"},i.context.dI||(i.CX=o)),i.context.Nl.Hg(t).then((function(t){if(12!==i.state||(i.Nn("lr"),i.Hsa(),i.context.dI)){if(i.Ib)return t=T(i,a,t.qj[0].data,i.Ib),2===i.state?t:t.then((function(){i.state=30,n({$:!0,state:i.state})}))}else i.DX=t.qj[0].data,i.state=13,n({$:!0,state:i.state})})).catch((function(t){n(m().LH(t,{state:i.state}))}))}function O(t,e,i){e.log.trace("LICENSE: Received event: "+t.type,{keySystem:t.target.keySystem,sessionId:t.target.sessionId}),i({$:!0})}function S(t,e,i){var n;n=E(t),e.Mn&&e.Mn(b.ag.fr,n),e.log.error("LICENSE Error: Received event: "+t.type,{sessionId:e.Ib?e.Ib.sessionId:void 0,keySystem:t.target.keySystem,systemCode:n.faa,code:n.f5}),i({$:!1,code:b.ag.fr,Cc:b.GB.Ss,Kd:n.Kd,message:"Received a key error.",ub:n.details,cause:n.cause})}function T(t,e,i,n){return n={sessionId:n.sessionId},t.m7()&&(n.license=g().encode(i)),t.log.trace("calling keysession update",n),new Promise((function(n,r){try{e||t.Ib.addEventListener("webkitkeyadded",(function e(){t.Ib.removeEventListener("webkitkeyadded",e),n(void 0)})),t.Ib.update(i),e&&n(void 0)}catch(t){r({$:!1,code:b.ag.R0,message:"Unable to update the EME.",e:t})}}))}function A(t){this.pd[t]=r.ka.get(c.jd).Yb().da(h.ja),this.log.trace("Milestone: "+t+", "+this.pd[t])}Object.defineProperty(i,"__esModule",{value:!0}),r=n(8),i=n(3),o=n(29),a=n(77),s=n(36),u=n(78),c=n(18),h=n(4),f=n(11),l=n(62),d=n(165),p=n(63),(b={}).ag=i.M,b.GB=i.L,v.prototype.Wt=function(){return this.keySystem},v.prototype.Yab=function(t,e){t.log&&(this.log=t.log),t.Nn&&(this.Nn=t.Nn),e.Nl&&(this.context.Nl=e.Nl),e.onerror&&(this.context.onerror=e.onerror)},v.prototype.create=function(e){var i;return(i=this).Nn("lg"),i.log.trace("CREATE: Creating the media keys",{keySystem:e}),i.keySystem=e,i.context.UX?Promise.reject({$:!1,code:b.ag.GQ,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):new Promise((function(n,r){if(_(i.keySystem))try{i.mediaKeys=new t.WebKitMediaKeys(e),i.context.X&&(i.log.trace("LICENSE: calling setmediakeys on video element"),i.context.X.webkitSetMediaKeys(i.mediaKeys)),n({$:!0,mediaKeys:i.mediaKeys})}catch(t){r({$:!1,code:b.ag.GR,ub:m().wd(t)})}else i.mediaKeys=new t.WebKitMediaKeys(e),i.context.X?(i.log.trace("LICENSE: calling setmediakeys on video element"),i.context.X.webkitSetMediaKeys(i.mediaKeys)):(function(){var t,e;e=(t=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden")).lastChild,i.Jg=t,i.context.X=f.Be.createElement("VIDEO"),e?i.Jg.insertBefore(i.context.X,e):i.Jg.appendChild(i.context.X)}(),i.sj=new f.$E,i.sj.addEventListener("sourceopen",(function(o){(i.context.qf||i.context.Yk||i.context.bB)&&i.log.trace("CREATE: Received event: "+o.type,{readyState:o.target.readyState,duration:o.target.duration});try{i.mediaKeys=new t.WebKitMediaKeys(e),i.context.X.webkitSetMediaKeys(i.mediaKeys),n({$:!0,mediaKeys:i.mediaKeys})}catch(t){i.log.error("CREATE: Exception on webkitSetMediaKeys",t),r({$:!1,code:b.ag.GR,ub:m().wd(t)})}})),i.url=URL.createObjectURL(i.sj),i.context.X.src=i.url),n({$:!0,mediaKeys:i.mediaKeys})}))},v.prototype.close=function(){this.Ib&&(this.log.info("Closing the session",{sessionId:this.Ib.sessionId}),this.Ib.removeEventListener("webkitkeyerror",this.pX),this.Ib.close(),this.Ib=void 0)},v.prototype.Hg=function(t,e){var i;return 1<e.length?Promise.reject({code:b.ag.hHa}):0===e.length?Promise.reject({code:b.ag.gHa}):(e=e[0],(i=this).context.qf&&i.log.trace("LICENSE: Setting license",{initData:g().encode(e)}),i.context.UX?Promise.reject({$:!1,code:b.ag.SBa,message:"Promise based EME is currently not supported in Safari"}):new Promise((function(n,r){var o,a,s;function u(t){i.Ib&&(i.Ib.removeEventListener("webkitkeymessage",o),i.Ib.removeEventListener("webkitkeyadded",a),i.Ib.removeEventListener("webkitkeyerror",s),i.Ib.addEventListener("webkitkeyerror",i.pX)),t.$?n(t):(i.close(),r(t))}o=function(e){k(e,t,i,u)},a=function(t){O(t,i,u)},s=function(t){S(t,i,u)},_(i.keySystem)&&(i.pj=function(t){var e;return t=t.subarray(14,30),t=String.fromCharCode.apply(null,t),t=(t=g().decode(t)).subarray(4),(e=new Uint8Array(16)).set(t),e}(e),e=function(t){var e;return t=function(t){var e,i;function n(t,e,i,n){var r,o;return r=new Uint8Array("piff"==e?88:72),(o=new d.BQ(r)).hB(12),o.gB("frma"),o.gB(t),o.hB(20),o.gB("schm"),o.d_(0),o.d_(0),o.gB(e),o.hB(i),"piff"==e?(o.hB(56),o.gB("schi"),o.hB(48),o.gB("uuid"),o.c_([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(o.hB(40),o.gB("schi"),o.hB(32),o.gB("tenc")),o.d_(0),o.d_(0),o.hB(264),o.c_(n),r}return e=n("avc1","piff",65537,t),e=y().decode(g().encode(e)),t=n("avc1",p.wx,65536,t),t=y().decode(g().encode(t)),(i=new Uint8Array(7+e.length+8+t.length+5)).set([91,10,32,32,32,32,34],0),i.set(e,7),i.set([34,44,10,32,32,32,32,34],7+e.length),i.set(t,7+e.length+8),i.set([34,10,32,32,93],7+e.length+8+t.length),i}(t),(e=new Uint8Array(13+t.length+2)).set([123,10,32,32,34,115,105,110,102,34,32,58,32]),e.set(t,13),e.set([10,125],13+t.length),e}(i.pj)),i.log.trace("LICENSE: Executing prefix based EME"),i.context.qf|i.context.Yk&&i.log.debug("LICENSE: PSSH",g().encode(e)),i.Ib=i.mediaKeys.createSession("video/mp4",e,null),(i.context.qf||i.context.Yk)&&i.log.debug("LICENSE: Created the media keys sessions",{keySystem:i.Ib.keySystem,sessionId:i.Ib.sessionId}),i.Ib.addEventListener("webkitkeymessage",o),i.Ib.addEventListener("webkitkeyadded",a),i.Ib.addEventListener("webkitkeyerror",s)})))},v.prototype.rI=function(){var t;return(t=this).Iwa?Promise.resolve({$:!0}):new Promise((function(e,i){var n,r,o;function a(a){t.Ib&&(t.Ib.removeEventListener("webkitkeymessage",n),t.Ib.removeEventListener("webkitkeyadded",r),t.Ib.removeEventListener("webkitkeyerror",o)),a.$?e(a):(i(a),t.close())}n=function(e){k(e,l.co.Rca.rp,t,a)},r=function(i){O(i,t,a),e({$:!0})},o=function(e){S(e,t,a)},t.vqa=!1,t.Ib.addEventListener("webkitkeymessage",n),t.Ib.addEventListener("webkitkeyadded",r),t.Ib.addEventListener("webkitkeyerror",o),t.Ib.update(y().decode("renew"))}))},v.prototype.k3=function(t){this.DX||this.log.error("pending license must exist at this point"),this.context.dI=!0;try{t&&(this.context.X=t,this.log.trace("calling setmediakeys on video element"),this.context.X.webkitSetMediaKeys(this.mediaKeys))}catch(t){return new Promise((function(e,i){i({$:!1,code:b.ag.fK,message:"setMediaKeys failed",ub:m().wd(t)})}))}return T(this,!1,this.DX,this.Ib)},v.prototype.MVa=function(t){var e,i;return(e=this).log.trace("Releasing the license of the current session",JSON.stringify(t)),e.Iwa=!0,i={ba:t.ba,we:t.we},new Promise((function(n,r){e.context.Nl.release.call(e.context.Nl,i).then((function(){var i;e.log.trace("successfully released the license",JSON.stringify(t)),(i={$:!0}).$?n(i):(e.close(),r(i))})).catch((function(t){e.log.error("RELEASE: Unable to get the release the license",{sessionId:e.Ib?e.Ib.sessionId:void 0,code:t.code,subCode:t.Cc,extCode:t.Kd,edgeCode:t.un,message:t.hk}),t.$?n(t):(e.close(),r(t))}))}))},v.prototype.m7=function(){return this.context.qf||this.context.Yk},e.exports=v},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,n){this.log=t,this.aH=e,this.FA=i,this.context=n}Object.defineProperty(e,"__esModule",{value:!0}),n=i(3),r=i(8),o=i(29),a=i(78),s=i(36),u=i(63),c.prototype.Hg=function(t){var e,i;return e=this,(this.context.qf||this.context.Yk)&&this.log.debug("Requesting a license",t),r.ka.get(o.cg).Bt(r.ka.get(a.Bv).decode("certificate"),t.dk[0].data)?(e.log.trace("Requesting Fairplay cert data."),i=Promise.resolve({qj:[{sessionId:t.dk[0].sessionId,data:r.ka.get(s.Ci).decode(u.b0)}]})):i=r.ka.get(o.cg).Bt(r.ka.get(a.Bv).decode("content"),t.dk[0].data)?Promise.resolve({qj:[{sessionId:t.dk[0].sessionId,data:t.pj}]}):(e.log.trace("Requesting license",{drmType:t.Eo}),e.aH(t).catch((function(t){throw e.log.error("Unable to get the Fairplay license",t),{code:n.M.XJ,Cc:t.Cc,Kd:t.Kd,un:t.un,hk:t.message||t.hk,DM:t.data,message:"Unable to send the Fairplay license request. "+(t.message||t.hk),cause:t}}))),i},c.prototype.release=function(t){var e;return e=this,this.log.trace("Requesting stop data"),this.FA(t).catch((function(t){throw e.log.error("Unable to release the FairPlay license",{code:t.code,subCode:t.Cc,extCode:t.Kd,edgeCode:t.un,message:t.message||t.hk}),{$:!1,code:n.M.tea,Cc:t.Cc,Kd:t.Kd,un:t.un,hk:t.message||t.hk,message:"Unable to release the FairPlay license. "+(t.message||t.hk),cause:t}}))},t.exports=c},function(t,e,i){var n,o,a,s,u,c,h,f;function l(t,e,i){var n;n=this,this.is=t,this.Wn=e,this.config=i,this.gx=function(){return{version:n.version,drmData:n.O4.map((function(t){return t.gx()}))}},this.Jma=function(t){var e;if(n.is.kn(t)&&(t=function(t){if(!(t={xid:(t=JSON.parse(t)).xid,movieId:t.movieId,keySessionIds:t.keySessionIds,licenseContextId:t.licenseContextId}).licenseContextId||!t.xid||!t.movieId)throw new u.qd(a.M.UJ,a.L.nB);return{version:1,drmData:[t]}}(t)),1===t.version&&(t=function(t,e){if(t.By(e.drmData))return{version:2,drmData:e.drmData.map((function(t){var e;return e=t.keySessionIds,new f.W_({keySessionData:(e&&0<e.length?e:[void 0]).map((function(e){return{id:e,licenseContextId:t.licenseContextId,licenseId:void 0}})),xid:t.xid,movieId:t.movieId}).gx()}))};throw new u.qd(a.M.UJ,a.L.nB)}(n.is,t)),e={version:2,data:[]},2===t.version){e.version=t.version;try{e.data=t.drmData.map((function(t){return new f.W_(t)}))}catch(t){throw new u.qd(a.M.UJ,a.L.nB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",t)}}else{if(!t.version||!n.is.Ii(t.version))throw new u.qd(a.M.UJ,a.L.nB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==t.version)throw new u.qd(a.M.UJ,a.L.Lza,void 0,void 0,void 0,"Version number is not supported. Version: "+t.version)}return e},this.xs=new c.Jca(2,this.config.JU,this.is.kn(this.config.JU),this.Wn,this.gx)}Object.defineProperty(e,"__esModule",{value:!0}),e.eAa=void 0,t=i(1),n=i(0),o=i(69),a=i(3),s=i(27),u=i(41),c=i(317),h=i(79),f=i(203),l.prototype.E6a=function(){return this.iZb()},l.prototype.yPa=function(t){return this.xs.add(t)},l.prototype.lY=function(t){return this.xs.remove(t,(function(t,e){return t.ba===e.ba}))},l.prototype.toString=function(){return JSON.stringify(this.gx(),null,"  ")},l.prototype.iZb=function(){var t;return t=this,this.I6a||(this.I6a=new Promise((function(e,i){t.xs.load(t.Jma).then((function(){e()})).catch((function(t){t.na&&t.cause?i(new u.qd(a.M.UJ,t.na,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,t)):i(t)}))}))),this.I6a},r.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.xs.version}},O4:{configurable:!0,enumerable:!0,get:function(){return this.xs.cw}}}),i=l,i=t.__decorate([n.R(),t.__param(0,n.l(s.bg)),t.__param(1,n.l(h.jB)),t.__param(2,n.l(o.sv))],i),e.eAa=i},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.p6a=void 0,n=i(3),r=i(95),o=i(122),a=i(202),e.p6a=function(t){return a.vM.parent=t.$a,function(){return s||(s=new Promise((function(t,e){try{t(a.vM.get(o.EBa))}catch(t){e(new r.Ng(n.M.ugb,n.L.Pgb,void 0,"Unable to extract the DRM services from the dependency injector",t))}}))),s}}},function(t,e){function i(){}Object.defineProperty(e,"__esModule",{value:!0}),e.cGa=void 0,i.prototype.DZa=function(){return void 0!==this.mediaKeys},i.prototype.setMediaKeys=function(t){this.mediaKeys=t},i.prototype.vVb=function(){this.DZa()&&(this.mediaKeys=void 0)},e.cGa=i},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i,n,r){this.IG=t,this.Uc=e,this.UN=n,this.pk=r,this.log=i.ib("CannedChallengeProviderImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.gAa=void 0,t=i(1),n=i(0),r=i(122),o=i(36),a=i(7),s=i(138),u=i(70),c=i(137),h=i(602),f.prototype.Tna=function(t){var e;return e=this,Promise.all([this.IG(),this.MFb()]).then((function(i){var n;return i=(n=v(i)).next().value,n=n.next().value,i.cEb({type:t,initData:n},e.UN())})).then((function(t){var i;return t=(i=v(t)).next().value,i=i.next().value,i=e.Uc.encode(i.data[0]),e.log.trace("Challenge generated",i),{ac:t,rja:i}}))},f.prototype.MFb=function(){var t;return t=this,this.pk.Vt().then((function(t){switch(t){case c.bo.PG:return h.Jfb;case c.bo.RD:return h.mjb;default:return h.Ckb}})).then((function(e){return e.map(t.Uc.decode)}))},i=f,i=t.__decorate([n.R(),t.__param(0,n.l(r.X_)),t.__param(1,n.l(o.Ci)),t.__param(2,n.l(a.qb)),t.__param(3,n.l(s.uR)),t.__param(4,n.l(u.Vs))],i),e.gAa=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Ckb=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="],e.Jfb=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="],e.mjb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"]},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p;Object.defineProperty(i,"__esModule",{value:!0}),i.config=void 0,e=n(0),r=n(13),o=n(604),a=n(37),s=n(40),u=n(605),c=n(319),h=n(607),f=n(167),l=n(608),d=n(69),p=n(609),i.config=new e.rd((function(e){e(r.Zc).wf((function(){return function(){return t._cad_global.config}})),e(a.Qba).to(o.zAa).aa(),e(a.Wl).to(o.TLa).aa(),e(a.iR).to(o.lEa).aa(),e(s.Tm).to(u.OCa).aa(),e(c.FGa).to(h.EGa).aa(),e(f.ICa).to(l.HCa).aa(),e(d.sv).to(p.cCa).aa()}))},function(t,e,i){var n,o,a,s,u;function c(){this.Yy={},this.U7a=0}function h(t,e,i,n,r){this.debug=t,this.Iz=e,this.jX=i,this.Wf=n,this.X9=r}function f(t,e,i){this.Iz=t,this.jX=e,this.X9=i}Object.defineProperty(e,"__esModule",{value:!0}),e.lEa=e.TLa=e.zAa=void 0,t=i(1),n=i(0),o=i(96),a=i(7),s=i(139),u=i(318),i=i(37),f=t.__decorate([n.R(),t.__param(0,n.l(i.iR)),t.__param(1,n.l(s.m1)),t.__param(2,n.l(u.qea))],f),e.zAa=f,h=t.__decorate([n.R(),t.__param(0,n.l(o.pv)),t.__param(1,n.l(i.iR)),t.__param(2,n.l(s.m1)),t.__param(3,n.l(a.qb)),t.__param(4,n.l(u.qea))],h),e.TLa=h,c.prototype.vOb=function(t){this.Yy=Object.assign({},this.Yy,t),this.U7a++},r.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.Yy}},q$:{configurable:!0,enumerable:!0,get:function(){return this.U7a}}}),i=t.__decorate([n.R()],c),e.lEa=i},function(t,e,i){var n,o,a,s,u,c,h,f;function l(t,e,i){return(t=s.Ze.call(this,t,void 0===i?"GeneralConfigImpl":i)||this).oj=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.OCa=e.CM=void 0,t=i(1),n=i(4),o=i(0),a=i(45),s=i(46),u=i(40),c=i(37),i=i(108),h={test:"Test",stg:"Staging",int:"Int",prod:"Prod"},e.CM=function(t,e){return t.F6a(h[e]||e,u.Cx)},g(l,s.Ze),r.Object.defineProperties(l.prototype,{CM:{configurable:!0,enumerable:!0,get:function(){return u.Cx.tjb}},Jwa:{configurable:!0,enumerable:!0,get:function(){return n.vh(8)}},Cz:{configurable:!0,enumerable:!0,get:function(){return""}},SL:{configurable:!0,enumerable:!0,get:function(){return""}},mJ:{configurable:!0,enumerable:!0,get:function(){return""}},D$a:{configurable:!0,enumerable:!0,get:function(){return!1}},l3:{configurable:!0,enumerable:!0,get:function(){return!0}},$V:{configurable:!0,enumerable:!0,get:function(){return this.oj.$V}},pCb:{configurable:!0,enumerable:!0,get:function(){return!1}},he:{configurable:!0,enumerable:!0,get:function(){return{}}},S7a:{configurable:!0,enumerable:!0,get:function(){return!1}},Spa:{configurable:!0,enumerable:!0,get:function(){return!1}},Taa:{configurable:!0,enumerable:!0,get:function(){return!1}},Js:{configurable:!0,enumerable:!0,get:function(){return!1}},SU:{configurable:!0,enumerable:!0,get:function(){return!0}},iE:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]}}},nw:{configurable:!0,enumerable:!0,get:function(){return 0<=[u.Cx.fLa,u.Cx.pEa].indexOf(this.CM)}}}),f=l,t.__decorate([a.config(e.CM,"environment")],f.prototype,"CM",null),t.__decorate([a.config(a.$k,"storageTimeout")],f.prototype,"Jwa",null),t.__decorate([a.config(a.string,"groupName")],f.prototype,"Cz",null),t.__decorate([a.config(a.string,"canaryGroupName",!0)],f.prototype,"SL",null),t.__decorate([a.config(a.string,"uiGroupName")],f.prototype,"mJ",null),t.__decorate([a.config(a.dd,"testIndexDBForCorruptedDatabase")],f.prototype,"D$a",null),t.__decorate([a.config(a.dd,"applyIndexedDbOpenWorkaround")],f.prototype,"l3",null),t.__decorate([a.config(a.dd,"ignoreIdbOpenError")],f.prototype,"$V",null),t.__decorate([a.config(a.dd,"executeStorageMigration")],f.prototype,"pCb",null),t.__decorate([a.config(a.object(),"browserInfo")],f.prototype,"he",null),t.__decorate([a.config(a.dd,"retryAllMslRequestsOnError")],f.prototype,"S7a",null),t.__decorate([a.config(a.dd,"isTestAccount")],f.prototype,"Spa",null),t.__decorate([a.config(a.dd,"vuiCommandLogging")],f.prototype,"Taa",null),t.__decorate([a.config(a.dd,"useRangeHeader")],f.prototype,"Js",null),t.__decorate([a.config(a.dd,"enableMilestoneEventList")],f.prototype,"SU",null),t.__decorate([a.config(a.object,"storageRules")],f.prototype,"iE",null),f=t.__decorate([o.R(),t.__param(0,o.l(c.Wl)),t.__param(1,o.l(i.fF)),t.__param(2,o.l(c.F_)),t.__param(2,o.optional())],f),e.OCa=f},function(t,e){function i(t){this.value=t}Object.defineProperty(e,"__esModule",{value:!0}),e.Ada=void 0,i.empty=function(){return i.of(void 0)},i.of=function(t){return new i(t)},i.prototype.or=function(t){return void 0===this.value?t instanceof Function?t():t:this.value},i.prototype.map=function(t){return void 0===this.value?i.empty():i.of(t(this.value))},e.Ada=i},function(t,e,i){var n,o,a,s;function u(t,e){return a.Ze.call(this,t,void 0===e?"NetworkMonitorConfigImpl":e)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.EGa=void 0,t=i(1),n=i(0),o=i(45),a=i(46),i=i(37),g(u,a.Ze),r.Object.defineProperties(u.prototype,{qbb:{configurable:!0,enumerable:!0,get:function(){return!0}}}),s=u,t.__decorate([o.config(o.dd,"useNetworkMonitor")],s.prototype,"qbb",null),s=t.__decorate([n.R(),t.__param(0,n.l(i.Wl)),t.__param(1,n.l(i.F_)),t.__param(1,n.optional())],s),e.EGa=s},function(t,e,i){var n,o,a,s,u,c,h,f;function l(t,e,i,n){return(t=s.Ze.call(this,t,"FtlProbeConfigImpl")||this).Ch=e,t.za=i,t.oj=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.HCa=void 0,t=i(1),n=i(38),o=i(0),a=i(4),s=i(46),u=i(123),c=i(45),h=i(37),i=i(108),g(l,s.Ze),r.Object.defineProperties(l.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.oj.C5}},endpoint:{configurable:!0,enumerable:!0,get:function(){return this.Lma+(-1===this.Lma.indexOf("?")?"?":"&")+"monotonic="+this.za.q3a+"&device=web"}},L9a:{configurable:!0,enumerable:!0,get:function(){return a.Gb}},Bma:{configurable:!0,enumerable:!0,get:function(){return""}},Lma:{configurable:!0,enumerable:!0,get:function(){return this.Ch.endpoint+"/ftl/probe"+(this.Bma?"?force="+this.Bma:"")}}}),f=l,t.__decorate([c.config(c.dd,"ftlEnabled")],f.prototype,"enabled",null),t.__decorate([c.config(c.$k,"ftlStartDelay")],f.prototype,"L9a",null),t.__decorate([c.config(c.string,"ftlEndpointForceParam")],f.prototype,"Bma",null),t.__decorate([c.config(c.url,"ftlEndpoint")],f.prototype,"Lma",null),f=t.__decorate([o.R(),t.__param(0,o.l(h.Wl)),t.__param(1,o.l(u.zJ)),t.__param(2,o.l(n.Uh)),t.__param(3,o.l(i.fF))],f),e.HCa=f},function(t,e,i){var n,o,a,s,u,c;function h(t,e,i){return(t=o.Ze.call(this,t,void 0===i?"EmeConfigImpl":i)||this).he=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.cCa=void 0,t=i(1),n=i(0),o=i(46),a=i(37),s=i(4),u=i(45),i=i(164),g(h,o.Ze),r.Object.defineProperties(h.prototype,{L_a:{configurable:!0,enumerable:!0,get:function(){return!!(this.he.$_a||this.he.iW||this.he.DN)}},rD:{configurable:!0,enumerable:!0,get:function(){return s.vh(5)}},kta:{configurable:!0,enumerable:!0,get:function(){return s.vh(10)}},JU:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData"}},iV:{configurable:!0,enumerable:!0,get:function(){return!1}},Sw:{configurable:!0,enumerable:!0,get:function(){return!0}},iQa:{configurable:!0,enumerable:!0,get:function(){return s.vh(30)}},jQa:{configurable:!0,enumerable:!0,get:function(){return s.vh(30)}},mQa:{configurable:!0,enumerable:!0,get:function(){return s.vh(30)}},kQa:{configurable:!0,enumerable:!0,get:function(){return s.vh(30)}},nQa:{configurable:!0,enumerable:!0,get:function(){return s.vh(30)}},Ova:{configurable:!0,enumerable:!0,get:function(){return""}},I4a:{configurable:!0,enumerable:!0,get:function(){return!this.he.xw}},J4a:{configurable:!0,enumerable:!0,get:function(){return!1}}}),c=h,t.__decorate([u.config(u.dd,"initializeKeySystemAtStartup")],c.prototype,"L_a",null),t.__decorate([u.config(u.$k,"licenseRenewalRequestDelay")],c.prototype,"rD",null),t.__decorate([u.config(u.$k,"persistedReleaseDelay")],c.prototype,"kta",null),t.__decorate([u.config(u.string,"drmPersistKey")],c.prototype,"JU",null),t.__decorate([u.config(u.dd,"forceLimitedDurationLicense")],c.prototype,"iV",null),t.__decorate([u.config(u.dd,"prepareCadmium")],c.prototype,"Sw",null),t.__decorate([u.config(u.$k,"apiCloseTimeout")],c.prototype,"iQa",null),t.__decorate([u.config(u.$k,"apiCreateMediaKeysTimeout")],c.prototype,"jQa",null),t.__decorate([u.config(u.$k,"apiSetServerCertificateTimeout")],c.prototype,"mQa",null),t.__decorate([u.config(u.$k,"apiGenerateRequestTimeout")],c.prototype,"kQa",null),t.__decorate([u.config(u.$k,"apiUpdateTimeout")],c.prototype,"nQa",null),t.__decorate([u.config(u.string,"serverCertificate")],c.prototype,"Ova",null),t.__decorate([u.config(u.dd,"outputRestrictedIsFatal")],c.prototype,"I4a",null),t.__decorate([u.config(u.dd,"outputRestrictedIsFatalForUhd")],c.prototype,"J4a",null),c=t.__decorate([n.R(),t.__param(0,n.l(a.Wl)),t.__param(1,n.l(i.mB)),t.__param(2,n.l(a.F_)),t.__param(2,n.optional())],c),e.cCa=c},function(t,e,i){var n,r,o,a,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.YUa=void 0,t=i(0),n=i(122),r=i(611),o=i(70),a=i(612),s=i(321),u=i(620),e.YUa=new t.rd((function(t){t(n.EBa).to(r.DBa).aa(),t(o.Vs).to(a.bGa).aa(),t(s.eCa).to(u.dCa)}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v;function y(t,e,i,n,r,o,a,s,c,h){var f;f=this,this.Oc=e,this.zA=i,this.config=n,this.Kr=r,this.gBb=o,this.RL=a,this.pk=s,this.UN=c,this.Dm=h,this.LZb=function(t,e){var i;f.Dm.mark(v.Ia.f0,t.Si.ba,"generate-challenge"),i=!1,e.KXb((function(n){i||(i=!0,f.Dm.mark(v.Ia.e0,t.Si.ba,"generate-challenge")),f.aH(t,e,n).then((function(t){e.CPa(t),f.qtb(e)})).catch((function(t){return e.Aqb(t)}))}))},this.log=t.ib("DrmServices"),this.Kr().hp&&this.RL.E6a().then((function(){f.iVb()})).catch((function(t){f.log.error("Unable to load the persisted DRM data",t)})),this.config.L_a&&this.pk.vw().then((function(t){return f.mTa(c(),t,u.Xh.rp).then((function(t){return t.close()}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.DBa=void 0,t=i(1),n=i(0),r=i(7),o=i(48),a=i(320),s=i(71),u=i(57),c=i(69),h=i(204),f=i(203),l=i(321),d=i(13),p=i(70),b=i(138),v=i(62),y.prototype.cEb=function(t,e){return this.zG(e,t.type,t.context).then((function(e){return e.fEb(t.initData).then((function(t){return[e,{Eo:e.Vt(),data:t.dk}]}))}))},y.prototype.Hg=function(t,e){var i;return i=this,this.log.info("Requesting challenges",this.fYa(t,t.type)),this.zG(e,t.type,t.context).then((function(e){return i.o3a(t,e),e.gEb(t.initData).then((function(){return e}))}))},y.prototype.o3a=function(t,e){e.RXb(t.Si),this.LZb(t,e)},y.prototype.release=function(t,e){var i;return i=this,this.log.info("Releasing server license",this.ZYa(t)),this.ZGb(t).then((function(){var n;return n=Object.assign({active:!1,we:[]},t.Si),i.RL.lY(n),e.vVb(),t}))},y.prototype.fYa=function(t,e){return{movieId:t.Si.J,xid:t.Si.ba,type:u.tqa(e)}},y.prototype.ZYa=function(t){return{movieId:t.Si?t.Si.J:void 0,xid:t.Si?t.Si.ba:void 0,keySessionId:t.vz()}},y.prototype.aH=function(t,e,i){return this.log.info("Sending license request",this.fYa(t,i.Uf)),this.zA.Hg({ba:t.Si.ba,Ti:t.Si.Ti,N4:[t.Si.rm],dk:[{sessionId:e.vz()||"session",data:i.dk}],Uf:i.Uf,Eo:e.Vt(),TRa:i.TRa,MW:t.Si.MW,lk:t.Si.lk})},y.prototype.ZGb=function(t){return this.log.info("Sending release request",this.ZYa(t)),this.zA.release({ba:t.Si.ba,we:t.we})},y.prototype.zG=function(t,e,i){var n;return n=this,this.pk.vw().then((function(r){return n.mTa(t,r,e,i)}))},y.prototype.mTa=function(t,e,i,n){return this.gBb.create().then((function(r){return r.createSession(e,t,i,n).then((function(){return r}))}))},y.prototype.hVb=function(t){var e;return e=this,this.zA.release({ba:t.ba,we:t.we}).catch((function(t){e.log.error("Unable to send release data to the server",t)}))},y.prototype.iVb=function(){var t;t=this,this.Oc.zk(this.config.kta,(function(){t.log.trace("Removing cached sessions",{"count:":t.RL.O4.length}),t.RL.O4.filter((function(t){return!t.active})).reduce((function(e,i){return e.then((function(){return t.hVb(i)})).then((function(){return t.RL.lY(i)}))}),Promise.resolve(void 0))}))},y.prototype.qtb=function(t){var e;t.vz()&&t.Si&&((e=new f.W_).we=t.we,e.ba=t.Si.ba,e.J=t.Si.J,this.RL.yPa(e))},i=y,i=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.Qj)),t.__param(2,n.l(a.CBa)),t.__param(3,n.l(c.sv)),t.__param(4,n.l(d.Zc)),t.__param(5,n.l(l.eCa)),t.__param(6,n.l(h.Nba)),t.__param(7,n.l(p.Vs)),t.__param(8,n.l(b.uR)),t.__param(9,n.l(s.xR))],i),e.DBa=i},function(t,e,i){var n,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O;function S(t,e,i,n,r,o,a,s,u,c){this.Yr=t,this.pe=e,this.Sh=i,this.kj=n,this.Uc=r,this.is=o,this.aX=a,this.config=s,this.Zp=u,this.Yg=c,this.log=this.Yr.ib("MediaKeySystemAccessServices")}Object.defineProperty(e,"__esModule",{value:!0}),e.bGa=void 0,t=i(1),n=i(0),o=i(3),a=i(7),s=i(95),u=i(137),c=i(613),h=i(614),f=i(615),l=i(206),d=i(29),p=i(77),b=i(36),v=i(27),y=i(39),g=i(616),m=i(618),_=i(78),w=i(13),E=i(109),k=i(69),i=i(66),S.prototype.vw=function(){return this.promise||(this.promise=this.zWb()),this.promise},S.prototype.cyb=function(t){var e;return e=this,new Promise((function(i,n){var r,a;r=E.Hb.ina(t),a=e.JXa(r),r=e.CXa(r),a.PVb(t,r.Nna()).then((function(n){e.log.trace("Created the media keys system access",{keySystem:t,supportedconfig:n.getConfiguration?JSON.stringify(n.getConfiguration()):void 0}),e.keySystem=n.keySystem,i(n)})).catch((function(i){e.log.error("Unable to create the media key system access object",{keySystem:t,error:i.message}),n(new s.Ng(o.M.NBa,o.L.Lj,void 0,"Unable to create media keys system access. "+i.message,i))}))}))},S.prototype.Vt=function(){var t;return t=this,this.vw().then((function(e){return t.DXa(e)}))},S.prototype.oFb=function(){var t,e;return t=this,1<(e=this.config().W0a||[this.config().xm]).length?this.vw().then((function(e){return t.DXa(e)})).then((function(t){return E.Hb.BXa(t)})):(e=E.Hb.ina(e[0]),Promise.resolve(E.Hb.BXa(e)))},S.prototype.pFb=function(){var t;return t=this,this.Vt().then((function(e){return t.CXa(e)}))},S.prototype.rFb=function(){var t;return t=this,this.Vt().then((function(e){return t.JXa(e)}))},S.prototype.DXa=function(t){return E.Hb.ina(t.keySystem)},S.prototype.CXa=function(t){switch(t){case u.bo.RD:return new c.aCa(this.kj,this.Uc);case u.bo.PG:return new m.fKa(this.kj,this.Uc,this.Sh,this.Yg);default:return new f.rAa(this.kj,this.Zp,this.config)}},S.prototype.JXa=function(t){switch(t){case u.bo.RD:return new h.jJa(this.aX,this.is,this.Uc,this.pe,this.Zp,this.Sh);case u.bo.PG:return new g.CCa(this.aX,this.is,this.Uc,this.pe,this.Zp,this.Sh);default:return new l.Av(this.aX,this.is,this.Uc,this.pe,this.Zp,this.Sh)}},S.prototype.zWb=function(){var t,e;return t=this,e=(this.config().W0a||[this.config().xm]).map((function(e){return function(){return t.cyb(e)}})),this.AWb(e)},S.prototype.AWb=function(t){return t.reduce((function(t,e){return t.then((function(t){return Promise.resolve(t)})).catch((function(){return e()}))}),Promise.reject(Error("keySystem missing")))},r.Object.defineProperties(S.prototype,{V0a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem}}}),O=S,O=t.__decorate([n.R(),t.__param(0,n.l(a.qb)),t.__param(1,n.l(d.cg)),t.__param(2,n.l(_.Bv)),t.__param(3,n.l(p.tx)),t.__param(4,n.l(b.Ci)),t.__param(5,n.l(v.bg)),t.__param(6,n.l(y.eK)),t.__param(7,n.l(w.Zc)),t.__param(8,n.l(k.sv)),t.__param(9,n.l(i.Xs))],O),e.bGa=O},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e){this.kj=t,this.Uc=e}Object.defineProperty(e,"__esModule",{value:!0}),e.aCa=void 0,t=i(1),n=i(0),r=i(3),o=i(77),a=i(36),s=i(205),u=i(95),c=i(64),h=i(41),f=i(63),l.prototype.a4=function(){return!0},l.prototype.yia=function(){return!1},l.prototype.lja=function(){return!1},l.prototype.yV=function(){return f.wx},l.prototype.Yma=function(){return f.Fda},l.prototype.Nna=function(){return[{initDataTypes:[this.yV()],audioCapabilities:[{contentType:s.$J}],videoCapabilities:[{contentType:s.Jx}],sessionTypes:["temporary"]}]},l.prototype.npa=function(){Promise.reject(new h.qd(r.M.ica))},l.prototype.hka=function(t){var e;return e=new Uint8Array(t.message),e=this.Wla(e,"PlayReadyKeyMessage","Challenge"),e=this.Uc.decode(e),{type:t.type,sessionId:t.target.sessionId,HH:[e],messageType:t.messageType}},l.prototype.Vy=function(t){var e,i,n;e=new u.Ng(r.M.fr),null!=(i=t.code)&&void 0!==i?(i=parseInt(i,10),e.Cc=1<=i&&9>=i?r.L.Ss+i:r.L.Ss):e.Cc=t instanceof c.hr?r.L.HQ:r.L.Lj;try{n=/\((\d+)\)/.exec(t.message),e.Kd=this.kj.UG(Number(n&&n[1]),4)}catch(t){}return e.AU(t),e},l.prototype.Wla=function(t,e){for(var i,n,r,o=1;o<arguments.length;++o);for(o=1;o<arguments.length;o++);for(o="",n=t.length,i=0;i<n;i++)0<(r=t[i])&&(o+=String.fromCharCode(r));for(n="\\s*(.*)\\s*",i=arguments.length-1;0<i;i--){if(r=arguments[i],0>o.search(r))return"";n="[\\s\\S]*<"+(r="(?:[^:].*:|)"+r)+"[^>]*>"+n+"</"+r+">[\\s\\S]*"}return(o=o.match(new RegExp(n)))?o[1]:""},l.prototype.YM=function(){},i=l,i=t.__decorate([n.R(),t.__param(0,n.l(o.tx)),t.__param(1,n.l(a.Ci))],i),e.aCa=i},function(t,e,i){var n,r,o,a;function s(){return r.Av.apply(this,arguments)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.jJa=void 0,t=i(1),n=i(0),r=i(206),o=i(95),a=i(3),g(s,r.Av),s.prototype.k4=function(t,e,i,n,r){return this.f7a(i),this.d7a(n),this.b7a(r),this.Wmb=this.rb,this.rb=t.createSession(e),this.GPa(i),this.BPa(n),this.zPa(r),this.generateRequest(this.initDataType,this.initData)},s.prototype.close=function(){var t;function e(t){return t&&t.sessionId?t.close().then((function(){return t=void 0})):Promise.resolve()}return t=this,this.Nja=void 0,this.rb?e(this.rb).then((function(){e(t.Wmb)})):Promise.reject(new o.Ng(a.M.MBa,a.L.MJ,void 0,"Unable to close a key session, key session is not valid"))},s.prototype.generateRequest=function(t,e){return this.initDataType=t,this.initData=e,r.Av.prototype.generateRequest.call(this,t,e)},i=t.__decorate([n.R()],s),e.jJa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t,e,i){this.kj=t,this.Zp=e,this.config=i}Object.defineProperty(e,"__esModule",{value:!0}),e.rAa=void 0,t=i(1),n=i(0),r=i(3),o=i(77),a=i(205),s=i(95),u=i(64),c=i(69),h=i(13),f=i(41),l=i(63),d.prototype.a4=function(){return!0},d.prototype.yia=function(){return!0},d.prototype.lja=function(){return!0},d.prototype.yV=function(){return l.wx},d.prototype.Yma=function(){return this.Zp.Ova?this.Zp.Ova:l.fMa},d.prototype.Nna=function(){var t,e;return t=[{contentType:a.Jx,robustness:l.TJ},{contentType:a.Jx,robustness:l.Cea},{contentType:a.Jx,robustness:l.h1}],e=[{contentType:a.Jx,robustness:l.h1}],[{initDataTypes:[this.yV()],persistentState:"required",videoCapabilities:this.config().xWa?e:t}]},d.prototype.npa=function(){Promise.reject(new f.qd(r.M.ica))},d.prototype.hka=function(t){var e;return{type:t.type,sessionId:null===(e=t.target)||void 0===e?void 0:e.sessionId,HH:[new Uint8Array(t.message)],messageType:t.messageType}},d.prototype.Vy=function(t){var e,i,n;e=new s.Ng(r.M.fr),null!=(i=null==t?void 0:t.code)&&void 0!==i?(i=parseInt(i,10),e.Cc=1<=i&&9>=i?r.L.Ss+i:r.L.Ss):e.Cc=t instanceof u.hr?r.L.HQ:r.L.Lj;try{n=t.message.match(/\((\d*)\)/)[1],e.Kd=this.kj.UG(n,4)}catch(t){}return e.AU(t),e},d.prototype.YM=function(){},i=d,i=t.__decorate([n.R(),t.__param(0,n.l(o.tx)),t.__param(1,n.l(c.sv)),t.__param(2,n.l(h.Zc))],i),e.rAa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i,n,a,s){return(t=r.Av.call(this,t,e,i,n,a,s)||this).Uc=i,t.ce=n,t.Zp=a,t.Sh=s,t.UZa=new o.BCa(t.Uc,t.ce,t.Sh),t}Object.defineProperty(e,"__esModule",{value:!0}),e.CCa=void 0,t=i(1),n=i(0),r=i(206),o=i(617),a=i(39),s=i(27),u=i(36),c=i(29),h=i(69),f=i(78),l=i(322),d=i(323),g(p,r.Av),p.prototype.generateRequest=function(t,e){var i,n,o;i=this;try{return n=e.map((function(t){return i.UZa.YFb(t)})),this.A_a=n.map((function(t){return i.Uc.encode(t)})),o=this.UZa.Kvb(n),r.Av.prototype.generateRequest.call(this,t,[o])}catch(t){return Promise.reject(t)}},p.prototype.update=function(t,e,i){var n,o,a,s,u;if(n=this,i)try{o=this.Sh.encode(t[0]),a=JSON.parse(o).RESPONSES.map((function(t){var r;return r=d.i1.h$a(t.ID),{keyID:e===l.qF.IJa?n.A_a[n.A_a.length-1]:i[r],payload:t.PAYLOAD}})),e===l.qF.Request&&(s=a.map((function(t){return t.keyID})),i.forEach((function(t){-1===s.indexOf(t)&&a.push({keyID:t,error:1})}))),u=JSON.stringify(a),t=[this.Sh.decode(u)]}catch(t){return Promise.reject(t)}return r.Av.prototype.update.call(this,t,e)},p.prototype.rI=function(){return r.Av.prototype.update.call(this,[this.Sh.decode("renew")],l.qF.Request)},i=p,i=t.__decorate([n.R(),t.__param(0,n.l(a.eK)),t.__param(1,n.l(s.bg)),t.__param(2,n.l(u.Ci)),t.__param(3,n.l(c.cg)),t.__param(4,n.l(h.sv)),t.__param(5,n.l(f.Bv))],i),e.CCa=i},function(t,e){function i(t,e,i){var n;n=this,this.Uc=t,this.ce=e,this.Sh=i,this.YFb=function(t){var e;return t=t.subarray(14,30),t=String.fromCharCode.apply(null,t),t=(t=n.Uc.decode(t)).subarray(4),(e=new Uint8Array(16)).set(t),e},this.Kfb={wx:1667591779,T3b:1667392371}}Object.defineProperty(e,"__esModule",{value:!0}),e.BCa=void 0,i.prototype.Kvb=function(t){var e;return e=this.Kfb.wx,t=t.map((function(t){return{gac:"",JLb:t,lia:t,aZb:t,l2b:[1]}})),this.lNb(e,t)},i.prototype.kNb=function(t){var e;return e=new Uint8Array(4),new DataView(e.buffer).setUint32(0,t),this.Vqa("fpsi",[e])},i.prototype.jNb=function(t,e,i,n){return t=[this.Vqa("fkri",[t])],e.byteLength&&t.push(this.FW("fkai",[e])),i.byteLength&&t.push(this.FW("fkcx",[i])),n.length&&t.push(this.FW("fkvl",[new Uint8Array(new Uint32Array(n).buffer)])),this.FW("fpsk",t)},i.prototype.lNb=function(t,e){var i,n;for(var r in i=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]),t=[this.kNb(t)],e)n=e[r],t.push(this.jNb(n.JLb,n.lia,n.aZb,n.l2b));return e=this.FW("fpsd",t),r=new Uint8Array(4),new DataView(r.buffer).setUint32(0,e.byteLength),this.Vqa("pssh",[i,r,e])},i.prototype.Vqa=function(t,e){var i,n,r;for(r in i=0,e)i+=e[r].byteLength;for(var o in i=new Uint8Array(12+i),r=0,(n=new DataView(i.buffer)).setUint32(r,i.byteLength),r+=4,i.set(this.Sh.decode(t),r),r+=4,n.setUint32(r,0),r+=4,e)t=e[o],i.set(t,r),r+=t.byteLength;return i},i.prototype.FW=function(t,e){var i,n;for(n in i=0,e)i+=e[n].byteLength;for(var r in i=new Uint8Array(8+i),n=0,new DataView(i.buffer).setUint32(n,i.byteLength),n+=4,i.set(this.Sh.decode(t),n),n+=4,e)t=e[r],i.set(t,n),n+=t.byteLength;return i},e.BCa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e,i,n){this.kj=t,this.Uc=e,this.Sh=i,this.Yg=n}Object.defineProperty(e,"__esModule",{value:!0}),e.fKa=void 0,t=i(1),n=i(0),r=i(3),o=i(77),a=i(78),s=i(95),u=i(64),c=i(36),h=i(63),f=i(324),l=i(41),d=i(66),p=i(323),b.prototype.a4=function(){return!1},b.prototype.yia=function(){return!1},b.prototype.lja=function(){return!0},b.prototype.yV=function(){return h.wx},b.prototype.Yma=function(){return h.b0},b.prototype.Nna=function(){return[{initDataTypes:[h.wx],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary"]}]},b.prototype.npa=function(t){t.rI()},b.prototype.hka=function(t){var e,i;if(e=[],t.messageType===f.fda||t.messageType===f.eda){if(t.messageType===f.fda?(i=this.Sh.encode(new Uint8Array(t.message)),i=(e=JSON.parse(i)).map((function(t){return t.keyID})),e=e.map((function(t){return t.payload}))):e=[this.Uc.encode(new Uint8Array(t.message))],0===e.length||!e.every((function(t){return t&&t.length})))throw new l.qd(r.M.RBa);e=this.T_b(e),e=this.Sh.decode(JSON.stringify(e))}else e=new Uint8Array(t.message);return{type:t.type,sessionId:t.target.sessionId,HH:[e],messageType:t.messageType,yw:i}},b.prototype.Vy=function(t){var e,i,n,o;return(i=null===(e=t.target)||void 0===e?void 0:e.error)&&(n=i.systemCode,o=i.code),(e=new s.Ng(r.M.fr,t instanceof u.hr?r.L.HQ:r.L.Ss,n?this.kj.UG(n,4):o,"",i)).AU(t),e},b.prototype.T_b=function(t){return t=t.map((function(t,e){return{ID:p.i1.PJb(e),PAYLOAD:t}})),{VERSION:this.Yg.Z3?3:1,CHALLENGES:t}},b.prototype.YM=function(t,e){var i,n;if(i=this,e&&this.Yg.Z3)try{return n=this.Sh.encode(e[0]),JSON.parse(n).RESPONSES.sort((function(t,e){return t.ID>e.ID?1:-1})).map((function(e){var n;return n=p.i1.h$a(e.ID),{from:e=i.Uc.decode(e.DHB).subarray(4,12),to:n=i.Uc.decode(t[n]).subarray(0,8)}}))}catch(t){throw new s.Ng(r.M.Rib,void 0,void 0,void 0,t)}},i=b,i=t.__decorate([n.R(),t.__param(0,n.l(o.tx)),t.__param(1,n.l(c.Ci)),t.__param(2,n.l(a.Bv)),t.__param(3,n.l(d.Xs))],i),e.fKa=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.V0=void 0,e.V0=function(){var t;t=this,this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i}))}},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i,n,r,o){this.Yr=t,this.Aa=e,this.Uc=i,this.config=n,this.Xo=r,this.pk=o}Object.defineProperty(e,"__esModule",{value:!0}),e.dCa=void 0,t=i(1),n=i(0),r=i(7),o=i(18),a=i(36),s=i(69),u=i(64),c=i(324),i=i(70),f.prototype.create=function(){var t;return t=this,Promise.all([this.pk.rFb(),this.pk.pFb(),this.pk.Vt()]).then((function(e){var i,n;return e=(i=v(e)).next().value,n=i.next().value,i=i.next().value,new c.fCa(t.Yr,t.Aa,t.Uc,t.config,e,n,i,t.Xo)}))},h=f,h=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.jd)),t.__param(2,n.l(a.Ci)),t.__param(3,n.l(s.sv)),t.__param(4,n.l(u.Rx)),t.__param(5,n.l(i.Vs))],h),e.dCa=h},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L;Object.defineProperty(e,"__esModule",{value:!0}),e.s1a=void 0,n=i(622),r=i(647),o=i(656),a=i(659),s=i(665),u=i(986),c=i(1024),h=i(1027),f=i(1039),l=i(1049),d=i(1053),p=i(1055),b=i(1086),v=i(1088),y=i(1092),g=i(1107),m=i(1115),_=i(1121),w=i(1124),E=i(1131),k=i(202),O=i(1139),S=i(1140),T=i(1147),A=i(1160),P=i(1166),j=i(1168),I=i(1175),x=i(1204),M=i(1226),R=i(1230),N=i(1234),C=i(1248),L=i(1251),e.s1a=function(t){t.load(n.Sy,c.bJ,r.I1a,h.sn,o.n3a,a.qa,s.Gbb,u.YZa,f.storage,l.KL,d.ERa,p.b2a,b.DD,v.gk,y.H1a,g.C3a,m.KWa,_.q6a,w.fI,E.UUa,k.eme,O.crypto,S.pe,T.Fd,A.Ka,P.t3a,j.o5a,I.j,x.ySa,M.transports,R.Gl,N.Zg,C.KQa,L.oa)}},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F,q,K,H,V,G,J,z,Y,W,X,Z,Q,$,tt,et,it,nt,rt,ot,at,st,ut,ct,ht,ft,lt,dt;Object.defineProperty(i,"__esModule",{value:!0}),i.Sy=void 0,e=n(0),r=n(39),o=n(38),a=n(48),s=n(81),u=n(140),c=n(623),h=n(624),f=n(625),l=n(626),d=n(78),p=n(77),b=n(36),v=n(29),y=n(27),g=n(97),m=n(64),_=n(327),w=n(627),E=n(328),k=n(628),O=n(629),S=n(630),T=n(195),A=n(329),P=n(631),j=n(201),I=n(111),x=n(632),M=n(18),R=n(330),N=n(633),C=n(634),L=n(96),D=n(635),U=n(7),B=n(326),F=n(636),q=n(71),K=n(637),H=n(331),V=n(638),G=n(639),J=n(112),z=n(11),Y=n(640),W=n(333),X=n(334),Z=n(641),Q=n(335),$=n(13),tt=n(34),et=n(141),it=n(336),nt=n(164),rt=n(642),ot=n(337),at=n(338),st=n(208),ut=n(643),ct=n(339),ht=n(644),ft=n(209),lt=n(645),dt=n(646),i.Sy=new e.rd((function(e){e(r.KR).nE((function(){return{}})).aa(),e(r.LE).$i(JSON),e(r.iMa).$i(t),e(u.XKa).$i(Math),e(r.UEa).$i(z.H0),e(r.Rda).$i(z.xv),e(r.NLa).$i(z.xB),e(r.ZAa).$i(Date),e(r.eK).$i(z.kf),e(r.Lhb).$i(z.$E),e(B.vAa).to(F.uAa).aa(),e(M.jd).to(x.Lya).aa(),e(o.Uh).to(l.wAa).aa(),e(a.Qj).to(c.gKa).aa(),e(s.Gx).to(h.eEa).aa(),e(m.Rx).to(S.xJa).aa(),e(u.b1).to(f.EJa).aa(),e(it.mda).to(dt.YFa).aa(),e(L.pv).to(C.eBa).aa(),e(L.cBa).to(D.bBa).aa(),e(d.Bv).to(w.OLa).aa(),e(p.tx).to(E.Fba).aa(),e(b.Ci).to(k.sza).aa(),e(v.cg).to(O.PLa).aa(),e(y.bg).$i(T.KE),e(ot.JQ).to(at.tCa).aa(),e(g.nca).to(A.Gk).Woa(),e(g.U_).to(A.Gk).aa(),e(g.oBa).to(A.Gk).aa(),e(g.qca).to(A.Gk).aa(),e(j.Mea).to(I.FB).aa(),e(R.NAa).to(N.MAa).aa(),e(q.oF).to(K.Rea).aa(),e(q.xR).to(K.Rea).aa(),e("Factory<LoggerFactory>").$$a(U.qb),e(H.cca).to(V.fBa).aa(),e(J.nK).wf((function(t){return function(e){return new G.hLa(t.$a.get(M.jd),t.$a.get(a.Qj),e)}})),e(ct.$Aa).wf((function(t){return function(e){return new ht.aBa(t.$a.get(a.Qj),e)}})),e(Y.oea).V_b(W.nea),e(Y.rjb).wf((function(t){var e;return e=t.$a.get(Y.oea),function(){return new e(!1)}})),e(Y.sjb).wf((function(t){var e;return e=t.$a.get(Y.oea),function(){return new e(!0)}})),e(X.LLa).wf((function(){return function(t){return new Z.MLa(t)}})),e(et.LR).wf((function(t){return function(e,i,n){return new Q.MIa(t.$a.get(L.pv),t.$a.get($.Zc),t.$a.get(tt.Hk),t.$a.get(it.mda),e,i,n)}})),e(_.TGa).wf((function(){return function(t){return new P.UGa(t)}})),e(nt.mB).to(rt.Iza),e(st.o1).wf((function(t){return function(e,i){return new ut.sLa(t.$a.get(a.Qj),e,i)}})),e(ft.mCa).to(lt.lCa).aa()}))},function(t,e,i){var n,r,o,a;function s(t){this.LP=t,r.Qo(this,"timers")}function u(t,e){this.LP=t,this.Ytb=e}Object.defineProperty(e,"__esModule",{value:!0}),e.gKa=void 0,t=i(1),n=i(0),r=i(56),o=i(39),a=i(4),u.prototype.cancel=function(){this.Ytb(this.LP)},s.prototype.Ol=function(t){return this.zk(a.Gb,t)},s.prototype.zk=function(t,e){var i;return i=this.LP.setTimeout(e,t.da(a.ja)),new u(this.LP,(function(t){t.clearTimeout(i)}))},s.prototype.u$=function(t,e){var i;return i=this.LP.setInterval(e,t.da(a.ja)),new u(this.LP,(function(t){t.clearInterval(i)}))},i=s,i=t.__decorate([n.R(),t.__param(0,n.l(o.iMa))],i),e.gKa=i},function(t,e,i){var n,r,o,a,s;function u(t,e){this.za=t,this.random=e}Object.defineProperty(e,"__esModule",{value:!0}),e.eEa=void 0,t=i(1),r=i(0),o=i(4),a=i(38),i=i(140),u.prototype.Wy=function(){return this.za.ff.da(o.io)*n.Yza+Math.floor(this.random.random()*n.Yza)},(s=n=u).Yza=1e8,s=n=t.__decorate([r.R(),t.__param(0,r.l(a.Uh)),t.__param(1,r.l(i.b1))],s),e.eEa=s},function(t,e,i){var n,r;function o(t){this.l_b=t}Object.defineProperty(e,"__esModule",{value:!0}),e.EJa=void 0,t=i(1),n=i(0),i=i(140),o.prototype.random=function(){return this.l_b.random()},o.prototype.y6a=function(t,e){if("number"!=typeof t)e=t.end,t=t.start;else if(void 0===e)throw Error("max must be provided for randomInteger API");return Math.round(t+this.random()*(e-t))},r=o,r=t.__decorate([n.R(),t.__param(0,n.l(i.XKa))],r),e.EJa=r},function(t,e,i){var n,o,a,s,u,c,h;function f(t,e,i,r){var a;a=this,this.config=t,this.Vyb=e,this.Ub=i,this.performance=r,this.aRb=function(t){a.w8a=t.Qa(a.ff)},n.Qo(this,"date"),n.Qo(this,"performance"),this.rrb=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now,this.w8a=o.Gb,this.Ub.addListener(h.Lca.z8a,this.aRb)}Object.defineProperty(e,"__esModule",{value:!0}),e.wAa=void 0,t=i(1),n=i(56),o=i(4),a=i(0),s=i(39),u=i(326),c=i(97),h=i(15),r.Object.defineProperties(f.prototype,{ff:{configurable:!0,enumerable:!0,get:function(){return this.q3a?o.timestamp(this.performance.timing.navigationStart+this.performance.now()):o.Nc(this.Vyb.now())}},FY:{configurable:!0,enumerable:!0,get:function(){return this.ff.add(this.w8a)}},q3a:{configurable:!0,enumerable:!0,get:function(){return this.config.sbb&&this.rrb}}}),i=f,i=t.__decorate([a.R(),t.__param(0,a.l(u.vAa)),t.__param(1,a.l(s.ZAa)),t.__param(2,a.l(c.qca)),t.__param(3,a.l(s.Rda)),t.__param(3,a.optional())],i),e.wAa=i},function(t,e,i){var n,r;function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.OLa=void 0,t=i(1),i=i(0),o.prototype.encode=function(t){return n.Cla(t)},o.prototype.decode=function(t){return n.Mka(t)},o.Cla=function(t){if(!t)throw new TypeError("Invalid byte array");for(var e,i=0,n=t.length,r="";i<n;){if(!(0<=(e=t[i++])&&255>=e))throw Error("bad utf8");if(128&e)if(192==(224&e))e=((31&e)<<6)+(63&t[i++]);else{if(224!=(240&e))throw Error("unsupported utf8 character");e=((15&e)<<12)+((63&t[i++])<<6)+(63&t[i++])}r+=String.fromCharCode(e)}return r},o.Mka=function(t){var e,i,n,r,o;if(i=0,r=0,!(0<=(e=t.length)))throw Error("bad string");for(n=e;n--;)128>(o=t.charCodeAt(n))?i++:i=2048>o?i+2:i+3;for(i=new Uint8Array(i),n=0;n<e;n++)128>(o=t.charCodeAt(n))?i[r++]=o:(2048>o?i[r++]=192|o>>>6:(i[r++]=224|o>>>12,i[r++]=128|o>>>6&63),i[r++]=128|63&o);return i},r=n=o,r=n=t.__decorate([i.R()],r),e.OLa=r},function(t,e,i){var n,r,o,a,s,u,c,h;function f(){}Object.defineProperty(e,"__esModule",{value:!0}),e.sza=void 0,t=i(1),i=i(0),r=Array.prototype.slice,o=r.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),r=r.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a={},s={},u={},c={},h=/\s+/g,[o,r].forEach((function(t){for(var e,i=t.length;i--;)e=t[i],a[e]=i<<18,s[e]=i<<12,u[e]=i<<6,c[e]=i})),f.prototype.encode=function(t){return n.Cla(t,o,"=")},f.prototype.decode=function(t){return n.Mka(t)},f.Mka=function(t){var e,i,n;switch(e=(t=t.replace(h,"")).length,"="!==(i=t.charAt(e-1))&&"."!==i||e--,"="!==(i=t.charAt(e-1))&&"."!==i||e--,i=3*(e>>2),n=0,e%4){case 2:n=1;break;case 3:n=2;break;case 1:throw Error("bad base64")}e=new Uint8Array(i+n);for(var r,o=0,f=0;f<i;){if(!(0<=(r=a[t[o++]]+s[t[o++]]+u[t[o++]]+c[t[o++]])&&16777215>=r))throw Error("bad base64");e[f++]=r>>>16,e[f++]=r>>>8&255,e[f++]=255&r}if(0<n&&(r=a[t[o++]]+s[t[o++]],e[f++]=r>>>16,1<n&&(r+=u[t[o++]],e[f++]=r>>>8&255),!(0<=r&&16776960>=r&&0==(r&(1<n?255:65535)))))throw Error("bad base64");return e},f.Cla=function(t,e,i){for(var n,r="",o=0,a=t.length,s=a-2;o<s;){if(!(0<=(n=(t[o++]<<16)+(t[o++]<<8)+t[o++])&&16777215>=n))throw Error("not bytes");r+=e[n>>>18]+e[n>>>12&63]+e[n>>>6&63]+e[63&n]}if(o==s){if(!(0<=(n=(t[o++]<<8)+t[o++])&&65535>=n))throw Error("not bytes");r+=e[n>>>10]+e[n>>>4&63]+e[n<<2&63]+i}else if(o==a-1){if(!(0<=(n=t[o++])&&255>=n))throw Error("not bytes");r+=e[n>>>2]+e[n<<4&63]+i+i}return r},r=n=f,r=n=t.__decorate([i.R()],r),e.sza=r},function(t,e,i){var n,r,o,a;function s(t,e){this.is=t,this.kj=e}Object.defineProperty(e,"__esModule",{value:!0}),e.PLa=void 0,t=i(1),n=i(0),i(3),r=i(27),o=i(77),a=i(11),s.prototype.LH=function(t,e,i){var n,r,o,a;return n=this,e&&(i?(r=i.ON,o=i.prefix,a=i.pA,this.KC(e,(function(e,i){a&&!n.is.Gg(i)||(t[(o||"")+(r?e.toLowerCase():e)]=i)}))):this.KC(e,(function(e,i){t[e]=i}))),t},s.prototype.KC=function(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])},s.prototype.Bt=function(t,e){if(t.length==e.length){for(var i=t.length;i--;)if(t[i]!=e[i])return!1;return!0}return!1},s.prototype.SSa=function(t,e){if(t.length!=e.length)return!1;t.sort(),e.sort();for(var i=t.length;i--;)if(t[i]!==e[i])return!1;return!0},s.prototype.wd=function(t){var e,i,n;if(t)return e=t.stack,i=t.number,(n=t.message)||(n=""+t),e?0!==(t=""+e).indexOf(n)&&(t=n+"\n"+t):t=n,i&&(t+="\nnumber:"+i),t},s.prototype.getFunctionName=function(t){return(t=/function (.{1,})\(/.exec(t.toString()))&&1<t.length?t[1]:""},s.prototype.$ma=function(t){return this.getFunctionName(t.constructor)},s.prototype.tsa=function(t){var e,i;return e=this,i="",this.is.By(t)||this.is.fQa(t)?i=Array.prototype.reduce.call(t,(function(t,e){return t+(32<=e&&128>e?String.fromCharCode(e):".")}),""):this.is.Ip(t)?i=t:this.KC(t,(function(t,n){i+=(i?", ":"")+"{"+t+": "+(e.is.Y2(n)?e.getFunctionName(n)||"function":n)+"}"})),"["+this.$ma(t)+" "+i+"]"},s.prototype.createElement=function(t,e,i,n){var r;return r=a.Be.createElement(t),e&&(r.style.cssText=e),i&&(r.innerHTML=i),n&&this.KC(n,(function(t,e){r.setAttribute(t,e)})),r},s.prototype.VCb=function(t,e){return function(i){return i[t]===e}},s.prototype.zX=function(t){var e;return e={},(t||"").split("&").forEach((function(t){var i,n;0<=(i=(t=t.trim()).indexOf("="))?(n=decodeURIComponent(t.substr(0,i)).toLowerCase(),e[n]=decodeURIComponent(t.substr(i+1))):e[t.toLowerCase()]=void 0})),e},i=s,i=t.__decorate([n.R(),t.__param(0,n.l(r.bg)),t.__param(1,n.l(o.tx))],i),e.PLa=i},function(t,e,i){var n,r,o;function a(t){this.Oc=t}Object.defineProperty(e,"__esModule",{value:!0}),e.xJa=void 0,t=i(1),n=i(0),r=i(48),o=i(64),a.prototype.Jq=function(t,e){var i;return i=this,new Promise((function(n,r){var a;a=i.Oc.zk(t,(function(){r(new o.hr(t))})),e.then((function(t){n(t),a.cancel()})).catch((function(t){r(t),a.cancel()}))}))},i=a,i=t.__decorate([n.R(),t.__param(0,n.l(r.Qj))],i),e.xJa=i},function(t,e,i){var n;function r(t){this.mEb=t,this.z6=!1,this.Q6=this.$f=this.GP=0,this.aW=!1,this.R6=0}Object.defineProperty(e,"__esModule",{value:!0}),e.UGa=void 0,n=i(19),r.prototype.Eqb=function(t){t<this.GP&&(this.$f+=this.GP),this.GP=t,this.z6=!0},r.prototype.ZEb=function(){if(this.z6)return this.aW?this.R6-this.Q6:this.$f+this.GP-this.Q6},r.prototype.refresh=function(){var t;t=this.mEb(),n.Ba(t)&&this.Eqb(t)},r.prototype.cZb=function(){this.aW||(this.z6&&(this.R6=this.$f+this.GP),this.aW=!0)},r.prototype.pZb=function(){this.aW&&(this.z6&&(this.Q6+=this.$f+this.GP-this.R6),this.R6=0,this.aW=!1)},e.UGa=r},function(t,e,i){var n,o,a,s;function u(t,e){this.za=t,this.D5=this.za.ff.da(a.ja)-1,this.ZMb=this.M7=0,this.id=""+e.Wy()}Object.defineProperty(e,"__esModule",{value:!0}),e.Lya=void 0,t=i(1),n=i(0),o=i(38),a=i(4),i=i(81),u.prototype.Yb=function(){var t,e;return(t=this.za.ff.da(a.ja)-this.D5)<this.M7&&(e=this.M7+1,this.D5-=e-t,t=e),this.M7=t,a.Nc(this.M7)},u.prototype.fGb=function(){return this.ZMb++},r.Object.defineProperties(u.prototype,{Vz:{configurable:!0,enumerable:!0,get:function(){return a.Nc(this.D5)}}}),s=u,s=t.__decorate([n.R(),t.__param(0,n.l(o.Uh)),t.__param(1,n.l(i.Gx))],s),e.Lya=s},function(t,e,i){var n,r,o,a;function s(t,e){this.is=t,this.pe=e}Object.defineProperty(e,"__esModule",{value:!0}),e.MAa=void 0,t=i(1),r=i(0),o=i(27),i=i(29),s.prototype.encode=function(t){var e,i;return e=this,i="",this.pe.KC(t,(function(t,n){t=e.rVa(t)+"="+e.rVa(n),i=i?i+","+t:t})),i},s.prototype.rVa=function(t){return this.is.EG(t)?this.is.Ii(t)?""+t:this.is.Ip(t)?(t=t.replace(n.Bua,this.bra.bind(this)),!n.tUb.test(t)&&n.nPb.test(t)&&(t='"'+t+'"'),t):this.is.pT(t)?""+t:this.is.wha(t)?"NaN":"":""},s.prototype.bra=function(t){return n.map[t]},(a=n=s).map={'"':'""',"\r":"","\n":" "},a.Bua=/(?!^.+)["\r\n](?=.+$)/g,a.tUb=/["].*["]/g,a.nPb=/[", ]/,a=n=t.__decorate([r.R(),t.__param(0,r.l(o.bg)),t.__param(1,r.l(i.cg))],a),e.MAa=a},function(t,e,i){var n,r,o,a;function s(t,e,i){this.config=t,this.jb=e,this.ta=i.ib("General")}Object.defineProperty(e,"__esModule",{value:!0}),e.eBa=void 0,t=i(1),n=i(0),r=i(27),o=i(96),i=i(7),s.prototype.assert=function(){},s.prototype.Hrb=function(t,e){this.assert(this.jb.EG(t),e)},s.prototype.Irb=function(t,e){this.assert(this.jb.Gg(t),e)},s.prototype.p3=function(t,e){this.assert(this.jb.Ip(t),e)},s.prototype.Orb=function(t,e){this.assert(this.jb.kn(t),e)},s.prototype.Mrb=function(t,e){this.assert(this.jb.Ip(t)||null==t,e)},s.prototype.kia=function(t,e){this.assert(this.jb.Ii(t),e)},s.prototype.Krb=function(t,e){this.assert(this.jb.Yha(t),e)},s.prototype.Nrb=function(t,e){this.assert(this.jb.yT(t),e)},s.prototype.Lrb=function(t,e){this.assert(this.jb.qT(t),e)},s.prototype.Grb=function(t,e){this.assert(this.jb.pT(t),e)},s.prototype.Jrb=function(t,e){this.assert(this.jb.Y2(t),e)},s.prototype.oKb=function(){this.assert(!1,"invalid operation, this method should not be called")},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(o.cBa)),t.__param(1,n.l(r.bg)),t.__param(2,n.l(i.qb))],a),e.eBa=a},function(t,e,i){var n,o,a,s;function u(t){return(t=o.nQ.call(this,t,"DebugConfigImpl")||this).F9b=function(){},t}Object.defineProperty(e,"__esModule",{value:!0}),e.bBa=void 0,t=i(1),n=i(45),o=i(46),a=i(0),i=i(37),g(u,o.nQ),r.Object.defineProperties(u.prototype,{atb:{configurable:!0,enumerable:!0,get:function(){return!1}}}),s=u,t.__decorate([n.config(n.dd,"breakOnError")],s.prototype,"atb",null),s=t.__decorate([a.R(),t.__param(0,a.l(i.Qba))],s),e.bBa=s},function(t,e,i){var n,o,a,s;function u(t){return o.nQ.call(this,t,"ClockConfigImpl")||this}Object.defineProperty(e,"__esModule",{value:!0}),e.uAa=void 0,t=i(1),n=i(45),o=i(46),a=i(0),i=i(37),g(u,o.nQ),r.Object.defineProperties(u.prototype,{sbb:{configurable:!0,enumerable:!0,get:function(){return!1}}}),s=u,t.__decorate([n.config(n.dd,"usePerformanceApi")],s.prototype,"sbb",null),s=t.__decorate([a.R(),t.__param(0,a.l(i.Qba))],s),e.uAa=s},function(t,e,i){var n,r,o,a;function s(t,e){this.Aa=t,this.entries=new Set,this.ta=e.ib("TimingApi")}Object.defineProperty(e,"__esModule",{value:!0}),e.Rea=void 0,t=i(1),n=i(0),r=i(18),o=i(4),i=i(7),s.prototype.mark=function(t,e,i){return t={name:t,Es:this.Aa.Yb()},e&&(t.ba=e),i&&(t.Fg=i),this.entries.add(t),t},s.prototype.tna=function(){var t;return t=[],this.entries.forEach((function(e){return t.push(e)})),t},s.prototype.lYa=function(t){return this.tna().filter((function(e){return e.ba===t}))},s.prototype.iYa=function(){var t;t={};try{t=this.tna().filter((function(t){return!t.ba})).reduce((function(t,e){return t[e.name]=e.Es.da(o.ja),t}),{})}catch(t){this.ta.error(" getMapOfCommonMarks exception",t)}return t},s.prototype.e7a=function(t){var e;e=this,this.tna().forEach((function(i){i.ba===t&&e.entries.delete(i)}))},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(r.jd)),t.__param(1,n.l(i.qb))],a),e.Rea=a},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e){this.Aa=t,this.config=e}Object.defineProperty(e,"__esModule",{value:!0}),e.fBa=void 0,t=i(1),r=i(0),o=i(18),a=i(41),s=i(3),u=i(15),c=i(4),h=i(11),i=i(332),l.prototype.oUa=function(t){var e,i,r,o,h,f,l,d,p,b;e=this,o=t.mediaTime.value,h=t.zr.value,f=t.yb.value,l=t.state.value,d={segmentId:t.Gna(),mediaTime:o,segmentTime:t.TC(),bufferingState:n.htb[h],presentingState:n.FTb[f],playbackState:n.ESb[l],mseBuffersBusy:this.pHb(t),intBuffersBusy:this.SFb(t),tabVisible:this.m_b(),decodedFrameCount:this.ozb(t),videoElementInDom:this.v2b(t),lastVideoSync:this.Aa.Yb().Qa(c.Nc(t.jZ)).da(c.ja)},p=f===u.cb.Pf?t.bb.Fl?this.config.C4a:this.config.B4a:this.config.k3a,h!==u.yf.re?(h=s.L.heb,this.nRa(d.mseBuffersBusy,d.intBuffersBusy)&&(b=n.pza)):(f!==u.cb.Kc?h=s.L.jeb:(h=s.L.ieb,(f=t.Xf)&&0===f.S5()&&(b=n.Gkb)),(f=t.Xf)&&f.Vb.sourceBuffers.forEach((function(t){var i,r;i=n.Bd[t.mediaType],d[i+"Ranges"]=t.K5();try{r=t.buffered()}catch(t){r=void 0}r&&0!==r.length?(t=1e3*r.end(0)-o,d[i+"Undecoded"]=t,1<r.length&&(b=n.Ycb),o<1e3*r.start(0)||o>1e3*r.end(0)?b=n.Zcb:t<p.da(c.ja)?b=n.$cb:e.nRa(d.mseBuffersBusy,d.intBuffersBusy)&&(b=n.pza)):(d[i+"Undecoded"]=0,b=n.Xcb)}))),f=t.q7a.fZa(),l=o===(null===(i=f.repositionTrace)||void 0===i?void 0:i[0].newMediaTime),d.lastRepositionCausedTimeout=l,d.trackChangeInProgress=null===(r=t.Ka)||void 0===r?void 0:r.iJ,Object.assign(d,f),t="";try{t=JSON.stringify(d)}catch(e){t="Cannot stringify details: "+e}return new a.qd(s.M.dHa,h,b,void 0,void 0,void 0,t,void 0)},l.prototype.pHb=function(t){var e;if(t.Vb)return e={},t.Vb.sourceBuffers.forEach((function(t){e[0===t.type?"audio":"video"]={updating:t.updating()}})),e},l.prototype.SFb=function(t){var e;if(t.Vb)return e={},t.Vb.sourceBuffers.forEach((function(t){e[0===t.type?"audio":"video"]={updating:t.Hh()}})),e},l.prototype.m_b=function(){return!h.Be.hidden},l.prototype.ozb=function(t){return(t=t.Xf)&&(t=t.Vb.X)&&void 0!==t.webkitDecodedFrameCount?t.webkitDecodedFrameCount:NaN},l.prototype.v2b=function(t){return!(!(t=t.Xf)||!(t=t.Vb.X))&&h.Be.body.contains(t)},l.prototype.nRa=function(t,e){var i,n,r,o;return!((null===(i=t.audio)||void 0===i?void 0:i.updating)===(null===(n=e.audio)||void 0===n?void 0:n.updating)&&(null===(r=t.video)||void 0===r?void 0:r.updating)===(null===(o=e.video)||void 0===o?void 0:o.updating))},(f=n=l).Xcb="1",f.Ycb="2",f.Zcb="3",f.pza="4",f.$cb="5",f.Gkb="6",f.Bd=["Audio","Video"],f.htb=["","NORMAL","BUFFERING","STALLED"],f.FTb=["","WAITING","PLAYING ","PAUSED","ENDED"],f.ESb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"],f=n=t.__decorate([r.R(),t.__param(0,r.l(o.jd)),t.__param(1,r.l(i.sda))],f),e.fBa=f},function(t,e,i){var n,r,o,a;function s(t,e,i){var n;n=this,this.hg=t,this.Oc=e,this.g4=i,this.nO=function(t){n.Bj=void 0,n.D0b(t||n.g4)},this.Y0a=o.Nc(-this.g4.da(o.ja))}Object.defineProperty(e,"__esModule",{value:!0}),e.hLa=void 0,t=i(1),n=i(0),r=i(18),o=i(4),i=i(48),s.prototype.Ol=function(t){this.vva=t,this.Bj=this.Bj||this.Rf(this.nO)},s.prototype.Fh=function(){this.Bj&&this.Bj.cancel(),this.Bj=void 0},s.prototype.D0b=function(t){var e,i;e=this.hg.Yb(),this.vva&&(0>=(i=t.Qa(e.Qa(this.Y0a))).Al(o.Gb)?(t=this.vva,this.vva=void 0,this.Y0a=e,t()):this.Bj=this.Bj||this.Oc.zk(i,this.nO.bind(this,t)))},s.prototype.Rf=function(t){return this.Oc.zk(o.Gb,t)},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(r.jd)),t.__param(1,n.l(i.Qj))],a),e.hLa=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.oea="PrioritizedSetOfListsSymbol",e.rjb="PrioritizedSetOfListsFactorySymbol",e.sjb="PrioritizedSetOfSetsFactorySymbol"},function(t,e){function i(){this.searchParams={}}function n(t){this.xl=t,this.searchParams=new i}Object.defineProperty(e,"__esModule",{value:!0}),e.MLa=void 0,n.prototype.toString=function(){return this.href},r.Object.defineProperties(n.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.xl+this.searchParams.toString()}}}),e.MLa=n,i.prototype.get=function(t){return this.searchParams[t]},i.prototype.set=function(t,e){this.searchParams[t]=e},i.prototype.toString=function(){return Object.entries(this.searchParams).reduce((function(t,e,i){var n;return t+(0==i?"?":"&")+(e=(n=v(e)).next().value)+"="+(n=n.next().value)}),"")}},function(t,e,i){var n,o,a,s,u,c;function h(t,e){this.he=this.zCb(t,e.data.browserInfo)}Object.defineProperty(e,"__esModule",{value:!0}),e.ULa=e.Iza=void 0,t=i(1),n=i(0),o=i(13),a=i(37),i=i(39),h.prototype.r6=function(t,e){var i;if(e=this.NHb(e))switch(t){case u.Tqa:i=0<e.length?Number(e[0]):0;break;case u.m3a:i=1<e.length?Number(e[1]):0;break;case u.j5a:i=2<e.length?Number(e[2]):0;break;case u.q$:i=3<e.length?Number(e[3]):0}return void 0===i||isNaN(i)?0:i},h.prototype.NHb=function(t){return null==t?void 0:t.split(".")},h.prototype.sH=function(t){return this.he.name===t},h.prototype.CN=function(t){return this.he.q9.name===t},h.prototype.MKb=function(t){return this.he.qIb===t},h.prototype.zCb=function(t,e){return Object.assign(Object.assign({qIb:this.BCb(t,e)},this.yCb(t,e)),{q9:this.CCb(t,e)})},h.prototype.BCb=function(t,e){return e&&e.hardware?e.hardware:/Mobile|iPhone/.test(t)?o.s0.phone:/Android/.test(t)?o.s0.n_b:o.s0.yvb},h.prototype.yCb=function(t,e){return e&&e.name&&e.version?{name:e.name,version:e.version}:/OPR/.test(t)?{name:o.Sm.opera,version:""}:/Tesla/.test(t)?{name:o.Sm.C$a,version:""}:(e=t.match(/Edge\/(\d*)\./))?{name:o.Sm.Ir,version:e[1]}:(e=t.match(/Edg\/(\d*)\./))?{name:o.Sm.VUa,version:e[1]}:(e=t.match(/Chrome\/(\d*)\./))?{name:o.Sm.Dja,version:e[1]}:(e=t.match(/Firefox\/(\d*)\./))?{name:o.Sm.pWa,version:e[1]}:(t=t.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:o.Sm.c8a,version:t[1]}:{name:o.Sm.Dja,version:""}},h.prototype.CCb=function(t,e){return e&&e.os&&e.os.name&&e.os.version?{name:e.os.name,version:e.os.version}:/CrOS/.test(t)?{name:o.qp.dSa,version:""}:(e=t.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:o.qp.S1a,version:e[1]+"."+e[2]+"."+e[3]}:/Windows NT/.test(t)?{name:o.qp.rya,version:""}:/Android.*Chrome\/[.0-9]* Mobile/.test(t)||/Android.*Chrome\/[.0-9]* /.test(t)?{name:o.qp.i3,version:""}:/Linux/.test(t)?{name:o.qp.lMb,version:""}:/iPhone/.test(t)?{name:o.qp.V_a,version:""}:{name:o.qp.rya,version:""}},r.Object.defineProperties(h.prototype,{$_a:{configurable:!0,enumerable:!0,get:function(){return this.sH(o.Sm.Dja)}},yN:{configurable:!0,enumerable:!0,get:function(){return this.sH(o.Sm.Ir)}},xw:{configurable:!0,enumerable:!0,get:function(){return this.sH(o.Sm.VUa)}},iW:{configurable:!0,enumerable:!0,get:function(){return this.sH(o.Sm.pWa)}},u7:{configurable:!0,enumerable:!0,get:function(){return this.sH(o.Sm.opera)}},DN:{configurable:!0,enumerable:!0,get:function(){return this.sH(o.Sm.c8a)}},y0a:{configurable:!0,enumerable:!0,get:function(){return this.sH(o.Sm.C$a)}},h7:{configurable:!0,enumerable:!0,get:function(){return this.CN(o.qp.i3)}},AN:{configurable:!0,enumerable:!0,get:function(){return this.CN(o.qp.V_a)}},i7:{configurable:!0,enumerable:!0,get:function(){return this.CN(o.qp.i3)&&this.MKb(o.s0.phone)}},xN:{configurable:!0,enumerable:!0,get:function(){return this.CN(o.qp.dSa)}},Cpa:{configurable:!0,enumerable:!0,get:function(){return this.CN(o.qp.S1a)}},A7:{configurable:!0,enumerable:!0,get:function(){return this.CN(o.qp.rya)}},Pp:{configurable:!0,enumerable:!0,get:function(){return this.r6(u.Tqa,this.he.version)}},wRb:{configurable:!0,enumerable:!0,get:function(){return this.r6(u.Tqa,this.he.q9.version)}},xRb:{configurable:!0,enumerable:!0,get:function(){return this.r6(u.m3a,this.he.q9.version)}},yRb:{configurable:!0,enumerable:!0,get:function(){return this.r6(u.j5a,this.he.q9.version)}}}),s=h,s=t.__decorate([n.R(),t.__param(0,n.l(i.NLa)),t.__param(1,n.l(a.iR))],s),e.Iza=s,(c=u=e.ULa||(e.ULa={}))[c.Tqa=0]="major",c[c.m3a=1]="minor",c[c.j5a=2]="patch",c[c.q$=3]="revision"},function(t,e,i){var n,r,o;function a(t,e,i){this.Oc=t,this.O_b=e,this.hH=i}Object.defineProperty(e,"__esModule",{value:!0}),e.sLa=void 0,t=i(1),n=i(48),r=i(0),o=i(4),a.prototype.NG=function(){this.Bj||(this.Bj=this.Oc.zk(o.Nc(this.O_b),this.hH))},a.prototype.Bs=function(){this.Bj&&this.Bj.cancel(),this.Bj=void 0},i=a,i=t.__decorate([r.R(),t.__param(0,r.l(n.Qj))],i),e.sLa=i},function(t,e,i){var n,r;function o(t,e){this.Oc=t,this.g4=e}Object.defineProperty(e,"__esModule",{value:!0}),e.aBa=void 0,t=i(1),n=i(0),i=i(48),o.prototype.Ol=function(t){this.Fh(),this.Bj=this.Oc.zk(this.g4,t)},o.prototype.Fh=function(){this.Bj&&this.Bj.cancel(),this.Bj=void 0},r=o,r=t.__decorate([n.R(),t.__param(0,n.l(i.Qj))],r),e.aBa=r},function(t,e,i){var n,r;function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.lCa=void 0,t=i(1),n=i(0),r=i(209),o.prototype.BM=function(t,e){var i;i=this,t&&Object.entries(e).forEach((function(e){var n,o,a;e=(n=v(e)).next().value,n=n.next().value,i.CKb(n)?(n=(o=v(n)).next().value,a=o.next().value,o=t[n],Array.isArray(o)?(i.Vka(t,e,n),o.forEach((function(t){i.BM(t,a)}))):n===r.$m?Object.values(t).forEach((function(t){i.BM(t,a)})):(i.Vka(t,e,n),"object"==typeof o&&i.BM(o,a))):i.Vka(t,e,n)}))},o.prototype.CKb=function(t){return Array.isArray(t)},o.prototype.Vka=function(t,e,i){t.hasOwnProperty(e)||e===i||Object.defineProperty(t,e,{get:function(){return t[i]},enumerable:!1})},i=t.__decorate([n.R()],o),e.lCa=i},function(t,e,i){var n,r,o;function a(t){this.config=t}Object.defineProperty(e,"__esModule",{value:!0}),e.YFa=void 0,t=i(1),n=i(13),r=i(12),i=i(0),a.prototype.Vt=function(){return this.BKb()?r.FBa:/widevine/i.test(this.config().xm)?r.gca:/fps/i.test(this.config().xm)?"fairplay":r.Y_},a.prototype.BKb=function(){return/clearkey/i.test(this.config().xm)},o=a,o=t.__decorate([i.R(),t.__param(0,i.l(n.Zc))],o),e.YFa=o},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.I1a=void 0,n=i(648),r=i(649),t=i(0),o=i(113),a=i(7),s=i(654),e.I1a=new t.rd((function(t){t(a.qb).to(r.lFa).aa(),t(o.ZJ).to(n.mFa).aa(),t(a.Xca).to(s.aFa).aa()}))},function(t,e,i){function n(){this.x9a={},this.Un=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.mFa=void 0,t=i(1),i=i(0),n.prototype.e$=function(t,e){e&&(this.x9a[t]=e,this.Un=Object.values(this.x9a))},i=t.__decorate([i.R()],n),e.mFa=i},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i){this.Aa=t,this.Un=e,this.Dqa=i}Object.defineProperty(e,"__esModule",{value:!0}),e.lFa=void 0,t=i(1),n=i(210),r=i(0),o=i(651),a=i(18),s=i(113),u=i(7),c=i(652),h.prototype.ib=function(t,e,i,r,a){return i=void 0===i?this.Un:i,e?new o.CIa(this.Aa,this.Dqa,i,e,t):a?new c.Uya(this.Aa,this.Dqa,i,t,r||"",a):new n.YJ(this.Aa,this.Dqa,i,t)},i=h,i=t.__decorate([r.R(),t.__param(0,r.l(a.jd)),t.__param(1,r.l(s.ZJ)),t.__param(2,r.l(u.Xca))],i),e.lFa=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.yRa=void 0,e.yRa=function(t,e){var i;t=t.dGb();for(var n=0;n<e.length;++n)null!=(i=e[n])&&null!=i&&(i.Ri&&(i=i.Ri),i.constructor===Uint8Array?t.Rqb(i):"MediaRequest"===i.constructor.name?t.Cqb(i):"string"==typeof i?t.Pqb(i):"function"==typeof i?t.wqb(i):i instanceof Error?t.tqb(i):i instanceof Object?t.Dqb(i):t.Sqb(i));return t.gi()}},function(t,e,i){var n,r,o;function a(t,e,i,r,a){return(t=o.YJ.call(this,t,e,i,a)||this).j=r,n.Qo(t,"playback"),t}Object.defineProperty(e,"__esModule",{value:!0}),e.CIa=void 0,n=i(56),r=i(340),g(a,(o=i(210)).YJ),a.prototype.oka=function(t){return new a(this.Aa,this.H3,this.Un,this.j,t)},a.prototype.iC=function(t,e,i){for(t=new r.Wca(t,this.Ao,this.Aa.Yb(),e,i,this.j.index),i=(e=v(this.Un.Un)).next();!i.done;i=e.next())(i=i.value)(t,this.j)},e.CIa=a},function(t,e,i){var n,r;function o(t,e,i,r,o,a){return(t=n.YJ.call(this,t,e,i,r)||this).groups=o,Array.isArray(a)?t.prefix=a:a&&"string"==typeof a&&(t.prefix=[],t.prefix.push(a)),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Uya=void 0,n=i(210),r=i(653),g(o,n.YJ),o.prototype.iC=function(t,e,i){for(t=new r.Tya(t,this.Ao,this.Aa.Yb(),e,i,this.prefix),i=(e=v(this.Un.Un)).next();!i.done;i=e.next())(i=i.value)(t)},o.prototype.oka=function(t){return new o(this.Aa,this.H3,this.Un,t,this.groups,this.prefix)},e.Uya=o},function(t,e,i){var n,r;function o(t,e,i,n,r,o,a){this.level=t,this.Ao=e,this.timestamp=i,this.message=n,this.ic=r,this.prefix=o,this.index=void 0===a?0:a}Object.defineProperty(e,"__esModule",{value:!0}),e.Tya=void 0,n=i(4),r={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"},o.prototype.maa=function(t,e){return t=(this.prefix.length?this.prefix.join(" ")+" ":"")+this.message+(e?"":" "+this.IZb(!!t)),(this.timestamp.da(n.ja)/1e3).toFixed(3)+"|"+this.index+"|"+(r[this.level]||this.level)+"|"+this.Ao+"| "+t},o.prototype.IZb=function(t){for(var e,i=this.ic.length,n="",r=0;r<i;++r)if(e=this.ic[r].Pu,r&&n.length&&(n+=" "),"object"==typeof e)if(null===e)n+="null";else if(e instanceof Error)n+=this.HZb(e,t);else try{n+=JSON.stringify(e)}catch(t){n+=this.GZb(e)}else n+=e;return n},o.prototype.HZb=function(t,e){return t.toString()+(t.stack&&!e?"\n"+t.stack:"")+"\n"},o.prototype.GZb=function(t){var e;return e=[],JSON.stringify(t,(function(t,i){if("object"==typeof i&&null!==i){if(-1!==e.indexOf(i))return"<cycle>";e.push(i)}return i}))},e.Tya=o},function(t,e,i){var n,r,o,a;function s(t,e){this.Uc=t,this.pe=e}Object.defineProperty(e,"__esModule",{value:!0}),e.aFa=void 0,t=i(1),n=i(0),r=i(655),o=i(36),i=i(29),s.prototype.dGb=function(){return new r.bFa(this.Uc,this.pe)},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(o.Ci)),t.__param(1,n.l(i.cg))],a),e.aFa=a},function(t,e,i){var n,r,o;function a(t,e){this.Uc=t,this.pe=e,this.ic=[]}function s(t){return p.call(this,t,(function(t){return{Details:t}}))||this}function u(t){return p.call(this,t,(function(t){return JSON.parse(t.toJSON())}))||this}function c(t,e){return(e=p.call(this,e,(function(e){return{Base64:t.encode(e)}}))||this).Uc=t,e}function h(t,e){return(e=p.call(this,e,(function(t){return t()}))||this).pe=t,e}function f(t){return p.call(this,t,(function(t){return{Exception:t.message||""+t,StackTrace:t.stack||"nostack"}}))||this}function l(t,e,i){return(e=p.call(this,e,i)||this).pe=t,e}function d(t){return p.call(this,t,(function(t){return{Details:t}}))||this}function p(t,e){this.Pu=t,this.value=e?e(t):t}Object.defineProperty(e,"__esModule",{value:!0}),e.bFa=void 0,t=i(1),n=i(0),r=i(29),i=i(36),p.prototype.WU=function(t){return this.Pu===t},g(d,p),d.prototype.fJ=function(t,e){return e?"":"\r\n"+this.Pu},g(l,p),l.prototype.fJ=function(){var t;return t="",this.pe.KC(this.value,(function(e,i){try{t+=", "+e+": "+i}catch(n){try{t+=", "+e+": "+JSON.stringify(i)}catch(i){t+=", error stringifying "+e}}})),t.replace(/[\r\n]+ */g," ")},g(f,p),f.prototype.fJ=function(t){var e;return e="\r\n"+this.Pu.message,t||(e+="\r\n"+this.Pu.stack),e},g(h,p),h.prototype.fJ=function(){var t;return t="",this.pe.KC(this.value,(function(e,i){t+=", "+e+": "+i})),t.replace(/[\r\n]+ */g," ")},g(c,p),c.prototype.fJ=function(t,e){return this.Pu&&!e?"\r\n"+this.Uc.encode(this.Pu):""},g(u,p),u.prototype.fJ=function(){return this.Pu?this.Pu.toJSON():""},g(s,p),s.prototype.fJ=function(){return", "+(this.Pu.toString?""+this.Pu.toString():"")},a.prototype.Pqb=function(t){this.ic.push(new d(t))},a.prototype.Dqb=function(t){this.ic.push(new l(this.pe,t))},a.prototype.tqb=function(t){this.ic.push(new f(t))},a.prototype.wqb=function(t){this.ic.push(new h(this.pe,t))},a.prototype.Rqb=function(t){this.ic.push(new c(this.Uc,t))},a.prototype.Cqb=function(t){this.ic.push(new u(t))},a.prototype.Sqb=function(t){this.ic.push(new s(t))},a.prototype.gi=function(){return this.ic},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.Ci)),t.__param(1,n.l(r.cg))],o),e.bFa=o},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.n3a=void 0,t=i(0),n=i(341),r=i(657),e.n3a=new t.rd((function(t){t(n.uGa).to(r.tGa).aa()}))},function(t,e,i){var n,r,o;function a(t){this.Oc=t}Object.defineProperty(e,"__esModule",{value:!0}),e.tGa=void 0,t=i(1),n=i(0),r=i(658),i=i(48),a.prototype.nTa=function(t,e){return new r.vGa(this.Oc,t,e)},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.Qj))],o),e.tGa=o},function(t,e){function i(t,e,i){this.Oc=t,this.config=e,this.getTime=i}Object.defineProperty(e,"__esModule",{value:!0}),e.vGa=void 0,i.prototype.observe=function(t,e){var i;i=this,this.cancel(),this.Bj=this.Oc.u$(this.config.MYa(),(function(){i.getTime()>=t&&(i.cancel(),e())}))},i.prototype.cancel=function(){this.Bj&&(this.Bj.cancel(),this.Bj=void 0)},e.vGa=i},function(t,e,i){var n,r,o,a,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.qa=void 0,t=i(0),n=i(211),r=i(342),o=i(660),a=i(663),s=i(345),u=i(664),e.qa=new t.rd((function(t){t(n.Eea).to(o.pKa).aa(),t(r.nKa).to(a.mKa).aa(),t(s.wLa).to(u.vLa).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b;function v(t,e,i,n,r,o,a,s,u,c){this.Aa=t,this.Wf=e,this.ZN=i,this.iya=n,this.HX=r,this.Oc=o,this.EL=a,this.Lh=s,this.Rla=u,this.ce=c}Object.defineProperty(e,"__esModule",{value:!0}),e.pKa=void 0,t=i(1),n=i(0),r=i(18),o=i(7),a=i(341),s=i(141),u=i(343),c=i(344),h=i(661),f=i(662),l=i(98),d=i(48),p=i(338),i=i(29),v.prototype.gyb=function(t,e,i){return new h.qKa(this.Aa,this.Wf,this.ZN,this.iya,e,t,this.Lh,this.HX,this.ce,this.Rla,i)},v.prototype.Exb=function(t,e){return new f.Hza(this.Wf,t,e,this.ZN,this.Oc,this.EL)},b=v,b=t.__decorate([n.R(),t.__param(0,n.l(r.jd)),t.__param(1,n.l(o.qb)),t.__param(2,n.l(a.uGa)),t.__param(3,n.l(c.YLa)),t.__param(4,n.l(u.yIa)),t.__param(5,n.l(d.Qj)),t.__param(6,n.l(l.jQ)),t.__param(7,n.l(s.LR)),t.__param(8,n.l(p.JQ)),t.__param(9,n.l(i.cg))],b),e.pKa=b},function(t,e,i){var n,r,o;function a(t,e,i,r,a,s,u,c,h,f,l){var d;d=this,this.Aa=t,this.ZN=i,this.uta=r,this.config=a,this.fb=s,this.Lh=u,this.HX=c,this.ce=h,this.Ek=l,this.lCb=Object.values(n.Da).map((function(t){return{event:t,hH:function(e){return d.Ub.Fc(t,e)}}})),this.Ub=f.create(),this.VD=[],this.log=e.ib("SegmentManager"),this.tma=!0,this.Jg=this.ce.createElement("div",o.uea)}function s(t,e,i,n,r,o,a,s,c,h,f){var l;l=this,this.log=t,this.config=e,this.kQb=i,this.uta=n,this.Lh=r,this.HX=o,this.Wu=a,this.O=s,this.Jg=c,this.fb=h,this.Ek=f,this.TL=function(){l.GD&&(l.GD.cancel(),l.GD=void 0)},this.toa=function(t){l.log.trace("Received the transition event",{movieId:t.J}),l.AUb()},this.wqa=function(){},this.log.debug("Constructing session data",u(s)),this.Q_b=new Promise((function(t){l.AUb=t}))}function u(t){return{movieId:t.J}}function c(t){return JSON.stringify({movieId:t.J,startPts:t.Z,logicalEnd:t.rj,params:t.Fb?{trackingId:t.Fb.Fj,authParams:t.Fb.w3,sessionParams:t.Fb.Jm,disableTrackStickiness:t.Fb.fla,uiPlayStartTime:t.Fb.HZ,loadImmediately:t.Fb.S7,playbackState:t.Fb.playbackState?{currentTime:t.Fb.playbackState.currentTime,volume:t.Fb.playbackState.volume,muted:t.Fb.playbackState.muted,playbackRate:t.Fb.playbackState.playbackRate}:void 0,pin:t.Fb.v5a,heartbeatCooldown:t.Fb.Eoa,uiLabel:t.Fb.ye,uxLabels:t.Fb.Laa}:void 0})}Object.defineProperty(e,"__esModule",{value:!0}),e.qKa=void 0,n=i(15),r=i(4),o=i(12),s.prototype.load=function(t){var e,i;e=this,this.log.trace("Loading new segment",u(this.O)),this.V=this.uta.pka(this.config,this.HX,this.Lh,this.O,this.fb,this.Ek),this.V.addEventListener(n.Da.rN,(function(t){e.log.trace("Segment is inactive",u(e.O)),e.Wu.close(e.Lh(t.errorCode))})),this.V.addEventListener(n.Da.closed,this.TL),t?(this.log.debug("Pausing background segment",u(this.O)),this.V.addEventListener(n.Da.Opa,this.toa),this.V.pause()):(this.Jg.appendChild(this.V.Dn()),i=function(t){e.toa(t),e.V.removeEventListener(n.Da.loaded,i)},this.V.addEventListener(n.Da.loaded,i))},s.prototype.observe=function(){var t,e,i;t=this,this.log.trace("Observing segment",c(this.O)),this.GD?this.log.trace("Segment is currently observing",u(this.O)):this.O.Fb&&this.O.Fb.S7?this.wqa(this):(e=this.kQb.nTa(this.config,(function(){var e;return t.V&&(e=t.V.Yt())?e:0})),i=this.Btb(this.O),this.log.trace("Adding a moment to watch",{time:i}),e.observe(i,(function(){t.log.trace("Segment has reached its loading point",u(t.O)),t.wqa(t),t.TL()})))},s.prototype.close=function(t){return this.log.info("Closing segment",{segment:c(this.O),error:t}),this.V?(this.V.removeEventListener(n.Da.Opa,this.toa),this.V.close(t)):Promise.resolve()},s.prototype.dRb=function(t){this.wqa=t},s.prototype.Btb=function(t){var e,i;return e=t.rj,t=!!t.Fb&&t.Fb.S7,i=0,e&&!t&&((i=e-this.config.hYa())<this.config.kYa()&&(i=e-(t=e-this.config.kYa())/2)),i},a.prototype.XGb=function(){return!(!this.mh||!this.mh.V)&&this.mh.V.isReady()},a.prototype.Dn=function(){return this.Jg},a.prototype.cH=function(){if(!this.mh||!this.mh.V)throw Error("Player not ready");return this.mh.V},a.prototype.m1b=function(t){var e,i;(i=this.hma(t))?this.Zab(i,t):this.fb.ue(t.id)||this.log.error("Tried to update a non-existent segment",{segment:c(t),currentMovieId:this.mh.O.J,queuedMovieIds:this.VD.map((function(t){return t.O.J})),xid:null===(e=this.mh.V)||void 0===e?void 0:e.Az()})},a.prototype.Nk=function(t){var e;return this.log.info("Adding segment",c(t)),this.tma?(this.log.trace("First segment, loading",u(t)),e=this.v1a(t),this.tma=!1):(this.log.trace("Subsequent segment, caching",u(t)),(e=this.hma(t))?this.Zab(e,t):(e=this.createSession(t),this.VD.push(e),this.mh.observe())),e?e.Q_b:null},a.prototype.transition=function(t,e){var i,n,o;return o=null==(n=this.TH)?void 0:n.V,n&&o?(this.TH=void 0,this.log.info("Transitioning segment",c(n.O)),o.gwa(this.Aa.Yb().da(r.ja)),this.pab(n,e)):(e=null==n?void 0:n.O,this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.mh.O.J,xid:null===(i=this.mh.V)||void 0===i?void 0:i.Az(),nextSegmentId:t,currentSegment:c(this.mh.O),nextSegment:e?c(e):void 0,queuedMovieIds:this.VD.map((function(t){return t.O.J}))}),Promise.reject())},a.prototype.close=function(t){var e;return e=this,this.log.trace("Closing all segments",{currSession:JSON.stringify(u(this.mh.O)),nextSession:this.TH?JSON.stringify(u(this.TH.O)):void 0}),t=[this.mh.close(t)],this.TH&&t.push(this.TH.close()),Promise.all(t).then((function(){e.TH=void 0,e.VD=[],e.tma=!0}))},a.prototype.addListener=function(t,e,i){this.Ub.addListener(t,e,i)},a.prototype.removeListener=function(t,e){this.Ub.removeListener(t,e)},a.prototype.Zab=function(t,e){this.ERb(t.O,e),this.log.trace("Overwrote existing segment data",c(t.O))},a.prototype.v1a=function(t){var e,i;if(e=this,this.log.info("Loading the next episode",u(t)),this.mh?(this.config.Uma()[t.J]=t.Z,i=this.hma(t)):i=this.createSession(t),i)return this.log.trace("Found the next session",u(t)),i.dRb((function(t){e.P$a(t)})),this.mh?(this.log.trace("Subsequent playback, caching player and pausing",u(t)),this.TH=i,i.load(!0)):(this.log.trace("First playback transitioning immediately",u(t)),i.load(!1),this.pab(i)),i;this.log.warn("Unable to find the session, make sure to add it before loading",u(t))},a.prototype.pab=function(t,e){var i,n,r,o,a;return e=void 0===e?{}:e,(o=t.V?null===(i=t.V)||void 0===i?void 0:i.getError():"missing player")?(null===(n=t.V)||void 0===n||n.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.mh.O.J,mid:t.O.J,error:o,xid:null===(r=t.V)||void 0===r?void 0:r.Az()}),Promise.reject()):(this.log.trace("Playing episode",u(t.O)),i=this.mh,this.mh=t,(t=this.mh.V).Rva(!1),this.uJ(t,i?i.V:void 0),i&&i.V&&(a=i.V.Dn(),n=t.Dn(),a.style.display="none",i=i.close(),this.Jg.appendChild(n),i.then((function(){a.parentElement&&a.parentElement.removeChild(a)})),n.style.display="block",t.Daa(e),t.yP(),t.play()),Promise.resolve())},a.prototype.P$a=function(t){var e,i,n,r,o;this.VD.length&&t.V&&(e=t.V.Yt(),i=this.VD[0],n=this.mh.O.rj,r=!!this.mh.O.Fb&&this.mh.O.Fb.S7,(n||r)&&(r?o=0:n&&(o=n-this.config.hYa()),null!==e&&e>=o&&(this.log.info("Got a time change, loading the next player",u(i.O)),this.v1a(i.O),this.VD.splice(0,1),this.P$a(t))))},a.prototype.hma=function(t){return this.mh.O.J===t.J?this.mh:this.VD.find((function(e){return e.O.J===t.J}))},a.prototype.ERb=function(t,e){t.Z=e.Z||t.Z,t.rj=e.rj||t.rj,t.Fb=e.Fb||t.Fb,t.oa=e.oa||t.oa},a.prototype.createSession=function(t){return new s(this.log,this.config,this.ZN,this.uta,this.Lh,this.HX,this,t,this.Jg,this.fb,this.Ek)},a.prototype.uJ=function(t,e){this.lCb.forEach((function(i){e&&e.removeEventListener(i.event,i.hH),t.addEventListener(i.event,i.hH)})),this.Ub.Fc(n.iF.CY)},e.qKa=a},function(t,e,i){var n,o,a,s;function u(t,e,i,n,r,o){var s;s=this,this.V=e,this.j=i,this.ZN=n,this.Oc=r,this.EL=o,this.TL=function(){s.GD&&(s.GD.cancel(),s.GD=void 0)},this.log=t.ib("SegmentManager",this.j),this.qa=new Map,this.j.bb.Fl&&(this.j.addEventListener(a.ca.DI,(function(t){return s.JD(t)})),this.j.addEventListener(a.ca.closed,this.TL))}function c(t,e){this.id=t,this.Cja=e}function h(t,e,i,n){return o.qd.call(this,t,i,void 0,void 0,void 0,e,void 0,n)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.Hza=void 0,n=i(3),o=i(41),a=i(15),s=i(4),g(h,o.qd),h.prototype.toString=function(){return this.code+"-"+this.Cc+" : "+this.message+"\n"+JSON.stringify(this.data)},c.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.Jb,contentEndPts:this.Ob}},r.Object.defineProperties(c.prototype,{Jb:{configurable:!0,enumerable:!0,get:function(){return this.Cja.startTimeMs}},Ob:{configurable:!0,enumerable:!0,get:function(){return this.Cja.endTimeMs}},oA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Cja.next)}}}),u.prototype.JD=function(t){var e;e=this,t=t.position.segmentId,0===this.qa.size&&Object.entries(this.j.qV()).forEach((function(t){var i;t=(i=v(t)).next().value,i=i.next().value,e.qa.set(t,new c(t,i))})),this.ha=this.qa.get(t)},u.prototype.play=function(t){return this.Ww&&(this.Ww=void 0),this.TL(),this.log.trace("Playing segment",t),this.l0a(t)?this.ASb(t):this.FX(t)},u.prototype.Yo=function(t){return this.log.trace("Queueing segment",t),this.l0a(t)?this.qUb(t):this.rUb(t)},u.prototype.Ai=function(t,e){var i,r;return i=this,null!=(r=this.j.Ka)&&r.$h?(this.log.trace("Updating next segment weights",t,e),new Promise((function(o,s){try{r.QP(t,e),i.j.fireEvent(a.ca.Pxa,{xa:t,y1b:e}),o()}catch(r){s(i.getError(n.M.oza,"updateNextSegmentWeights threw an exception",n.L.Wcb,{segmentId:t,updates:e,error:r}))}}))):Promise.reject(this.getError(n.M.oza,"ASE session manager is not yet initialized",n.L.Eba,{segmentId:t,updates:e}))},u.prototype.l0a=function(t){return!!this.ha&&void 0!==this.j.qV()[this.ha.id].next[t]},u.prototype.Jna=function(){var t;if(null!=(t=this.j.Ka)&&t.$h)return t.Ko().me},u.prototype.QGb=function(){var t;if(null!=(t=this.j.Ka)&&t.$h)return t.Ko().id},u.prototype.TEb=function(t){var e;if(null!=(e=this.j.Ka)&&e.$h)return(t=e.M5(t))&&t.Fe},u.prototype.ASb=function(t){var e,i;return e=this,null!=(i=this.j.Ka)&&i.$h?this.ha&&1===this.ha.oA.length?this.FX(t):this.j.Xf?void 0===this.TEb(t)?(this.log.error("playNextSegment: branchOffset missing",{segment:t}),this.FX(t)):new Promise((function(r,o){var u,c,h,f,l,d;function p(){!h&&c&&u&&(d.cancel(),h=!0,e.log.trace("Telling ASE to choose the next segment",{id:t,stopped:c,repositioned:u,completed:h}),i.Cr(t,!1,!0)?(r(),h=!0):(h=!0,e.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:t}),e.FX(t).then(r).catch(o)))}if(u=!1,c=!1,h=!1,f=e.qa.get(t),void 0===(l=e.Jna()))return e.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:t}),e.FX(t);e.log.trace("Seeking to next segment",JSON.stringify({segmentId:t,seekTo:l,currentSegment:e.ha,nextSegment:f},null,"  ")),e.j.fireEvent(a.ca.V8,{oh:e.ha&&e.ha.id,dO:t}),i.addEventListener("stop",(function n(){c=!0,e.log.trace("ASE is stopped",{id:t,stopped:c,repositioned:u,completed:h}),i.removeEventListener("stop",n),p()})),e.j.addEventListener(a.ca.tI,(function t(){e.j.removeEventListener(a.ca.tI,t),i.stop()})),e.j.addEventListener(a.ca.wk,(function i(){u=!0,e.log.trace("Player is repositioned",{id:t,stopped:c,repositioned:u,completed:h}),e.j.removeEventListener(a.ca.wk,i),p()})),d=e.Oc.zk(s.vh(10),(function(){h=!0,d.cancel(),o(e.getError(n.M.mQ,"Timed out waiting for the player to be repositioned and ASE to be stopped",n.L.Scb,{id:t,stopped:c,repositioned:u,completed:h}))})),e.V.seek(l,a.Ce.lK)})):(this.log.warn("MediaPresenter is not initialized",t),Promise.reject(this.getError(n.M.mQ,"MediaPresenter is not initialized",n.L.Tcb,{id:t}))):Promise.reject(this.getError(n.M.mQ,"ASE session manager is not yet initialized",n.L.Eba,{id:t}))},u.prototype.FX=function(t){var e;return(e=this.qa.get(t))?this.AY(e,n.M.mQ):Promise.reject(this.getError(n.M.mQ,"Unable to find the separated segment",n.L.nza,{id:t}))},u.prototype.qUb=function(t){var e;return null!=(e=this.j.Ka)&&e.$h?(this.j.fireEvent(a.ca.V8,{oh:this.ha&&this.ha.id,dO:t}),e.Cr(t,!0,!0)?Promise.resolve():(this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:t}),Promise.reject(this.getError(n.M.BJ,"ASE chooseNextSegment failed",n.L.Qcb,{id:t})))):Promise.reject(this.getError(n.M.BJ,"ASE session manager is not yet initialized",n.L.Eba,{id:t}))},u.prototype.rUb=function(t){var e,i;return e=this,this.log.error("calls to queueSeparatedSegment are deprecated",{segment:t,mid:this.j.J,srcsegment:this.QGb()}),this.Ww?Promise.reject(this.getError(n.M.BJ,"Unable to queue a non-next segment because there is currently already a segment queued",n.L.Vcb,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.Ww.id,failedSegment:t})):this.ha?(i=this.qa.get(t))?(this.Ww={id:t,promise:new Promise((function(r,o){var a;e.GD=e.ZN.nTa({MYa:function(){return s.Nc(100)}},(function(){return e.V.Yt()||0})),a=e.Jna()-500,e.log.trace("Adding moment for queued segment",{segment:t,pts:a}),e.GD.observe(a,(function(){e.log.trace("Moment has arrived",{segment:t,currentSegment:e.ha.id,playerEndPts:e.Jna(),pts:a}),e.Ww=void 0,e.TL(),e.AY(i,n.M.BJ).then(r).catch(o)}))}))},this.Ww.promise.catch((function(t){e.j.Xd(t.code,t)})),Promise.resolve()):Promise.reject(this.getError(n.M.BJ,"Unable to find the separated segment",n.L.nza,{nextSegmentid:t,currentSegmentId:this.ha.id})):Promise.reject(this.getError(n.M.BJ,"Unable to queue a non-next segment because there is no currently playing segment",n.L.Rcb,{nextSegmentid:t}))},u.prototype.AY=function(t,e){var i;return i=this,new Promise((function(r,o){var s;try{s=t.Jb,i.V.seek(s,a.Ce.CB),r()}catch(r){o(i.getError(e,"Seek threw an exception",n.L.Ucb,{id:t.id,error:r}))}}))},u.prototype.getError=function(t,e,i,n){return this.log.warn(e,n),new h(t,e,i,n)},e.Hza=u},function(t,e,i){var n,r;function o(){}function a(t,e,i,n,r){this.debug=t,this.version=e,this.CLb=i,this.wSb=n,this.config=r}Object.defineProperty(e,"__esModule",{value:!0}),e.mKa=void 0,t=i(1),n=i(0),r=i(4),a.prototype.FFb=function(){return this.config().Cz},a.prototype.Uma=function(){return this.config().jRa},a.prototype.MYa=function(){return r.Nc(this.config().WSb)},a.prototype.hYa=function(){return this.config().MMb},a.prototype.kYa=function(){return this.config().yNb},o.prototype.PC=function(t,e,i,n,r){return new a(t,e,i,n,r)},i=t.__decorate([n.R()],o),e.mKa=i},function(t,e,i){var n,r;function o(t){this.config=t}Object.defineProperty(e,"__esModule",{value:!0}),e.vLa=void 0,t=i(1),n=i(0),i=i(13),o.prototype.YTb=function(t,e,i,n){var r;this.config().lXb&&void 0!==(r=t.metrics)&&r.segment!==r.srcsegment&&e.AW.kb.transition({isBranching:n||void 0,isPlaygraph:!n||void 0,mid:e.J,xid:e.ba,srcxid:i.ba,srcmid:i.J,segment:t.position.segmentId,srcsegment:r.srcsegment,srcsegmentduration:r.srcsegmentduration,srcoffset:r.srcoffset,seamlessRequested:r.seamlessRequested,transitionType:r.transitionType,transitionTypeAtRequest:r.transitionTypeAtRequest,nextExitPositionAtRequest:r.nextExitPositionAtRequest,delayToTransition:r.delayToTransition,durationOfTransition:r.durationOfTransition,atRequest:r.atRequest,atTransition:r.atTransition,discard:r.discard})},r=o,r=t.__decorate([n.R(),t.__param(0,n.l(i.Zc))],r),e.vLa=r},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.Gbb=void 0,t=i(0),n=i(344),r=i(666),e.Gbb=new t.rd((function(t){t(n.YLa).to(r.XLa).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j;function I(t){this.cc=t}Object.defineProperty(e,"__esModule",{value:!0}),e.XLa=void 0,t=i(1),n=i(0),r=i(94),o=i(29),a=i(27),s=i(7),u=i(97),c=i(211),h=i(346),f=i(667),l=i(212),d=i(82),p=i(347),b=i(668),v=i(259),y=i(81),g=i(18),m=i(119),_=i(260),w=i(424),E=i(13),k=i(425),O=i(426),S=i(38),T=i(261),A=i(427),P=i(66),j=i(31),I.prototype.pka=function(t,e,i,n,r,I){return this.cc.get(E.Zc)().Haa?new b.ZLa(this.cc.get(s.qb),this.cc.get(v.gea),this.cc.get(y.Gx),this.cc.get(g.jd),this.cc.get(m.RE),this.cc.get(u.nca),this.cc.get(_.kda),this.cc.get(w.dDa),this.cc.get(k.OIa),this.cc.get(O.Jea),this.cc.get(O.Jea),this.cc.get(S.Uh),this.cc.get(A.qR),this.cc.get(T.xca),this.cc.get(j.fh),n,i):new f.qEa(this.cc.get(o.cg),this.cc.get(a.bg),this.cc.get(s.qb),this.cc.get(u.nca),this.cc.get(c.Eea),this.cc.get(l.Qda),this.cc.get(d.mca),this.cc.get(p.EHa),this.cc.get(h.pBa),t,e,i,n,r,I,this.cc.get(P.Xs).KG)},i=I,i=t.__decorate([n.R(),t.__param(0,n.l(r.nEa))],i),e.XLa=i},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,n,o,a,s,u,c,h,f,l,d,p,b,v){var y;y=this,this.pe=t,this.jb=e,this.Ub=n,this.Au=a,this.eU=s,this.NWa=u,this.config=h,this.Lh=l,this.O=d,this.aLb=v,this.j=f.create(d.J,d.vk,c,p,b,d.Fb,d.id,d.oa),this.j.background=!0,this.log=i.ib("VideoPlayer",this.j),this.r5a=[],this.ended=!1,this.uJ(),this.j.state.addListener((function(t){t.newValue===r.Rb.re&&y.Db(r.Da.Opa,{movieId:d.J})})),this.j.bb.Fl&&(this.LL=o.Exb(this,this.j),this.j.addEventListener(r.ca.DI,(function(t){t=t.position.segmentId,y.XLb!==t&&(y.XLb=t,y.Db(r.Da.YWb,{segmentId:t}))})))}Object.defineProperty(e,"__esModule",{value:!0}),e.qEa=void 0,n=i(3),r=i(15),o=i(4),a=i(11),s=i(82),u=i(24),c.prototype.isReady=function(){return this.j.state.value===r.Rb.re},c.prototype.vYa=function(){return this.j.J},c.prototype.Az=function(){return this.j.ba},c.prototype.Dn=function(){return this.j.Jg},c.prototype.sq=function(){return this.j.yj.value},c.prototype.lW=function(){return this.j.paused.value},c.prototype.vpa=function(){return this.ended},c.prototype.Hh=function(){var t;return(t=this.j.$ia.value)?{networkStalled:!!t.As,stalled:!!t.As,progress:t.progress,progressRollback:!!t.dUb}:null},c.prototype.getError=function(){var t;return(t=this.j.li)?t.xZ():null},c.prototype.Yt=function(){return this.j.mediaTime.value},c.prototype.dXa=function(){var t;return t=(this.N5()||0)+this.j.cXa(),Math.min(t,this.ana())},c.prototype.N5=function(){return this.j.TC()},c.prototype.ana=function(){return this.j.Uy.da(o.ja)},c.prototype.pZa=function(){return this.j.cB?{width:this.j.cB.width,height:this.j.cB.height}:null},c.prototype.O5=function(){var t;if(this.j.ip){for(var e,i=0;i<this.j.ip.length;i++)for(var n=this.j.ip[i],r=0;r<n.streams.length;r++)t=n.streams[r],this.jb.Ii(t.vka)&&this.jb.Ii(t.o4)&&this.jb.Ii(t.n4)&&this.jb.Ii(t.m4)&&0<t.o4&&(t=t.m4/t.n4,e=this.jb.Ii(e)?Math.min(e,t):t);return e}},c.prototype.rXa=function(){return this.j.O5()},c.prototype.MWa=function(t){var e,i;return null!==(e=this.j.oa)&&void 0!==e&&e.lk.zV("generateScreenshots")?this.NWa.gq(this.log,this.j.oa.lk,t):(e=null===(i=this.j.bb)||void 0===i?void 0:i.Vo)?this.NWa.og(this.log,Object.assign({packageId:e},t)):Promise.reject("Unknown packageId")},c.prototype.xXa=function(){return this.gFb(this.j.E4)},c.prototype.VWa=function(){var t;return t=this,this.j.Ki.map((function(e){return t.mq(e)}))},c.prototype.oYa=function(){var t;return this.AV(this.j.Ki,null===(t=this.j.oa)||void 0===t?void 0:t.$b.B2a)},c.prototype.doa=function(t){var e;return e=this,this.HV(t).map((function(t){return e.mq(t)}))},c.prototype.una=function(t){var e;return this.AV(this.HV(t),null===(e=this.j.oa)||void 0===e?void 0:e.$b.C2a)},c.prototype.r9a=function(){return this.aLb},c.prototype.Dpa=function(){return this.j.muted.value},c.prototype.qZa=function(){return this.j.volume.value},c.prototype.UWa=function(){var t,e;return(e=(null===(t=this.Qw)||void 0===t?void 0:t.oc)||this.j.oc.value)&&this.mq(e)},c.prototype.coa=function(){var t,e;return(e=(null===(t=this.Qw)||void 0===t?void 0:t.pZ)||this.j.jc.value)&&this.mq(e)},c.prototype.X_a=function(){return!!this.j.background},c.prototype.U8a=function(t){this.j.muted.set(!!t)},c.prototype.e9a=function(t){this.j.volume.set(this.bQb(t))},c.prototype.V8a=function(t){this.j.playbackRate.set(t)},c.prototype.Jo=function(){return this.j.playbackRate.value},c.prototype.G8a=function(t){var e,i,o,a,s;return e=this,(o=this.cV(t))?o.oi?(this.j.oc.set(o),Promise.resolve()):(a=(t=(null===(i=this.Qw)||void 0===i?void 0:i.pZ)||this.j.jc.value)&&this.z0a(o,t)?t:o.Qh[0],i=o.trackId,s=a.trackId,this.Qw={oc:o,pZ:a},this.Db(r.Da.gm),this.Db(r.Da.ev),a!==t&&this.Db(r.Da.Rl),this.j.c_a(i,s).then((function(t){t=t.oc,e.Qw=void 0,e.j.oc.set(t)})).catch((function(t){e.Qw=void 0,t=e.pe.wd(t),e.log.error(t),e.close(e.Lh(n.M.sR,{na:n.L.cda,ub:t,kH:{nJb:o.trackId,d_a:o.Wd,oJb:a.trackId,e_a:a.Wd}}))}))):(this.log.error("Invalid setAudioTrack call"),Promise.reject(Error("Invalid setAudioTrack call")))},c.prototype.cwa=function(t){var e,i,o,a;if(e=this,null!==(o=(null===(i=this.Qw)||void 0===i?void 0:i.oc)||this.j.oc.value)){a=o.Qh,i={};for(var s=0;s<a.length;i={Ns:i.Ns},s++){if(i.Ns=a[s],!t&&null===i.Ns)return this.j.jc.set(null),Promise.resolve();if(this.mq(i.Ns)===t)return i.Ns.oi?(this.log.info("Setting Timed Text, profile: "+i.Ns.profile),this.j.jc.set(i.Ns),Promise.resolve()):(t=o.trackId,a=i.Ns.trackId,this.Qw={oc:o,pZ:i.Ns},this.Db(r.Da.Rl),this.j.c_a(t,a).then((function(t){t=t.pZ,e.Qw=void 0,e.j.jc.set(t)})).catch(function(t){return function(i){e.Qw=void 0,i=e.pe.wd(i),e.log.error(i),e.close(e.Lh(n.M.sR,{na:n.L.cda,ub:i,kH:{nJb:o.trackId,d_a:o.Wd,oJb:t.Ns.trackId,e_a:t.Ns.Wd}}))}}(i)))}}return this.log.error("Invalid setTextTrack call"),Promise.reject(Error("Invalid setTextTrack call"))},c.prototype.Rva=function(t){this.j.background=t},c.prototype.yP=function(){this.j.yP()},c.prototype.Daa=function(t){this.j.Daa(t)},c.prototype.um=function(t){return this.j.um(t)},c.prototype.JYa=function(){return this.j.bb},c.prototype.Nw=function(){this.j.Nw()},c.prototype.WH=function(t){this.j.WH(t)},c.prototype.NV=function(t,e,i){return this.j.NV(t,e,i)},c.prototype.Mha=function(t,e){this.j.addEventListener(t,e,void 0)},c.prototype.addEventListener=function(t,e,i){this.Ub.addListener(t,e,i)},c.prototype.removeEventListener=function(t,e){this.Ub.removeListener(t,e)},c.prototype.iI=function(){},c.prototype.load=function(){var t;t=this,this.loaded||(this.loaded=!0,this.j.load((function(e,i){try{t.Db(r.Da.x1a,void 0,!0),e.oa&&(e.oa.$b.Tbb&&t.Db(r.Da.K2b,e.oa.$b.Tbb,!0),e.oa.$b.Bo&&t.Db(r.Da.XWb,{segmentMap:e.oa.$b.Bo},!0)),i({$:!0})}catch(e){i({na:n.L.Lj,ub:t.pe.wd(e)})}})))},c.prototype.close=function(t){var e;return e=this,this.qSa||(this.qSa=new Promise((function(i){t?e.j.qG(t,i):e.j.close(i)}))),this.qSa},c.prototype.play=function(){this.j.ei?this.j.fireEvent(r.ca.e8a):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(r.ca.ybb)))},c.prototype.pause=function(){this.load(),this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(r.ca.Z1b))},c.prototype.seek=function(t,e,i,n){e=void 0===e?r.Ce.CB:e,this.j.Xf?this.j.Xf.seek(t,e,i,n):this.j.aw=t},c.prototype.D5a=function(t){return this.LL?(this.log.trace("Playing a segment",t),this.LL.play(t)):Promise.resolve()},c.prototype.w6a=function(t){return this.LL?(this.log.trace("Queueing a segment",t),this.LL.Yo(t)):Promise.resolve()},c.prototype.Ai=function(t,e){return this.LL?(this.log.trace("Updating next segment weights",t,e),this.LL.Ai(t,e)):Promise.resolve()},c.prototype.LV=function(){var t;return{bounds:(t=this.j.Qq.LV()).RT,margins:t.Zr,size:t.size,visibility:t.visibility}},c.prototype.oP=function(t){var e,i,n;e=t.bounds,i=t.margins,n=t.size,t=t.visibility,this.j.sZ&&(e&&this.j.sZ.dwa(e),i&&this.j.sZ.ewa(i),"boolean"==typeof t&&this.j.sZ.fwa(t)),this.j.Qq&&n&&this.j.Qq.bYb(n)},c.prototype.gwa=function(t){this.j.Nm=t},c.prototype.mZa=function(t){return this.j.WA&&this.j.WA.DFb(t)||null},c.prototype.RWa=function(){return this.pe.LH({playerver:this.config.version,jssid:this.config.CLb,groupName:this.config.FFb(),xid:this.j.ba,pbi:this.j.index},this.config.wSb,{prefix:"pi_"})},c.prototype.z_a=function(t){this.j.Xd(n.M.$Ba,n.L.Vl,t)},c.prototype.t1a=function(t,e,i,n){if(!this.jb.gQa(t))throw Error("invalid url");this.r5a.push({url:t,name:e,qsb:i,options:n}),this.k6a()},c.prototype.Una=function(){var t,e,i,n,r,o,a,s;t={},e=this.j.YY;try{this.j.li&&(t.errorCode=this.j.li.I4,t.errorType=e?"endplay":"startplay"),t.playdelay=u.Sf(this.j.XT()),t.xid=this.j.ba,this.j.oa&&this.jb.Ip(this.j.oa.$b.Vo)&&(t.packageId=Number(this.j.oa.$b.Vo)),t.auth=this.j.wEb(),e&&(t.totaltime=this.j.Ll?this.Go(this.j.Ll.jN()):0,t.abrdel=this.j.Ll?this.j.Ll.Tma():0,n=(i=this.j.Xf)?i.XG():null,this.jb.Ii(n)&&(t.totdfr=n),n=i?i.sV():null,this.jb.Ii(n)&&(t.totcfr=n),(r=i?i.TFb():null)&&(t.rbfrs_decoder=r.t4,t.rbfrs_network=r.Q8),t.rbfrs_delay=this.j.Ll?this.j.Ll.qpa:0,t.init_vbr=this.j.d7,o=this.dH(),this.jb.EG(o)&&(t.pdltime=o),(s=(a=this.j.oe.value)&&a.stream)&&(t.vbr=s.bitrate,t.vdlid=s.Bc),t.bufferedTime=this.j.cXa())}catch(t){this.log.error("error capturing session summary",t)}return t},c.prototype.AM=function(t){return this.j.bb.Jm&&(this.j.bb.Jm.userEngageAction=1),this.jb.Ii(this.j.mediaTime.value)?(t=Object.assign(Object.assign({},this.Au.create(this.j)),{action:t}),this.eU(s.mp.AM).gq(this.log,this.j.oa.lk,t).then((function(){return{success:!0}})).catch((function(t){return{success:!1,errorCode:t.code,errorSubCode:t.Cc,errorExternalCode:t.Kd,errorData:t.data,errorDetails:t.details}}))):Promise.resolve({success:!1})},c.prototype.gFb=function(t){return{register:t.register.bind(t),notifyUpdated:t.a4a.bind(t),getModel:t.mGb.bind(t),getGroups:t.xV.bind(t),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t),getTime:t.getTime.bind(t)}},c.prototype.mq=function(t){var e;return e=t.dua=t.dua||{trackId:t.trackId,bcp47:t.Wd,displayName:t.displayName,trackType:t.ml,rawTrackType:t.oI,channels:t.channels},this.Jpa(t)&&(e.isNative=t.isNative,e.surroundFormatLabel=t.hZ),this.Kpa(t)&&(e.isNoneTrack=t.Vr(),e.isForcedNarrative=t.rq(),e.isImageBased=t.kk),e.subType=t.XI,e.variant=t.variant,e},c.prototype.Jpa=function(t){return void 0!==t.isNative},c.prototype.Kpa=function(t){return void 0!==t.Vr&&void 0!==t.rq},c.prototype.cV=function(t){var e;return e=this,t&&this.j.Ki.find((function(i){return e.mq(i)===t}))},c.prototype.HV=function(t){var e,i;return null!==(i=null==(t=this.cV(t)||(null===(e=this.Qw)||void 0===e?void 0:e.oc)||this.j.oc.value)?void 0:t.Qh)&&void 0!==i?i:[]},c.prototype.AV=function(t,e){var i;return i=t.length-1,"number"!=typeof e||-1===(t=t.findIndex((function(t){return t.uc>e})))?i:t-1},c.prototype.z0a=function(t,e){return 0<=t.Qh.indexOf(e)},c.prototype.bQb=function(t){return 0<=t?1>=t?t:1:0},c.prototype.Go=function(t){return this.jb.Ii(t)?(t/1e3).toFixed(0):""},c.prototype.Db=function(t,e,i){(e=e||{}).target=this,this.Ub.Fc(t,e,!i)},c.prototype.uJ=function(){var t;t=this,this.j.addEventListener(r.ca.fxa,(function(){t.Db(r.Da.Wp)})),this.j.addEventListener(r.ca.Hab,(function(){t.Db(r.Da.Gab)})),this.j.addEventListener(r.ca.n8,(function(){t.Db(r.Da.Uia)})),this.j.addEventListener(r.ca.wk,(function(){t.Db(r.Da.Uia)})),this.j.addEventListener(r.ca.rN,(function(e){t.Db(r.Da.rN,{errorCode:e})})),this.j.addEventListener(r.ca.zia,(function(e){t.Db(r.Da.WQa,e.j)})),this.j.addEventListener(r.ca.ei,(function(e){t.Db(r.Da.x3,e)})),this.j.addEventListener(r.ca.lab,(function(){t.Db(r.Da.u3),t.Db(r.Da.ev)})),this.j.yj.addListener((function(){t.Db(r.Da.Bta)})),this.j.paused.addListener((function(){t.Db(r.Da.l5a)})),this.j.muted.addListener((function(){t.Db(r.Da.x3a)})),this.j.volume.addListener((function(){t.Db(r.Da.Mbb)})),this.j.yb.addListener((function(){t.Qab()})),this.j.state.addListener((function(){t.Qab()})),this.j.$ia.addListener((function(e){t.NMb||t.j.state.value!=r.Rb.re||e.newValue||(t.NMb=!0,t.Db(r.Da.loaded),setTimeout((function(){t.log.debug.bind(t.log,"summary ",t.Una())}))),t.Db(r.Da.OL)})),this.j.oc.addListener((function(){t.Db(r.Da.gm),t.Db(r.Da.ev),setTimeout((function(){var e,i;e=t.j.oc.value,i=t.j.jc.value,null===e||null===i||t.z0a(e,i)||(t.log.info("Changing timed text track to match audio track"),t.j.jc.set(e.Qh[0]))}),0)})),this.j.jc.addListener((function(e){e.oldValue&&e.newValue&&e.oldValue.trackId==e.newValue.trackId||t.Db(r.Da.Rl)})),this.j.addEventListener(r.ca.ev,(function(){t.Db(r.Da.ev)})),this.j.addEventListener(r.ca.DZ,(function(){t.Db(r.Da.DZ)})),this.j.state.addListener((function(e){switch(e.newValue){case r.Rb.re:t.Db(r.Da.SUa),t.Db(r.Da.Hbb),t.Db(r.Da.u3),t.Db(r.Da.ev),t.Db(r.Da.w1a),t.k6a(),t.Q2b();break;case r.Rb.CLOSING:t.j.li&&t.Db(r.Da.T_a,t.j.li);break;case r.Rb.CLOSED:t.Db(r.Da.closed),t.Ub.Fh()}}))},c.prototype.Q2b=function(){var t;t=this,this.j.Qq.addEventListener("showsubtitle",(function(e){t.Db(r.Da.lwa,e,!0)})),this.j.Qq.addEventListener("removesubtitle",(function(e){t.Db(r.Da.Lua,e,!0)}))},c.prototype.k6a=function(){if(this.j.state.value==r.Rb.re){for(var t,e,i;e=this.r5a.shift();)t=this.j.Qq.Gha(e.url,e.name,e.options),e.qsb&&(i=t);i&&this.j.jc.set(i)}},c.prototype.Qab=function(){var t;t=this.j.state.value==r.Rb.re&&this.j.yb.value==r.cb.Wq,this.ended!==t&&(this.ended=t,this.j.bG("Ended changed: "+t),(t||this.j.state.value===r.Rb.CLOSING)&&this.Db(r.Da.wVa))},c.prototype.dH=function(){var t,e;try{if(t=/playercore.*js/,(e=a.xv.getEntriesByType("resource").filter((function(e){return null!==t.exec(e.name)})))&&0<e.length)return JSON.stringify(Math.round(e[0].duration))}catch(t){}},e.qEa=c},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b;function y(t,e,i,n,s,u,c,h,l,d,p,b,v,y,g,m,_){var w,E,k;w=this,this.KX=e,this.Gz=i,this.Aa=n,this.nk=s,this.Ub=u,this.GW=c,this.TSb=h,this.H5a=l,this.Qaa=d,this.t3=p,this.za=b,this.NN=v,this.config=y,this.mC=g,this.O=m,this.Lh=_,this.T7=new f.dc(!0),this.yj=new f.dc(!1),this.As=new f.dc(!1),this.ended=new f.dc(!1),this.I3=new f.dc(0),this.yb=new f.dc(r.cb.Pf),this.RO=new f.dc(void 0),this.loaded=this.YY=this.closed=!1,this.d6a=function(t,e){return function(i){var n,r,o,a,s;n=i.newValue,r=n.wC,i=n.im,o=n.stream,a=(n=t.value).streams.find((function(t){return t.bitrate===o.stream.bitrate})),s=w.va.hi.find((function(t){return t.id===r})),w.log.info("Presenting "+a.type+" request with bitrate "+a.bitrate+", track "+n.trackId+" ["+i.startTime+"..."+i.endTime+"]"),e.set({stream:a,im:i,qc:s})}},this.e$a=function(t,e,i){return function(n){var r,o;o=(r=t.value).streams.find((function(t){return t.bitrate===n.newValue.stream.bitrate})),w.log.info("Streaming "+o.type+" stream with bitrate "+o.bitrate+", track "+r.trackId),e.set(o,{nG:n.om.nG,NT:void 0}),r=w.va.hi.filter((function(t){return t.id===n.om.wC}))[0],i.set(r)}},this.oWa=new Set,this.log=t.ib("HLSVideoPlayer"),this.X=o.createElement("VIDEO","position:absolute;width:100%;height:100%"),this.X.playsInline=this.config.R5a,this.va=this.KX(a.zB.index++,m.J,m.id,null!==(E=m.Fb)&&void 0!==E?E:{},this.Gz.Wy(),this.Aa.Yb(),!1,void 0,(function(){return w.Yt()})),this.va.mediaTime.set(null!==(k=this.va.aw)&&void 0!==k?k:0),this.uJ(),this.bnb=this.NN.create(this),this.bnb,this.load()}Object.defineProperty(e,"__esModule",{value:!0}),e.ZLa=void 0,n=i(47),r=i(15),o=i(30),a=i(58),s=i(103),u=i(57),c=i(3),h=i(62),f=i(80),l=i(4),d=i(19),p=i(129),b=i(24),y.prototype.c_b=function(){return!!this.X.canPlayType&&(""!==this.X.canPlayType("application/vnd.apple.mpegURL")||""!==this.X.canPlayType("audio/mpegurl"))},y.prototype.uJ=function(){var t;t=this,this.X.addEventListener("loadedmetadata",(function(){t.Db(r.Da.x1a),t.Db(r.Da.w1a),t.Db(r.Da.gm),t.Db(r.Da.u3),t.Db(r.Da.Rl),t.Db(r.Da.ev)})),this.X.addEventListener("error",(function(e){e=t.Lh(c.M.iHa,e),t.close(e)})),this.X.addEventListener("timeupdate",(function(){t.ended.set(!1),t.va.mediaTime.set(t.Yt()),t.ala(),t.Db(r.Da.Wp),t.Db(r.Da.Gab)})),this.X.addEventListener("durationchange",(function(){t.Db(r.Da.SUa)})),this.X.addEventListener("resize",(function(){t.Db(r.Da.Hbb)})),this.X.addEventListener("playing",(function(){t.ala(),t.As.set(!1),t.yj.set(!0),t.ended.set(!1),t.yb.set(r.cb.Kc)})),this.X.addEventListener("pause",(function(){t.yj.set(!1),t.As.set(!1),t.yb.set(r.cb.hh)})),this.X.addEventListener("waiting",(function(){t.yb.set(r.cb.Pf)})),this.X.addEventListener("stalled",(function(){t.As.set(!0)})),this.X.addEventListener("seeking",(function(){t.As.set(!1),t.RO.set(t.va.mediaTime.value),t.yb.set(r.cb.Pf)})),this.X.addEventListener("seeked",(function(){void 0!==t.RO.value&&(t.va.Ll.nsa(t.RO.value,t.Yt()),t.RO.set(void 0)),t.yb.set(t.sq()?r.cb.Kc:r.cb.hh)})),this.X.addEventListener("progress",(function(){t.Db(r.Da.Uia),t.Z0b()})),this.X.addEventListener("ended",(function(){t.yb.set(r.cb.Wq),t.As.set(!1),t.yj.set(!1),t.ended.set(!0)})),this.X.addEventListener("volumechange",(function(){t.Db(r.Da.Mbb),t.Db(r.Da.x3a)})),this.yj.addListener((function(){t.Db(r.Da.Bta),t.Db(r.Da.l5a),t.UL()})),this.I3.addListener((function(){t.Db(r.Da.OL)})),this.As.addListener((function(){t.Db(r.Da.OL)})),this.T7.addListener((function(){t.UL()})),this.ended.addListener((function(){t.Db(r.Da.wVa)})),this.va.playbackRate.addListener((function(e){t.X.playbackRate=e.newValue}))},y.prototype.UL=function(){!this.sq()||this.T7.value||this.YY||this.VQa||(this.YY=!0,this.va.qH=this.za.FY,this.H5a.ap(this,this.va))},y.prototype.XT=function(){return this.JX-(this.va.vk.da(l.ja)+this.Aa.Vz.da(l.ja))},y.prototype.VG=function(){var t;return t=this.va.bb.HZ,d.Ba(t)?t:this.va.vk.da(l.ja)+this.Aa.Vz.da(l.ja)},y.prototype.eja=function(){return this.za.ff.da(l.ja)-this.VG()},y.prototype.gja=function(){return this.JX-this.VG()},y.prototype.Z0b=function(){var t;1===(t=this.X.readyState<=h.co.q0.HAVE_METADATA?0:this.X.readyState<=h.co.q0.HAVE_CURRENT_DATA?.5:1)&&(this.JX=this.za.ff.da(l.ja),this.T7.set(!1),this.kma(r.Da.loaded)),this.I3.set(t)},y.prototype.ala=function(){var t;t=this.Yt(),this.Qaa.J8a(t),this.t3.J8a(t)},y.prototype.EY=function(){var t;return t=this,this.va.Dd("ats"),this.nk.ZM({ba:this.va.ba,bb:this.va.bb,W:this.va.J,Tt:s.Vm.g1,Uf:u.Xh.rp}).then((function(e){var i;return t.va.Dd("at"),i=t.GW.create({}).f5a(e),t.va.oa=e,t.va.Rc=i,t.X.audioTracks.addEventListener("addtrack",(function(){t.abb(t.va.oc.value)})),t.X.audioTracks.addEventListener("change",(function(){for(var e,i,n={},r=v(t.X.audioTracks),o=r.next();!o.done;n={eQ:n.eQ},o=r.next())n.eQ=o.value,n.eQ.enabled&&n.eQ.label!==(null===(e=t.va.oc.value)||void 0===e?void 0:e.displayName)&&(o=null!==(i=t.va.Ki.find(function(t){return function(e){return e.displayName===t.eQ.label}}(n)))&&void 0!==i?i:null,t.va.oc.set(o))})),t.va.oc.addListener((function(e){t.abb(e.newValue),t.Db(r.Da.gm),t.Db(r.Da.ev)})),t.X.textTracks.addEventListener("addtrack",(function(){t.bbb(t.va.jc.value)})),t.X.textTracks.addEventListener("change",(function(){for(var e,i,n,r=t.X.textTracks,o={},a=0;a<r.length;o={fQ:o.fQ},a++)o.fQ=r[a],"showing"===o.fQ.mode&&o.fQ.label!==(null===(i=t.va.jc.value)||void 0===i?void 0:i.displayName)&&(e=null!==(n=t.va.Qh.find(function(t){return function(e){return e.displayName===t.fQ.label}}(o)))&&void 0!==n?n:null,t.va.jc.set(e),t.va.ci.set(e))})),t.va.jc.set(i.xU),t.va.ci.set(i.xU),t.va.jc.addListener((function(e){t.bbb(e.newValue),t.Db(r.Da.Rl)})),t.TSb.gi(e,(function(e){return t.va.Dd(e)}))})).then((function(e){var i,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g;i=e.vNb,r=e.gub,e=e.wZb,o=e.audio,a=e.YTa,s=e.video,c=(u=t.va).jh,h=u.oc,f=u.Ki,l=u.We,d=u.xg,e=u.aw,p=u.oe,b=u.jf,v=u.Ll,(u=u.Rc).Ki=f.filter((function(t){return o.find((function(e){return e.track.sg===t.trackId}))})),d.set(u.A4),h.set(f.find((function(t){return t.trackId===a}))),y=(u=s[0]).stream,g=(f=o.find((function(t){return t.track.sg===a}))).stream,t.eW=y.bitrate,t.Qaa.Mta.addListener(t.d6a(d,p)),t.Qaa.Swa.addListener(t.e$a(d,l,t.va.qc[n.Tb.Ta.Mb])),l=r.get(y.Gr).DO.Sp,t.Qaa.xb(s,u,l),t.t3.Mta.addListener(t.d6a(h,b)),t.t3.Swa.addListener(t.e$a(h,c,t.va.qc[n.Tb.Ta.Wb])),r=r.get(g.Gr).DO.Sp,t.t3.xb(o,f,r),t.X.src=i,t.X.currentTime=(null!=e?e:0)/1e3,t.X.load(),v.nsa(0,e&&0<e?e:1)})).catch((function(e){var i,n;e instanceof Error&&(n=b.wd(e),t.log.error("uncaught exception",e,n)),t.close(t.Lh(null!==(i=e.code)&&void 0!==i?i:c.M.KLa,e))}))},y.prototype.bbb=function(t){for(var e,i=this.X.textTracks,n=0;n<i.length;n++)(e=i[n]).label===t.displayName&&"showing"!==e.mode&&(e.mode="showing"),e.label!==t.displayName&&"showing"===e.mode&&(e.mode="hidden")},y.prototype.abb=function(t){for(var e=v(this.X.audioTracks),i=e.next();!i.done;i=e.next())(i=i.value).label!==t.displayName||i.enabled||(i.enabled=!0),i.label!==t.displayName&&i.enabled&&(i.enabled=!1)},y.prototype.Yt=function(){return Math.floor(1e3*this.X.currentTime)},y.prototype.N5=function(){return this.Yt()},y.prototype.ana=function(){return Math.floor(1e3*this.X.duration)},y.prototype.vYa=function(){return this.O.J},y.prototype.Az=function(){return this.va.ba},y.prototype.Dn=function(){return this.X},y.prototype.isReady=function(){return null===this.Hh()},y.prototype.sq=function(){return this.yj.value},y.prototype.lW=function(){return!this.yj.value},y.prototype.vpa=function(){return this.X.ended},y.prototype.Hh=function(){return 1!==this.I3.value?{stalled:this.As.value,progress:this.I3.value,progressRollback:!1}:null},y.prototype.getError=function(){var t,e;return null!==(e=null===(t=this.li)||void 0===t?void 0:t.xZ())&&void 0!==e?e:null},y.prototype.dXa=function(){return 1===this.X.buffered.length?1e3*this.X.buffered.end(0):null},y.prototype.pZa=function(){return{width:this.X.videoWidth,height:this.X.videoHeight}},y.prototype.Dpa=function(){return this.X.muted},y.prototype.qZa=function(){return this.X.volume},y.prototype.U8a=function(t){this.X.muted=t},y.prototype.e9a=function(t){this.X.volume=t},y.prototype.addEventListener=function(t,e,i){this.Ub.addListener(t,e,i)},y.prototype.removeEventListener=function(t,e){this.Ub.removeListener(t,e)},y.prototype.load=function(){var t;t=this,this.loaded||(this.loaded=!0,this.mC.LN((function(e){t.c_b()?e.$?t.EY():t.close(t.Lh(e.errorCode||c.M.Gca,e)):t.close(t.Lh(c.M.Vfb))})))},y.prototype.close=function(t){return this.closed?Promise.resolve():(this.va.mediaTime.set(this.Yt()),this.ala(),this.va.iU=this.N5(),this.closed=!0,this.X.removeAttribute("src"),this.X.load(),(this.li=t)&&this.Db(r.Da.error,t.xZ()),this.Db(r.Da.closed),this.H5a.$Y(this.va))},y.prototype.play=function(){var t,e;t=this,e=this.X.play(),this.VQa=!1,e&&e.then((function(){t.kma(r.Da.WQa)})).catch((function(e){t.Db(r.Da.OL),"NotAllowedError"===e.name&&(t.log.warn("Playback is blocked by the browser settings",e),t.VQa=!0,t.ei=!0,t.kma(r.Da.x3,{player:{play:function(){return t.play()}}}))}))},y.prototype.Db=function(t,e,i){(e=e||{}).target=this,this.Ub.Fc(t,e,!i)},y.prototype.kma=function(t,e){this.oWa.has(t)||(this.oWa.add(t),this.Db(t,e,void 0))},y.prototype.pause=function(){this.X.pause()},y.prototype.seek=function(t){this.X.currentTime=t/1e3},y.prototype.z_a=function(t){this.close(this.Lh(c.M.$Ba,c.L.Vl,t))},y.prototype.Jo=function(){return this.va.playbackRate.value},y.prototype.V8a=function(t){this.va.playbackRate.set(t)},y.prototype.VWa=function(){var t;return t=this,this.va.Ki.map((function(e){return t.mq(e)}))},y.prototype.doa=function(t){var e;return e=this,this.HV(t).map((function(t){return e.mq(t)}))},y.prototype.UWa=function(){var t;return(t=this.va.oc.value)&&this.mq(t)},y.prototype.coa=function(){var t;return(t=this.va.jc.value)&&this.mq(t)},y.prototype.G8a=function(t){return(t=this.cV(t))&&t.oi?(this.va.oc.set(t),Promise.resolve()):(this.log.error("Invalid setAudioTrack call"),Promise.reject(Error("Invalid setAudioTrack call")))},y.prototype.cwa=function(t){var e,i;return e=this,(i=this.va.Qh.find((function(i){return e.mq(i)===t})))&&i.oi?(this.va.jc.set(i),this.va.ci.set(i),Promise.resolve()):(this.log.error("Invalid setTextTrack call"),Promise.reject(Error("Invalid setTextTrack call")))},y.prototype.oYa=function(){var t;return this.AV(this.va.Ki,null===(t=this.va.oa)||void 0===t?void 0:t.$b.B2a)},y.prototype.una=function(t){var e;return this.AV(this.HV(t),null===(e=this.va.oa)||void 0===e?void 0:e.$b.C2a)},y.prototype.mq=function(t){var e;return e=t.dua=t.dua||{trackId:t.trackId,bcp47:t.Wd,displayName:t.displayName,trackType:t.ml,rawTrackType:t.oI,channels:t.channels},this.Jpa(t)&&(e.isNative=t.isNative,e.surroundFormatLabel=t.hZ),this.Kpa(t)&&(e.isNoneTrack=t.Vr(),e.isForcedNarrative=t.rq(),e.isImageBased=t.kk),e.subType=t.XI,e.variant=t.variant,e},y.prototype.Jpa=function(t){return void 0!==t.isNative},y.prototype.Kpa=function(t){return void 0!==t.Vr&&void 0!==t.rq},y.prototype.cV=function(t){var e;return e=this,t&&this.va.Ki.find((function(i){return e.mq(i)===t}))},y.prototype.HV=function(t){var e;return null!==(e=null==(t=this.cV(t)||this.va.oc.value)?void 0:t.Qh)&&void 0!==e?e:[]},y.prototype.AV=function(t,e){var i;return i=t.length-1,"number"!=typeof e||-1===(t=t.findIndex((function(t){return t.uc>e})))?i:t-1},y.prototype.Daa=function(t){this.va.bb=p.u8(this.va.bb,t)},y.prototype.um=function(t){if(t!==this.va.xa)throw Error("Unknown segmentId "+t);return this.va},y.prototype.JYa=function(){return this.va.bb},y.prototype.Mha=function(){},y.prototype.Nw=function(){},y.prototype.WH=function(){},y.prototype.NV=function(){return Promise.reject()},y.prototype.Una=function(){return{}},y.prototype.O5=function(){},y.prototype.rXa=function(){},y.prototype.RWa=function(){return{}},y.prototype.Rva=function(){},y.prototype.yP=function(){},y.prototype.X_a=function(){return!1},y.prototype.xXa=function(){return{addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return[]},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0}}},y.prototype.AM=function(){return Promise.resolve({success:!0})},y.prototype.mZa=function(){},y.prototype.LV=function(){},y.prototype.oP=function(){},y.prototype.gwa=function(){},y.prototype.t1a=function(){},y.prototype.MWa=function(){return Promise.reject()},y.prototype.D5a=function(){return Promise.reject()},y.prototype.w6a=function(){return Promise.reject()},y.prototype.Ai=function(){return Promise.reject()},y.prototype.iI=function(){},y.prototype.r9a=function(){return!1},e.ZLa=y},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){var i,n;Object.defineProperties(e,{__esModule:{value:!0}}),e.Jc=e.No=void 0,(n=i||(i={}))[n.dj=0]="STOPPED",n[n.xd=1]="BUFFERING",n[n.Of=2]="REBUFFERING",n[n.ej=3]="STREAMING",n[n.VR=4]="TRACK_SWITCH",e.Jc=i,e.No=function(t){return t===i.xd||t===i.Of||t===i.VR}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),(t=i(2)).__exportStar(i(681),e),t.__exportStar(i(682),e),t.__exportStar(i(683),e)},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.uda=void 0,(t=e.uda||(e.uda={}))[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.pB=1]="HAVE_SOMETHING",t[t.Dx=2]="HAVE_MINIMUM",t[t.RJ=3]="HAVE_ENOUGH"},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){var i;Object.defineProperties(e,{__esModule:{value:!0}}),e.ma=void 0,(t=i||(i={}))[t.zh=0]="STARTING",t[t.xd=1]="BUFFERING",t[t.Of=2]="REBUFFERING",t[t.Kc=3]="PLAYING",t[t.gr=4]="STOPPING",t[t.dj=5]="STOPPED",t[t.hh=6]="PAUSED",e.ma=i},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),(t=i(2)).__exportStar(i(704),e),t.__exportStar(i(705),e),t.__exportStar(i(706),e),t.__exportStar(i(707),e),t.__exportStar(i(708),e),t.__exportStar(i(709),e),t.__exportStar(i(710),e)},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),i(2).__exportStar(i(712),e)},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.Wx=void 0,(t=e.Wx||(e.Wx={}))[t.Kib=0]="PLAYGRAPH_CHANGED",t[t.Lib=1]="PLAYGRAPH_UNCHANGED",t[t.Yhb=2]="NO_MATCHING_SEGMENT_FOUND",t[t.yfb=3]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED",t[t.xfb=4]="EXISTING_SEGMENT_START_TIME_MISMATCHED",t[t.Kjb=5]="SEGMENT_EXTENSION_NOT_SUPPORTED",t[t.lcb=6]="APPENDED_PAST_TRUNCATION_POINT"},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.eza=void 0,n=i(16),t=function(){function t(t){this.config=t}return t.prototype.wn=function(t,e){return this.config.bZ||e!==n.Jc.ej?t.filter((function(t){return t.St})):t},t}(),e.eza=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.rF=void 0,t=i(2),n=i(20),r=t.__importDefault(i(6)),o=i(349),i=function(){function t(t){this.console=t,this.ZTa=[],this.fRa={},this.pUa=!1}return t.prototype.Lq=function(t,e){this.ZTa=t,void 0!==e?this.fRa[e]=t:this.pUa||(this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.pUa=!0)},t.prototype.wn=function(t){var e,i,a,s,u;if(e=this,0===t.length)return t;if(void 0===(s=t[0].W))return this.console.error("StreamFilters: Stream has undefined viewable id"),t;try{null===(i=r.default.Ft)||void 0===i||i.call(r.default,s)}catch(e){return this.console.error("StreamFilters: createFilteredVideoStreamList: "+e),t}return u=null!==(a=this.fRa[s])&&void 0!==a?a:this.ZTa,n.ga&&this.console.trace("VideoBitrateRangesFilter: filtering "+t.length+" streams with "+JSON.stringify(u)),t=t.filter((function(t){return o.cia(t.profile,t.bitrate,u,e.console).inRange})),n.ga&&this.console.trace("VideoBitrateRangesFilter: ... "+t.length+" streams in range"),t},t}(),e.rF=i},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.fza=void 0,t=function(){function t(t){var e;e=this,t.CP&&t.CP.enabled&&t.CP.profiles&&t.CP.profiles.length&&"keepLowest"===t.CP.action&&(this.U0a={},t.CP.profiles.forEach((function(t){return e.U0a[t]=!0})))}return t.prototype.wn=function(t){var e,i;return e={},void 0===(i=this.U0a)?t:t.filter((function(t){return!i[t.profile]||!e[t.profile]&&(e[t.profile]=!0)}))},t}(),e.fza=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.cza=void 0,t=function(){function t(t){this.config=t}return t.prototype.wn=function(t){var e;return e=this.config,t.filter((function(t){return!(void 0!==t.sb&&(t.sb<e.KH||t.sb>e.n2a)||(void 0===t.sb||0>=e.KH)&&t.bitrate<e.Jra||(void 0===t.sb||1/0===e.n2a)&&t.bitrate>e.HNb)}))},t}(),e.cza=t},function(t,e,i){var n;function r(t,e){return e=Math.max(t,e),isNaN(e)?t||-1/0:e}Object.defineProperties(e,{__esModule:{value:!0}}),e.Pya=void 0,n=i(16),t=function(){function t(t){this.config=t,this.b$=0,this.state=n.Jc.dj,this.l3a=r(t.Jra,t.w8),this.Pra=r(t.KH,t.SW)}return t.prototype.wn=function(t,e){var i;if(i=this,e!==this.state){if(this.state=e,e===n.Jc.xd||e===n.Jc.VR)return t;e===n.Jc.Of&&this.L6a()}return t.filter((function(t){return!(void 0!==t.sb&&t.sb<i.Pra||(void 0===t.sb||0>i.Pra)&&t.bitrate<i.l3a)}))},t.prototype.L6a=function(){++this.b$,this.Pra=r(this.config.KH,this.config.SW-this.config.HOb*this.b$),this.l3a=this.config.Jra||-1/0},t}(),e.Pya=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.bza=void 0,n=i(25),t=function(){function t(t){this.config=t}return t.prototype.uYb=function(t){return t%100+1<=this.config.hta},t.prototype.wn=function(t){var e,i,r,o,a,s,u,c,h,f,l;if(u=Number(null===(e=t[0])||void 0===e?void 0:e.J),!(this.config.U4&&this.uYb(u)&&0<this.config.o$.length))return t;if(e=t.length,c=null!==(i=t[e-1].n$)&&void 0!==i?i:0,i=n.ig(this.config.o$,(function(t){return t.Rbc>=c&&t.N7a<=c}))){for(u=0;u<e&&(h=t[Math.max(u-1,0)],(null!==(r=(f=t[u]).n$)&&void 0!==r?r:0)<i.N7a||(null!==(o=h.n$)&&void 0!==o?o:0)<i.N7a||(l=null!==(a=f.sb)&&void 0!==a?a:1/0,(h=null!==(s=h.sb)&&void 0!==s?s:1/0)<i.abc||h<i.$ac&&f.bitrate<i.maxBitrate||!l&&f.bitrate<i.wac));u++);return t.slice(0,u)}return t},t}(),e.bza=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.$ca=e.Aba=void 0,n=i(25),e.Aba={wn:function(t){return t.filter((function(t){return t.ju&&!t.Ez}))}},e.$ca={wn:function(t){return(t=n.ig(t,(function(t){return!!t.ju&&!t.Ez})))?[t]:[]}}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.ada=void 0,e.ada={wn:function(t){return[t[0]]}}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.CC=e.BC=void 0,n=i(351),r=i(99),e.BC=function(t,e){return e&&null!=t&&t.h_a&&(e=new r.mF(e).or(r.aF)),new r.mF(r.Aba).and(null!=e?e:r.aF).or(r.$ca,n.mK.QG).or(r.ada,n.mK.QG)},e.CC=function(t,e){return e&&t.h_a&&(e=new r.mF(e).or(r.aF)),new r.mF(r.Aba).and(new r.eza(t)).and(new r.cza(t)).and(new r.Pya(t)).and(new r.fza(t)).and(t.U4?new r.bza(t):r.aF).and(null!=e?e:r.aF).or(r.$ca,n.mK.QG).or(r.ada,n.mK.QG)}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),(t=i(2)).__exportStar(i(733),e),t.__exportStar(i(355),e)},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}})},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.Fya=void 0,n=i(2),t=function(t){function e(i,n){return(i=t.call(this,e.dEb(i,n))||this).$lb=n,i.name="AggregateError",i}return n.__extends(e,t),e.dEb=function(t,e){return e.reduce((function(t,e){return t+"\n"+e}),t)},Object.defineProperties(e.prototype,{a5:{get:function(){return this.$lb},enumerable:!1,configurable:!0}}),e}(Error),e.Fya=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.pjb=function(){function t(){}return t.decode=function(e){return Object.assign({initialSegment:e.Yd,segments:t.nzb(e.qa)},void 0!==e.ae?{transitionType:e.ae}:{})},t.encode=function(e){return Object.assign({Yd:e.initialSegment,qa:t.WBb(e.segments)},void 0!==e.transitionType?{ae:e.transitionType}:{})},t.WBb=function(e){return Object.keys(e).reduce((function(i,n){return i[n]=t.VBb(e[n]),i}),{})},t.VBb=function(e){return Object.assign({W:e.viewableId,Jb:e.startTimeMs},e.endTimeMs?{Ob:e.endTimeMs}:{},e.defaultNext?{Qe:e.defaultNext}:{},e.weight?{weight:e.weight}:{},e.transitionType?{ae:e.transitionType}:{},e.next?{next:t.TBb(e.next)}:{},e.exitZones?{hq:e.exitZones}:{},e.playbackRate?{playbackRate:e.playbackRate}:{},e.uxSegment?{fv:e.uxSegment}:{})},t.TBb=function(e){return Object.keys(e).reduce((function(i,n){return i[n]=t.UBb(e[n]),i}),{})},t.UBb=function(t){return Object.assign({},void 0!==t.weight?{weight:t.weight}:{},t.transitionType?{ae:t.transitionType}:{})},t.nzb=function(e){return Object.keys(e).reduce((function(i,n){return i[n]=t.mzb(e[n]),i}),{})},t.mzb=function(e){return Object.assign({viewableId:e.W,startTimeMs:e.Jb},e.Ob?{endTimeMs:e.Ob}:{},e.Qe?{defaultNext:e.Qe}:{},e.weight?{weight:e.weight}:{},e.ae?{transitionType:e.ae}:{},e.next?{next:t.kzb(e.next)}:{},e.hq?{exitZones:e.hq}:{},e.playbackRate?{playbackRate:e.playbackRate}:{},e.fv?{uxSegment:e.fv}:{})},t.kzb=function(e){return Object.keys(e).reduce((function(i,n){return i[n]=t.lzb(e[n]),i}),{})},t.lzb=function(t){return Object.assign({},void 0!==t.weight?{weight:t.weight}:{},t.ae?{transitionType:t.ae}:{})},t}()},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(169),e.xC=function(t,e){var i,r,o,a,s,u;return e=(i=void 0===e?{}:e).Bd,r=i.Yd,o=i.qa,i=i.config,a=!(!i||-1===i.Ama.indexOf(t.viewableId)),s=function(t){return Object.keys(t.segments).some((function(e){var i,n;return(null===(i=t.segments[e].ui)||void 0===i?void 0:i.interactionZones)||(null===(n=t.segments[e].ui)||void 0===n?void 0:n.interactionZonesV2)}))}(t)?0:(null==i?void 0:i.zma)||0,i=new n.AB,u=o||t.segments,i.JI(null!=r?r:t.initialSegment).T8a(null!=e?e:t.mediaTypes).hwa(a?"immediate":t.transitionType).bwa(Object.keys(u).reduce((function(e,i){var n,r,o,c,h;if(null==(c=(n=u[i]).weight)&&(c=n.next&&(a||null!==(r=n.exitZones)&&void 0!==r&&r.length)?function(t){var e,i;return(i=(e=Object.keys(t)).length)?e.reduce((function(e,i){return e+(t[i].weight||0)}),0)/i:void 0}(n.next):void 0),null==(r=n.exitZones))t:{if(a&&n.endTimeMs){r=n.endTimeMs-n.startTimeMs;e:{if(n.ui){if(null!=(h=n.ui.interactionZones)&&h.length&&h[0].length){h=h[0][0]-n.startTimeMs;break e}if(null!=(h=n.ui.interactionZonesV2)&&h.length&&h[0].length){h=h[0][0];break e}}h=void 0}if(h&&h<r){r=[[h,r]];break t}if(s&&r>s){r=[[r-s,r]];break t}}r=void 0}return h=n.transitionHint||(!a||s||r?void 0:"lazy"),c={W:t.viewableId,Jb:n.startTimeMs,Ob:(o=n.endTimeMs,null!=o?o:1/0),ae:h,hq:r,weight:c},n.defaultNext&&(c.Qe=n.defaultNext),n.next&&(c.next=function(t){return Object.keys(t).reduce((function(e,i){var n,r;return r=(n=t[i]).weight,n=n.transitionType||n.transitionHint,i=e[i]={},void 0!==r&&(i.weight=r),n&&(i.ae=n),e}),{})}(n.next)),e[i]=c,e}),{})),i.gi()}},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(169),e.NI=function(t,e,i){var r;return(r=new n.AB).JI(e).hwa("lazy").T8a(i).Nk(e,{W:t,Jb:0,Ob:1/0}),r.gi()}},function(t,e,i){var n,r,o;function a(t,e,i){var n;return n={},Object.keys(t).forEach((function(r){r!==e?n[r]=t[r]:n[i]=t[r]})),n}Object.defineProperty(e,"__esModule",{value:!0}),n=i(1),r=i(169),o=i(357),e.Rac=function(t,e){var i,s,u,c,h,f,l,d,p,b;return s=Object.keys(e.qa),o.assert(2===s.length,"Unsupported content playgraph: must have 2 segments"),u=e.Yd,c=s[0]===u?s[1]:s[0],s=e.qa[u],h=e.qa[c],f=h.W,o.assert(s.W!==f,"Unsupported content playgraph: must have different viewableIds"),(l=new r.AB).bwa(t.qa,(function(t){return t.W!==f})),l.NPa(t.qa,(function(t){return t.W===f&&t.Jb>=h.Jb&&(!h.Ob||!!t.Ob&&t.Ob<=h.Ob)})),e=Object.keys(t.qa).filter((function(t){return!l.FIb(t)})),o.assert(1>=e.length,"Unsupported content playgraph: more than one source playgraph segment not contained in content playgraph main segment"),0<e.length?(d=e[0],e=t.qa[d],p=d+":"+u,!e.Ob||e.Ob>h.Jb?(b=d+":"+c,l.Nk(p,n.__assign(n.__assign({},s),{fv:d,Qe:b,next:(i={},i[b]={},i)})),l.Nk(b,n.__assign(n.__assign({},e),{fv:d,Jb:h.Jb}))):l.Nk(p,n.__assign(n.__assign({},s),{fv:d,Qe:e.Qe,next:(b={},b[e.Qe]={},b)})),Object.keys(t.qa).forEach((function(e){var i,r;void 0!==(null===(i=(r=t.qa[e]).next)||void 0===i?void 0:i[d])&&l.Nk(e,n.__assign(n.__assign({},r),{Qe:r.Qe===d?p:r.Qe,next:a(r.next,d,p)}))})),l.JI(t.Yd===d?p:t.Yd)):l.JI(t.Yd),l.gi()}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(357),r=i(358),e.uac=function(t,e,i){var o,a;return o=e.qa[i.O],n.assert(o,"Graph position does not exist"),a=i.offset,n.assert(0<=a,"Graph position offset cannot be negative"),n.assert(!o.Ob||a<o.Ob-o.Jb,"Graph position offset outside segment"),void 0===o.fv?i:(t=t.qa[o.fv],n.assert(t,"Referenced ux playgraph segment must exist"),o.W===t.W?{O:o.fv,offset:o.Jb+a-t.Jb}:(n.assert(o.Ob,"Content playgraph segments from other viewables must have end time"),(a=o.Qe&&e.qa[o.Qe])?null==(e=(e=r.kDb(e,i.O))?e.W!==t.W?t.Jb:e.Ob:0)?(n.assert(t.Ob,"Experience playgraph segment must have end time"),{O:o.fv,offset:t.Ob-t.Jb}):(null!=(t=a.W!==t.W?t.Ob:a.Jb)||n.assert(t,"Experience playgraph segment must have end time"),{O:o.fv,offset:e+i.offset/(o.Ob-o.Jb)*(t-e)}):(n.assert(t.Ob,"Must have definite end time to add terminal content playgraph segment"),{O:o.fv,offset:t.Ob-t.Jb})))}},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.BFa=void 0,n=i(2),r=i(17),o=i(218),a=i(353),t=n.__importDefault(i(6)),s=i(767),(t=new t.default.Console("ASEJS","media|asejs")).trace.bind(t),u=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"],t=function(t){function e(e,i){var n;return(n=t.call(this)||this).I=e,n.th=new s.HEa(e,i),e.TU&&n.RSa(i),n.Xg=new r.Wh,u.forEach((function(t){n.Xg.on(n.th,t,(function(e){return n.emit(t,e)})),n.Km&&n.Xg.on(n.Km,t,(function(e){return n.emit(t,e)}))})),n}return n.__extends(e,t),Object.defineProperties(e.prototype,{Qb:{get:function(){return this.th.Qb},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{In:{get:function(){return this.th.In},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Xu:{get:function(){return this.th.Xu},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{OA:{get:function(){return this.th.OA},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Upa:{get:function(){return this.th.Upa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{dE:{get:function(){return this.th.dE},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Gf:{get:function(){return this.th.Gf},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Kh:{get:function(){return this.th.Kh},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Soa:{get:function(){return this.th.Soa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{BW:{get:function(){return this.th.BW.bind(this.th)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{G5:{get:function(){return this.th.G5.bind(this.th)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{K3:{get:function(){var t;return t=this,function(){t.cva(),t.th.K3()}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{dja:{get:function(){var t;return t=this,function(){t.cva(),t.th.dja()}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Ly:{get:function(){var t;return t=this,function(){t.cva(),t.th.Ly()}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Lp:{get:function(){var t;return t=this,function(e,i,n){var r;null===(r=t.Gf)||void 0===r||r.Lp(e,i,n)}},enumerable:!1,configurable:!0}}),e.prototype.RSa=function(t){return this.Km=new(i(889).uKa)(this.I,this.Ly,this.Lp,t)},e.prototype.xb=function(t,e,i,n,r,o,a,s){void 0===a&&(a=262144),void 0===s&&(s=1048576),this.th.xb(t,e,i,n,r,o),this.Km?this.Km.xb(t,e,i,n,r,o,a,s):this.a1a={Zrb:t,r2b:e,hw:i,OA:n,dE:r,kOb:o,ria:a,hya:s}},e.prototype.OY=function(t,e,i){this.th.OY(t,e,i),this.Km?this.Km.OY(t,e,i):this.f1a={CZb:t,OA:e,dE:i}},e.prototype.createSession=function(t,e,i,n,r,o,a,s,c,h){var f,l,d,p,b;return f=this,s||(s=this.th.config),s.TU&&!this.Km&&(l=this.RSa(this.th.mE),u.forEach((function(t){f.Xg.on(f.Km,t,(function(e){return f.emit(t,e)}))})),this.a1a&&(p=(d=this.a1a).OA,b=d.dE,l.xb(d.Zrb,d.r2b,d.hw,p,b,d.kOb,d.ria,d.hya)),this.f1a&&(d=(b=this.f1a).CZb,p=b.OA,b=b.dE,l.OY(d,p,b))),this.Km&&s&&s.Iaa?(s.wr||s.RH||this.th.Ly(),this.Km.createSession(t,e,i,n,r,o,a,s,c,h)):this.th.createSession(t,e,i,n,r,o,a,s,c,h)},e.prototype.lx=function(t,e,i){if(this.Km)return this.Km.lx(t,e,i);throw Error("Update viewable not supported in legacy.")},e.prototype.addEventListener=function(t,e){return this.addListener(t,e),!0},e.prototype.removeEventListener=function(t,e){return this.removeListener(t,e),!0},e.prototype.Nb=function(){var t;this.Xg.clear(),this.th.Nb(),null===(t=this.Km)||void 0===t||t.Nb(),o.GJ.reset()},e.prototype.cva=function(){var t,e;this.I.wr||this.I.RH||(null===(t=this.Km)||void 0===t?void 0:t.Ka.state)!==a.Os.OPEN||null===(e=this.Km)||void 0===e||e.Ka.Gu.reset()},e}(r.EventEmitter),e.BFa=t},function(t){function e(t,e,i,n){t.trace(":",i,":",n),e(n)}function i(t){this.listeners=[],this.console=t}i.prototype.constructor=i,i.prototype.addListener=function(t,i,n,r){if(n=r?n.bind(r):n,t){if(this.console&&(n=e.bind(null,this.console,n,i)),"function"==typeof t.addListener)t.addListener(i,n);else{if("function"!=typeof t.addEventListener)throw Error("Emitter does not have a function to add listeners for '"+i+"'");t.addEventListener(i,n)}this.listeners.push([t,i,n])}return this},i.prototype.on=i.prototype.addListener,i.prototype.clear=function(){var t;t=this.listeners.length,this.listeners.forEach((function(t){var e,i;e=t[0],i=t[1],t=t[2],"function"==typeof e.removeEventListener?e.removeEventListener(i,t):"function"==typeof e.removeListener&&e.removeListener(i,t)})),this.listeners=[],this.console&&this.console.trace("removed",t,"listener(s)")},t.exports=i},function(t,e,i){t.exports={xjb:i(745),H3b:i(746)}},function(t,e,i){function n(t){this.data=t,this.right=this.left=null,this.red=!0}function r(t){this.cf=null,this.cn=t,this.size=0}function o(t){return null!==t&&t.red}function a(t,e){var i;return i=t.rh(!e),t.Mq(!e,i.rh(e)),i.Mq(e,t),t.red=!0,i.red=!1,i}function s(t,e){return t.Mq(!e,a(t.rh(!e),!e)),a(t,e)}e=i(359),n.prototype.rh=function(t){return t?this.right:this.left},n.prototype.Mq=function(t,e){t?this.right=e:this.left=e},r.prototype=new e,r.prototype.qq=function(t){var e,i,r,u,c,h,f,l,d;if(e=!1,null===this.cf)this.cf=new n(t),e=!0,this.size++;else{for(r=0,u=0,c=null,h=i=new n(void 0),f=null,l=this.cf,h.right=this.cf;null===l?(l=new n(t),f.Mq(r,l),e=!0,this.size++):o(l.left)&&o(l.right)&&(l.red=!0,l.left.red=!1,l.right.red=!1),o(l)&&o(f)&&(d=h.right===c,l===f.rh(u)?h.Mq(d,a(c,!u)):h.Mq(d,s(c,!u))),0!==(d=this.cn(l.data,t));)u=r,r=0>d,null!==c&&(h=c),c=f,f=l,l=l.rh(r);this.cf=i.right}return this.cf.red=!1,e},r.prototype.remove=function(t){var e,i,r,u,c;if(null===this.cf)return!1;(i=e=new n(void 0)).right=this.cf;for(var h,f=null,l=null,d=1;null!==i.rh(d);)r=d,h=f,f=i,i=i.rh(d),d=0<(u=this.cn(t,i.data)),0===u&&(l=i),o(i)||o(i.rh(d))||(o(i.rh(!d))?(h=a(i,d),f.Mq(r,h),f=h):o(i.rh(!d))||null===(u=f.rh(!r))||(o(u.rh(!r))||o(u.rh(r))?(c=h.right===f,o(u.rh(r))?h.Mq(c,s(f,r)):o(u.rh(!r))&&h.Mq(c,a(f,r)),(r=h.rh(c)).red=!0,i.red=!0,r.left.red=!1,r.right.red=!1):(f.red=!1,u.red=!0,i.red=!0)));return null!==l&&(l.data=i.data,f.Mq(f.right===i,i.rh(null===i.left)),this.size--),this.cf=e.right,null!==this.cf&&(this.cf.red=!1),null!==l},t.exports=r},function(t,e,i){function n(t){this.data=t,this.right=this.left=null}function r(t){this.cf=null,this.cn=t,this.size=0}e=i(359),n.prototype.rh=function(t){return t?this.right:this.left},n.prototype.Mq=function(t,e){t?this.right=e:this.left=e},r.prototype=new e,r.prototype.qq=function(t){if(null===this.cf)return this.cf=new n(t),this.size++,!0;for(var e=0,i=null,r=this.cf;;){if(null===r)return r=new n(t),i.Mq(e,r),ret=!0,this.size++,!0;if(0===this.cn(r.data,t))return!1;e=0>this.cn(r.data,t),i=r,r=r.rh(e)}},r.prototype.remove=function(t){var e,i,r;if(null===this.cf)return!1;(i=e=new n(void 0)).right=this.cf;for(var o=null,a=null,s=1;null!==i.rh(s);)o=i,i=i.rh(s),s=0<(r=this.cn(t,i.data)),0===r&&(a=i);return null!==a&&(a.data=i.data,o.Mq(o.right===i,i.rh(null===i.left)),this.cf=e.right,this.size--,!0)},t.exports=r},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.AGa=void 0,n=i(25),r=i(5),t=function(){function t(){this.data={}}return Object.defineProperties(t.prototype,{empty:{get:function(){return 0===Object.keys(this.data).length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{size:{get:function(){var t;return t=this,Object.keys(this.data).reduce((function(e,i){return e+t.data[i].length}),0)},enumerable:!1,configurable:!0}}),t.prototype.get=function(t){var e;return null!==(e=this.data[t])&&void 0!==e?e:[]},t.prototype.has=function(t,e){return!!(t=this.data[t])&&(void 0===e||-1!==t.indexOf(e))},t.prototype.count=function(t){return(t=this.data[t])?t.length:0},t.prototype.keys=function(){return Object.keys(this.data)},t.prototype.values=function(){var t;return t=this,n.flatten(this.keys().map((function(e){return t.data[e]})))},t.prototype.set=function(t,e){return(this.data[t]||(this.data[t]=[])).push(e),this},t.prototype.clear=function(){this.data={}},t.prototype.delete=function(t,e){var i,n;return void 0!==(i=this.data[t])&&(void 0===e?(r.assert(1===arguments.length),delete this.data[t],!0):-1!==(n=i.indexOf(e))&&(1===i.length?delete this.data[t]:i.splice(n,1),!0))},t.prototype.forEach=function(t,e){var i;i=this,t=void 0!==e?t.bind(e):t,this.keys().forEach((function(e){return i.data[e].forEach((function(n){return t(n,e,i)}))}))},t.prototype.reduce=function(t,e,i){var n,r;return n=this,t=void 0!==i?t.bind(i):t,r=e,this.forEach((function(e,i){r=t(r,e,i,n)})),r},t.prototype.map=function(t,e){var i;return i=this,t=void 0!==e?t.bind(e):t,n.flatten(this.keys().map((function(e){return i.data[e].map((function(n){return t(n,e,i)}))})))},t.prototype.filter=function(t,e){var i;return i=this,t=void 0!==e?t.bind(e):t,n.flatten(this.keys().map((function(e){return i.data[e].filter((function(n){return t(n,e,i)}))})))},t}(),e.AGa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.kWa=void 0,e.kWa=function(t,e){return t.filter((function(t){var i,n;return!!(t=null!==(n=null!==(i=t.xj)&&void 0!==i?i:t.Tr)&&void 0!==n?n:t.Mg)&&t.HN(e)})).pop()}},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.yKa=e.xKa=void 0,n=i(25),t=function(){function t(t){this.G=t,this.listeners=[],this.sX=[]}return Object.defineProperties(t.prototype,{value:{get:function(){return this.G},enumerable:!1,configurable:!0}}),t.prototype.set=function(t){var e;this.G=t,e=this.sX,this.sX=[],this.listeners.forEach((function(e){return e(t)})),e.forEach((function(e){return e(t)}))},t.prototype.M7a=function(){this.G=void 0},t.prototype.on=function(t){this.listeners=this.listeners.concat([t]),void 0!==this.G&&t(this.G)},t.prototype.once=function(t){void 0!==this.G?t(this.G):this.sX.push(t)},t.prototype.HD=function(t){this.listeners=this.listeners.filter((function(e){return e!==t})),this.sX=this.sX.filter((function(e){return e!==t}))},t}(),e.xKa=t,t=function(){function t(){this.listeners=[]}return t.prototype.on=function(t,e){this.listeners.push({signal:t,listener:e}),t.on(e)},t.prototype.once=function(t,e){var i,n;i=this,void 0===t.value?(n=function(n){i.remove(t,e),e(n)},this.listeners.push({signal:t,listener:e,Zbb:n}),t.once(n)):t.once(e)},t.prototype.HD=function(t,e){var i,r;void 0!==(r=n.ig(this.listeners,(function(i){return i.signal===t&&i.listener===e})))&&t.HD(null!==(i=r.Zbb)&&void 0!==i?i:r.listener),this.remove(t,e)},t.prototype.removeAllListeners=function(){this.listeners.forEach((function(t){var e,i;return e=t.listener,i=t.Zbb,t.signal.HD(null!=i?i:e)})),this.listeners=[]},t.prototype.remove=function(t,e){this.listeners=this.listeners.filter((function(i){return i.signal!==t||i.listener!==e}))},t}(),e.yKa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.EQ=e.p0a=void 0,e.p0a=function(t){return"function"==typeof(null==t?void 0:t.then)},t=function(){function t(){var t;t=this,this.MOa=!1,this.promise=new Promise((function(e){t.gpb=e}))}return Object.defineProperties(t.prototype,{then:{get:function(){return this.promise.then.bind(this.promise)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Q7a:{get:function(){return this.MOa},enumerable:!1,configurable:!0}}),t.prototype.resolve=function(t){this.MOa=!0,this.gpb(t)},t}(),e.EQ=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.XTa=void 0,e.XTa=function(t){return JSON.parse(JSON.stringify(t))}},function(t,e,i){var n;function r(t,e,i){var o,a,s;if(t===e||!i.$u&&t==e)return!0;if(typeof t!=typeof e)return!1;if(t&&"object"==typeof t){for(var u in t)if(!r(t[u],e[u],i))return!1;if(!i.uub){a=Object.keys(t),s=Object.keys(e).filter((function(t){return 0>a.indexOf(t)}));try{for(var c=n.__values(s),h=c.next();!h.done;h=c.next())if(!r(t[u=h.value],e[u],i))return!1}catch(t){var f;f={error:t}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(f)throw f.error}}}return!0}return!1}Object.defineProperties(e,{__esModule:{value:!0}}),e.szb=void 0,n=i(2),e.szb=function(t,e,i){return void 0===i&&(i={}),r(t,e,i=n.__assign({$u:!1,uub:!1},i))}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.l1=void 0,t=function(){function t(){this.count=0,this.max=this.min=this.Ga=NaN}return Object.defineProperties(t.prototype,{ls:{get:function(){return this.max-this.min},enumerable:!1,configurable:!0}}),t.prototype.push=function(t){this.count++,1===this.count?this.Ga=this.min=this.max=t:(this.min=Math.min(t,this.min),this.max=Math.max(t,this.max),this.Ga+=(t-this.Ga)/this.count)},t.prototype.toJSON=function(){return{min:this.min,max:this.max,average:this.Ga}},t}(),e.l1=t},function(t,e,i){var n;function r(t){this.bP=new Uint16Array(t.length);for(var e=0;e<t.length;++e)this.bP[e]=t.charCodeAt(e)}n=new(i(6).default.Console)("ASEJS_XORCiper","media|asejs"),r.prototype.constructor=r,r.prototype.encrypt=function(t){var e;if(e=this.bP.length,void 0!==this.bP){for(var i="",r=0;r<t.length;++r)i+=String.fromCharCode(this.bP[r%e]^t.charCodeAt(r));return encodeURIComponent(i)}n.warn("XORCiper.encrypt is called with undefined secret!")},r.prototype.decrypt=function(t){var e,i;e="",i=this.bP.length,t=decodeURIComponent(t);for(var n=0;n<t.length;n++)e+=String.fromCharCode(this.bP[n%i]^t.charCodeAt(n));return e},t.exports=r},function(t){function e(t,e){this.Ga=t,this.aj=e}e.prototype.Gta=function(t){var e,i,n,r,o,a;if(e=this.Ga,i=Math.sqrt(2*this.aj),2<=(t*=2))t=-100;else if(0>=t)t=100;else{n=1>t?t:2-t,r=-.70711*((2.30753+.27061*(r=Math.sqrt(-2*Math.log(n/2))))/(1+r*(.99229+.04481*r))-r);for(var s=0;2>s;s++)o=(a=1/(1+(o=Math.abs(r))/2))*Math.exp(-o*o-1.26551223+a*(1.00002368+a*(.37409196+a*(.09678418+a*(a*(.27886807+a*(a*(1.48851587+a*(.17087277*a-.82215223))-1.13520398))-.18628806))))),r+=(o=(0<=r?o:2-o)-n)/(1.1283791670955126*Math.exp(-r*r)-r*o);t=1>t?r:-r}return e-i*t},t.exports=e},function(t,e,i){var n,r,o,a;function s(t,e,i){n.call(this,t,e,i)}function u(t,e){r.call(this,new s(t,e,!1))}n=i(757),r=i(758),o=i(115).yEb,a=i(115).MHb,s.prototype=Object.create(n.prototype),s.prototype.Ga=function(){return Math.floor(8*o(this.Od)/this.Hd)},s.prototype.aj=function(){return Math.floor(64*a(this.Od)/(this.Hd*this.Hd))},s.prototype.get=function(){return{Ga:this.Ga(),aj:this.aj(),i9b:this.Od.length}},s.prototype.toString=function(){return"bsw("+this.wL+","+this.Hd+","+this.bk+")"},u.prototype=Object.create(r.prototype),u.prototype.setInterval=function(t){this.KK.setInterval(t)},t.exports=u},function(t){function e(t,e,i){this.wL=t,this.bk=Math.floor((t+e-1)/e),this.Hd=e,this.Oob=i,this.reset()}e.prototype.shift=function(){this.Od.shift(),this.bi.shift()},e.prototype.update=function(t,e){this.Od[t]+=e},e.prototype.push=function(t){this.Od.push(0),this.bi.push(t||0),this.tb+=this.Hd},e.prototype.add=function(t,e,i,n){var r,o;if(null===this.tb)for(r=Math.max(Math.floor((i-e+this.Hd-1)/this.Hd),1),this.tb=e;this.Od.length<r;)this.push(n);for(;this.tb<i;)if(this.push(n),this.Oob)for(;1<this.Od.length&&i+n-(this.tb-this.Hd*this.Od.length+this.bi[0])>this.wL;)this.shift();else this.Od.length>this.bk&&this.shift();if(e>this.tb-this.Hd)this.update(this.Od.length-1,t);else if(e==i)0<=(n=this.Od.length-Math.max(Math.ceil((this.tb-i)/this.Hd),1))&&this.update(n,t);else for(n=1;n<=this.Od.length;++n)if(o=(r=this.tb-n*this.Hd)+this.Hd,!(r>i)){if(o<e)break;this.update(this.Od.length-n,Math.round(t*(Math.min(o,i)-Math.max(r,e))/(i-e)))}for(;this.Od.length>this.bk;)this.shift()},e.prototype.reset=function(){this.Od=[],this.bi=[],this.tb=null},e.prototype.setInterval=function(t){this.bk=Math.floor((t+this.Hd-1)/this.Hd)},t.exports=e},function(t){function e(t){this.KK=t,this.Ne=0,this.qL=null}e.prototype.add=function(t,e,i){null!==this.qL&&e>this.qL&&(this.Ne+=e-this.qL,this.qL=null),this.KK.add(t,e-this.Ne,i-this.Ne,this.Ne)},e.prototype.stop=function(t){null===this.qL&&(this.qL=t)},e.prototype.Ita=function(t,e){return this.KK.Ita(t,e)},e.prototype.get=function(){return this.KK.get()},e.prototype.reset=function(){this.KK.reset()},e.prototype.toString=function(){return this.KK.toString()},t.exports=e},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t){this.Mlb=t}e=i(362),n=e.ffb,r=e.dfb,o=i(221).efb,a=i(221).Bkb,s=i(363),u=i(364),c=i(365).eLa,h=i(760),f=i(761),l=i(171),d.prototype.constructor=d,d.prototype.create=function(t,e){var i,d,p,b;switch(i=this.Mlb[t],d=e[t],p={},i&&Object.keys(i).forEach((function(t){p[t]=i[t]})),d&&Object.keys(d).forEach((function(t){p[t]=d[t]})),p.type){case"slidingwindow":b=new o(p.mw);break;case"discontiguous-ewma":b=new r(p.mw);break;case"wssl":b=new a(p.mw,p.max_n);break;case"iqr":b=new s(p.mx,p.mn,p.bw,p.iv);break;case"tdigest":b=new u(p);break;case"discrete-ewma":b=new n(p.hl);break;case"tdigest-history":b=new c(p);break;case"iqr-history":b=new h(p);break;case"avtp":b=new l;break;case"entropy":b=new f(p)}return b&&(b.type=p.type),b},t.exports=d},function(t,e,i){var n;function r(){this.Yj=void 0,this.aC=0}n=i(10),r.prototype.getState=function(){return 0!==this.aC&&this.Yj?{p25:this.Yj.Jl,p50:this.Yj.uk,p75:this.Yj.Kl,c:this.aC}:null},r.prototype.Ve=function(t){if(!(!n.Bb(t)&&n.has(t,"p25")&&n.has(t,"p50")&&n.has(t,"p75")&&n.has(t,"c")&&n.isFinite(t.p25)&&n.isFinite(t.p50)&&n.isFinite(t.p75)&&n.isFinite(t.c)))return this.Yj=void 0,this.aC=0,!1;this.Yj={Jl:t.p25,uk:t.p50,Kl:t.p75},this.aC=t.c},r.prototype.get=function(){return{A9:this.Yj,pva:this.aC}},r.prototype.set=function(t,e){this.Yj=t,this.aC=e},r.prototype.reset=function(){this.Yj=void 0,this.aC=0},r.prototype.toString=function(){return"IQRHist("+this.Yj+","+this.aC+")"},t.exports=r},function(t,e,i){var n;function r(t){var e,i;e=t.sw,i=t.mw,this.vL=e,this.ofa={uhd:t.uhdl,hd:t.hdl},this.bk=Math.max(Math.ceil(1*e/i),1),this.rnb=t.mins||1,n.call(this,e,i),this.reset()}n=i(143),new(i(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs"),r.prototype=Object.create(n.prototype),r.prototype.flush=function(){this.Od.map((function(t,e){this.PPa(t,this.Nma(e))}),this)},r.prototype.utb=function(){var t,e,i,n,r,o,a,s;for(e in t=this.ofa)if(t.hasOwnProperty(e)){i=t[e],n=this.nha[e],r=this.mha[e],n.first&&(o=n.first,void 0!==(a=n.lI)&&(r[o][a]+=1),n.first=void 0),n=[],o=0,i=a=i.length+1;for(var u=0;u<a;u++){for(var c=0,h=0;h<i;h++)c+=r[h][u];o+=c,n.push(c)}if(c=-1,o>this.rnb){for(u=c=0;u<a;u++)if(0<n[u])for(h=0;h<i;h++)0<(s=r[h][u])&&(c-=s*Math.log(1*s/n[u]));c/=o*Math.log(2)}this.Nfa[e]=c}return this.Nfa},r.prototype.PPa=function(t,e){for(var i,n,r=this.bk,o=this.ofa;this.R1.length>=r;)this.R1.shift();for(;this.S1.length>=r;)this.S1.shift();if(this.R1.push(t),this.S1.push(e),t=this.R1.reduce((function(t,e){return t+e}),0),0<(e=this.S1.reduce((function(t,e){return t+e}),0)))for(var a in t=8*t/e,o)o.hasOwnProperty(a)&&(e=this.nha[a],r=this.mha[a],i=this.mUb(t,o[a]),void 0!==(n=e.lI)?r[i][n]+=1:e.first=i,e.lI=i)},r.prototype.mUb=function(t,e){for(var i=0;i<e.length&&t>e[i];)i+=1;return i},r.prototype.shift=function(){this.PPa(this.Od[0],this.Nma(0)),n.prototype.shift.call(this)},r.prototype.reset=function(){var t,e,i,r,o,a,s;for(e in this.nha={},this.R1=[],this.S1=[],this.mha={},this.Nfa={},t=this.ofa)if(t.hasOwnProperty(e)){i=this.mha,r=e,a=void 0,s=Array(a),a=o=t[e].length+1;for(var u=0;u<a;u++){s[u]=Array(o);for(var c=0;c<o;c++)s[u][c]=0}i[r]=s,this.nha[e]={first:void 0,lI:void 0},this.Nfa[e]=0}n.prototype.reset.call(this)},t.exports=r},function(t,e,i){var n,r;function o(t){this.I=t,this.MS()}n=i(10),new((r=i(6).default).Console)("ASEJS_NETWORK_HISTORY","media|asejs"),o.prototype.save=function(){var t;t=this.getState(),r.storage.set("nh",t)},o.prototype.jZb=function(){this.WF||(this.WF=!0,this.ny=r.time.ea())},o.prototype.qZb=function(){var t;this.WF&&(t=r.time.ea(),this.sy+=t-this.ny,this.ny=t,this.WF=!1,this.LS=null)},o.prototype.U_a=function(t,e){this.WF&&(e>this.ny&&(this.sy+=e-this.ny,this.ny=e),null===this.LS||t>this.LS)&&(t=e-t,this.XK.push([this.sy-t,t]),this.Jpb(),this.LS=e)},o.prototype.Jpb=function(){var t;t=this.sy-this.I.qPb,this.XK=this.XK.filter((function(e){return e[0]>t}))},o.prototype.MS=function(){var t;t=r.storage.get("nh"),this.eha(t)||(this.ny=r.time.ea(),this.sy=0,this.WF=!1,this.LS=null,this.XK=[])},o.prototype.eha=function(t){return!!(t&&n.has(t,"t")&&n.has(t,"s")&&n.has(t,"i")&&n.Ba(t.t)&&n.Ba(t.s)&&n.isArray(t.i))&&(this.ny=r.time.osa(1e3*t.t),this.sy=1e3*t.s,this.WF=!1,this.XK=t.i.map((function(t){return[1e3*t[0],t[1]]})),this.LS=null,!0)},o.prototype.getState=function(){return this.WF?{t:r.time.now()/1e3|0,s:(this.sy+(r.time.ea()-this.ny))/1e3|0,i:this.XK.map((function(t){return[t[0]/1e3|0,t[1]]}))}:{t:r.time.Rra(this.ny)/1e3|0,s:this.sy/1e3|0,i:this.XK.map((function(t){return[t[0]/1e3|0,t[1]]}))}},t.exports=o},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.hCa=void 0,t=i(2),n=i(764),new(t.__importDefault(i(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs"),i=function(){var t;for(t=2;7!==t;)switch(t){case 8:return e;case 2:e.prototype.reset=function(){var t;for(t=2;1!==t;)if(2===t)this.lE=new n.mAa,t=1},e.prototype.SO=function(t,e){var i;for(i=2;1!==i;)if(2===i)e.ki&&(this.$oa?this.lE.start(t,e.ki):1===e.type&&(this.kz[e.ki]?this.kz[e.ki].UZ+=1:this.kz[e.ki]={ki:e.ki,UZ:1,n5:!1},this.Lab(t))),i=1},e.prototype.rY=function(t,e){var i,n;for(i=2;9!==i;)switch(i){case 2:i=e.ki?1:9;break;case 4:n=this.kz[e.ki],1===e.type&&n&&(--n.UZ,0===n.UZ&&(n.n5&&this.lE.stop(t,e.ki),n.n5=!1,delete this.kz[e.ki]),this.Lab(t)),i=9;break;case 1:i=this.$oa?5:4;break;case 5:this.lE.stop(t,e.ki),i=9}},e.prototype.Wv=function(t,e,i,n){var r;for(r=2;1!==r;)if(2===r)n.ki&&(this.$oa||this.vT===n.ki)&&this.lE.add(t,e,i,n.ki),r=1},e.prototype.Zt=function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.lE.get()}},e.prototype.Lab=function(t){var e,i,n;for(e=2;5!==e;)if(2===e)i=Object.keys(this.kz),n=this.kz[i[0]],1===i.length&&!1===n.n5?(this.lE.start(t,n.ki),this.vT=n.ki):1<i.length&&this.vT&&(i=this.kz[this.vT],this.lE.stop(t,this.vT),i.n5=!1,this.vT=void 0),e=5},t=8}function e(t){var e;for(e=2;4!==e;)if(2===e){"SIYbZr","N","JCp9",this.$oa=t,this.kz={},e=4}}}(),e.hCa=i},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.mAa=void 0,n=i(2).__importDefault(i(171)),t=function(){function t(){var t;for(t=2;5!==t;)if(2===t){"YbZrNJC","p9",this.v2={},t=5}}for(2;;)return t.prototype.add=function(t,e,i,r){var o,a;for(o=2;4!==o;)if(2===o)void 0===(a=this.v2)[r]&&(a[r]=new n.default),a[r].add(t,e,i),o=4},t.prototype.start=function(t,e){var i,r;for(i=2;4!==i;)if(2===i)void 0===(r=this.v2)[e]&&(r[e]=new n.default),r[e].start(t),i=4},t.prototype.stop=function(t,e){var i,n;for(i=2;5!==i;)if(2===i)void 0!==(n=this.v2)[e]&&n[e].stop(t),i=5},t.prototype.get=function(){var t,e,i,n,r,o,a;for(t=2;8!==t;)switch(t){case 5:(i=n[e=r[a]].get())&&o.push({cdnid:e,avtp:i.Ga,tm:i.GC}),t=3;break;case 2:n=this.v2,r=Object.keys(n),o=[],a=0,t=1;break;case 1:t=a<r.length?5:9;break;case 3:a++,t=1;break;case 9:return o}},t}(),e.mAa=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.nHa=void 0,n=i(2).__importDefault(i(171)),t=function(){function t(t){var e;for(e=2;7!==e;)switch(e){case 3:this.t9=t.t9,this.Rsa=[new n.default,new n.default],this.R4a=new n.default,e=7;break;case 2:"SI","YbZrN","JC","p9",this.uY=[0,0],this.bh=[0,0],this.yX=[0,0],e=3}}for(2;;)return t.prototype.reset=function(){var t;for(t=2;4!==t;)switch(t){case 2:this.uY=[0,0],this.bh=[0,0],t=5;break;case 7:this.yX=[7,3],t=7;break;case 5:this.yX=[0,0],t=4}},t.prototype.Wv=function(t,e,i,n){var r,o,a;for(r=2;8!==r;)switch(r){case 9:this.yX[n.type]+=t,r=8;break;case 2:this.bh[n.type]+=t,r=5;break;case 5:r=null!==(o=n.vI)&&void 0!==o&&o.v7()?4:3;break;case 4:this.uY[n.type]+=t,this.R4a.add(t,e,i),this.Rsa[n.type].add(t,e,i),r=3;break;case 3:r=null!==(a=n.vI)&&void 0!==a&&a.m2a(t,e,i,this.t9)?9:8}},t.prototype.i6=function(){for(2;;)return{bytesRequestedPacingVideo:this.uY[1],bytesRequestedPacingAudio:this.uY[0],estimatedBytesPacedVideo:this.yX[1],estimatedBytesPacedAudio:this.yX[0],bytestotalVideo:this.bh[1],bytestotalAudio:this.bh[0],pacedAvtpVideo:this.Rsa[1].get().Ga,pacedAvtpAudio:this.Rsa[0].get().Ga,pacedAvtp:this.R4a.get().Ga}},t}(),e.nHa=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.mEa=void 0,n=i(2).__importDefault(i(171)),t=function(){var t;for(t=2;9!==t;)switch(t){case 2:e.prototype.reset=function(){var t;for(t=2;3!==t;)if(2===t)this.yZ=[0,0],this.Y9=!1,this.pH=new n.default,this.hO=this.jO=0,t=3},e.prototype.Wv=function(t,e,i){var n;for(n=2;1!==n;)if(2===n)this.Y9||(this.pH.add(t,e,i),this.jO++,1==i-e&&this.hO++),n=1},t=5;break;case 5:return e.prototype.LJb=function(t){var e;for(e=2;1!==e;)if(2===e)this.Y9||(++this.yZ[t],this.yZ[1]>=this.UNb&&(this.Y9=!0)),e=1},e.prototype.Z5=function(){for(2;;)return{pH:this.pH.get().Ga,GC:this.pH.get().GC,H_a:this.yZ[0],I_a:this.yZ[1],jO:this.jO,hO:this.hO}},e}function e(t){var e;for(e=2;8!==e;)switch(e){case 2:this.yZ=[0,0],this.pH=new n.default,e=5;break;case 5:this.Y9=!1,this.hO=this.jO=0,e=3;break;case 3:"NJ","Cp9",this.UNb=t||3,e=8}}}(),e.mEa=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v;Object.defineProperties(e,{__esModule:{value:!0}}),e.HEa=void 0,n=i(2),r=n.__importStar(i(10)),t=i(17),o=n.__importDefault(i(28)),a=n.__importDefault(i(768)),s=n.__importDefault(i(6)),u=i(168),c=i(218),n.__importDefault(i(220)),h=n.__importDefault(i(769)),i(366),f=i(5),l=i(772),d=i(874),p=new s.default.Console("ASEJS","media|asejs"),b=p.trace.bind(p),v=p.warn.bind(p),t=function(t){var e;for(e=2;26!==e;)switch(e){case 6:Object.defineProperties(p.prototype,{Kh:{get:function(){for(2;;)return this.H1.Kh},enumerable:!1,configurable:!0}}),Object.defineProperties(p.prototype,{Soa:{get:function(){var t;for(t=2;1!==t;)switch(t){case 4:case 2:return this.wob}},enumerable:!1,configurable:!0}}),e=13;break;case 8:Object.defineProperties(p.prototype,{dE:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.VOa}},enumerable:!1,configurable:!0}}),Object.defineProperties(p.prototype,{Gf:{get:function(){for(2;;)return this.Kv},enumerable:!1,configurable:!0}}),e=6;break;case 2:n.__extends(p,t),Object.defineProperties(p.prototype,{Qb:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.H1.Qb}},enumerable:!1,configurable:!0}}),Object.defineProperties(p.prototype,{In:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.H1.In}},enumerable:!1,configurable:!0}}),Object.defineProperties(p.prototype,{Xu:{get:function(){for(2;;)return this.bha},enumerable:!1,configurable:!0}}),Object.defineProperties(p.prototype,{OA:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.F2}},enumerable:!1,configurable:!0}}),Object.defineProperties(p.prototype,{Upa:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:return!r.ia(this.YOa);case 4:return-r.ia(this.YOa)}},enumerable:!1,configurable:!0}}),e=8;break;case 10:p.prototype.BW=function(t,e){for(2;;)return!(!this.Kv||!(t=this.Kv.BW(t,e)))&&t},p.prototype.Sob=function(t){var e,i;for(e=2;4!==e;)if(2===e){"array, ","mo","vieId",":",this.Qb.lP(null),i=this.RF.indexOf(t),r.ia(i)?v("can't find session in array, movieId:",t.Ge.P.J):(this.RF.splice(i,1),0===this.RF.length&&this.In.qZb(),this.In.save(),this.Kh.save()),e=4}},p.prototype.G5=function(t,e,i){for(2;;)return u.pYa(t,e,i)},p.prototype.K3=function(){var t,e;for(t=2;5!==t;)if(2===t)null===(e=this.Kv)||void 0===e||e.flush(),t=5},e=17;break;case 17:return p.prototype.dja=function(){var t,e;for(t=2;5!==t;)if(2===t)null===(e=this.Kv)||void 0===e||e.tWa(),t=5},p.prototype.Ly=function(){var t,e;for(t=2;5!==t;)if(2===t)null===(e=this.Kv)||void 0===e||e.Yzb(),t=5},p.prototype.Nb=function(){var t;for(t=2;6!==t;)switch(t){case 7:c.GJ.reset(),t=6;break;case 1:this.jga=!1,delete this.H1,t=4;break;case 2:"all ","Sessions ","removed",f.assert(0===this.RF.length,"Attempted to destruct Manager before all Sessions removed"),t=1;break;case 4:delete this.bha,delete this.mE,this.Ly(),delete this.Kv,t=7}},p;case 13:p.prototype.xb=function(t,e,i,n,o,s){var u,f,l;for(u=2;11!==u;)switch(u){case 5:0<l.ru&&(!r.ia(t)&&t>l.ru&&(t=l.ru),e>l.ru&&(e=l.ru)),r.ia(t)&&(this.YOa=e),this.F2=n,this.VOa=o,u=8;break;case 2:f=this,l=this.config,c.GJ.reset(),u=5;break;case 14:u=l.obb||l.Yxa?13:12;break;case 8:a.default(l),this.H1=c.GJ.DYa(l,this.mE),this.bha=new h.default(l),u=14;break;case 13:"cach","e";"cheE","v","i","ct";"dB","ytes";"sc","ard","edByt","es";"f","f","sta","ts",t=function(t){var e;for(e=2;1!==e;)switch(e){case 4:f.emit(t.type,t),e=2;break;case 2:f.emit(t.type,t),e=1}},(e=new d.pDa(this,l,i,s)).addListener("prebuffstats",t),e.addListener("discardedBytes",t),e.addListener("flushedBytes",t),e.addListener("cacheEvict",t),(l.aya||l.$xa)&&e.addListener("mediacache",(function(t){var e;for(e=2;1!==e;)switch(e){case 4:f.emit("",t),e=6;break;case 2:"cach","e",f.emit("mediacache",t),e=1}})),this.Kv=e,u=12;break;case 12:this.jga=!0,u=11}},p.prototype.OY=function(t,e,i){var n;for(n=2;4!==n;)if(2===n)this.YOa=t,this.F2=e||0,this.VOa=i||0,n=4},p.prototype.createSession=function(t,e,i,n,a,u,c,h,f,d){var p;for(p=2;4!==p;)switch(p){case 9:p=this.jga?6:7;break;case 1:return h=h||this.config,this.Qb.reset(),this.In.jZb(),this.bha.reset(),void 0===u&&(u=this.G5(t,e)),r.ia(this.F2)&&(this.F2=s.default.Io()[o.default.Ta.Mb]<=h.OOb?0:h.XO),t=new l.tKa(this,t,d,e,i,n,a,u,c,h,f),this.RF.push(t),t;case 7:v(""),p=1;break;case 2:p=this.jga?1:5;break;case 5:"n: streamingManage","r not init","t","ed",v("open: streamingManager not initted"),p=4}},e=10}function p(e,n){var r,o;for(r=2;13!==r;)switch(r){case 2:(o=t.call(this)||this).config=e,r=5;break;case 4:"EB","U","G:";"ase ver","sion:",e=i(404),b("nf-ase version:",e,"DEBUG:",!1),o.jga=!1,r=8;break;case 8:return"ZrN","JCp9",o.wob=!1,o.RF=[],o;case 5:o.mE=n,r=4}}}(t.EventEmitter),e.HEa=t},function(t,e,i){var n,r,o,a;n=i(5).assert,i(124),r=i(6).default,o=r.$q,a=r.Khb,t.exports=function(){var t,e,i;new r.Console("ASEJSMONKEY","media|asejs"),r.$q.pc||(t=function(t){this.jnb=t},e=a.prototype.appendBuffer,r.MediaSource.pc||(r.MediaSource.pc={}),"undefined"!=typeof nrdp&&nrdp.i3&&(function(t){var e;(e=nrdp.gk.scc.match(/android-(\d*)/))?23<e[1]?t.Xwa=!1:(e=nrdp.gk.z7b.Ct.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),t.Xwa=!!e&&(6<e[1]||6==e[1]&&1<e[2]||6==e[1]&&1==e[2]&&1<=e[3])):t.Xwa=!1,t.YZb=!1}(r.MediaSource.pc),r.MediaSource.pc.sSa=!1,r.MediaSource.pc.w3a=!1),r.$q.pc={wY:{ncb:!0,SR:!0,Whb:!0}},Object.defineProperty(o.prototype,"_response",{get:function(){return this.Bpb||this.Klb},set:function(t){this.Klb=t}}),i=o.prototype.open,o.prototype.open=function(e,n,r,o,a,s,u){return 1===r&&(this.Bpb=new t(this)),i.call(this,e,n,r,o,a,s,u)},o.prototype.iY=function(){this.lL=void 0},a.prototype.appendBuffer=function(i){return i instanceof ArrayBuffer?e.call(this,i):i instanceof t?this.j3(i.jnb):void n(!1)})}},function(t,e,i){var n,r;function o(){this.ky=this.vS=this.Y1=this.l2=this.U1=null}function a(t){this.I=t,this.cC=[],this.kr=new o,this.MS()}n=i(10),i(28),i(9),new((r=i(6).default).Console)("ASEJS_SESSION_HISTORY","media|asejs"),o.prototype.Ve=function(t){var e;return e=!1,t&&n.has(t,"ens")&&n.has(t,"lns")&&n.has(t,"fns")&&n.has(t,"d")&&n.has(t,"t")&&(this.U1=t.ens,this.l2=t.lns,this.Y1=t.fns,this.vS=t.d,this.ky=t.t,e=!0),e},o.prototype.getState=function(){var t;return n.Bb(this.U1)||n.Bb(this.l2)||n.Bb(this.Y1)||n.Bb(this.vS)||n.Bb(this.ky)?null:((t={d:this.vS,t:this.ky}).ens=this.U1,t.lns=this.l2,t.fns=this.Y1,t)},o.prototype.get=function(){var t,e;return(t=this.getState())&&(e=new Date(this.ky),t.dateint=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate(),t.hour=e.getHours()),t},a.prototype.MS=function(){var t;(t=r.storage.get("sth"))&&this.Ve(t)},a.prototype.Ve=function(t){var e,i;return e=null,i=this.I,t.forEach((function(t){var i;(i=new o).Ve(t)?(e=!0,this.cC.push(i)):n.Bb(e)&&(e=!1)}),this),this.cC=this.cC.filter((function(t){return t.vS>=i.E8})),this.cC.sort((function(t,e){return t.ky-e.ky})),!!n.Bb(e)||e},a.prototype.bga=function(){var t;return t=[],this.cC.forEach((function(e){t.push(e.getState())}),this),t},a.prototype.save=function(){var t,e,i;t=this.bga(),e=this.I,(i=this.kr.getState())&&i.d>=e.E8&&(t.push(i),this.cC.push(this.kr)),t.length>e.f8&&(t=t.slice(t.length-e.f8,t.length)),this.kr=new o,t&&r.storage.set("sth",t)},a.prototype.reset=function(){this.kr=new o},a.prototype.aFb=function(){return this.kr.get()},a.prototype.kHb=function(){return this.cC.length+1},a.prototype.rqb=function(t){this.kr.U1=t,this.kr.ky=r.time.ea()},a.prototype.Bqb=function(t){this.kr.l2=t,this.kr.ky=r.time.ea()},a.prototype.vqb=function(t,e){this.kr.Y1=t,this.kr.ky=r.time.ea(),this.kr.vS=e},t.exports=a},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.nFa=void 0,t=function(){function t(t,e,i){this.Fpb=e,this.flb=i,this.H=t}return t.prototype.Ita=function(t){return t=this.cKb(t,this.Fpb)+this.flb,this.Sga=isNaN(t)?NaN:this.mwa(t)},t.prototype.Rub=function(t){return isNaN(this.Sga)?0:this.Sga>t?1:0},t.prototype.cKb=function(t,e){var i;if(i=0,t.length!==e.length)i=NaN;else for(var n=0;n<t.length;n++)i+=t[n]*e[n];return i},t.prototype.mwa=function(t){return 1/(1+Math.exp(-t))},t}(),e.nFa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.JR=void 0,t=function(){function t(t){this.Yj={},this.zga=t,this.gg=[],this.ur=!1,this.SF=void 0}return t.prototype.a3=function(t){this.gg.length===this.zga&&this.gg.shift(),Array.isArray(t)?this.gg=this.gg.concat(t):this.gg.push(t),this.ur=!0},t.prototype.fN=function(){return this.gg.length},t.prototype.fja=function(){var t;return 0<(t=this.gg).length?t.reduce((function(t,e){return t+e}),0)/this.gg.length:void 0},t.prototype.O3=function(){var t,e;if(t=this.gg,e=this.fja(),0<t.length&&void 0!==e)return t=t.reduce((function(t,e){return t+e*e}),0)/t.length,Math.sqrt(t-e*e)},t.prototype.At=function(t){var e,i,n;return(this.ur||void 0===this.SF)&&(this.SF=this.gg.slice(0).sort((function(t,e){return t-e})),this.ur=!1),void 0===this.Yj[t]&&(e=this.SF,i=Math.floor(t/100*(e.length-1)+1)-1,n=(t/100*(e.length-1)+1)%1,this.Yj[t]=i===e.length-1?e[i]:e[i]+n*(e[i+1]-e[i])),this.Yj[t]},t}(),e.JR=t},function(t,e,i){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N;Object.defineProperties(e,{__esModule:{value:!0}}),e.tKa=void 0,t=i(2),r=i(17),o=t.__importStar(i(10)),a=i(142),s=i(773),u=i(168),c=i(16),h=i(214),f=i(235),l=i(236),d=i(819),p=i(820),b=t.__importDefault(i(6)),v=b.default.MediaSource,y=i(9),g=i(5),m=i(170),_=i(384),w=i(822),E=i(823),k=i(385),t=i(42),O=i(824),S=i(825),T=i(386),A=i(857),P=i(396),j=i(864),I=i(400),x=i(870),M=i(871),R=i(872),N=i(873),i=function(){var t;for(t=2;91!==t;)switch(t){case 27:e.prototype.$M=function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.Jd.length}},e.prototype.wpa=function(t,e){var i;for(i=2;9!==i;)switch(i){case 5:return t=this.Jd[t],e=this.Jd[e],t.P.sf.Vg&&e.P.sf.LW||e.P.sf.Vg&&t.P.sf.LW;case 2:i=t===e?1:5;break;case 1:return!0}},e.prototype.M5=function(t){var e;for(e=2;5!==e;)switch(e){case 2:e=(t=this.La.si.children[t])?1:5;break;case 1:return{id:t.O.id,Fe:t.Fe,zd:t.wta,me:t.me,fd:t.z$,Lc:t.Lc}}},e.prototype.Ko=function(){var t;for(2;;)return{id:(t=this.La.si).O.id,Fe:t.Fe,zd:t.wta,me:t.me,fd:t.z$,Lc:t.Lc}},e.prototype.QP=function(t,e){var i;for(i=2;1!==i;)switch(i){case 4:case 2:return this.La.QP(t,e)}},e.prototype.open=function(){var t,e,i,n,r,a,s,u,c,h,f;for(t=2;33!==t;)switch(t){case 22:"tar","t","pl","ay";"gd","at","a",r.Fzb?setTimeout((function(){var t;for(t=2;1!==t;)switch(t){case 2:n.IMa(s).then(h),t=1;break;case 4:n.IMa(s).then(h),t=8}}),0):this.IMa(s).then((function(){var t;for(t=2;1!==t;)if(2===t)setTimeout(h,0),t=1})),a={type:"logdata",target:"startplay",fields:{audiogapconfig:r.XN,audiogapdpi:this.eg.pc&&this.eg.pc.XN,aseApiVersion:this.dG}},this.emit(a.type,a),t=33;break;case 14:"eateM","ediaSourceSta","rt",e=this.IU.Clb(c,a),c.forEach((function(t,i){var r;for(r=2;1!==r;)if(2===r){"e","ad","e","rs","headers"===t?n.FS=e[i]:n.zb.Kf[t].If=e[i],r=1}})),this.Cb.am("createMediaSourceStart"),i=new v(this.V.pG),t=10;break;case 2:n=this,t=1;break;case 4:"e","ader","s",r=this.I,a=this.Ge.P,s=a.J,u=[],c=["headers"],this.Pm&&(u.push(1),c.push(1)),this.yr&&(u.push(0),c.push(0)),this.IU.Kmb(),t=7;break;case 15:i.sourceBuffers.forEach((function(t){var e,o,a;for(e=2;13!==e;)switch(e){case 2:"stA","ppen","d","ed";"p","pen","ded",o=t.mediaType,a=n.zb.Kf[o],t=new l.Jba(a.H,o,i,t,r,!1,n.V,void 0,n.qh.bind(n)),a=new A.CEa(t,o,n.La,n.I,a.H),t.addListener("headerAppended",n.xmb.bind(n)),t.addListener("requestAppended",n.Amb.bind(n)),e=9;break;case 9:"anager","de","bugevent";"gd","a","t","a";"o","r",t.addListener("error",(function(t){var e;for(e=2;1!==e;)if(2===e){"E","rr_MC_Str","ea","mingFailure",n.Ep(t.errorstr,void 0,"NFErr_MC_StreamingFailure"),e=1}})),t.addListener("logdata",(function(t){var e;for(e=2;1!==e;)if(2===e)y.Va(n,t.type,t),e=1})),r.ji&&t.addListener("managerdebugevent",(function(t){var e;for(e=2;1!==e;)switch(e){case 4:y.Va(n,t.type,t),e=0;break;case 2:y.Va(n,t.type,t),e=1}})),n.Pg[o]=t,n.Pv[o]=a,e=13}})),this.ay=new O.JIa(this.Pv,this.nL.bind(this),this.V.Re.bind(this.V)),this.ns&&this.Cb.znb(),a=this.mYa(),this.Cb.iOa(a),h=function(){var t;for(t=2;5!==t;)if(2===t){"do","wn detected before startRequests",n.Cb.Rnb(),n.en()?n.Sb("shutdown detected before startRequests"):n.ypb(),t=5}},t=22;break;case 18:this.eg=i,t=17;break;case 10:t=1===i.readyState?20:34;break;case 20:"ateMediaS","ourceEnd",this.Cb.am("createMediaSourceEnd"),i.pc||(i.pc=v.pc),t=18;break;case 16:throw"r","ror:",this.jn("Error:",i.error),i.error;case 17:t=i.b3(u)?15:16;break;case 1:t=!o.Ba(this.eC)||0>this.eC?5:4;break;case 34:"C_Streaming","Ini","tFailure";" ","in ","init";"r","o","r",":",this.jn("Error:",i.error),this.Ep("exception in init",void 0,"NFErr_MC_StreamingInitFailure"),t=33;break;case 7:f=r.wr,this.mc.Gf&&this.mc.Gf.Lp(f,this.Yl.sessionId),t=14;break;case 5:"_Strea","mingInitFailure";"positive"," number, not ",this.Ep("startPts must be a positive number, not "+this.eC,void 0,"NFErr_MC_StreamingInitFailure"),t=33}},Object.defineProperties(e.prototype,{dG:{get:function(){for(2;;){return".","0","1.0"}},enumerable:!1,configurable:!0}}),e.prototype.Kna=function(){},e.prototype.flush=function(){var t;for(t=2;1!==t;)switch(t){case 2:this.Qi.flush(),t=1;break;case 4:this.Qi.flush(),t=3}},e.prototype.paused=function(){var t;for(t=2;1!==t;)if(2===t)this.V.paused(),t=1},t=32;break;case 48:e.prototype.D6=function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.V.Oo(this.Ge.P)}},e.prototype.JMa=function(t){var e,i,n,r;for(e=2;11!==e;)switch(e){case 1:case 7:return!1;case 8:e=(t===this.dL+1&&n.sf.replace||i&&r)&&this.V.Oo(n)?6:7;break;case 2:e=t>=this.Jd.length?1:5;break;case 6:t=n.sh[0],i=n.sh[1],e=13;break;case 5:i=this.La.Wc.Rd(0),n=this.La.Wc.Rd(1),i=!i||i.Vh,r=!n||n.Vh,n=this.Jd[t].P,e=8;break;case 13:return i=!this.Pm||i&&i.stream.je,!(!(!this.yr||t&&t.stream.je)||!i)}},e.prototype.U2=function(){var t;for(t=2;1!==t;)if(2===t)this.T2(this.dL+1),t=1},e.prototype.T2=function(t){var e,i;for(e=2;6!==e;)switch(e){case 2:e=this.JMa(t)?5:1;break;case 4:e=i.FCb||!i.P.sf.replace?3:9;break;case 5:i=this.Jd[t],e=4;break;case 3:case 1:return!1;case 9:return this.Epb(t),this.mg.Zj(),!0}},e.prototype.Epb=function(t){var e,i,n,r,o,a,s;for(e=2;20!==e;)switch(e){case 3:" ";" ","strea","mingPts:"," ";"st ma","nif","est","Index: ",r.ji&&this.Cb.Bm("switchManifest manifestIndex: "+t+", streamingPts: "+a+", "+s),a=(r=this.Ge).P.sf.Vg,i=[],[1,0].forEach((function(t){var e;for(e=2;1!==e;)if(2===e)n.P.kc(t)&&(i[t]=n.jq(t)),e=1})),a?this.La.FVb(r.P,n.P,i):o.d9a(n.P,i),e=13;break;case 2:n=this.Jd[t],r=this.I,a=(a=(o=this.La.Wc).eb(0))?a.Ic:void 0,e=5;break;case 5:s=(s=o.eb(1))?s.Ic:void 0,e=3;break;case 13:this.RNa(t),n.gsa(),this.Sn.Tfa(),e=10;break;case 10:this.mg.Zj(),e=20}},e.prototype.l4a=function(){var t,e,i,n,r;for(t=2;6!==t;)switch(t){case 1:t=i?5:7;break;case 2:i=(e=this.La.Wc).eb(0),t=1;break;case 8:this.mg.Zj(),t=6;break;case 5:"rted but curre","nt p","laying request not"," found",n=this.V.Re(),r=this.zb.Kf[i.mediaType],(e=this.La.Rt(n,e,0))?i=e.Pa:(this.Sb("onAudioTrackSwitchStarted but current playing request not found"),i=i.Pa),this.Eob(i),r.YP=!1,t=8;break;case 7:"red, no audio pipel","ine",this.Sb("onAudioTrackSwitchStarted ignored, no audio pipeline"),t=6}},e.prototype.eaa=function(t){var e,i,n,r,o,a;for(e=2;35!==e;)switch(e){case 5:return", audio ","disabled",this.Sb("switchTracks rejected, audio disabled"),!1;case 12:e=this.V.getState()===c.ma.Kc?11:19;break;case 4:e=this.zb.Ey?3:9;break;case 19:t=t.pn,a=this.Ge.P.getTrackById(t),e=17;break;case 7:i=this.zb.Kf[0],e=6;break;case 8:return"T","racks re","jected, bu","ffering",this.Sb("switchTracks rejected, buffering"),!1;case 10:e=a<r.y8?20:19;break;case 20:return"witchT","racks rej","ected",", bufferLevelMs",this.Sb("switchTracks rejected, bufferLevelMs",a,"<",r.y8),!1;case 13:n=this.La.Wc,e=12;break;case 9:e=this.V.pg()?8:7;break;case 25:"to",":"," ";return"witchTrack","s current: ",r.ji&&this.Cb.Bm("switchTracks current: "+o+" to: "+a.trackId),i.T8={trackId:t},r=n.eb(0),this.xpb(r),!0;case 2:r=this.I,e=1;break;case 15:o=this.Ge.jq(0).trackId,e=27;break;case 3:return"ks re","jected, previous switch"," stil","l in progress: ",this.Sb("switchTracks rejected, previous switch still in progress: "+JSON.stringify(this.zb.Ey)),!1;case 14:return"t","c","hTracks rejected, previous switch sti","ll waiting to start",this.Sb("switchTracks rejected, previous switch still waiting to start"),!1;case 6:e=i.YP?14:13;break;case 11:a=this.La.dw(n,1),e=10;break;case 16:return"nd trac","kId:",this.Sb("switchTracks can't find trackId:",t),!1;case 1:e=this.yr?4:5;break;case 26:return!1;case 17:e=a?15:16;break;case 27:e=o===a.trackId?26:25}},e.prototype.Lq=function(t,e){var i;for(i=2;1!==i;)if(2===i)this.zb.Lq(t,e),i=1},e.prototype.Rt=function(t,e,i){for(2;;)return this.La.Rt(t,this.La.si,e,i)},e.prototype.Li=function(t){var e;for(e=2;1!==e;)switch(e){case 4:case 2:return this.Sn.Li(t)}},t=59;break;case 104:e.prototype.STb=function(t,e,i){var n,r;for(n=2;6!==n;)switch(n){case 7:this.fT(0),n=6;break;case 2:a.Qm.kq(0),(t=this.Jd[t]).Jxa(e),n=4;break;case 4:n=t.P.H6?3:7;break;case 3:t.jq(0).$d.some((function(t){var e;for(e=2;4!==e;)switch(e){case 5:return!!r;case 1:e=r&&r.stream&&r.stream.U&&i<r.stream.U.Cj(0)?4:5;break;case 2:r=t.Xk(),e=1;break;case 9:r=t.Xk(),e=8;break;case 7:return-~r}})),n=8;break;case 8:r?(t.P.sh[0]=r,t.$X=!1,r.stream.je&&t.L3()):(t.P.sh[0]=void 0,t.$X=!1,t.P.UO([t.jq(0)],!0,0)),n=7}},e.prototype.Kob=function(t,e){var i,n;for(i=2;4!==i;)if(2===i)n=this.Pg[t.mediaType],t=this.La.WX(t.gb,t.mediaType,e,this.mc.OA||0,(function(t){var e;for(e=2;1!==e;)switch(e){case 2:n.h$(t),e=1;break;case 4:n.h$(t),e=9}})),o.ia(t)||this.mg.Zj(),i=4},e.prototype.xmb=function(t){var e,i,n,r;for(e=2;8!==e;)switch(e){case 2:i=t.mediaType,n=t.manifestIndex,r=t.streamId,t=this.La.Wc.eb(i),i=this.Jd[n].P.ww(i,r),e=4;break;case 4:this.rpb(t,i),this.I=this.WSa.Xkb(i.kh,this.I),this.Jd.forEach((function(t,e){var i,n;for(i=2;5!==i;)switch(i){case 2:n=t.P,i=1;break;case 1:n.H6||0===e||n.UO([t.jq(0),t.jq(1)]),i=5}})),e=8}},e.prototype.Amb=function(t){var e,i,n;for(e=2;8!==e;)switch(e){case 2:i=t.request,t=t.mediaType,n=i.Pa.gb,e=4;break;case 4:n.zNb(t),i.s5&&this.Cb.Gnb(i),i.uq&&this.Cb.Unb(t,i.P.Pb,n.O),e=8}},e.prototype.rpb=function(t,e){var i;for(i=2;1!==i;)if(2===i)this.zb.Jw[t.mediaType].AH={id:e.Oa,index:e.Lf,bitrate:e.bitrate,Ra:e.wb&&e.wb.confidence&&e.wb.Ra?e.wb.Ra.Ga:0,location:e.location},i=1},e.prototype.f7=function(t){var e,i,n,r,o,a,s,u,c,h,f;for(e=2;11!==e;)switch(e){case 2:a={},s=this.Pg,u=this.La,e=1;break;case 13:t&&s&&(t=s[1],s=s[0],a.atoappend=null==t?void 0:t.G$(),a.vtoappend=null==s?void 0:s.G$()),e=12;break;case 8:a.abuflbytes=null!==(o=null==h?void 0:h.rn.fa)&&void 0!==o?o:0,a.vbuflmsec=u.dw(c,1),a.abuflmsec=u.dw(c,0),t&&(a.a=null==h?void 0:h.Pa.U.toJSON(),a.v=null==f?void 0:f.Pa.U.toJSON()),e=13;break;case 1:e=u.Wc.Eh?12:5;break;case 12:return a;case 5:h=(c=u.Wc).Rd(0),f=c.Rd(1),a.vspts=null!==(i=null==f?void 0:f.Ic)&&void 0!==i?i:0,a.aspts=null!==(n=null==h?void 0:h.Ic)&&void 0!==n?n:0,a.vbuflbytes=null!==(r=null==f?void 0:f.rn.fa)&&void 0!==r?r:0,e=8}},e.prototype.bZa=function(t){var e,i,n,r,o,a,s;for(e=2;8!==e;)switch(e){case 1:e=s?5:8;break;case 5:return i=this.zb.Jw[t],n=this.La.mG(a,t),i=i.AH?i.AH.bitrate:0,r=s.Pa.Wsa,o=this.La.Fe,{type:t,availableMediaBuffer:b.default.Io()[t]-n,completeBuffer:a.Gh(t),incompleteBuffer:r,playbackBitrate:s.F5a,streamingBitrate:i,streamingTime:s.Ic+o,usedMediaBuffer:n,toappend:s.G2b};case 2:s=(a=this.La.Wc).eb(t),e=1}},e.prototype.RVb=function(){var t,e;for(t=2;5!==t;)if(2===t){"C","ollectio","n",e={type:"requestGarbageCollection",time:b.default.time.ea()},y.Va(this,e.type,e),t=5}},e.prototype.Ep=function(t,e,i,n,r,a,s){var u;for(u=2;5!==u;)if(2===u){"E","rr_MC_Str","ea","mingFailure",void 0===s&&(s=!1),this.L2||(o.ia(i)&&(i="NFErr_MC_StreamingFailure"),this.L2=!0,this.Cb.Ynb(i,t,n,r,a,void 0!==e?e:this.QX,s)),u=5}},e.prototype.tNa=function(){var t;for(t=2;5!==t;)if(2===t){"k fa","il","ures reset!",this.Sb("Network failures reset!"),this.mg.Zj(),t=5}},t=94;break;case 59:e.prototype.c5=function(t,e){var i,n,r,o;for(i=2;6!==i;)switch(i){case 3:i=e?9:8;break;case 2:t=(n=this.zb).ama(t,e),r=this.yg.gua,i=4;break;case 4:t&&!t.DL&&r.Pla(t),i=3;break;case 9:n.ava(),i=6;break;case 8:e=r.MEb();try{for(o=2;1!==o;)if(2===o)this.Cb.Jnb(e),o=1}catch(t){" ","[";"xcep","tio","n:"," [",this.H.error("exception: ["+t.message+"] ["+t.ucc+"]")}i=6}},e.prototype.jja=function(t,e){for(2;;)return n.N4L(3),g.assert(n.j4L(e,0)),this.Jd[e].Mtb(t)},e.prototype.Dt=function(t,e){var i,r,a;for(i=2;7!==i;)switch(i){case 4:r=a.Fe,i=3;break;case 3:return o.Ba(r)||(r=this.Jd[t].Cw),n.Z4L(0),n.j4L(r,e);case 5:i=a?4:8;break;case 2:void 0===t&&(t=this.QX),a=this.La.cDb(e,t),i=5;break;case 8:0<(a=this.La.bma(t)).length&&(r=(a=a[0]).Fe),i=3}},e.prototype.cM=function(t,e){var i,r,a;for(i=2;7!==i;)switch(i){case 5:i=r?4:8;break;case 2:void 0===t&&(t=this.QX),r=this.La.bDb(e,t),i=5;break;case 4:a=r.Fe,i=3;break;case 3:o.Ba(a)||(a=this.Jd[t].Cw),i=9;break;case 9:return n.N4L(1),n.j4L(e,a);case 8:0<(r=this.La.bma(t)).length&&(a=(r=r[0]).Fe),i=3}},e.prototype.nL=function(){var t,e;for(t=2;4!==t;)switch(t){case 1:t=e||this.zb.Ey?5:4;break;case 8:e&&this.zb.Ey,t=8;break;case 2:e=this.V.pg(),t=1;break;case 5:e&&this.Cb.Ega(),this.nT(),this.V.Ve(c.ma.Kc),this.mg.Zj(),t=4}},e.prototype.fha=function(){var t,e,i;for(t=2;3!==t;)switch(t){case 2:e=this,i=this.V.pg(),this.La.Wc.I$(i,(function(t){for(2;;)return e.Pg[t]?e.Pg[t].G$():""})),t=5;break;case 5:this.EK&&(clearTimeout(this.EK),this.EK=void 0),this.ay.ENb(),t=3}},e.prototype.QOa=function(t){var e,i,r;for(e=2;7!==e;)switch(e){case 2:t.Vh=!0,e=1;break;case 8:try{for(i=2;1!==i;)if(2===i)this.c5(c.ma.gr,{Ha:t.Lc}),i=1}catch(t){"ht",": Error evaluating QoE at endOf","Stre","am: ",n.N4L(1),this.Cb.Kn(n.j4L("Hindsight: Error evaluating QoE at endOfStream: ",t))}e=7;break;case 1:t.Xq=!1,r=this.V.Re()||0,t.VL(r),this.zb.cy(),e=9;break;case 9:e=this.Jr&&1===t.mediaType?8:7}},e.prototype.Wob=function(){var t,e;for(t=2;5!==t;)if(2===t)(e=this.mc.Qb)&&(e=e.get())&&e.avtp&&this.Xu.rqb({avtp:e.avtp.Ga}),t=5},e.prototype.ypb=function(){var t,e,i,n;for(t=2;4!==t;)if(2===t){"no longer ","STARTING:";"aile","d to start audio pipeline";"d to start video p","ipeline",this.V.Ve(c.ma.zh),i=(e=this.La.Wc).Rd(0),n=e.Rd(1),this.Pm&&!this.WOa(n)?this.Sb("failed to start video pipeline"):this.yr&&!this.WOa(i)?this.Sb("failed to start audio pipeline"):(this.sOa=!0,this.Jd[0].P.H6=!0,i=this.zb.Kf[1],n=this.zb.Kf[0],(i&&0<i.Eu||n&&0<n.Eu)&&this.Cb.Hnb(String(e.P.J),n?n.Eu:0,i?i.Eu:0,n?n.MX:0,i?i.MX:0),this.V.v0a()?(this.H2(0),this.yr&&(e=this.Ge.R5(0),i=this.Ge.jq(0).trackId,this.Cb.Knb(e,i))):this.Sb("startup, playerState no longer STARTING:",this.V.getState())),t=4}},e.prototype.WOa=function(t){var e,i,n;for(e=2;14!==e;)switch(e){case 1:e=o.ia(n)?5:4;break;case 5:"_MC_","StreamingInitFailure";return"tPipeline"," ","failed",this.en()||this.Ep("startPipeline failed",t.gb.P.Pb,"NFErr_MC_StreamingInitFailure"),!1;case 4:t=t.track.$d[n],e=3;break;case 3:e=t.Xk()?9:8;break;case 2:i=t.mediaType,n=this.zb.jHb(t),e=1;break;case 8:return n=this.Ge.P,t.P.lTa(t,{offset:0,IC:!n.sf.Vg&&!n.ii&&1===i,qw:!this.zb.Kf[i].vDb}),!0;case 9:return!0}},t=72;break;case 2:Object.defineProperties(e.prototype,{addEventListener:{get:function(){for(2;;)return this.addListener.bind(this)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{removeEventListener:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.removeListener.bind(this)}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{oOb:{get:function(){for(2;;)return this.eg.pc},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{mediaSourceId:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:return this.eg?this.eg.TY:void 0;case 4:return this.eg?this.eg.TY:2}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{yr:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:return this.kc(0);case 4:return this.kc(8)}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Pm:{get:function(){var t;for(t=2;1!==t;)switch(t){case 4:return this.kc(9);case 2:return this.kc(1)}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{attributes:{get:function(){for(2;;)return this.kfa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Xg:{get:function(){for(2;;)return this.Gi},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{QX:{get:function(){for(2;;)return 0<=this.j2?this.j2:0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Ge:{get:function(){for(2;;)return this.Jd[this.dL]},enumerable:!1,configurable:!0}}),t=13;break;case 87:e.prototype.cha=function(t,e){var i,n,r,a;for(i=2;9!==i;)switch(i){case 1:i=n.eb(t)?5:9;break;case 2:n=this.La.Wc,i=1;break;case 5:"scha","nged",r=this.zb.Kf[t],a=this.zb.RA[t],o.ia(r.xo)&&(r.xo=e,1===t&&this.yr&&(t=this.zb.Kf[0],o.ia(t.xo)&&(n=n.eb(0)).KI(e),this.emit("ptschanged",e))),o.ia(a.WT)&&(a.WT=e),i=9}},e.prototype.uZa=function(t){var e;for(e=2;1!==e;)if(2===e)this.Ah&&(this.Ah.CNb(t),this.VRa()),e=1},e.prototype.y6=function(t){var e;for(e=2;1!==e;)if(2===e)this.Ah&&(this.Ah.BNb(t),this.VRa()),e=1},e.prototype.VRa=function(){var t,e;for(t=2;4!==t;)switch(t){case 9:t=this.Ah?0:6;break;case 2:t=this.Ah?1:4;break;case 1:"ll","C","omp","leted",e=this.I,this.Ah.$C()||(this.Ah=void 0,e.wr||this.Zx.lC||this.mT("allCompleted")),t=4}},e.prototype.nT=function(){var t,e,i,n,r,a,s,u,h;for(t=2;7!==t;)switch(t){case 2:e=this,i=this.I,n=this.QX,r=this.Jd[n],a=this.La.Wc,s=this.V.Re()||0,u=this.Dt(n,s),h=i.Faa,this.mc.Gf&&void 0!==r.UH&&r.UH-s<=i.d3a&&this.mc.Gf.Lp(!0,this.Yl.sessionId),this.V.getState()===c.ma.Kc&&([1,0].forEach((function(t){var i,n,r,c,f,l,d,p;for(i=2;35!==i;)switch(i){case 6:(l=d.me-s)<h&&(h=l),n=e.zb.Jw[t],c=(r=d.P).Pb,l=d.Pa,i=11;break;case 20:e.j2=c,f=0<c?c-1:null,e.Cb.Mnb(r,s,d.Ou,null!==f?e.Jd[f].P.J:null,f),i=17;break;case 7:i=d?6:21;break;case 10:e.La.SPb(d,d.Ou),i=c>e.j2?20:16;break;case 4:l=p.Pa,p.VL(s),(d=e.La.Rt(s,a,t))&&!d.ef&&(d=e.Pg[t].OLb),i=7;break;case 24:o.ia(d)||d==p.F5a||(p.F5a=d),i=23;break;case 17:u=e.Dt(c,s),i=15;break;case 15:n.WLb=d.Ou,r=d.Oa,i=26;break;case 23:e.Kob(l,s),e.La.hUb(),i=35;break;case 1:p=a.eb(t),i=5;break;case 2:i=e.kc(t)?1:35;break;case 11:i=e.Pm&&1!==t?15:10;break;case 26:r!=n.lqa&&(n.lqa=r,t=e.Jd[c].P.ww(t,r),c=e.Dt(c,d.zd),e.Cb.Wnb(t,d.zd,c,t.P.Pb)),d=d.bitrate,i=24;break;case 21:"find request prese","nting at pla","yerPts:",p.Sb("Unable to find request presenting at playerPts:",s),i=23;break;case 16:e.cL&&d.Ou!=n.WLb&&e.Cb.aob(d.Ou),i=15;break;case 5:i=p?4:35}})),this.La.Is(s,u)),this.mg.Zj(),h=Math.max(h,1),this.gC&&clearTimeout(this.gC),t=8;break;case 8:this.gC=setTimeout(this.nT.bind(this),h),t=7}},e.prototype.I1=function(t){for(2;;)return this.mg.I1(t)},e.prototype.Zj=function(){var t;for(t=2;1!==t;)switch(t){case 4:case 2:return this.mg.Zj()}},e.prototype.$F=function(t,e){var i,n,r;for(i=2;13!==i;)switch(i){case 1:i=r?5:14;break;case 5:n=t.mediaType,t.abort(),t.ed(),t.Gi&&t.Gi.clear(),r.h$(t),i=7;break;case 14:"with no"," request","M","anagaer:",this.Sb("abortRequest with no requestManagaer:",t),i=13;break;case 7:this.Pg[n].h$(t),!0===e&&this.mg.Zj(),i=13;break;case 2:r=t.Pa,i=1}},e.prototype.xpb=function(t){var e,i,n;for(e=2;5!==e;)if(2===e){"newA","u","dioTr","ack set",i=t.mediaType,n=this.zb.Kf[i],o.ia(n.T8)?t.Sb("no newAudioTrack set"):(this.Pg[i].pause(),n.YP=!0,t=this.Ge.jq(0),n=this.Ge.P.getTrackById(n.T8.trackId),this.Cb.Bnb(t,n)),e=5}},e.prototype.Eob=function(t){var e,i,n,r,o,a,s,u,c;for(e=2;27!==e;)switch(e){case 10:this.La.K8a(t,!0),e=20;break;case 18:this.STb(s,r,o),e=17;break;case 19:e=s<this.Jd.length?18:16;break;case 8:"di","oS","witc","h",this.Ah.BVb((function(t){var e;for(e=2;5!==e;)switch(e){case 1:return a.$F(t,!1),!0;case 3:t.mediaType,e=4;break;case 2:e=0===t.mediaType?1:5;break;case 9:return a.$F(t,-6),6}})),this.Ah.$C()||(this.Ah=void 0,u.wr||this.Zx.lC||this.mT("audioSwitch")),e=7;break;case 20:s=this.dL,e=19;break;case 16:t.W6a(n,o),this.SI(0),e=27;break;case 14:this.IU.DOa(0,t.P),c.T8=void 0,this.yg.jP(null),this.Zga(0,T.QR.CWa,t),e=10;break;case 3:r=(n=(i=this.Ge).P.getTrackById(this.zb.Ey.trackId)).oE,o=this.V.Re()-t.Fe,e=9;break;case 7:s=this.mc.G5(i.P.oa,[r],0),this.kfa[0]=s[0],e=14;break;case 9:e=null!==(s=this.Ah)&&void 0!==s&&s.$C()?8:7;break;case 2:a=this,u=this.I,t=t.gb,c=this.zb.Kf[0],this.zb.Ey=c.T8,e=3;break;case 17:++s,e=19}},t=104;break;case 13:Object.defineProperties(e.prototype,{Xu:{get:function(){for(2;;)return this.mc.Xu},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ns:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.$ob}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{DW:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.cL}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zO:{get:function(){var t;for(t=2;1!==t;)switch(t){case 4:case 2:return this.t2}},enumerable:!1,configurable:!0}}),e.prototype.kc=function(t){var e;for(e=2;1!==e;)switch(e){case 2:case 4:return this.Dpb[t]}},e.prototype.pV=function(){for(2;;)return b.default.time.ea()-this.qfa},e.prototype.mYa=function(){for(2;;)return(this.Jd||[]).reduce((function(t,e){var i;for(2;;)return i=e.P,h.zf.forEach((function(e){var n;for(n=2;1!==n;)if(2===n)i.Gw[e]>t[e]&&(t[e]=i.Gw[e]),n=1})),t}),[0,0])},e.prototype.QN=function(){var t;for(2;;)return t=0,o.forEach(this.Ge.P.oa.audio_tracks,(function(e){var i;for(i=2;1!==i;)if(2===i)o.forEach(e.streams,(function(e){var i;for(i=2;1!==i;)if(2===i)t=Math.max(t,e.bitrate),i=1})),i=1})),t},e.prototype.qh=function(t){var e;for(e=2;1!==e;)switch(e){case 4:case 2:return this.Jd[t]}},e.prototype.OFb=function(){var t;for(2;;)return(t=this.Jd[0]).P.sf.Vg?this.Jd[1]:t},t=27;break;case 39:e.prototype.stop=function(){var t;for(t=2;1!==t;)switch(t){case 2:this.Qi.stop(),t=1;break;case 4:this.Qi.stop(),t=7}},e.prototype.ss=function(t,e){var i;for(i=2;1!==i;)switch(i){case 4:case 2:return this.Sn.ss(t,e)}},e.prototype.seek=function(t,e){var i;for(i=2;1!==i;)switch(i){case 4:case 2:return this.Sn.seek(t,e)}},e.prototype.Zn=function(t){var e,i,r,o,a,s,u;for(e=2;18!==e;)switch(e){case 3:"n","de","rfl","ow",this.Uga+=1,i=this.La.Wc,h.zf.forEach((function(e){var n,a,s,u,c;for(n=2;6!==n;)switch(n){case 5:n=o.ji?4:9;break;case 2:s=i.Rd(e),n=1;break;case 4:u=r.Pg[e],c=r.La.mG(i,e),n=3;break;case 3:"toAp","p","en","d: ";"fragm","e","nts:"," ";"ete","St","reaming","Pts: ";" st","re","amingPts:"," ";"t","ials:"," ";"pl","etedBy","t","es: ";" com","pl","et","edMs: ";"diaTyp","e: ";"erf","l","ow: ",u="underflow: "+t+", mediaType: "+e+", completedMs: "+s.YL+", completedBytes: "+c+", partials: "+s.Pa.KD+", streamingPts: "+s.Ic+", completeStreamingPts: "+s.Tp+", fragments: "+JSON.stringify(s.Pa.U)+", toAppend: "+(u&&u.G$()),n=9;break;case 9:o.ji&&r.Cb.Bm(u),s.Gja(),n=7;break;case 1:n=s?5:6;break;case 7:null===(a=s.ah)||void 0===a||a.MVb(),n=6}})),this.Ge.P.sk(),this.emit("underflow"),this.H2(2),e=13;break;case 2:"anch","Off","set",":";"stOf","fse","t",":";"tP","t","s:";"oin","g to BUFFERING at p","layer pts:",r=this,o=this.I,a=this.Dt(this.QX,t),this.Sb("underflow: going to BUFFERING at player pts:",t,"contentPts:",a,"entry.manifestOffset:",this.Ge.Cw,"branchOffset:",this.La.Fe),s=o.gA,this.Pg.forEach((function(e){var i;for(i=2;1!==i;)if(2===i)s=Math.max(0,Math.min(s,e.sna-t)),i=1})),e=3;break;case 11:try{for(u=2;1!==u;)if(2===u)this.c5(c.ma.xd),u=1}catch(t){"ht: Error when ","evaluat","ing QoE at Buf","fering: ",n.N4L(1),this.Cb.Kn(n.j4L("Hindsight: Error when evaluating QoE at Buffering: ",t))}e=10;break;case 13:this.mg.Zj(),e=12;break;case 10:a=(a=this.mc.Qb.get()).confidence?a.Ra.Ga:0,s>o.ICb&&a>o.HCb&&this.fha(),e=18;break;case 12:e=this.Jr?11:10}},e.prototype.Vn=function(t){for(2;;)return this.Sn.Vn(t)},e.prototype.Cr=function(t,e,i){for(2;;)return this.Sn.Cr(t,e,i)},e.prototype.RNa=function(t){var e,i;for(e=2;3!==e;)switch(e){case 5:this.Cb.Onb(t,i),this.Cb.iOa(i.P.Gw),e=3;break;case 2:this.dL=t,i=this.Jd[t],e=5}},e.prototype.AL=function(t,e){var i,n,r,a,u,c,f,l,d;for(i=2;35!==i;)switch(i){case 7:"n fastplay but not"," d","rm m","anifest, leaving space for it",e.zO&&(this.t2=!0),l=this.Jd.length,e.replace&&1!==l?l=1:this.Ge.P.sf.Vg&&!e.replace&&1===l&&(this.Sb("addManifest in fastplay but not drm manifest, leaving space for it"),l=this.Jd[0].clone(),this.Jd.push(l),l=this.Jd.length),d=e.Z||0,i=12;break;case 9:i=!e.U$b&&(this.yr&&l.Xq||this.Pm&&d.Xq)?8:7;break;case 5:": pipelines a","lr","eady shu","tdown",this.Sb("addManifest: pipelines already shutdown"),i=35;break;case 24:" ";"treamA","ppended: (";" ";"mCo","unt: ","(";"a","yerState: ";"ani","fest, cur","ren","tPts: ",e=this.zb.Jw[0].AH,l=this.zb.Jw[1].AH,f.ji&&this.Cb.Bm("addManifest, currentPts: "+this.V.Re()+" playerState: "+this.V.getState()+" streamCount: ("+t.jq(0).$d.length+", "+t.jq(1).$d.length+") lastStreamAppended: ("+e+", "+l+")"),i=21;break;case 15:this.Jd[l]&&this.Jd[l].ed(),this.Jd[l]=t,t.HRa(),e.replace||this.La.Lqb(u,d,a),i=24;break;case 19:"o","l","e","an";"_tr","ac","ks";"r","a","c","ks",n=["audio_tracks","video_tracks"],r=this.mYa(),e.replace&&n.forEach((function(t,e){var i,n,o;for(i=2;3!==i;)switch(i){case 5:n=c.Jd[0].P,Object.keys(o).forEach((function(t){var i,a;for(i=2;5!==i;)if(2===i)(a=n.ww(e,t))&&a.je&&(o[t].h4(a),(t=u.Gw)[e]>r[e]&&(r[e]=t[e])),i=5})),i=3;break;case 2:o=u.UC(e),i=1;break;case 8:o=u.UC(e),i=4;break;case 1:i=o?5:3}})),n.forEach((function(t,e){var i,n;for(i=2;5!==i;)if(2===i)(n=u.UC(e))&&Object.keys(n).forEach((function(t){var i;for(i=2;1!==i;)if(2===i)n[t].Nab(b.default.Io()[e],u.Oz()?f.u2a:0),i=1})),i=5})),t.zT="boolean"!=typeof e.psb||e.psb,i=15;break;case 12:a=e.Ha,t=s.jda.create({Pb:l,oa:t,Wo:void 0,r8a:e.MP||[this.Ge.R5(0),this.Ge.R5(1)],Vg:!1,j0a:!!e.replace,ii:!!e.ii,Bd:h.s8(!!e.GT,!!e.sE),Z:d,Ha:a,Cb:this.Cb,Pr:this.tNa.bind(this),ac:this,config:this.I,H:this.H,mg:this.mg,Sn:this.Sn,Gf:this.mPa?this.mc.Gf:void 0,aD:this.aD}),i=10;break;case 8:"red, pipelines ","already set ","EOS",":",this.Sb("addManifest ignored, pipelines already set EOS:",l.Xq,d.Xq),i=35;break;case 10:u=t.P,(e.Psb||this.BMa)&&this.zb.Lq(e.Psb||this.BMa,u.W),i=19;break;case 2:c=this,f=this.I,i=1;break;case 1:i=this.en()?5:4;break;case 4:e||(e={}),l=this.La.Wc.Rd(0),d=this.La.Wc.Rd(1),i=9;break;case 21:this.yr&&o.ia(e)||this.Pm&&o.ia(l)||(t.P.UO([t.jq(0),t.jq(1)]),this.U2()),i=35}},e.prototype.tT=function(t){for(2;;)return this.Sn.tT(t)},e.prototype.gz=function(t){var e,i,r,a,s,u;for(e=2;7!==e;)switch(e){case 5:o.ia(a)&&(a=!0),i=this.La.Wc.Rd(0),r=this.La.Wc.Rd(1),e=3;break;case 1:e=this.en()?7:5;break;case 2:u=this.I,e=1;break;case 3:"mRe","ady";"yS","ta","te: ";"r mov","ie","Id: ";" ";"dy at str","eaming pts: ",u.ji&&this.Cb.Bm("drmReady at streaming pts: "+(i?i.Ic:null)+", "+(r?r.Ic:null)+" for movieId: "+t+" readyState: "+a),n.Z4L(1),this.V.LY(n.J4L(t,""),a),a&&(this.Pg.forEach((function(t){var e;for(e=2;5!==e;)if(2===e)u.u5&&t.wWa(),t.gz(),e=5})),u.Vaa&&this.fT(),this.Ge.P.sf.Vg&&this.T2(this.Sn.WB?this.Sn.WB.Pb:this.dL+1),u.wr||(null===(s=this.Ah)||void 0===s?0:s.$C())||this.Zx.lC||this.mT("drmReady"),this.Sn.Tfa()),e=7}},t=48;break;case 72:e.prototype.H2=function(t,e){var i,n,r,o,a,s;for(i=2;19!==i;)switch(i){case 2:n=this,r=this.I,o=this.zb.Kf[0]||{},a=this.zb.Kf[1]||{},s=this.zb.RA[1]||{},(this.zb.RA[0]||{}).WT=void 0,s.WT=void 0,this.V.Ve(2===t?c.ma.Of:c.ma.xd),this.Cb.Enb(e),this.ay.reset(),i=8;break;case 8:"ta","rtBu","fferin","g",this.Ge.P.Dsa(),this.emit("startBuffering"),h.zf.forEach((function(e){var i;for(i=2;5!==i;)switch(i){case 2:i=(e=n.La.Wc.Rd(e))?1:5;break;case 1:e.Via=0,e.seeking=0===t||1===t,e.Gja(),i=5}})),this.qfa=b.default.time.ea(),o.yl=a.yl=this.qfa,0===t&&(!this.Pm||0<a.Eu)&&(!this.yr||0<o.Eu)&&this.zb.cy(),i=11;break;case 11:r.UU&&(this.Lfa=setTimeout((function(){var t;for(t=2;1!==t;)switch(t){case 2:n.Wob(),t=1;break;case 4:n.Wob(),t=6}}),r.ula)),this.V.pg()&&(this.EK=setTimeout((function(){var t;for(t=2;1!==t;)if(2===t)n.zb.cy(),t=1}),r.vA)),this.mg.Zj(),i=19}},e.prototype.mT=function(t){var e,i;for(e=2;3!==e;)if(2===e){"tingData"," still has lock:";"eHeaderCache",":",n.Z4L(1),t=n.J4L("wipeHeaderCache:",t),this.Zx.lC&&this.Kk("AdoptingData still has lock:"+t),(i=this.I).RH||(i.ji&&this.Cb.Bm(t),this.mc.Ly(),this.Ah&&(this.Ah=void 0)),e=3}},e.prototype.IMa=function(t){var e,i,n,r,a;for(e=2;13!==e;)switch(e){case 9:return this.mc.dja(),Promise.resolve();case 2:"e","d request list still retained was ","unexpected",i=this,null!==(n=this.Ah)&&void 0!==n&&n.$C()&&this.Kk("Previously adopted request list still retained was unexpected"),this.Ah=void 0,r=this.I,e=3;break;case 3:e=this.Qpb&&this.mc.Gf?8:9;break;case 8:return"For","H","cd","Start",this.Cb.am("checkForHcdStart"),this.Jd.forEach((function(e){var i;for(i=2;1!==i;)if(2===i)e.P.J===t&&(a=e),i=1})),this.mc.Gf.fNb(t,a?a.P:void 0).then((function(t){var e,n,a;for(e=2;8!==e;)switch(e){case 4:return"ptH","cdStar","t",n=i.La.Wc.Rd(0),a=i.La.Wc.Rd(1),i.Cb.am("adoptHcdStart"),i.Zx.Xbb((function(){var e,o,u;for(e=2;7!==e;)switch(e){case 2:o=Promise.resolve(),i.Pm&&(o=s(a,t)),u=Promise.resolve(),e=4;break;case 4:return"o","pt","H","cdEnd",!i.yr||r.PZa&&!o||(u=r.PZa?o.then((function(e){var i;for(i=2;1!==i;)switch(i){case 2:case 4:return e?s(n,t):Promise.resolve()}})):s(n,t)),i.wNa=t,i.Cb.am("adoptHcdEnd"),Promise.all([o,u])}}));case 1:e=o.ia(t)?5:4;break;case 5:return"a","NotFound",r.wr||i.Zx.lC||i.mT("headerCacheDataNotFound"),Promise.resolve();case 2:"h","eckF","orHc","dEnd",i.Cb.am("checkForHcdEnd"),e=1}})).then((function(){var t,e;for(t=2;5!==t;)if(2===t){"doptedCompl","etedReq","u","ests",r.wr||null!==(e=i.Ah)&&void 0!==e&&e.$C()||i.Zx.lC||!i.V.Oo(i.Ge.P)||i.mT("adoptedCompletedRequests"),t=5}})).catch((function(t){var e;for(e=2;1!==e;)if(2===e){"omise caught erro","r:",i.Sb("headerCache:lookupDataPromise caught error:",t),e=1}}))}function s(t,e){var n,r,a,s,u,c,h,f;for(n=2;10!==n;)switch(n){case 2:a=e[r=t.mediaType],s=Promise.resolve(void 0),n=1;break;case 5:u=a.Oa,c=a.header.stream,h=i.zb.Kf[r],f=i.zb.RA[r],o.ia(e.bD)||i.yg.O8a(e.bD,e.Lo,e.Mo),f.Kz=e.Kz,f.rw=e.rw,n=8;break;case 1:n=a?5:11;break;case 8:n=t.k2b(u)?6:7;break;case 6:n=a.header?13:14;break;case 14:return" hea","de","r for streamId:",t.Kk("adoptPipeline no header for streamId:",u),s;case 7:case 11:return s;case 13:e=i.Ge.P,n=12;break;case 12:e.Z2(a.header,!e.sf.Vg&&!e.ii&&1===r,!0)&&(void 0!==t.cI&&t.KI(t.cI),s=e.Xk(r,u).stream.U.zn(t.Ic,void 0,!0),e=c.Wk(s),c=e.Z,(e=e.jma(t.Ic))&&0<e.Ed&&(c=e.Ed),t.Ic!==c&&(t.mP(c,s),i.cha(r,c)),s=i.Qkb(t,a.data).then((function(){for(2;;)return u})),h.vDb=!0,0===r&&i.yg.jP(a.header.bitrate)),n=11}}},e.prototype.Qkb=function(t,e){var i,n,r,a,s,u,c,h;for(i=2;9!==i;)switch(i){case 2:n=this,i=1;break;case 1:i=0===e.length?5:4;break;case 5:return Promise.resolve();case 4:return r=t.R7,a=r.O,s=Math.min(this.Jd[0].Ha||1/0,r.Lc||1/0),u=t.mediaType,c=this.zb.Kf[u],this.Zx.Xbb((function(){var i,r;for(i=2;3!==i;)switch(i){case 5:f(),i=1;break;case 2:r=[],i=1;break;case 8:r=[],i=9;break;case 1:i=0<e.length?5:4;break;case 6:f(),i=2;break;case 4:case 14:return Promise.all(r)}function f(){var i,f;for(i=2;5!==i;)if(2===i){"tData, not ado","pting fail","ed mediaRequest:";"not adopting aborted mediaR","e","quest:",7===(f=e.shift()).readyState?t.Sb("adoptData, not adopting aborted mediaRequest:",f.toString()):6===f.readyState?(t.Sb("adoptData, not adopting failed mediaRequest:",f.toString()),n.$F(f,!1)):t.Ic>=f.fd&&t.Ic<f.Lc&&(t.Ic<s||!o.Ba(s))?(r.push(n.Rkb(t,f).then((function(){var t;for(t=2;1!==t;)if(2===t)f.complete&&n.uZa(f),t=1}))),t.NXb(f.Lc),o.Ba(s)&&t.Ic>=s&&n.Cb.Fga(a,f.Lc),0===u&&n.yg.jP(f.bitrate),f.complete?(c.Eu+=f.duration,f.OMb&&(c.MX+=f.duration),h=f):(n.Ah||(n.Ah=new S.Eya(n.H)),n.Ah.push(f))):n.$F(f,!1),i=5}}})).then((function(){var e,i,o;for(e=2;8!==e;)switch(e){case 4:o=n.Jd[r.P.Pb],void 0!==(i=t.dma(t.Ic))?(t.Jn=i,t.ie=o.P.sh[u].stream.Wk(t.Jn)):t.Jn=t.Hf?t.Hf.index+1:t.Jn+1,e=8;break;case 5:e=h||null!==(o=n.Ah)&&void 0!==o&&o.$C()?4:8;break;case 2:h&&t.vZa(h),e=5}}))}},e.prototype.Rkb=function(t,e){var i,n;for(2;;){"p","ts:"," ";"tat","e:"," ";return"diaReq","uest:"," type:"," ",i=this,n=t.mediaType,this.I.ji&&this.Cb.Bm("adoptMediaRequest: type: "+n+", state: "+e.readyState+", pts: "+e.fd),this.cha(n,e.fd),t.Pa.erb(e).catch((function(t){var e;for(e=2;1!==e;)if(2===e){" re","quests",i.Kk("Error adopting requests",t),e=1}}))}},e.prototype.Zga=function(t,e,i){var n,r;for(n=2;9!==n;)if(2===n)r=this,void 0===e&&(e=T.QR.Dia),(i||this.La.Wc).bva(t,e),this.ay.reset(),(void 0===t?h.zf:[t]).forEach((function(t){var e;for(e=2;1!==e;)if(2===e)r.kc(t)&&(r.Pv[t].reset(),r.epb(t),r.yg.KQb(t)),e=1})),n=9},e.prototype.Hwa=function(){var t,e;for(t=2;5!==t;)if(2===t)e=this,h.zf.forEach((function(t){var i,n;for(i=2;5!==i;)if(2===i)null===(n=e.Pv[t])||void 0===n||n.stop(),i=5})),t=5},e.prototype.SI=function(t){var e;for(2;;)return e=this,(void 0===t?h.zf:[t]).forEach((function(t){var i,n;for(i=2;5!==i;)if(2===i)null===(n=e.Pv[t])||void 0===n||n.resume(),i=5})),Promise.resolve()},e.prototype.fT=function(t){var e,i,n;for(e=2;3!==e;)if(2===e)i=this,t=void 0===t?h.zf:[t],null===(n=this.ay)||void 0===n||n.reset(),t.forEach((function(t){var e,n;for(e=2;5!==e;)if(2===e)null===(n=i.Pv[t])||void 0===n||n.resume(),e=5})),e=3},e.prototype.epb=function(t){var e,i;for(e=2;3!==e;)if(2===e)i=this.zb.Kf[t],this.zb.Jw[t].lqa=void 0,i.Eu=0,i.MX=0,e=3},t=87;break;case 32:e.prototype.sta=function(){},e.prototype.close=function(){var t;for(t=2;4!==t;)if(2===t)this.C8a.Nb(),this.Jd.forEach((function(t){var e;for(e=2;1!==e;)switch(e){case 4:t.close(),e=8;break;case 2:t.close(),e=1}})),this.Qi.close(),t=4},e.prototype.h7a=function(){var t;for(t=2;1!==t;)switch(t){case 4:this.mc.Sob(this),t=9;break;case 2:this.mc.Sob(this),t=1}},e.prototype.ed=function(){var t,e;for(t=2;20!==t;)switch(t){case 12:"on M","edia","Source"," destroy: ",e=this.eg,this.eg=void 0,o.ia(e)||e.Yp()||this.Sb("Error on MediaSource destroy: ",e.error),t=20;break;case 2:this.yg.wQb(),this.E1(),this.La.Nb(),t=3;break;case 3:this.IU.Olb(),null===(e=this.ay)||void 0===e||e.reset(),this.Pv.forEach((function(t){var e;for(e=2;1!==e;)if(2===e)t.reset(),e=1})),this.V.Ve(c.ma.dj),this.Jd.forEach((function(t){var e;for(e=2;1!==e;)switch(e){case 4:t.ed(),e=7;break;case 2:t.ed(),e=1}})),this.Jd=[],t=13;break;case 13:this.Gi.clear(),t=12}},e.prototype.suspend=function(){var t;for(t=2;1!==t;)switch(t){case 4:this.Qi.suspend(),t=6;break;case 2:this.Qi.suspend(),t=1}},e.prototype.resume=function(){var t;for(t=2;1!==t;)if(2===t)this.Qi.resume(),t=1},e.prototype.en=function(){for(2;;)return this.Qi.en()},e.prototype.tpb=function(){var t,e;for(t=2;8!==t;)switch(t){case 4:this.$x||(this.$x=setInterval(this.Cb.gOa.bind(this.Cb),e.ML)),this.M2||(this.M2=setInterval(this.Cb.$nb.bind(this.Cb),e.Rwa)),this.ns&&!this.A1&&(this.A1=setInterval(this.Cb.fOa.bind(this.Cb),e.n3)),t=8;break;case 2:e=this.I,this.gC&&clearTimeout(this.gC),this.gC=setTimeout(this.nT.bind(this),e.Faa),t=4}},e.prototype.E1=function(){var t;for(t=2;7!==t;)switch(t){case 9:this.Lfa&&(clearTimeout(this.Lfa),this.Lfa=void 0),this.mg.E1(),t=7;break;case 2:this.gC&&(clearTimeout(this.gC),this.gC=void 0),this.$x&&(clearInterval(this.$x),this.$x=void 0),this.M2&&(clearInterval(this.M2),this.M2=void 0),this.A1&&(clearInterval(this.A1),this.A1=void 0),this.EK&&(clearTimeout(this.EK),this.EK=void 0),t=9}},e.prototype.play=function(){var t;for(t=2;1!==t;)if(2===t)this.Qi.play(),t=1},t=39;break;case 94:return e.prototype.Bmb=function(t,e){var i;for(i=2;5!==i;)if(2===i)e=u.qYa(e),this.kfa[t.mediaType]=e,i=5},Object.defineProperties(e.prototype,{Ey:{set:function(t){var e;for(e=2;1!==e;)if(2===e)this.zb.Ey=t,e=1},enumerable:!1,configurable:!0}}),e}function e(t,e,i,o,a,u,c,l,v,g,O){var S,T,A,C,L,D;for(S=2;74!==S;)switch(S){case 18:this.Qi=new R.REa(this,this.H,this.kc.bind(this),D),S=17;break;case 37:"edia","cache",this.Gi.on(this.mc.Gf,"mediacache",(function(t){var e;for(e=2;1!==e;)if(2===e){"a","ch","e",y.Va(C,"mediacache",t),e=1}})),S=36;break;case 39:"debuge","vent",this.Gi.on(this.mc.Gf,"managerdebugevent",(function(t){var e;for(e=2;1!==e;)switch(e){case 2:y.Va(C,t.type,t),e=1;break;case 4:y.Va(C,t.type,t),e=0}})),S=38;break;case 65:this.Jd=[e],this.yg=new j.Gya(this,this.H,t,this.mc.Qb,g,this.QN(),a,this.kc.bind(this),D),S=63;break;case 36:L&&g.yM&&!g.mBb&&(g.set?g.set({enableAdaptiveParallelStreaming:!1}):g.yM=!1),0==Math.floor(1e6*Math.random())%g.GL&&(this.$ob=new d.NJa(g)),this.Pv=[],this.Pg=[],this.C8a=new f.Uca(e,this.mc.Qb,this.mc.Kh,this.I,void 0),t=this.C8a.sHb(),a=null,S=48;break;case 14:T=new N.LGa(this,this.H),S=13;break;case 40:S=g.ji&&this.mc.Gf?39:38;break;case 43:this.Sn=new x.kKa(this,this.H,this.kc.bind(this),T),this.mg=new M.yBa(this,this.H,this.kc.bind(this)),this.IU=new w.xBa(this,this.H,T),S=40;break;case 63:S=g.Ala&&this.yg.r7?62:59;break;case 9:"edia|as","ejs";"S","EJS",this.H=new b.default.Console("ASEJS","media|asejs","("+c.sessionId+")"),this.Kk=this.H.error.bind(this.H),this.Sb=this.H.warn.bind(this.H),this.jn=this.H.trace.bind(this.H),S=14;break;case 35:this.V=new E.Sya(v),this.eC=a||0,this.dL=0,this.kfa=l,S=31;break;case 23:this.Qpb=!!u.Yxa,this.cL=u.DW,this.z2=void 0,S=35;break;case 31:this.L2=!1,this.FS=void 0,S=29;break;case 62:for(var U in g=g.RIb)i=g[U],g.hasOwnProperty(U)&&i&&(this.I[U]=i);S=60;break;case 77:A=this,S=76;break;case 38:S=(g.aya||g.$xa)&&this.mc.Gf?37:36;break;case 2:"bZrN","JCp9",C=this,this.Zx=new k.HJa,this.BMa=[],this.aD={Lv:[Object.create(null),Object.create(null)]},S=9;break;case 48:g.UU&&(a=this.mc.Xu.cC),m.ux.instance().reset(),(e=s.jda.create({Pb:0,oa:e,Wo:i,r8a:o,Vg:!!u.Vg,j0a:!1,ii:!!u.ii,Bd:h.s8(!!u.GT,!!u.sE),Z:0,Ha:u.Ha,Cb:this.Cb,Pr:this.tNa.bind(this),ac:this,config:this.I,H:this.H,mg:this.mg,Sn:this.Sn,Gf:this.mPa?this.mc.Gf:void 0,aD:this.aD})).zT=!0,S=65;break;case 17:this.Dpb=[!u.sE,!u.GT],this.kc(0)&&this.kc(1),this.mc=t,this.Yl=c,this.I=g=this.WSa.Wkb(e,g),this.t2=u.zO,this.mPa=!!u.obb,S=23;break;case 29:this.j2=-1,this.Uga=0,this.Gi=new r.Wh,S=43;break;case 60:this.yg.Kxa(this.I),S=59;break;case 59:U=e.P,this.La=new P.Iba(this,this.Cb,this.H,this.fha.bind(this),U,this.eC,this.I,this.mg,this.V,this.pV.bind(this)),g={DW:this.DW,ns:this.ns,Pm:this.Pm,zO:this.zO},this.zb=new I.LKa(this.H,this.yg,this.I,this.kc.bind(this),this.V,g,this.mc.Qb,this.Cb,this.mg,this.La,D),S=55;break;case 76:this.V.addListener((function(t){var e,i;for(e=2;1!==e;)if(2===e){try{for(i=2;1!==i;)if(2===i)A.zb.j1b.bind(A.zb)(t),i=1}catch(t){": Error wh","en adding updatePlayS","egment Listener: ",n.Z4L(1),A.Cb.Kn(n.J4L("Hindsight: Error when adding updatePlaySegment Listener: ",t))}e=1}})),S=75;break;case 75:O&&this.zb.Lq(O,U.W),S=74;break;case 55:S=this.Jr?77:75;break;case 13:"h","ing",this.Cb=T,this.WSa=new _.FAa(this.H),D=(L=!(!e||!e.choiceMap||"branching"!==e.choiceMap.type))?{QU:!1,Jr:!1}:p.YXa(g),this.QU=D.QU,this.Jr=D.Jr,this.$w=g.$w,S=18}}}(),e.tKa=i,t.xf(r.EventEmitter,i)},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.jda=void 0,n=i(17),r=i(9),o=i(222),t=function(){function t(t,e,i,n,r,o,a,s,u,c,h,f){void 0===i&&(i=0),this.fe=t,this.D2=e,this.Z=i,this.Ha=n,this.I5=r,this.qh=o,this.$M=a,this.config=s,this.H=u,this.Cb=c,this.FCb=h,this.Xg=f,this.Cw=0}return t.create=function(e){var i,a,s,u,c,h,f,l,d,p,b,v,y,g,m;function _(t){r.Va(l,t.type,t)}return i=e.Pb,a=e.oa,s=e.r8a,u=e.Z,c=e.Ha,h=e.Pr,f=e.Cb,l=e.ac,d=e.config,p=e.H,b=e.mg,v=e.Sn,y=e.Gf,g=e.aD,m=new o.zba(Number(a.movieId),{Pb:i,oa:a,Wo:e.Wo,L2a:{xpa:e.Vg,t0a:!!e.j0a},ii:e.ii,Bd:e.Bd,config:d,QZa:{Ol:b.Zj.bind(b),Gf:y,aD:g,Ln:_,l7:function(t){return t===l.La.Wc.P},IV:function(t,e,i,n,r){return t=l.zb.Kf[t],!e||i||n||r?l.FS:t.If},SC:function(t){return l.zb.Jw[t]},qh:l.qh.bind(l)},iX:function(t){l.emit("requestComplete",{type:"requestComplete",timestamp:t.rf,mediaRequest:t})},F5:function(){return l.yg},Qb:l.mc.Qb,Kh:l.mc.Kh,EVa:{Pr:h,Nh:function(t,e,n,r,o,a){return void 0===a&&(a=!1),!(a&&!l.V.pg())&&(l.Ep(t,i,e,n,r,o,a),!0)},Fn:function(){return l.L2},Ln:_},VO:void 0,QI:{Y:l.mc.OA,fa:l.mc.dE}}),d.jz&&m.aE({ds:l.Yl.ds,ba:l.Yl.ba,HC:l.Yl.HC,Kn:f.Kn.bind(f)}),(e=new n.Wh).addListener(m.eu,"onHeaderFragments",(function(t){var e,n,r,o,a;e=t.mediaType,n=t.Oa,r=t.stream.U,(o=l.qh(i))?(m.sh[e]&&t!==m.sh[e]?t.qw&&(o=m.sh[e],t=t.stream,a=o&&o.stream,p.warn("first header received for non-current track (trackId "+t.trackId+"streamId "+t.Oa+"), expected track "+(a&&a.trackId)+", stream "+(a&&a.Oa)+", "+o)):(m.sh[e]=t,t=l.La.Wc,0===i&&(a=m.kc(1)?t.eb(1).Ic:t.eb(0).Ic,t.N3(a,m)),o.$X=!1,o.L3(),l.U2()),v.Tfa(),f.Snb(i,e,n,m.J,r),b.Zj()):p.warn("addFragments for stale manifestIndex:",i)})),e.addListener(m.eu,"onHeaderRequestComplete",(function(t){var e,i;t.Tk?l.U2():t.IC&&(p.warn("drm header header:",t.toString(),"but no headers seen, marking pipeline drmReady"),l.gz(t.J)),e=t.mediaType,i=Object.getOwnPropertyNames(g.Lv[e]),l.Pg[e].U3a(t.stream,1===i.length&&i[0]===t.Oa),b.XMa(),l.RVb()})),e.addListener(m.eu,"onHeaderFromCache",(function(t){var e;e=t.header,t=t.wDb,e.Tk&&l.U2(),t&&f.Inb(e.J,e.Oa)})),new t(m,s,u,c,(function(){return l.La}),l.qh.bind(l),l.$M.bind(l),d,p,f,!1,e)},Object.defineProperties(t.prototype,{P:{get:function(){return this.fe},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Pb:{get:function(){return this.P.Pb},enumerable:!1,configurable:!0}}),t.prototype.jq=function(t){return this.fe.FHb(t,this.R5(t))},t.prototype.R5=function(t){return this.D2[t]},t.prototype.close=function(){this.Xg.clear(),this.P.close()},t.prototype.ed=function(){this.fe.ed(),delete this.fe},t.prototype.clone=function(){return new t(this.P,this.D2,this.Z,this.Ha,this.I5,this.qh,this.$M,this.config,this.H,this.Cb,!0,this.Xg)},t.prototype.Jxa=function(t){this.H.trace("updateAudioTrack:",this.D2[0],"->",t),this.D2[0]=t},t.prototype.cYa=function(){return void 0!==this.UH?this.UH:this.Ha?this.Ha:this.fe.duration},t.prototype.Mtb=function(t){var e,i;if((e=this.fe.sh[1])&&e.stream.je)return this.oz&&this.oz[1]&&this.oz[1].Z<=t&&this.oz[1].Ha>t?this.oz[1].zd:(t=(e=e.stream.U).zn(t,void 0,!0),void 0===(i=void 0)&&(i=e.Cj(t)),i)},t.prototype.L3=function(){var t,e;if(!this.$X&&this.GZa())for(this.gsa(),t=[0,0],0===this.Pb||this.fe.sf.LW||this.fe.sf.replace||(e=this.qh(this.Pb-1),e=this.fe.J===e.fe.J,e=(t=this.I5().Wc).N3(this.Z,this.P,t,e),t=e.EO),this.Z=t[1],this.EO=t,this.oz=e&&e.oz,this.HRa(),e=this.fe.kc(1)?this.fe.sh[1].stream.U.Ha:this.fe.sh[0].stream.U.Ha,this.Cb.Nnb(this.Pb,this.Cw,this.Z,this.UH,e),this.$X=!0,e=this.Pb+1;e<this.$M();++e)(t=this.qh(e)).$X=!1,t.L3()},t.prototype.HRa=function(){var t;0===this.Pb||this.fe.sf.replace?this.Cw=0:(t=this.qh(this.Pb-1),this.Cw=t.Cw+t.cYa()-this.Z)},t.prototype.gsa=function(){var t,e,i,n,r,o,a,s;this.GZa()&&(r=this.I5().Wc,o=this.Ha||1/0,a=this.fe.kc(1),s=r.bV(o,this.P),this.UH=a?s[1].Ha:s[0].Ha,r=a?this.fe.sh[1].stream.U.Ha:this.fe.sh[0].stream.U.Ha,a=Math.min(null!==(e=null===(t=s[1])||void 0===t?void 0:t.Ha)&&void 0!==e?e:1/0,null!==(n=null===(i=s[0])||void 0===i?void 0:i.Ha)&&void 0!==n?n:1/0),this.Cb.Pnb(this.Pb,this.UH,r,a),0<(t=this.I5().bma(this.Pb)).length&&t.forEach((function(t){t.d1b(s,o)})))},t.prototype.GZa=function(){var t,e,i,n;return t=this.fe.kc(0),e=this.fe.kc(1),i=this.fe.sh[0],n=this.fe.sh[1],i=i&&i.stream.je,n=n&&n.stream.je,(!t||i)&&(!e||n)},t}(),e.jda=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.wKa=void 0,t=i(2),n=i(9),i=t.__importDefault(i(6)),r=i.default.$q,new i.default.Console("ASEJS_SIDECHANNEL","media|asejs"),i=function(){function t(t,e,i){this.Kn=i,this.Zpb=new n.mMa(t),this.ba=e.ba,this.ilb=1e3*e.bOb/e.btb,this.xAb=e.HC,this.vQa=!1}return t.prototype.Gt=function(t){var e,i;return e={s_xid:this.ba,dl:this.xAb?1:0},t.Qp&&(e.bs=n.T3(Math.floor(t.Qp/this.ilb)+1,1,5)),t.X8&&(e.limit_rate=t.X8),t.hRa&&(e.bb_reason=t.hRa),t.Y$a&&(e.tm=t.Y$a),t.jU&&((i=t.jU.v7())||!i&&this.vQa)&&(e.cpr_ss=t.jU.sP,e.cpr_ca=t.jU.$L,e.cpr_rec=t.jU.KO,this.vQa=i),t.Lia&&(e.br=t.Lia.start+"+"+t.Lia.size),this.bob(e)},t.prototype.Hva=function(t,e){var i,n;try{i=new r(void 0,"notification"),n=this.Gt({hRa:t}),e&&n&&i.open(e,void 0,2,void 0,void 0,void 0,n)}catch(t){this.Kn("SideChannel: Error when sending sendBlackBoxNotification. Error: "+t)}},t.prototype.bob=function(t){var e;try{return e=this.opb(t),this.Zpb.encrypt(e)}catch(t){this.Kn("SideChannel: Error when obfuscating msg. Error: "+t)}},t.prototype.opb=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(JSON.stringify(t[e]))})).join("&")},t}(),e.wKa=i},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.yba=void 0,n=i(367),r=i(22),o=i(5),a=i(9),s=i(368),u=i(369),t=function(){function t(e,i,n){this.I=i,this.H=n,this.NB=new a.xKa,this.p2=0,this.cA=e.cA,this.P=e.P,this.mediaType=e.mediaType,this.oE=e.oE,this.jC=e.jC,1===this.mediaType&&(void 0!==(i=this.cA.streams[0]).framerate_value&&void 0!==i.framerate_scale&&(this.xga=function(t,e){var i,n;return i=Math.floor(1e3*t/e),n=1e3*Math.round(i/1e3),new r.T(n,Math.abs(Math.floor(1001*t/e)-n)>Math.abs(i-n)?1e3:1001)}(i.framerate_value,i.framerate_scale).xua())),this.nb=(this.TK=this.xga)&&this.TK.S,this.cga=this.YMa=!1,this.Joa=-1/0,this.P1a=1/0,i=(e=t.Elb(this,e.Vg)).maxBitrate,n=e.$d,this.iH=e.iH,this.maxBitrate=i,this.$d=n,this.Apb=n.reduce((function(t,e){return t[e.Oa]=e,t}),{})}return t.Elb=function(t,e){var i,n,r,o,a;return i=t.I,n=1===t.mediaType,r=!1,o=0,a=[],t.cA.streams.forEach((function(s,c){var h,f,l;h=s.bitrate,f=!0,n&&(l=-1===s.content_profile.indexOf("none"),f=e&&!l||!e&&l,r=r||l),f&&h>o&&(o=h),s=new u.dza({Dw:s,Lf:c,track:t,ju:f},i,t.H),a.push(s)})),{iH:r,maxBitrate:o,$d:a}},Object.defineProperties(t.prototype,{N8:{get:function(){return!this.je&&0===this.p2},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{je:{get:function(){return!!this.gp&&!!this.NB.value},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ola:{get:function(){return this.YMa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{J:{get:function(){return String(this.P.J)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{trackId:{get:function(){return this.cA.track_id},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sa:{get:function(){return this.TK},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.nb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{$N:{get:function(){return this.unb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{gp:{get:function(){return this.md},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{uN:{get:function(){return this.NB.value},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Gma:{get:function(){return this.sa.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Fma:{get:function(){return this.sa.vc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Z:{get:function(){return 0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{qma:{get:function(){return this.NB},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{KW:{get:function(){return this.$d.some((function(t){var e;return 1<((null===(e=t.Wg)||void 0===e?void 0:e.length)||0)}))},enumerable:!1,configurable:!0}}),t.prototype.ww=function(t){return this.UC()[t]},t.prototype.UC=function(){return this.Apb},t.prototype.equals=function(t){return!!t&&this.J===t.J&&this.mediaType===t.mediaType&&this.trackId===t.trackId},t.prototype.j9=function(){this.p2++},t.prototype.i9=function(){0<this.p2&&this.p2--},t.prototype.h9=function(t,e,i,r,o){r&&void 0!==r.jl&&(this.je||void 0!==r.vd&&r.vd.length)?(t.Qz&&(this.YMa=!0),this.je?!this.cga&&r.vd&&r.vd.length>this.gp.length&&(this.md=new n.Sea(this.mediaType,this.sa,r,o),this.NB.M7a(),this.Joa=-1/0,this.cga=!0):(this.SOa(e),(i=i||this.xga)&&(this.ROa(i||this.xga),void 0===this.S&&this.TOa(i.S)),this.md=new n.Sea(this.mediaType,this.sa,r,o),t.Qz&&(this.cga=!0))):this.H&&this.H.error("AseTrack.onHeaderReceived with missing fragments data")},t.prototype.EQb=function(t){void 0===this.NB.value&&this.NB.set(t)},t.prototype.Yvb=function(t){this.je||(this.TOa(t.S),this.SOa(t.$N),this.ROa(t.sa),this.md=t.gp,t.qma.value?this.NB.set(t.qma.value):this.NB.M7a())},t.prototype.yn=function(t,e,i,n){return o.assert(this.uN),s.yn(this.mediaType,t,this.uN,e,i,n)},t.prototype.nz=function(t,e,i){return o.assert(this.uN),s.nz(this.mediaType,t,this.uN,e,i)},t.prototype.toJSON=function(){return{movieId:this.J,mediaType:this.mediaType,trackId:this.trackId}},t.prototype.toString=function(){return(0===this.mediaType?"a":"v")+":"+this.trackId},t.prototype.TOa=function(t){this.nb=t},t.prototype.SOa=function(t){this.unb=t},t.prototype.ROa=function(t){this.TK=t},t}(),e.yba=t},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.QKa=e.ckb=void 0,n=i(2),i(116),r=i(5),t=n.__importDefault(i(6)),o=i(377),i=i(367),a=new t.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8),s=!0}catch(t){s=!1}u=function(t){function e(e,i){return(i=t.call(this,e.gp,i)||this).UF=e,i}return n.__extends(e,t),Object.defineProperties(e.prototype,{fa:{get:function(){return this.UF.y9a(this.Me)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{offset:{get:function(){return this.UF.Sd(this.Me)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Sra:{get:function(){return this.UF.NH&&this.UF.NH[this.Me]},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{di:{get:function(){return this.UF.nEb(this.Me)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{sb:{get:function(){return this.UF.Th&&this.UF.Th[this.Me]},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gRa:{get:function(){return 8*this.fa/(1e3*this.Lt/this.S)},enumerable:!1,configurable:!0}}),e.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.Wa,contentEndTicks:this.ob,durationTicks:this.Lt,timescale:this.S,startPts:this.Z,endPts:this.Ha,duration:this.duration,additionalSAPs:this.di}},e}(i.tLa),e.ckb=u,t=function(){function t(t,e,i,n,r,o,s){this.hL=128,this.md=e,this.Ne=i.offset,this.$j=i.sizes,this.sL=t,this.GK=this.lS=this.bi=this.fPa=this.gha=void 0,this.tnb=n,this.ifa=r&&r.Sd,this.st=o,this.lf=Math.min(this.md.length,this.$j.length),this.fnb=this.Ctb(),this.gp.mr.length!==this.$j.length&&a.error("Mis-matched stream duration ("+this.gp.mr.length+","+this.$j.length+") for movie id "+s),this.gp.c3&&!this.ifa&&a.error("Mis-matched additional SAPs information for movie id "+s)}return Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.md.mediaType},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{length:{get:function(){return this.lf},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{jl:{get:function(){return this.md.jl},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Fla:{get:function(){return this.md.Fla},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Z:{get:function(){return this.md.Z},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Ha:{get:function(){return this.md.Ha},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{jra:{get:function(){return this.md.jra},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{iA:{get:function(){return this.fnb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{sa:{get:function(){return this.md.sa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.md.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{bh:{get:function(){return this.fPa||this.sfa()},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{NH:{get:function(){return this.tnb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{TPa:{get:function(){return this.ifa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Th:{get:function(){return this.st},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{gp:{get:function(){return this.md},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{cx:{get:function(){return this.gha||this.Dlb()},enumerable:!1,configurable:!0}}),t.prototype.y9a=function(t){return this.$j?this.$j[t]:(a.error("sizesByIndex _sizes is undefined"),-1)},t.prototype.Cj=function(t){return this.md.Cj(t)},t.prototype.VU=function(t){return this.md.Cj(t)+this.md.vd(t)},t.prototype.Sd=function(t){var e,i,n;if(this.lS!==t||void 0===this.GK){if(0===t)return this.Ne;if(this.lS===t-1&&void 0!==this.GK)this.GK+=this.$j[this.lS],++this.lS;else{for(e=this.bi||this.olb(),n=(i=Math.floor(t/this.hL))*this.hL,e=e[i];n<t;++n)e+=this.$j[n];this.lS=t,this.GK=e}}return this.GK},t.prototype.vd=function(t){return this.md.vd(t)},t.prototype.get=function(t){return new u(this,t)},t.prototype.nEb=function(t){var e,i,n,o,a;if(r.assert(0<=t),e=this.gp.c3,i=this.gp.UPa,!(n=this.ifa)||!e||!i||t>=e.length)return[];for(o=[],a=t===e.length-1?i.length:e[t+1],e=e[t];e<a;++e)o.push({il:i[e],Ed:this.Cj(t)+this.sa.PH(i[e]).Y,offset:n[e]});return o},t.prototype.gYb=function(t){this.st=t},t.prototype.zn=function(t,e,i){return this.md.zn(t,e,i)},t.prototype.o5=function(t,e,i){return this.md.o5(t,e,i)},t.prototype.jka=function(t,e){return this.md.jka(t,e)},t.prototype.ztb=function(t,e,i,n,r){var o,a,s,u,c,h,f,l,d;if(o=!0,a=0,s=this.md.mr,u=this.$j,t=Math.floor(t*this.S/1e3),c=Math.floor(i*this.S/1e3),h=0,f=0,l=0,this.md.Hxa&&this.md.Gxa)for(a=this.md.Hxa;a<=this.md.Gxa;++a)h+=s[a],f+=u[a];if(f>e)o=!1;else for(;a<this.length&&(!r||a<r);){if(d=u[a],i=s[a],f+d>e){for(;1<a-l&&f+d>e&&(h-s[l]>=c||f-u[l]>n);)h-=s[l],f-=u[l],++l;if(h<t||f+d>e){o=!1,this.md.Hxa=l,this.md.Gxa=a;break}}h+=i,f+=d,++a}return o},t.prototype.subarray=function(e,i){return r.assert(void 0===e||0<=e&&e<this.length),r.assert(void 0===i||i>e&&i<=this.length),new t(this.sL,this.md.subarray(e,i),{offset:this.Sd(e),sizes:this.$j.subarray(e,i)},this.NH&&this.NH.subarray(e,i),this.TPa&&{Sd:this.TPa},this.st&&this.st.subarray(e,i))},t.prototype.forEach=function(t){for(var e=0;e<this.length;++e)t(this.get(e),e,this)},t.prototype.map=function(t){for(var e=[],i=0;i<this.length;++i)e.push(t(this.get(i),i,this));return e},t.prototype.reduce=function(t,e){for(var i=0;i<this.length;++i)e=t(e,this.get(i),i,this);return e},t.prototype.toJSON=function(){return{length:this.length}},t.prototype.dump=function(){var t;a.trace("StreamFragments: "+this.length);for(var e=0;e<this.length;++e)t=this.get(e),a.trace("StreamFragments: "+e+": ["+t.Z+"-"+t.Ha+"] @ "+t.offset+", "+t.fa+" bytes")},t.prototype.Ctb=function(){var t,e,i,n,r;if(t=0,e=this.md.t2a,i=this.md.mr,n=this.$j,void 0===e||e>=this.length){for(var o=0;o<this.length;++o)(r=n[o]/i[o])>t&&(t=r,e=o);void 0===this.md.t2a&&(this.md.t2a=e)}else t=n[e]/i[e];return Math.floor(t*this.S/125)},t.prototype.sfa=function(){for(var t=0,e=0;e<this.length;++e)t+=this.$j[e];return this.fPa=t},t.prototype.Dlb=function(){var t;if(t=new Uint8Array(this.$j.length),r.assert(void 0!==t,"invalid streamIndices"),t){r.assert(void 0!==this.sL,"invalid _streamIndex");for(var e=0;e<t.length;e++)t[e]=this.sL}return e=this.st||new Uint8Array(this.$j.length),this.gha=new o.Fea(this.md.mr,this.$j,t,e,this.md.S)},t.prototype.olb=function(){if(!this.bi){for(var t=s?new Float64Array(Math.ceil(this.length/this.hL)):Array(Math.ceil(this.length/this.hL)),e=this.Ne,i=0;i<t.length;++i){t[i]=e;for(var n=0;n<this.hL;++n)e+=this.$j[i*this.hL+n]}this.bi=t}return this.bi},t}(),e.QKa=t,t.prototype.P9a=i.Bw(t.prototype.Cj),i.Bw(t.prototype.VU),i.Bw(t.prototype.vd),i.Bw(t.prototype.Sd),i.Bw(t.prototype.y9a),i.Bw(t.prototype.get)},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=1===this.version?this.Wi([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Wi([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]),!0},e.Xb="mvhd",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="trak",e.Na=!0,e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;return this.Ac(),t=(t=1===this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}]).concat({offset:64,type:"offset"},{cMb:"int16"},{prb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"}),this.ic=this.Wi(t),this.ic.f0b=!!(1&this.flags),this.ic.g0b=!!(2&this.flags),this.ic.h0b=!!(4&this.flags),this.ic.i0b=!!(8&this.flags),this.u.console.trace("Finished parsing track box"),!0},e.Xb="tkhd",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=this.Wi(1===this.version?[{A5:"int64"}]:[{A5:"int32"}]),!0},e.Xb="mehd",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.ic=this.Wi([{$Ib:"int32"},{o2b:"int32"}]),!0},e.Xb="pasp",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.ic=this.Wi([{dtb:"int32"},{maxBitrate:"int32"},{Bia:"int32"}]),!0},e.Xb="btrt",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){for(this.u.Ml(),this.u.Ml(),this.rG=[];this.u.offset<=this.byteOffset+this.byteLength-4;)this.rG.push(this.u.Ml());return!0},e.Xb="ftyp",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(84),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=this.Wi([{dTb:"int32"},{RV:"int32"},{offset:96,type:"offset"},{name:"string"}]),this.ic.RV=r.ko(this.ic.RV),!0},e.Xb="hdlr",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(100),o=i(224),a=i(172),t=i(32),s=i(85),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.sm=this.u.ya(),!0},e.prototype.Qt=function(t){var e;return(e=Object.keys(this.Ua)).length&&(e=e[0],this.Ua[e].length&&((e=this.Ua[e][0])instanceof a.default?this.sa=new o.T(e.qz,e.samplerate):e instanceof s.default&&(e=e.Ua[r.XE])&&e.length&&(1e3!==(e=e[0].ic).cz&&1001!==e.cz||0!=e.VH%1e3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+e.VH+"/"+e.cz):this.sa=new o.T(e.cz,e.VH)),this.sa&&(t.sa=this.sa))),!0},e.prototype.mY=function(t){void 0!==this.Ua[t]&&0!==this.Ua[t].length&&(this.la.dh(this.sm-1,this.byteOffset+12),t=this.Ua[t][0],this.Ie(t.byteLength,t.byteOffset))},e.Xb="stsd",e.Na=!0,e}(t.Dc),e.default=i},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Kma=this.u.zc(2),this.Nia=this.u.zc(5),this.Oia=this.u.zc(3),this.zha=this.u.zc(3),this.u.zc(1),this.u.zc(5),this.u.zc(5),!0},e.Xb="dac3",e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;this.ssa=7&this.u.Yc(),this.Uwa=[];for(var e=0;e<this.ssa;e++)0<(t={Kma:this.u.zc(2),Nia:this.u.zc(5),Oia:this.u.zc(5),zha:this.u.zc(3),fMb:this.u.zc(1),rsa:this.u.zc(4)}).rsa?t.jub=this.u.zc(9):this.u.zc(1),this.Uwa.push(t);return!0},e.Xb="dec3",e}(i(32).Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.zY=this.u.Ml(),r.ga&&this.u.console.trace("SchemeTypeBoxTranslator: "+this.zY),"cenc"===this.zY&&(this.u.offset-=4,r.ga&&this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.u.offset),this.la.b_("piff")),this.u.ya(),!0},e.Xb="schm",e.Na=!1,e}((r=i(32)).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;return this.u.mb(),this.qba=this.u.mb(),this.u.mb(),this.u.mb(),this.u.mb(),this.VY=this.LF(31&this.u.mb()),this.LF(this.u.mb()),this.yA=this.VY.length?this.VY[0][0]:this.qba,this.YS=this.u.offset,this.startOffset+this.length<this.u.offset&&(100===this.yA||110===this.yA||122===this.yA||144===this.yA)&&(this.u.mb(),this.u.mb(),this.LF(this.u.mb())),0<(t=this.startOffset+this.length-this.YS)&&this.Ie(t,this.YS),!0},e.prototype.LF=function(t){for(var e,i=[],n=0;n<t;++n)e=this.u.Yc(),i.push(this.u.CA(e));return i},e.Xb="avcC",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.Qt=function(){var t;return(t=(t=this.Cl("esds"))&&t.jca.Cl(5))&&(this.qz=t.qz),!0},e.Xb="mp4a",e.Na=!0,e}(i(172).default),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(226),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.jca=r.IQ.bY(this.u),!0},e.Xb="esds",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=i(100),i=i(32),r=t.XE,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=this.Wi([{VH:"int32"},{cz:"int16"}]),!0},e.Xb=r,e.Na=!1,e}(i.Dc),e.default=i},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t,e,i,n,r;return this.Ac(),e=(t=this.Wi([{kJ:"int32"},{zU:"int32"},{$y:"int32"},{bz:"int32"},{az:"int32"}])).kJ,i=t.zU,n=t.$y,r=t.az,t=t.bz,this.ic={trackId:e,yzb:i,Zy:n,zzb:r,Azb:t},this.kJ=e,this.zU=i,this.$y=n,this.bz=t,this.az=r,!0},e.Xb="trex",e.Na=!1,e}(i(32).Dc),e.default=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(795),o=i(230),a=i(145),s=i(224),u=i(32),t=i(372),c=i(373),h=i(375),f=i(146),l=i(223),d=i(100),p=i(376),i=function(){function t(t,e,i,n,r,o){this.console=t,this.stream=e,this.Oh=n,this.Pha=r,this.view=i instanceof ArrayBuffer?new DataView(i):new DataView(i.data,i.offset,i.length),this.config=o||{},this.FZa=f.fna()}return t.path=function(t,e){return e.reduce((function(t,e){return t&&t.Ua[e]&&t.Ua[e][0]}),t)},t.vna=function(t){return t&&t.rG&&-1!==t.rG.indexOf("mcl0")?"mcl0":void 0},t.fma=function(t,e){var i,n;for(a.assert("mcl0"===t,"Unsupported McClearen brand"),t=(i=e.U).vd,e=new s.T(120,1).Zf(i.S).vc,n=0,i=i.jl;n<t.length&&i<e;)i+=t[n++];return n},t.prototype.parse=function(t){var e;return(e=this.sva()).done?(e=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+e.offset),this.view=new DataView(e),(t=this.Ssa(t)).done?this.dka():(this.console.error("Parse error: "+t.error),{Cm:!1,parseError:t.error||"unknown mp4 parse error"})):e.cX?{Cm:!1,SPa:e.cX}:(this.console.error("Scan error: "+e.error),{Cm:!1,parseError:e.error||"unknown mp4 scan error"})},t.prototype.xn=function(t){return u.Dc.xn(this,t)},t.prototype.Cl=function(t){return u.Dc.Cl(this,t)},t.prototype.sva=function(){var e,i;return e=new p.Dca(this.Oh,this.Pha?[d.Nx,d.Mx]:[],this.config&&this.config.w_b||["moof",d.zR],this.config&&this.config.AX),i=n.__assign(n.__assign({},this.config),{bI:!1}),new h.zE(t.CI,e,this.view,this.console,i).parse()},t.prototype.Ssa=function(t){var e,i,o;return e=new p.DQ(this.view.byteLength),i=Object.create(l.xq.Ua),this.config&&((this.config.w9||this.config.vaa||this.config.eE)&&r(l.xq.AI,i),this.config.waa&&r(l.xq.sxa,i),this.config.vaa&&r(l.xq.CZ,i)),o=n.__assign(n.__assign({},this.config),{bI:!0}),this.tc=new h.zE(i,e,this.view,this.console,o),(t=this.tc.parse(t)).done&&(this.Ua=this.tc.Ua),t},t.prototype.dka=function(){var e,i,n,r,a,u;if(e={Cm:!0},i=t.path(this,["moov"]),n=t.path(i,["trak","mdia","minf","stbl","stsd"]),this.config.w9){if(!n)return{Cm:!1,parseError:"Missing sample descriptions"};e.sa=n.sa,e.CWb=n.Ua}if((r=t.path(n,["encv","sinf","schi"]))&&(r=t.path(r,["tenc"])||t.path(r,[d.ER]))&&(e.sVa={Nvb:r.pj,vH:r.vH,FLb:!1}),(r=t.path(i,["trak","mdia","mdhd"]))&&(e.S=r.S),(r=t.path(i,["mvex","trex"]))&&(e.Zy=r&&r.ic.Zy),e.Zy&&e.S&&(e.sa=new s.T(e.Zy,e.S)),(r=t.path(this,["sidx"]))&&(a=(a=t.path(this,[d.Nx]))&&a.qra,u=(u=t.path(this,[d.Mx]))&&u.di,e.U=r.U,e.NH=a,e.di=u),(a=this.Ua.vmaf&&this.Ua.vmaf[0])&&(e.Th=a.Th),this.config.T7a){if(!i)return{Cm:!1,parseError:"Missing movie box"};this.trim(i.byteOffset+i.byteLength),this.config.eE&&n&&1<n.sm&&r&&(e.Wg=this.eE(n,r)),void 0===e.Wg&&(i=this.tc.hz?o.concat(this.tc.wa()):this.view.buffer,e.Wg=[{Qd:0,data:i}])}return e.Cm=!0,e.BX=this.tc.offset,e},t.prototype.trim=function(t){var e;e=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(t,this.view.byteLength)),this.tc.trim(t),this.view=new DataView(e)},t.prototype.eE=function(e,i){var n,r,a;if(r=(n=Object.keys(e.Ua)).filter((function(t){return"encv"!==t})),!(2>n.length||r.length===n.length||0===r.length)&&(n=t.path(this,["ftyp"]),a=t.vna(n)))return n=[],this.tc.eua(),e.mY("encv"),n.push({Qd:0,Tk:!1,data:o.concat(this.tc.wa())}),this.tc.Dta(),e.mY(r[0]),e=t.fma(a,i),n.push({Qd:e,Tk:!0,data:o.concat(this.tc.wa())}),n},t.CI={},t}(),e.dr=i,i.CI[d.YE]=t.default,i.CI[d.ZE]=c.default},function(t){t.exports=function t(e,i){var n;e.__proto__&&e.__proto__!==Object.prototype&&t(e.__proto__,i),Object.getOwnPropertyNames(e).forEach((function(t){void 0!==(n=Object.getOwnPropertyDescriptor(e,t))&&Object.defineProperty(i,t,n)}))}},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),r=i(145),o=i(230),a=i(84),t=i(797),s=function(){function t(t){t?(this.Jf=t.Jf.slice(),this.eh=t.eh.slice(),this.Sd=t.Sd.slice(),this.trim=t.trim):(this.Jf=[],this.eh=[],this.Sd=[])}return Object.defineProperties(t.prototype,{empty:{get:function(){return 0===this.Jf.length&&0===this.eh.length&&0===this.Sd.length},enumerable:!0,configurable:!0}}),t}(),t=function(t){function e(e,i,n){return(e=t.call(this,e,i,n)||this).NU=[],e.lb=new s,e}return n.__extends(e,t),e.fia=function(t,e){if(e.offset+e.size<=t.byteLength)switch(e.size){case 1:t.setUint8(e.offset,e.value);break;case 2:e.Zu?t.setInt16(e.offset,e.value):t.setUint16(e.offset,e.value);break;case 4:e.Zu?t.setInt32(e.offset,e.value):t.setUint32(e.offset,e.value);break;case 8:r.assert(!e.Zu),t.setUint32(e.offset,Math.floor(e.value/4294967296)),t.setUint32(e.offset+4,4294967295&e.value);break;default:r.assert(!1)}},Object.defineProperties(e.prototype,{hz:{get:function(){return!this.lb.empty},enumerable:!0,configurable:!0}}),e.prototype.fB=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:1}),void 0===e&&(this.offset+=1)},e.prototype.sya=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:2,Zu:!1}),void 0===e&&(this.offset+=2)},e.prototype.dh=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:4,Zu:!1}),void 0===e&&(this.offset+=4)},e.prototype.tya=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:8,Zu:!1}),void 0===e&&(this.offset+=8)},e.prototype.b_=function(t){this.dh(a.pS(t))},e.prototype.vJ=function(t,e){this.lb.Sd.push({offset:this.offset,xl:t,value:e}),this.offset+=4},e.prototype.Ie=function(t,e,i){this.lb.Jf.push({offset:e,remove:t,$a:i})},e.prototype.Ru=function(t,e,i,n){this.lb.Jf.push({offset:i,remove:t,replace:e,$a:n})},e.prototype.trim=function(t){this.lb.trim=t},e.prototype.eua=function(){this.NU.push(new s(this.lb))},e.prototype.Dta=function(){this.lb=this.NU.pop()||new s},e.prototype.wa=function(){var t,i,n,r,o,a,s;return t=this,0===this.lb.Jf.length&&0===this.lb.eh.length&&0===this.lb.Sd.length?[void 0===this.lb.trim?this.view.buffer:this.view.buffer.slice(0,this.lb.trim)]:(this.lb.Jf.sort((function(t,e){return t.offset-e.offset})),this.lb.eh.sort((function(t,e){return t.offset-e.offset})),this.eva(),i=this.cma(),n=this.view.buffer.slice(0,i),r=new DataView(n),this.lb.eh.forEach(e.fia.bind(void 0,r)),this.Nxa(r),this.Lxa(r),o=[],a=void 0!==this.lb.trim?Math.min(this.lb.trim,this.view.byteLength):this.view.byteLength,s=0,this.lb.Jf.filter((function(t){return t.offset<=a})).forEach((function(e){e.offset>s&&(o.push(r.buffer.slice(s,e.offset)),e.offset>r.byteLength&&r!==t.view&&(r=t.view,o.push(r.buffer.slice(i,e.offset)))),e.replace&&o.push(e.replace),s=e.offset+e.remove})),s<i&&o.push(n.slice(s)),s<a&&o.push(this.view.buffer.slice(Math.max(n.byteLength,s),a)),o)},e.prototype.cma=function(){var t,e,i;return t=[],e=this.lb.eh[this.lb.eh.length-1],i=this.lb.Sd[this.lb.Sd.length-1],e&&t.push(e.offset+e.size),i&&t.push(i.offset+4),this.lb.Jf.filter((function(t){return t.$a})).forEach((function(e){return t.push(e.$a.byteOffset+4)})),e=Math.max.apply(void 0,t),void 0!==this.lb.trim?Math.min(e,this.lb.trim):e},e.prototype.eva=function(){this.lb.Jf=this.lb.Jf.reduce((function(t,e){var i,n;return 0===t.length?(t.push(e),t):(n=(i=t[t.length-1]).offset+i.remove,e.offset>=n?t.push(e):e.offset+e.remove>n&&(r.assert(i.$a===e.$a),i.remove+=e.offset+e.remove-n,e.replace&&(i.replace=i.replace?o.concat(i.replace,e.replace):e.replace)),t)}),[])},e.prototype.Nxa=function(t){var e;e=this,this.lb.Sd.forEach((function(i){var n,r,o,a;n=t,r=i.offset,e.lb.Jf.some((function(t){return!!(t.offset<=i.offset&&t.replace&&t.offset+t.replace.byteLength>=i.offset+4)&&(n=new DataView(t.replace),r=i.offset-t.offset,!0)})),o=i.xl+(void 0!==i.value?i.value:n.getInt32(r)),a=e.lb.Jf.reduce((function(t,e){return e.offset>i.xl&&e.offset<o?t+(e.remove-(e.replace?e.replace.byteLength:0)):t}),0),n.setInt32(r,o-i.xl-a)}))},e.prototype.Lxa=function(t){this.lb.Jf.forEach((function(e){var i;if(0!==(i=(e.remove||0)-(e.replace?e.replace.byteLength:0)))for(e=e.$a;e;)t.setUint32(e.byteOffset,t.getUint32(e.byteOffset)-i),e=e.parent}))},e}(t.Zea),e.Yea=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(146),i(146),r=i(84),t=function(){function t(t,e,i){this.view=t,this.console=e,this.config=i,this.view=t,this.console=e,this.Hn=this.Hy=this.offset=0}return t.prototype.cna=function(t){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,t)},t.prototype.zc=function(t){for(;this.Hn<t;)this.Hy=(this.Hy<<8)+this.mb(),this.Hn+=8;return this.Hn-=t,this.Hy>>>this.Hn&(1<<t)-1},t.prototype.mb=function(){var t;return t=this.view.getUint8(this.offset),this.offset+=1,t},t.prototype.Yc=function(t){return t=this.view.getUint16(this.offset,t),this.offset+=2,t},t.prototype.ya=function(t){return t=this.view.getUint32(this.offset,t),this.offset+=4,t},t.prototype.pI=function(){var t;return t=this.view.getInt32(this.offset,void 0),this.offset+=4,t},t.prototype.cta=function(t,e){var i;return i=this.view.getUint32(this.offset+(t?4:0),t),t=this.view.getUint32(this.offset+(t?0:4),t),e||0==(4278190080&i)||this.console.warn("Warning: read unsigned value > 56 bits"),4294967296*i+t},t.prototype.Td=function(t,e){return t=this.cta(t,e),this.offset+=8,t},t.prototype.dta=function(t,e){var i;return i=this.view.getInt32(this.offset+(t?4:0),t),t=this.view.getUint32(this.offset+(t?0:4),t),e||0==(4278190080&(0<i?i:-i))||this.console.warn("Warning: read signed value > 56 bits"),4294967296*i+t},t.prototype.rua=function(){var t;return t=this.dta(void 0,void 0),this.offset+=8,t},t.prototype.Ml=function(){return r.ko(this.ya())},t.prototype.EA=function(){var t,e,i,n,r,o;function a(t,e){return("000000"+t.toString(16)).slice(2*-e)}return t=this.ya(!0),e=this.Yc(!0),i=this.Yc(!0),n=this.Yc(),r=this.Yc(),o=this.ya(),[a(t,4),a(e,2),a(i,2),a(n,2),a(r,2)+a(o,4)].join("-")},t.prototype.oua=function(t){var e;return e=this.view.byteOffset+this.offset,this.view.buffer.slice(e,e+t)},t.prototype.mua=function(t){var e;if(e=[],0===t)return"";t=t||Number.MAX_SAFE_INTEGER;for(var i=this.mb();0!==i&&0<=--t;)e.push(i),i=this.mb();return String.fromCharCode.apply(null,e)},t.prototype.CA=function(t){var e,i;return void 0===e&&(e=1),void 0===i&&(i=!0),this.Mh(this.config.aB&&n.moa||n.nq,1,t,e,i)},t.prototype.kua=function(t,e,i){var r;return void 0===e&&(e=2),void 0===i&&(i=!0),void 0===r&&(r=!1),this.Mh(this.config.aB&&n.koa||n.zz,2,t,e,i,r)},t.prototype.BA=function(t,e,i){var r;return void 0===e&&(e=4),void 0===i&&(i=!0),void 0===r&&(r=!1),this.Mh(this.config.aB&&n.loa||n.$t,4,t,e,i,r)},t.prototype.pua=function(){for(var t=this.mb(),e=127&t;128&t;)e=e<<7|127&(t=this.mb());return e},t.prototype.Mh=function(t,e,i,n,r,o){return void 0===r&&(r=!0),void 0===o&&(o=!1),t=t(this.view,this.offset,i,n,o),this.offset=r||!n||n===e?this.offset+i*(n||e):this.offset+e,t},t}(),e.Zea=t},function(t,e,i){var n,r,o,a;function s(t,e,i,n){r.call(this,t,e,i,n)}function u(t,e,i){r.call(this,t,e,i,void 0)}n=i(100),r=i(231).ar,o=i(374),a=i(84).pS,s.prototype=Object.create(r.prototype),u.prototype=Object.create(s.prototype),u.prototype.aga=function(t,e){return"string"==typeof e?o[e]:e&&o.reset[t]||o.xwa[t]},u.prototype.Jua=function(t,e,i){return this.wa(t,e,!1,i,void 0)},u.prototype.Nua=function(t,e,i){return this.wa(t,e,!0,i,void 0)},u.prototype.wa=function(t,e,i,r,o){var a,s,u,c,h,f,l,d,p,b,v,y,g,m;function _(t){return s=a[t],void 0!==(u=s.Rh("traf"))&&void 0!==u.ck&&(void 0!==(l=u.Rh("tfdt"))&&void 0!==(c=u.Rh("trun")))}if(!this.parse().done)return!1;if(!(a=this.Ua.moof)||0===a.length)return!1;if(void 0!==t)for(h=t,t=0;t<a.length;++t){if(!_(t,this.tc.console.trace))return!1;if(c.Lb>h||i&&c.Lb===h)break;h-=c.Lb}else if(!_(t=i?a.length-1:0,this.tc.console.trace))return!1;if(i&&t<a.length-1?(f=a[t+1],this.tc.Ie(this.Uyb-f.startOffset,f.startOffset)):!i&&0<t&&this.tc.Ie(s.startOffset,0),void 0===(f=u.Rh("tfhd")))return!1;if(l=u.Rh("tfdt"),d=c.Lb,p=u.Rh("saiz"),b=u.Rh("saio"),v=u.Rh(n.DR),y=u.Rh("sbgp"),!(!p&&!b||p&&b))return!1;if(g=u.Rh("sdtp"),this.Ua.mdat&&t<this.Ua.mdat.length)m=this.Ua.mdat[t];else if(t!==a.length-1)return!1;if(void 0===h&&(h=i?c.Lb:0),c.wa(u,f,m||this.tc,e,h,u.ck,i))c.hz&&(!i&&l&&l.wa(c.vwa),p&&b&&(p.wa(c.Nq,i),b.wa(v?0:p.zI,u.ck,i)),v&&v.wa(c.Nq,i),g&&g.wa(c.Nq,d,i),y&&y.wa(c.Nq,i));else if(i){if(0===c.Nq)return!1}else{if(t===a.length-1)return!1;this.tc.Ie(a[t+1].startOffset-s.startOffset,s.startOffset)}return r&&(e=this.aga(this.stream.profile,o))&&c.Qua(u,f,m,i,r,e),r=(i=this.tc.wa()).reduce((function(t,e){return t+e.byteLength}),0),i={Ld:i,length:r,Qn:this.tc.view.byteLength},c.hz&&!m&&(i.Hq=u.ck+c.Hq,i.Yi=c.Yi),i},t.exports={cr:u,bA:function(t){var e,i;return e=new ArrayBuffer(8),(i=new DataView(e)).setUint32(0,t+8),i.setUint32(4,a("mdat")),e}}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(2),t=i(231),r=i(230),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.wa=function(t){var e,i,n,o;return e=this,!!this.parse().done&&(!(!(i=this.Ua.moov)||0===i.length)&&(!!(n=i[0].Cl("tenc"))&&(o=new Uint8Array(n.pj),t.forEach((function(t){for(var i=t.from,r=!0,a=0;a<i.length;a++)if(o[a]!==i[a]){r=!1;break}r&&e.tc.Ru(t.from.length,t.to,n.vH)})),r.concat(this.tc.wa()))))},e}(t.ar),e.WJ=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),(t=e.Pj||(e.Pj={}))[t.Wb=0]="AUDIO",t[t.Mb=1]="VIDEO"},function(t,e,i){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g;Object.defineProperties(e,{__esModule:{value:!0}}),e.nCa=void 0,t=i(2),r=i(17),o=t.__importStar(i(10)),a=t.__importDefault(i(6)),s=new a.default.Console("ASEJS_ERROR_DIRECTOR","asejs"),u=t.__importDefault(i(28)),c=t.__importDefault(i(802)),h=a.default.$q,f=h.$_,l={},d={},i=[u.default.yh.Ox,!1],t=[u.default.yh.Ox,!0],p=[u.default.yh.lF,!1],b=[u.default.yh.lF,!0],v=[u.default.yh.URL,!0],y=[-1,!1],g=[u.default.yh.lF,!1],l[f.b3b]=p,l[f.UNKNOWN_ERROR]=p,l[f.t6b]=p,l[f.Jeb]=p,l[f.UAa]=p,l[f.Veb]=p,l[f.Neb]=b,l[f.Mdb]=b,l[f.Xza]=g,l[f.Vza]=g,l[f.Ndb]=y,l[f.Odb]=g,l[f.Pdb]=g,l[f.Jdb]=p,l[f.Ldb]=p,l[f.Wza]=i,l[f.Kdb]=p,l[f.Idb]=g,l[f.V3b]=b,l[f.Xfb]=g,l[f.lDa]=g,l[f.kDa]=g,l[f.hDa]=g,l[f.iDa]=g,l[f.Wfb]=v,l[f.yca]=b,l[f.Aca]=v,l[f.zca]=t,l[f.oDa]=b,l[f.Zfb]=v,l[f.r0]=g,l[f.mDa]=b,l[f.Yfb]=b,l[f.Qeb]=b,l[f.Keb]=p,l[f.Rjb]=p,l[f.Aeb]=p,l[f.Beb]=p,l[f.Ceb]=p,l[f.Deb]=p,l[f.Eeb]=p,l[f.Feb]=p,l[f.Geb]=p,l[f.Heb]=p,l[f.Ieb]=p,l[f.Leb]=p,l[f.Meb]=p,l[f.Oeb]=p,l[f.Peb]=p,l[f.Reb]=p,l[f.Seb]=p,l[f.Teb]=p,l[f.Ueb]=p,l[f.Web]=p,l[f.Xeb]=p,l[f.Qjb]=g,l[f.TIMEOUT]=i,d[f.Xza]=!0,d[f.lDa]=!0,d[f.kDa]=!0,d[f.iDa]=!0,d[f.UAa]=!0,i=function(){var t;for(t=2;12!==t;)switch(t){case 2:e.prototype.Nb=function(){var t;for(t=2;1!==t;)switch(t){case 2:this.Xg.clear(),t=1;break;case 4:this.Xg.clear(),t=0}},e.prototype.aE=function(t){var e;for(e=2;1!==e;)switch(e){case 4:this.R$=t,e=7;break;case 2:this.R$=t,e=1}},e.prototype.ms=function(t,e,i,r){var a,c,f,b,v,m,_,w,E,k;for(a=2;15!==a;)switch(a){case 3:a=i&&o.isArray(l[i])?9:16;break;case 2:c=this,f=h.$_.name,b=i?f[i]:void 0,f={},v=this.config,m=this.ym,a=4;break;case 6:a=E!==y?14:15;break;case 14:a=void 0!==t.url?13:20;break;case 18:"ected fo","r ne","twork failure",s.error("Invalid affected for network failure"),a=17;break;case 20:a=void 0!==t.host&&void 0!==t.port?19:18;break;case 12:k&&(f[k]=[t.url]),a=11;break;case 4:"r","itical error count = ";"o","n"," ";"ailure"," ",s.warn("Failure "+b+" on "+JSON.stringify(t)+" : critical error count = "+this.It),a=3;break;case 11:_=E[0],w=E[1],v.Ju?o.forEach(f,(function(n,o){var a;for(a=2;5!==a;)if(2===a){"ro","r",E===g||E===p?c.Rta.NTb({url:void 0!==t.url?t.url:n[0],Md:o},{XPa:o,GZ:E,cD:e,ph:i,SVa:b,uj:r}):n.some((function(t){for(2;;)return m.ms(_,w,t),_===u.default.yh.lF})),!c.R$||0!==e&&void 0!==e||(n=void 0!==t.url?t.url:n[0])&&c.R$.Hva("error",n),a=5}})):o.forEach(f,(function(i,n){var r;for(r=2;5!==r;)switch(r){case 1:"r","r","or",i.some((function(t){for(2;;)return m.ms(_,w,t),_===u.default.yh.lF})),!c.R$||0!==e&&void 0!==e||(i=void 0!==t.url?t.url:i[0])&&c.R$.Hva("error",i),r=5;break;case 2:r=E!==g||c.KVb(n)?1:5}})),a=15;break;case 17:return;case 19:f=m.oXb(t.host,t.port),a=11;break;case 9:"i","calNetwor","kError";"iticalN","etw","orkEr","ror",E=l[i],this.Uz={cD:e,ph:i,SVa:b,uj:r},d[i]&&(++this.It,this.events.emit("criticalNetworkError",{type:"criticalNetworkError",ph:i})),a=6;break;case 13:k=m.x8a(t.url),a=12;break;case 16:"e in JSASE error direc","tor : ",n.Z4L(1),s.error(n.j4L("Unmapped failure code in JSASE error director : ",i)),a=15}},e.prototype.KVb=function(t){var e,i,n,r;for(e=2;7!==e;)switch(e){case 5:e=r.Po<this.GN?4:3;break;case 1:e=r?5:8;break;case 2:i=a.default.time.ea(),n=this.config,r=this.gxa[t],e=1;break;case 3:e=r.Po>=i-n.gaa||r.GA||(r.Po=i,++r.count,r.count<n.h8)?7:9;break;case 9:return r.GA=!0;case 8:this.gxa[t]={Po:i,count:1},e=7;break;case 4:r.Po=i,r.count=1,e=7}},t=3;break;case 3:e.prototype.hIb=function(t){var e,i,r,o,u,c,h,f;for(e=2;7!==e;)switch(e){case 3:i=this.Uz.ph,r=this.Uz.cD,o=this.Uz.uj,e=9;break;case 4:e=this.Uz?3:9;break;case 2:"mporari","ly";"rman","ent","ly";"last s","uccess was ";"etwork ha","s ","fa","iled ";"ms a","g","o",u=this,c=a.default.time.ea()-this.GN,h=t,f=this.config,n.N4L(4),s.warn(n.J4L(" ms ago","Network has failed "," last success was ",c,t?"permanently":"temporarily")),!t&&c>f.Xra&&(h=!0),e=4;break;case 9:"emporaryNe","two","rkE","rror";"aryNetwo","rkError",t||this.events.emit("temporaryNetworkError",{type:"temporaryNetworkError",errorCode:i,httpCode:r,nativeCode:o}),h?(this.YO&&(clearTimeout(this.YO),this.YO=void 0),this.nSa(),this.Rta.reset(),this.oIb({YKb:t,rRb:i,sRb:r,tRb:o})):this.YO||(this.YO=setTimeout((function(){var t;for(t=2;5!==t;)if(2===t)u.YO=void 0,u.l$(),t=5}),f.Yra)),e=7}},e.prototype.l$=function(){var t;for(t=2;1!==t;)if(2===t)this.YO||(this.ym.l$(),this.gxa={},this.Pr()),t=1},e.prototype.Baa=function(t){var e,i;for(e=2;9!==e;)switch(e){case 2:i=this.config,this.GN=Math.max(t.timestamp||a.default.time.ea(),this.GN),this.nSa(),i.Ju&&this.Rta.Baa(t),e=3;break;case 3:"ingLa","stSuccessEv","en","t";"t","Suc","ces","sEvent",this.events.emit("updatingLastSuccessEvent",{type:"updatingLastSuccessEvent"}),e=9}},e.prototype.Dsa=function(){var t;for(t=2;1!==t;)if(2===t)this.It=0,t=1},t=6;break;case 6:return e.prototype.sk=function(){var t,e,i,r;for(t=2;4!==t;)switch(t){case 5:"s";"etting ","underflow ti","meout i","n ",!i.kbb||this.IZ||i.Iaa&&i.TU&&i.zPb||(s.info("Setting underflow timeout in "+r+"ms"),this.IZ=setTimeout((function(){var t;for(t=2;4!==t;)if(2===t){"ce und","erflow with no success";"nt network f","ailure aft","er ",n.N4L(5),s.info(n.J4L("Forcing permanent network failure after ","ms, since underflow with no success",r)),e.IZ=void 0,e.ym.ms(u.default.yh.Ox,!0),t=4}}),r)),t=4;break;case 2:e=this,i=this.config,r=i.c8,this.GN=Math.max(a.default.time.ea(),this.GN),t=5}},e.prototype.nSa=function(){var t;for(t=2;1!==t;)if(2===t){"d underflow ","t","i","meout",this.IZ&&(clearTimeout(this.IZ),this.IZ=void 0,s.info("Cleared underflow timeout")),t=1}},e}function e(t,e,i,n){var o;for(o=2;10!==o;)switch(o){case 9:"e","tworkFail","e","d";"rNJ","C","p","9",this.Xg=new r.Wh,l[f.hDa]=e.hJb?b:g,this.Xg.addListener(this.ym,"networkFailed",this.hIb.bind(this)),o=14;break;case 2:this.ym=t,this.config=e,this.oIb=i,this.Pr=n,o=3;break;case 3:this.events=new r.EventEmitter,o=9;break;case 14:this.GN=a.default.time.ea(),this.It=0,this.gxa={},this.Rta=new c.default(t,n,e),o=10}}}(),e.nCa=i},function(t,e,i){var n,r,o;function a(t,e,i){this.NS=t,this.CF=0==Math.floor(1e6*Math.random())%i.mI,this.groupId=1,this.config=i,this.lz={},this.TD={},this.Pr=e}n=i(10),new((r=i(6).default).Console)("ASEJS_PROBE_MANAGER","asejs"),o=i(803).$ya,a.prototype.constructor=a,a.prototype.NTb=function(t,e){var i,o,a,s,u,c,h,f,l,d,p;if(i=this.NS,o=t.Md,a=i.b$a(t.url),s=i.U7(t.url),u=this.config,c=r.time.ea(),h=e,f=[],l=a.Hl[0],d=!1,p=this.lz[o]){if(p.Po>=c-u.gaa)return}else p=this.lz[o]={count:0,Po:c,GA:!1,error:e,Qva:[],Tta:{}};p.GA||(l&&s.id===l.id&&(t.isPrimary=!0),p.Po=c,p.GA=!1,p.error=e,++p.count,a&&a.urls&&0!==a.urls.length&&(n.forEach(a.urls,(function(e){var i,n,r;n=(i=e.Pc.id)+"-"+o,void 0!==(r=this.TD[n])&&void 0!==r.T9||(r&&r.ep&&clearTimeout(r.ep),e=this.sTa(e.url,t,i),this.TD[n]={$:!1,count:0,T9:e.mi()},f.push(e.mi()),d=!0),-1===p.Qva.indexOf(i)&&p.Qva.push(i)}),this),this.CF&&0<f.length&&(a={type:"logdata",target:"endplay",fields:{}},e=h,h={ts:r.time.ea(),es:e.XPa,fc:e.ph,fn:e.SVa,nc:e.uj,pb:f,gid:this.groupId},e.cD&&(h.hc=e.cD),a.fields.errpb={type:"array",value:h,adjust:["ts"]},i.Ln(a)),d&&this.groupId++))},a.prototype.sTa=function(t,e,i){var n,r,a;return(n=this.NS.U7(e.url))&&n.wb&&n.wb.gu&&n.wb.gu.Ga||Math.random(0,1),n=new o(this),r=t.split("?"),a="random="+parseInt(1e7*Math.random(),10),n.mRb(1<r.length?t+"&"+a:t+"?"+a,e,i),n},a.prototype.OTb=function(t,e){var i,n,o,a,s,u,c,h;i=this.NS,n=this.config,o=e.Md,a=this.lz[o],s=t.url,u=this.TD[t.Md+"-"+o],a&&(c=a.error,u&&(u&&u.ep&&clearTimeout(u.ep),u.$=!0,u.count=0,u.T9=void 0,a.Tta[t.Md]=!0,(u=this.lz[t.Md])&&!0===u.GA&&n.Ay&&(i.L7a(t.Md,u.error.GZ[1]),this.CF&&((u={type:"logdata",target:"endplay",fields:{}}).fields.errst={type:"array",value:{ts:r.time.ea(),id:t.requestId,servid:e.Md,gid:t.groupId?t.groupId:-1},adjust:["ts"]},i.Ln(u)),this.lz[t.Md]=void 0,this.Pr()),s!==e.url&&((h=this.TD[o+"-"+o])&&h.$||(o=(o=i.U7(s))&&o.wb&&o.wb.gu&&o.wb.gu.Ga||Math.random(0,1)*n.d8,o=Math.min(o,n.d8),setTimeout(function(){var n;!1!==a.GA||h&&h.$||(a.GA=!0,i.ms(c.GZ[0],c.GZ[1],e.url,c),!this.CF)||((n={type:"logdata",target:"endplay",fields:{}}).fields.erep={type:"array",value:{ts:r.time.ea(),id:t.requestId,servid:e.Md,gid:t.groupId?t.groupId:-1},adjust:["ts"]},i.Ln(n))}.bind(this),o))),this.CF&&((u={type:"logdata",target:"endplay",fields:{}}).fields.pbres={type:"array",value:{ts:r.time.ea(),id:t.requestId,result:1,servid:t.Md,gid:t.groupId?t.groupId:-1},adjust:["ts"]},i.Ln(u))))},a.prototype.LTb=function(t,e){var i,o,a,s,u,c,h,f,l,d;i=this.NS,o=parseInt(e.Md,10),a=this.lz[o],s=parseInt(t.Md,10),u=this.TD[s+"-"+o],c=0,h=this.config,u&&a&&(u.$=!1,u.T9=void 0,a.Tta[s]=!1,f=a.Qva,h.Ay&&s===o&&e.isPrimary&&(l=(l=i.U7(e.url))&&l.wb&&l.wb.gu&&l.wb.gu.Ga||300*Math.random(0,1),l*=Math.pow(2,u.count),l=Math.min(l,12e4),l+=Math.random(0,1)*(1e4>l?100:1e4),u.ep=setTimeout(function(){var i;u.ep=void 0,(i=this.sTa(t.url,e,s)).HXb(t.groupId),u.T9=i.mi()}.bind(this),l)),++u.count,s===o&&(c=0,f.forEach((function(t){!1===a.Tta[t]&&c++})),f.length===c&&a.count>=h.h8)&&(d=a.error,a.GA=!0,n.forEach(i.b$a(e.url).urls,(function(t){var e;i.ms(d.GZ[0],d.GZ[1],t.url,d),this.CF&&((e={type:"logdata",target:"endplay",fields:{}}).fields.erep={type:"array",value:{ts:r.time.ea(),id:-1,servid:t.Pc.id},adjust:["ts"]},i.Ln(e))}),this)),this.CF&&((o={type:"logdata",target:"endplay",fields:{}}).fields.pbres={type:"array",value:{ts:r.time.ea(),id:t.requestId,result:0,servid:t.Md,gid:t.groupId?t.groupId:-1},adjust:["ts"]},i.Ln(o)))},a.prototype.Baa=function(t){var e,i,n;(e=t.url||t.mediaRequest.url)&&(e=(t=this.NS).x8a(e),i=this.lz[e],n=this.TD[e+"-"+e],i&&i.GA&&this.config.Ay&&(t.L7a(i.error.XPa,!1),this.CF&&((i={type:"logdata",target:"endplay",fields:{}}).fields.errst={type:"array",value:{ts:r.time.ea(),id:-1,servid:e},adjust:["ts"]},t.Ln(i)),this.lz[e]=void 0,n&&n.ep&&clearTimeout(n.ep)))},a.prototype.reset=function(){var t,e,i;for(i in t=this.TD)t.hasOwnProperty(i)&&(e=t[i+"-"+i])&&e.ep&&clearTimeout(e.ep);this.TD={},this.lz={}},t.exports=a},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.$ya=void 0,n=i(2),r=i(17),t=function(t){function e(e){var i;return(i=t.call(this)||this).xOa=e,i.c2=e.groupId,i.Gi=new r.Wh,i.Gi.on(i,o.Le.CR,i.Iga),i.Gi.on(i,o.Le.bF,i.RS),i}return n.__extends(e,t),e.prototype.mRb=function(t,e,i){o.prototype.open.call(this,t,e,i)},e.prototype.HXb=function(t){this.c2=t},Object.defineProperties(e.prototype,{groupId:{get:function(){return this.c2},enumerable:!1,configurable:!0}}),e.prototype.ed=function(){this.Gi&&this.Gi.clear(),o.prototype.ed.call(this)},e.prototype.Iga=function(t){this.xOa.OTb(t.probed,t.affected),this.ed()},e.prototype.RS=function(t){this.xOa.LTb(t.probed,t.affected),this.ed()},e}(o=n.__importDefault(i(6)).default.zv),e.$ya=t},function(t,e,i){var n,r,o,a,s,u,c,h;Object.defineProperties(e,{__esModule:{value:!0}}),e.sDa=void 0,n=i(2),r=i(142),o=i(378),a=i(16),s=n.__importDefault(i(6)),t=i(83),u=i(381),c=i(5),h=i(125),i=function(t){function e(e,i,n,r,o,a,s,u,c,f,l){var d;return(d=t.call(this,e)||this).fe=e,d.H=i,d.I=n,d.Ln=r,d.SC=a,d.l7=s,d.Kv=u,d.OOa=c,d.qh=f,d.HNa=[void 0,void 0],d.uha=[],d.ES=null!=l?l:{Lv:[Object.create(null),Object.create(null)]},o?d.IV=o:(d.Ee=h.lp.instance.Ht("headers",""+d.fe.W,!0,!1,{},d.I),d.Ee.xb()),d}return n.__extends(e,t),Object.defineProperties(e.prototype,{Lv:{get:function(){return this.ES.Lv},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{LB:{get:function(){return this.ES.LB},set:function(t){this.ES.LB=t},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{MK:{get:function(){return this.ES.MK},set:function(t){this.ES.MK=t},enumerable:!1,configurable:!0}}),e.prototype.ed=function(){var t;t=this,this.Lv.forEach((function(e,i){for(var n in e)e[n].ed(),t.Xka(i,n)})),this.Ee&&h.lp.instance.oM(this.Ee),this.Ee=void 0},e.prototype.Xk=function(t,e){return this.Lv[t][e]},e.prototype.A6=function(){return!(!this.LB||!this.LB.length)},e.prototype.Ija=function(){this.LB=void 0},e.prototype.kP=function(t){this.LB=t},e.prototype.yxa=function(){var t,e;if(!this.A6()||this.MK)return!1;for(r.Qm.kq(1);0<this.LB.length;)if(t=this.LB.shift(),(e=this.fe.ww(1,t))&&!this.xIb(t)&&e.lu)return this.MK=t,this.yaa(e,{offset:0,uP:!0});return!1},e.prototype.Sxa=function(t,e){var i;i=this,e.forEach((function(e){var n;(n=i.Xk(t,e.Oa))&&!e.je&&(n.stream.je?e.h4(n.stream):(n.vX||(n.vX=[]),n.vX.push(i.fe)))}))},e.prototype.UO=function(t,e,i){var n,r,o;n=this,o=this.fe,a.zf.forEach((function(r){var a,s,h,f,l;!o.kc(r)||void 0!==i&&r!==i||(f=t[r],c.assert(f&&o.getTrackById(f.trackId)===f),f=f.$d,o.jk?n.H.warn("requestHeadersFromManifest, shutdown detected"):o.ym.LZ(o.W,f)?(l=null!==(h=null===(s=null===(a=n.SC(r))||void 0===a?void 0:a.AH)||void 0===s?void 0:s.bitrate)&&void 0!==h?h:0,void 0===(a=u.gma(f,l))&&n.H.warn("Unable to find stream for bitrate "+l),a=f[a],(s=o.Xk(r,a.Oa))&&s.stream.U?o.$0b(r,s):(r={offset:0,uP:!1,IC:1===r,qw:!0,aO:!n.l7(o)},o.lTa(a,r,e))):n.H.warn("requestHeadersFromManifest, unable to update urls"))})),o.H6=!0,null===(r=this.qh)||void 0===r||r.call(this,o.Pb).L3()},e.prototype.pE=function(t,e){var i,n,r,o;return i=this.I,(n=this.Xk(t.mediaType,t.Oa))?(n.stream.U||n.uP&&this.kSa(n),!1):(n=this.Umb,r=this.Vmb,(void 0===i.Mra||void 0===n||void 0===r||!((o=s.default.time.ea())-n<i.Mra||o-r<i.Mra))&&(t=this.yaa(t,{url:t.url,offset:0},void 0,void 0,e),this.Vmb=s.default.time.ea(),t))},e.prototype.yaa=function(t,e,i,o,a){var s,u,h,f,l;if(f=t.mediaType,r.Qm.kq(f),l=t.Oa,this.qlb(l,!!e.qw))return null===(s=this.OOa)||void 0===s||s.call(this),!1;if(s=this.Xk(f,l))t=!1;else{if(s=n.__assign(n.__assign({},e),{fa:null!==(u=e.fa)&&void 0!==u?u:this.amb(t)}),u=!!s.IC,l=!!s.aO,this.IV?a=this.IV(f,!!s.qw,u,l,!!i):a||(a=this.Ee),c.assert(a),t.url&&(this.SC(f).qqa=t.url),s=t=this.KMa(t,a,s),!t.oO())return this.fe.Nh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1;t=!0}return e.qw&&o&&(this.fe.sh[f]=s),null===(h=this.OOa)||void 0===h||h.call(this),t},e.prototype.Om=function(){var t,e;return t=this,e=[],this.Lv.forEach((function(i,n){var o;for(var a in r.Qm.kq(n),i)1===(o=(n=i[a]).Txa())?e.push(n):2===o&&t.fe.Nh("swapUrl failure")})),e},e.prototype.tk=function(t){var e,i;e=t.mediaType,i=r.Qm.kq(e),this.fe.jk?i.warn("header onrequestcomplete ignored, session shutdown:",t.toString()):(this.Ln({type:"logdata",target:"startplay",ic:{usedNativeDataView:t.W1b}}),t.BX>t.pRb&&(this.HNa[e]=t.BX),t.uP&&this.kSa(t),this.zmb(t),this.Umb=s.default.time.ea(),this.fe.eu.emit("onHeaderRequestComplete",t)),this.Ut(t)},e.prototype.Z2=function(t,e,i){var n;return n=t.mediaType,r.Qm.kq(n),n=this.fe.ww(n,t.Oa),e===!!t.Tk&&(this.APa(t),t.drb(n),this.sMa(t),this.fe.eu.emit("onHeaderFromCache",{header:t,wDb:i}),!0)},e.prototype.yL=function(t,e){var i,n,r,o;for(r in i=[],n=this.Lv[t])(o=n[r])&&!o.stream.U&&o.Yo===e&&(this.Xka(t,r),i.push({stream:o.stream,offset:o.offset,fa:o.fa,IC:o.IC,qw:o.qw,aO:o.aO,Xsa:o.Xsa}),o.ed());return i},e.prototype.hva=function(t){var e;e=this,t.forEach((function(t){e.yaa(t.stream,t)}))},e.prototype.APa=function(t){this.Lv[t.mediaType][t.Oa]=t},e.prototype.xIb=function(t){return!!this.Xk(1,t)},e.prototype.zmb=function(t){var e,i,n,o,a;if(e=this.I,i=r.Qm.kq(t.mediaType),n=t.stream.U,e.Gka){o=n.length,i.trace("fragment count:",o);for(var s=0;s<o;++s)a=n.get(s),i.trace("fragment: "+s+", startPts: "+a.Z+", duration: "+a.duration+", offset: "+a.offset)}if(this.sMa(t),e.tA&&e.tA.enabled&&void 0===n.Th&&e.tA.simulatedFallback){for(o=n.length,e=new Uint8Array(o),s=0;s<o;++s)e[s]=Math.max(0,t.stream.sb+this.Mob(s));n.gYb(e)}},e.prototype.sMa=function(t){var e,i;e=t.mediaType,i=t.Oa,r.Qm.kq(e),t.vX&&(t.vX.forEach((function(n){(n=n.ww(e,i))&&n!==t.stream&&!n.je&&n.h4(t.stream)})),t.vX=void 0),this.fe.eIb(t)},e.prototype.KMa=function(t,e,i){var n,a;return n=this,a=r.Qm.kq(t.mediaType),(t=new o.vba(t,this.I,e,i,this,!1,a)).addListener("headerRequestCancelled",(function(t){n.ymb(t.request)})),t.xb(void 0),this.APa(t),t},e.prototype.qlb=function(t,e){return!!(this.Kv&&(t=this.Kv.BW(this.fe.J,t))&&this.Z2(t,!1,e))},e.prototype.amb=function(t){var e,i,n,r;return e=t.zs,n=(i=t.P).duration,r=this.I,i.sf.Vg?r.UVa?r.UVa:r.G6:r.T1b&&e?e.offset+e.size:(t=this.HNa[t.mediaType])?t+128:r.Ola?2292+12*Math.ceil(n/2e3):r.G6},e.prototype.ymb=function(t){this.Xka(t.mediaType,t.Oa)},e.prototype.Xka=function(t,e){delete this.Lv[t][e]},e.prototype.kSa=function(t){this.MK===t.Oa&&(this.MK=void 0)},e.prototype.Mob=function(t){var e;return e=this.I.tA.fallbackBound,void 0===this.uha[t]&&(this.uha[t]=Math.floor(2*Math.random()*e)-e),this.uha[t]},e}(t.kv),e.sDa=i},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.UJa=void 0,n=i(2),t=function(t){function e(e,i,n,o){var a;return(a=t.call(this)||this).H=e,a.track=i,a.Co=!1,a.iga=!1,a.Xg=new r.Wh,a.Xg.on(i,"networkfailing",(function(){a.emit("networkfailing")})),a.Xg.on(i,"error",(function(){a.H.warn("requestQueue got error"),a.emit("error")})),n?(a.Co=!0,Promise.resolve().then((function(){return a.emit("created")}))):a.Xg.on(i,"created",(function(){a.Co=!0,a.emit("created")})),a.iga=o,a}return n.__extends(e,t),Object.defineProperties(e.prototype,{k5:{get:function(){return this.track.k5},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ph:{get:function(){return this.track.ph},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{uj:{get:function(){return this.track.uj},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{$U:{get:function(){return this.track.$U},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{config:{get:function(){return this.track.config},enumerable:!1,configurable:!0}}),e.prototype.xb=function(){var t,e;this.iga||(null===(e=(t=this.track).xb)||void 0===e||e.call(t),this.iga=!0)},e.prototype.ku=function(){return this.track.ku()},e.prototype.toString=function(){return this.track.toString()},e.prototype.toJSON=function(){return this.track},e.prototype.Yp=function(){this.Xg.clear()},e}((r=i(17)).EventEmitter),e.UJa=t},function(t,e,i){var r,o,a,s,u,c,h,f;function l(t){var e,i,n;e=!1,(t=t.parent)&&t.children&&((i={})[c.Ul]=[],i[c.rl]=[],i[c.TEMPORARY]=[],(n=t.children).forEach((function(t){t&&i[t.gf].push(t)})),0<i[c.Ul].length||(i[c.rl].length===n.length?t.gf!==c.rl&&(t.gf=c.rl,u.error("PERM failing :",a.default.yh.name[t.vn]+" "+t.id),e=!0):(t.gf===c.Ul&&(t.gf=c.TEMPORARY,u.error("TEMP failing :",a.default.yh.name[t.vn]+" "+t.id),e=!0),i[c.TEMPORARY].forEach((function(t){t.gf=c.Ul}))),e&&l(t)))}function d(t){var e;(t=t.parent)&&0<t.children.length&&t.gf!==c.Ul&&((e={})[c.Ul]=[],e[c.rl]=[],e[c.TEMPORARY]=[],t.children.forEach((function(t){t&&e[t.gf].push(t)})),0<e[c.Ul].length&&(t.gf=c.Ul,d(t)))}function p(t){return t.gf!==c.Ul}function b(t){switch(t.gf){case c.Ul:return"OK";case c.rl:return"FAILED PERMANENTLY";case c.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID"}}function v(t,e){(t.gf===c.TEMPORARY||t.gf===c.rl&&e)&&(t.gf=c.Ul),t.children&&t.children.forEach((function(t){t&&v(t,e)}))}Object.defineProperties(e,{__esModule:{value:!0}}),e.Uca=void 0,r=i(2),o=r.__importStar(i(10)),t=i(17),a=r.__importDefault(i(28)),s=r.__importDefault(i(6)),u=new s.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs"),(f=c||(c={}))[f.Ul=0]="OK",f[f.TEMPORARY=1]="TEMPORARY",f[f.rl=2]="PERMANENT",function(t){t[t.Ux=0]="STARTUP",t[t.zjb=1]="REBUFFER"}(h||(h={})),i=function(t){function e(e,i,n,r,o){var s,u;for(s=2;27!==s;)switch(s){case 2:(u=t.call(this)||this).Qb=i,u.Kh=n,u.config=r,s=3;break;case 14:u.urls={},u.streams={},u.nA=[],u.P8=!1,s=10;break;case 15:return u;case 18:"IYb","ZrNJC","p9",u.fP=a.default.kF.Ux,u.AL(e),s=15;break;case 3:u.Lnb=o,u.RTb=h.Ux,u.Xz=void 0,u.Hl={},u.Pl={},s=14;break;case 10:"tw","ork",u.Uo={id:"network",vn:a.default.yh.Ox,gf:c.Ul,Tw:void 0,parent:void 0,children:u.nA},u.m2=null,u.eP=null,s=18}}var i;for(i=2;26!==i;)switch(i){case 2:r.__extends(e,t),e.prototype.sHb=function(){var t;for(t=2;1!==t;)switch(t){case 4:return this.nA[4].wb;case 2:return this.nA[0].wb}},e.prototype.Pt=function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return p(this.Uo)}},i=4;break;case 20:e.prototype.Nb=function(){var t;for(t=2;1!==t;)if(2===t)this.config.SMb&&this.lSb(),t=1},e.prototype.i6a=function(t){var e,i;for(e=2;5!==e;)if(2===e)i=this,t.streams.forEach((function(t){var e,n,r,s;for(e=2;6!==e;)switch(e){case 3:i.streams[r.id]=r,e=9;break;case 1:e=o.ia(r)?5:9;break;case 2:n=t.downloadable_id,r=i.streams[n],e=1;break;case 5:"o","ne","-",s=t.content_profile,r={id:n,bitrate:t.bitrate,sb:t.vmaf,type:t.type,profile:s,clear:0===s.indexOf("none-"),ju:!0,urls:[],NZ:{},Hl:[]},e=3;break;case 9:t.urls.forEach((function(t){var e,n,s,u;for(e=2;13!==e;)switch(e){case 5:n=t.location,u={id:s,vn:a.default.yh.URL,gf:c.Ul,Tw:void 0,parent:t,children:[],url:s,Pc:t,stream:r},e=3;break;case 1:e=o.ia(u)&&(t=i.Pl[t.cdn_id])?5:13;break;case 2:s=t.url,u=i.urls[s],e=1;break;case 3:i.urls[s]=u,t.children.push(u),r.urls.push(u),0===r.Hl.filter((function(t){for(2;;)return t.id===n.id})).length&&r.Hl.push(n),e=6;break;case 6:n.streams[r.id]=r,(s=r.NZ[n.id])?s.push(u):r.NZ[n.id]=[u],e=13}})),o.mf(r.NZ,(function(t){var e;for(e=2;1!==e;)if(2===e)t.sort((function(t,e){var i;for(i=2;1!==i;)switch(i){case 2:return t.Pc.uc-e.Pc.uc;case 4:return t.Pc.uc/e.Pc.uc}})),e=1})),r.Hl=r.Hl.sort((function(t,e){for(2;;)return t.level-e.level||t.uc-e.uc})),e=6}})),e=5},e.prototype.e1b=function(){var t,e,i,n,r;for(t=2;13!==t;)switch(t){case 4:e=s.default.time.ea(),t=3;break;case 2:i=this,n=this.config,r=this.nA.filter((function(t){var e;for(e=2;1!==e;)switch(e){case 2:return!p(t)&&0!==t.level;case 4:return~p(t)||3==t.level}})),t=1;break;case 1:t=0===r.length?5:4;break;case 5:return null;case 3:t=null===this.m2||this.m2+n.zqa<e?9:8;break;case 8:return n=this.fP,r.sort((function(t,e){for(2;;)return t.level-e.level||t.uc-e.uc})),this.Xz||o.Bb(n)||(this.Xz=!0),r;case 9:r.forEach((function(t){var e;for(e=2;1!==e;)if(2===e)t.id!==i.Qb.location&&(t.wb=i.Kh.get(t.id)),e=1})),this.m2=e,t=8}},i=17;break;case 17:return e.prototype.OVb=function(t){var e,i;for(e=2;3!==e;)switch(e){case 5:this.RTb=t,this.nA.forEach((function(t){var e;for(e=2;1!==e;)if(2===e)t.id!==i&&t.wb&&t.wb.confidence>a.default.Nf.pB&&(t.wb.confidence=a.default.Nf.pB),e=1})),e=3;break;case 2:i=this.Qb.location,this.Xz=!1,e=5}},e.prototype.lSb=function(){var t,e;for(t=2;5!==t;)if(2===t)e=this,this.P8||this.nA.forEach((function(t){var i;for(i=2;1!==i;)if(2===i)t.gf===c.TEMPORARY&&e.Kh.fail(t.id,s.default.time.ea()),i=1})),t=5},e.prototype.dump=function(){},e;case 7:e.prototype.LZ=function(t,e){var i,n,r,h,f,l,d;for(i=2;19!==i;)switch(i){case 2:n=this,r=this.config,h=this.Qb.get(),f=0,s.default.Ft&&s.default.Ft(t),i=5;break;case 5:i=p(this.Uo)?4:3;break;case 13:l=this.eP,i=12;break;case 4:return!1;case 3:d=a.default.Nf.pB,r.bX&&(d=a.default.Nf.Dx),this.Qb.location&&h.confidence>=d&&(t=this.Hl[this.Qb.location])&&(t.wb=h),o.Bb(this.eP)&&(this.eP=this.e1b()),i=6;break;case 12:i=l.length?10:11;break;case 11:case 14:return this.ms(a.default.yh.Ox,!1),!1;case 6:i=this.eP?13:14;break;case 10:"emp","ty strea","m lis","t)";"RL for ANY s","tream...";"work","Faile","d";return"led, not updating"," str","eam selection",e.forEach((function(t,e){var i,s;for(i=2;5!==i;)if(2===i){"K","b","p","s)";"(";" ";"ling ","stre","a","m [",s=t.id,l.some((function(e){var i,n,u;for(i=2;8!==i;)switch(i){case 2:n=e.streams[s],i=1;break;case 1:i=n?4:5;break;case 5:return!1;case 4:u=n.Hl[0],i=3;break;case 3:return void 0===t.S9&&(t.S9=u.id,t.Qta=n.NZ[u.id][0].Pc.id),n.NZ[e.id].some((function(i){var n,s;for(n=2;12!==n;)switch(n){case 5:n=p(i)?4:3;break;case 2:n=p(i.Pc)?1:5;break;case 1:return i.Pc.gf===c.TEMPORARY&&(t.gf=c.TEMPORARY),r.Ju&&t.Pc===i.Pc.id&&i.Pc.Tw&&(t.Tw=i.Pc.Tw),!1;case 3:"n","failo","ve","r";"rverfa","ilo","ve","r";"e","rforma","nc","e";"n","o","w","n",s="unknown",t.location!==e.id&&(r.Ju?t.Wpa=e.id===u.id:s=e!==l[0]?""+a.default.kF.Dba:void 0===t.location?""+a.default.kF.Ux:o.ia(t.b1a)||t.b1a===e.id?o.ia(t.e1a)||t.e1a===i.Pc.id?"performance":"serverfailover":"locationfailover",t.location=e.id,t.Aqa=e.level,t.ws=s),t.url=i.url,t.Pc=i.Pc.id,n=6;break;case 6:return t.HI=i.Pc.name,t.wb=r.Jia?e.wb.confidence>=a.default.Nf.Dx||h.confidence<d?e.wb:h:h.confidence===a.default.Nf.HAVE_NOTHING||e.wb.confidence>=a.default.Nf.Dx?e.wb:h,!0;case 4:return!1}}))}}))?(t.Ez=!1,t.gf=void 0,t.ju&&++f):t.gf&&t.gf===c.TEMPORARY?n.Uo.gf=c.TEMPORARY:t.Ez||(u.warn("Failing stream ["+e+"] "+s+" ("+t.bitrate+" Kbps)"),t.Zub(),t.Ez=!0),i=5}})),p(this.Uo)?(u.warn("Network has failed, not updating stream selection"),this.P8=!0,this.emit("networkFailed",this.Uo.gf===c.rl),!1):!!f||(u.warn("Did not find a URL for ANY stream..."+(e.length?"":"(empty stream list)")),this.ms(a.default.yh.Ox,!0),!1)}},e.prototype.oXb=function(t,e){var i,n;for(2;;)return i={},n=/^http(s?):\/\/([^\/:]+):?([0-9]*)/,o.forEach(this.urls,(function(r,a){var s,u,c,h,f;for(s=2;7!==s;)switch(s){case 4:"0";"4","3",u="s"===f[1],c=f[2],(f=f[3]).length||(f=u?"443":"80"),o.Se(c)&&o.Se(f)&&c===t&&f==e&&(h?h.push(a):i[r]=[a]),s=7;break;case 5:s=f&&4===f.length?4:7;break;case 2:r=r.parent?r.parent.id:"",h=i[r],f=a.match(n),s=5}})),i},e.prototype.ms=function(t,e,i,r){var o,s,h,f,d,v,y,g,m;for(o=2;42!==o;)switch(o){case 44:throw"valid fai","lure state",Error("Invalid failure state");case 27:"wa","s"," ",h.call(i,t+(e.length?"/"+e.join("/"):"")+" : was "+b(d)),o=26;break;case 10:s=m,o=20;break;case 4:o=d?3:43;break;case 12:o=m?11:27;break;case 28:o=44;break;case 22:"tw","orkFa","iled";"workFai","led, permanent =",this.P8=this.P8||p(this.Uo),(y=this.Uo.gf)>v&&(u.warn("Emitting networkFailed, permanent =",y===c.rl),this.emit("networkFailed",y===c.rl)),this.eP=null,o=33;break;case 30:o=f===c.TEMPORARY?24:29;break;case 5:d=d.parent,o=1;break;case 9:h=(i=u).warn,o=7;break;case 26:o=(f=d.gf)===c.rl?25:30;break;case 20:e.unshift(s.id+"("+s.name+")"),o=19;break;case 18:o=g===a.default.yh.LOCATION?17:16;break;case 17:e.unshift(m.id),o=19;break;case 2:d=t!==a.default.yh.Ox&&i?this.urls[i]:this.Uo,v=this.Uo.gf,y=e?c.rl:c.TEMPORARY,o=1;break;case 1:o=d&&d.parent&&d.vn!==t?5:4;break;case 33:this.fP=a.default.kF.Mf,r&&(this.fP=a.default.kF.djb,d.Tw=r),this.dump(),o=42;break;case 11:o=(g=m.vn)===a.default.yh.lF?10:18;break;case 43:"o find failure ","enti","ty for ","URL ",n.N4L(1),u.warn(n.J4L("Unable to find failure entity for URL ",i)),o=42;break;case 24:d.gf=y,l(d),o=22;break;case 25:return;case 15:"l"," f","or ",e.unshift("<url for "+m.stream.bitrate+">"),o=19;break;case 13:m=d,o=12;break;case 29:o=f===c.Ul?24:28;break;case 19:m=m.parent,o=12;break;case 3:o=y!==d.gf?9:42;break;case 16:o=g===a.default.yh.URL?15:19;break;case 7:"a","t"," ";"l","ure r","ep","orted for ";"E","M","P";"E","R","M",t=(e?"PERM":"TEMP")+" failure reported for "+a.default.yh.name[t]+" at ",e=[],o=13}},e.prototype.L7a=function(t,e){var i;for(i=2;3!==i;)switch(i){case 1:v(t,e),d(t),i=5;break;case 2:i=(t=this.Pl[t])?1:5;break;case 8:i=(t=this.Pl[t])?3:1;break;case 5:this.eP=null,this.fP=a.default.kF.Ida,i=3}},e.prototype.l$=function(){var t;for(t=2;1!==t;)switch(t){case 2:v(this.Uo,!1),t=1;break;case 4:v(this.Uo,-3),t=6}},e.prototype.Ln=function(t){var e,i;for(e=2;5!==e;)if(2===e)null===(i=this.Lnb)||void 0===i||i.call(this,t),e=5},e.prototype.sk=function(){var t;for(t=2;1!==t;)if(2===t)this.OVb(h.zjb),t=1},i=20;break;case 4:e.prototype.x8a=function(t){var e;for(e=2;5!==e;)switch(e){case 1:case 9:return t.parent.id;case 2:e=(t=this.urls[t])&&t.parent?1:5}},e.prototype.U7=function(t){var e;for(e=2;5!==e;)switch(e){case 1:return t.Pc.location;case 2:e=(t=this.urls[t])&&t.Pc?1:5}},e.prototype.b$a=function(t){var e;for(e=2;5!==e;)switch(e){case 1:return t.stream;case 2:e=(t=this.urls[t])?1:5}},e.prototype.AL=function(t){var e,i;for(e=2;11!==e;)switch(e){case 14:this.nA=t,this.Uo.children=t,this.dump(),e=11;break;case 2:i=this,t.locations.forEach((function(t){var e,n,r,o,s;for(e=2;8!==e;)switch(e){case 2:n=t.key,e=1;break;case 5:r=[],o=i.Kh.get(n),s=i.Uo,t={id:n,vn:a.default.yh.LOCATION,gf:c.Ul,uc:t.rank,level:t.level,weight:t.weight,Tw:void 0,parent:s,children:r,Pl:r,streams:{},wb:o},i.Hl[t.id]=t,s.children.push(t),e=8;break;case 1:e=i.Hl[n]?8:5}})),this.m2=s.default.time.ea(),this.nA.sort((function(t,e){for(2;;)return t.level-e.level||t.uc-e.uc})),t.servers.forEach((function(t){var e,n,r,o;for(e=2;6!==e;)switch(e){case 5:n=i.Hl[t.key],e=4;break;case 7:n.children.push(t),e=6;break;case 1:e=i.Pl[r]?6:5;break;case 4:e=n?3:6;break;case 2:r=t.id,e=1;break;case 3:o=[],t={id:r,vn:a.default.yh.lF,gf:c.Ul,Tw:void 0,parent:n,children:o,urls:o,name:t.name,type:t.type,uc:t.rank,location:n},i.Pl[t.id]=t,e=7}})),e=9;break;case 9:t.audio_tracks.forEach((function(t){var e;for(e=2;1!==e;)switch(e){case 2:i.i6a(t),e=1;break;case 4:i.i6a(t),e=5}})),t.video_tracks.forEach((function(t){var e;for(e=2;1!==e;)switch(e){case 2:i.i6a(t),e=1;break;case 4:i.i6a(t),e=8}})),(t=this.nA.filter((function(t){var e;for(2;;)return(e=t.Pl.every((function(t){for(2;;)return 0===t.urls.length})))&&(t.Pl.forEach((function(t){var e;for(e=2;1!==e;)if(2===e)i.Pl[t.id]=void 0,e=1})),i.Hl[t.id]=void 0,t.parent=void 0,t.children.length=0,t.streams={}),!e}))).forEach((function(t){var e;for(e=2;1!==e;)if(2===e)t.Pl.sort((function(t,e){for(2;;)return t.uc-e.uc})),e=1})),e=14}},i=7}}(t.EventEmitter),e.Uca=i},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.jGa=void 0,n=i(22),r=i(5),o=i(808),a=i(809),s=i(810),u=i(811),c=i(812),h=i(813),f=i(814),t=function(){function t(t,e,i,n){this.config=t,this.mediaType=e,this.pc=i,this.console=n}return t.prototype.append=function(t,e){var i,o,a,s;return o=e.endOfStream,a=e.r8,s=e.eX,void 0===this.track?this.vN(t.stream):this.track!==t.stream.track&&(r.assert(this.track.sa),r.assert(t.stream.track.sa),r.assert(1===this.mediaType||this.track.sa.equal(t.stream.track.sa)),this.track=t.stream.track),r.assert(void 0!==this.Ct),e={Ld:t,offset:null!==(i=t.bua)&&void 0!==i?i:n.T.Gb,Ue:this.config.v$},i=(e=this.Ct.reduce((function(t,e){return e.append(t,{endOfStream:o,r8:a,eX:s})}),e)).Ld,e=e.offset,i.wa&&t.Bk(i.wa),e},t.prototype.reset=function(){this.Ct=this.track=void 0},t.prototype.vN=function(t){var e,i;this.track=t.track,this.Ct=[],0===this.mediaType&&(this.config.v$&&this.Ct.push(new s.hKa(this.config,t.track,this.console)),(i=this.hja(t)).equal(n.T.Gb)?this.config.fm&&t.uf&&this.opa(t.P.W)&&this.Ct.push(new h.oEa(this.config)):this.Ct.push(new o.pea(i)),this.config.zra||(this.console.log("MediaSplicer: NegativePtsGuard: "+i.Zd()+", "+(null===(e=t.uf)||void 0===e?void 0:e.Zd())),this.Ct.push(new u.DGa(this.config,t,this.console))),this.WKb()&&(this.config.ah||this.Ct.push(new f.jza(t,this.config,this.pc,this.console)),this.Ct.push(new a.MGa(this.config,t,this.console)),this.EYb(t)&&(r.assert(t.sa),this.Ct.push(this.Mvb(t.uf||n.T.Gb,t.sa,i)))))},t.prototype.opa=function(t){return this.config.opa||this.config.Q_a&&-1!==this.config.Q_a.indexOf(t)},t.prototype.hja=function(t){return o.pea.hja(this.config,t.uf,this.pc,this.console)},t.prototype.WKb=function(){return!this.config.WD},t.prototype.EYb=function(t){return this.config.A0b&&this.config.fm&&!!t.uf},t.prototype.Mvb=function(t,e,i){return new c.JLa(t.Qa(i),e,this.console)},t}(),e.jGa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.pea=void 0,n=i(22),r=i(20),t=function(){function t(t){this.uf=t}return t.hja=function(t,e,i,o){var a;return a=n.T.Gb,e&&(i=null==i?void 0:i.H9b,t.J1b&&void 0!==i&&0<=i?(t=new n.T(i,48e3),a=e.add(t),r.ga&&o.trace("Adjusting profile timestamp offset of "+e+" by DPI assumed delay of "+t+" for ASE applied offset of "+a+".")):t.fG&&(a=e)),a},t.prototype.append=function(t){var e;return e=t.Ue,{Ld:t.Ld,offset:t.offset.add(this.uf),Ue:e}},t}(),e.pea=t},function(t,e,i){var n,r,o,a;function s(t){return t.toString()+" (nrdp: "+t.yI+"ms)"}Object.defineProperties(e,{__esModule:{value:!0}}),e.MGa=void 0,n=i(22),r=i(236),o=i(20),a=i(5),t=function(){function t(t,e,i){this.console=i,this.offset=n.T.Gb,this.uf=t.fm?e.uf:void 0,a.assert(e.sa),this.sa=e.sa}return t.prototype.append=function(t){var e,i,r;return e=t.Ld,i=t.offset,r=t.Ue,void 0!==this.Z0a&&(a.assert(void 0!==this.cqa),e.Vc.add(t.offset).equal(this.Z0a)?0>(t=this.Gtb(e,i.add(this.offset)).Y-this.cqa)?this.offset=this.offset.add(n.T.Ow):0===t?this.offset.lessThan(n.T.Gb)&&(this.offset=this.offset.add(n.T.Ow)):1===t?this.offset.greaterThan(n.T.Gb)&&(this.offset=this.offset.Qa(n.T.Ow)):this.offset=this.offset.Qa(n.T.Ow):this.offset=n.T.Gb),this.cqa=this.Ftb(e,i.add(this.offset)).Y,this.Z0a=e.Pd.add(i),{Ld:e,offset:i.add(this.offset),Ue:r}},t.prototype.Gtb=function(t,e){var i,n;return t=this.VPa(t.Vc),i=r.vu(t).add(r.vu(e)),n=t.add(e).Qa(i),o.ga&&this.console.trace("NrdpRounding: content start "+s(t)+", timestamp offset: "+s(e)+", start rounding error: "+r.vu(t).toString()+", offset rounding error: "+r.vu(e).toString()+", total error: "+i.toString()+", expected nrdp value:"+n.Zd()+", ("+t.yI+e.yI+"ms), last fragment end nrdp: "+this.cqa),n},t.prototype.Ftb=function(t,e){var i,n,a;return i=this.sa,t=this.VPa(t.Pd),n=r.vu(t.Qa(i)).add(r.vu(i)).add(r.vu(e)),a=t.add(e).Qa(n),o.ga&&this.console.trace("NrdpRounding: content end: start of last frame:"+s(t.Qa(i))+", frame duration: "+s(i)+", offset: "+s(e)+", timestamp rounding error: "+r.vu(t.Qa(i)).toString()+", frame duration rouding error: "+r.vu(i).toString()+", offset rounding error: "+r.vu(e).toString()+", total rounding error: "+n.toString()+", expected nrdp value: "+a.Zd()+", ("+t.Qa(i).yI+i.yI+e.yI+"ms)"),a},t.prototype.VPa=function(t){return this.uf?t.Qa(this.uf):t},t}(),e.MGa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.hKa=void 0,n=i(22),r=i(5),o=i(20),t=function(){function t(t,e,i){this.config=t,this.console=i,this.Zv=n.T.Gb,r.assert(e.sa),this.sa=e.sa,t=e.$d[0].profile,this.G8=this.lGb(t,this.sa),this.j8=this.jGb(t,this.sa)}return t.prototype.append=function(t,e){var i,a,s,u;return i=t.Ld,a=t.offset,t=t.Ue,s=e.r8,e=e.eX,this.gta&&(u=this.$Ob(i,this.gta),i.wa&&this.Aia(u)?(o.ga&&this.console.trace("SeamlessAudio: dropping one first frame"),i.qla(1),this.Zv=u):(this.Zv=u.add(this.sa),this.YQa(this.Zv)||(o.ga&&this.console.trace("SeamlessAudio: cannot maintain seamlessness at "+i.xj.Zd()+" error would be "+this.Zv.Zd()+" (editing "+(i.wa?"":"not ")+"allowed)"),this.Zv=n.T.Gb,t=!1)),this.gta=void 0),(i.uq||i.zw)&&(r.assert(s,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!i.wa||!e&&i.zw||(u=this.aPb(i,s,e)).Or(n.T.Gb)&&i.rla(1),this.gta=s),r.assert(this.YQa(this.Zv)),this.gqa=i.xe,{Ld:i,offset:a.add(this.Zv),Ue:t}},t.prototype.aPb=function(t,e,i){var n;return i?n=this.Zv.add(t.xe.Qa(i)).Qa(this.sa):(n=t.xe.Qa(e),n=this.Zv.add(n).Qa(this.sa)),o.ga&&this.console.trace("SeamlessAudio: fragment end: "+t.xe.Zd()+", splice "+e.Zd()+", next start "+(null==i?void 0:i.Zd())+", error "+n.add(this.sa).Zd()+", error with frame drop "+n.Zd()+", is"+(this.Aia(n)?"":" not")+" within bounds of ["+this.G8.Zd()+" and "+this.j8.Zd()+")"),n},t.prototype.$Ob=function(t,e){var i;return r.assert(this.gqa),i=this.Zv.add(this.gqa.Qa(t.xj)).Qa(this.sa),o.ga&&this.console.trace("SeamlessAudio: fragment start: "+t.xj.Zd()+", splice "+e.Zd()+", last fragment end: "+this.gqa.Zd()+", error "+i.add(this.sa).Zd()+", error with frame drop "+i.Zd()+", is"+(this.Aia(i)?"":" not")+" within bounds of ["+this.G8.Zd()+" and "+this.j8.Zd()+")"),i},t.prototype.Aia=function(t){return t.lessThan(this.j8)&&t.Or(this.G8)},t.prototype.YQa=function(t){return t.lessThan(this.j8.add(n.T.Ow))&&t.Or(this.G8.Qa(n.T.Ow))},t.prototype.jGb=function(t,e){return"object"==typeof this.config.xva&&void 0!==this.config.xva[t]?(t=new n.T(this.config.xva[t],1e3).Zf(e.S).add(new n.T(1,e.S)),n.T.min(e,t)):e},t.prototype.lGb=function(t,e){var i;return"object"==typeof this.config.yva&&void 0!==this.config.yva[t]?(i=e.qm(-2),t=new n.T(this.config.yva[t],1e3).Zf(e.S).Qa(new n.T(1,e.S)),n.T.max(i,t)):new n.T(-12,1e3)},t}(),e.hKa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.DGa=void 0,n=i(22),r=i(5),o=i(20),t=function(){function t(t,e,i){var o;this.console=i,this.tY=!1,r.assert(e.sa,"NegativePtsGuard: stream.frameDuration must exist."),this.sa=e.sa,this.fm=t.fm,this.uf=null!==(o=e.uf)&&void 0!==o?o:n.T.Gb}return t.prototype.append=function(t){var e,i,r,a;return this.tY?t:(e=t.Ld,i=t.offset,t=t.Ue,e.wa&&(r=e.Vc.Qa(this.fm?this.uf:n.T.Gb).add(i)).lessThan(n.T.Gb)&&(a=Math.ceil(r.PH(-1).qm(this.sa)),o.ga&&this.console.trace("NegativePtsGuard: dropping "+a+" frames on first fragment to avoid nagative pts, profile offset "+this.uf.Zd()+", request content start "+e.Vc.Zd()+", current timestamp offset "+i.Zd()+" => firstPlatformTimestamp "+r.Zd()+"."),e.qla(a)),this.tY=!0,{Ld:e,offset:i,Ue:t})},t}(),e.DGa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.JLa=void 0,n=i(22),r=i(20),t=function(){function t(t,e,i){this.uf=t,this.sa=e,this.console=i}return t.prototype.append=function(t,e){var i,o,a,s;return i=t.Ld,o=t.offset,t=t.Ue,a=e.endOfStream,e=e.r8,a&&e?(a=i.Vc.Qa(this.uf).add(o),s=i.Pd.Qa(this.uf).add(o),e=e.Qa(n.T.Ow),r.ga&&this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times "+a.Zd()+"-"+s.Zd()+" vs media splice point at "+e.Zd()),a.add(this.sa).Or(e)?(r.ga&&this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),i.pla()):s.Or(e)&&(e=Math.ceil(s.Qa(e).qm(this.sa)),i.wa?(r.ga&&this.console.trace("TruncateEndOfStreamAudio: drop "+e+" frames"),i.rla(e)):(r.ga&&this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),i.pla()))):a&&r.ga&&this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point"),{Ld:i,offset:o,Ue:t}},t}(),e.JLa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.oEa=void 0,t=function(){function t(t){this.tY=!1,this.NYb=t.dKb}return t.prototype.append=function(t){return t.Ld.wa&&(t.Ld.XXb(this.tY?0:this.NYb),this.tY=!0),t},t}(),e.oEa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.jza=void 0,n=i(382),r=i(9),t=function(){function t(t,e,i,n){this.config=e,this.pc=i,this.console=n,this.sa=t.sa}return t.prototype.append=function(t,e){var i,o,a,s,u,c,h,f;return o=n.yna(this.config,this.pc),s=(a=t.Ld).xe,u=a.xj,c=a.zw,h=t.Ue,c=a.uq||c,t.Ld.wa&&c&&!h?(h=a.Pd.Qa(a.Vc),a=Math.floor(h.qm(this.sa)),c=null!==(i=e.eX)&&void 0!==i?i:s.Qa(this.sa.PH(2)),s=c.Qa(u),i=a,f=!1,e.eX&&(i=(e=this.KRa(h,s,s)).pva,f=e.L3a),o=c.Qa(r.T.Eb(o)),u=r.T.max(o.Qa(u),r.T.Gb),f||(i=(u=this.KRa(h,u,s)).pva,u.L3a&&(--i,this.sa.PH(i))),i<(this.config.VOb||1)?t.Ld.pla():0<a-i&&t.Ld.rla(a-i),t):t},t.prototype.KRa=function(t,e,i){var n;return t=r.T.min(t,e),t=Math.floor(t.qm(this.sa)),e=this.sa.PH(t),i=i.Qa(e),n=0<t&&i.lessThan(r.T.Ow),{pva:t,$bc:e,r$b:i,L3a:n}},t}(),e.jza=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y;function g(t,e,i,n){var r,a;return s.assert(t.Zk,"Current time: "+h.default.time.ea()+" cr: "+t.currentTime),s.assert(t.currentTime.isFinite()),r=i.Qa(t.currentTime),r=Math.max(Math.ceil(r.hI/t.speed),0),(a=null!=n?n:{id:void 0,hUa:r,c4a:0,qRb:r}).id=setTimeout((function(){i.Qa(t.currentTime).HN(o.T.Gb)?e():(a.c4a++,g(t,e,i,a))}),r),a.hUa=r,a}Object.defineProperties(e,{__esModule:{value:!0}}),e.nya=e.XR=void 0,n=i(2),r=i(17),o=i(22),a=i(237),s=i(5),u=i(20),c=i(816),h=n.__importDefault(i(6)),f=i(174),l=i(817),d=i(818),p=i(148),b=function(){function t(){this.complete()}return Object.defineProperties(t.prototype,{eJ:{get:function(){return this.lha},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{H3a:{get:function(){return this.xnb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Myb:{get:function(){return this.Hlb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{tva:{get:function(){return this.ipb},enumerable:!1,configurable:!0}}),t.prototype.set=function(t,e,i){this.Hlb=e===v.fO?0:h.default.time.ea(),this.xnb=t,this.ipb=e,u.ga&&s.assert(!this.lha,"Invalid replacement of timeout value"),this.lha=i},t.prototype.complete=function(){this.lha=void 0,this.set(o.T.fD,v.fO)},t}(),(y=v||(v={}))[y.fO=0]="none",y[y.X2a=1]="microTask",y[y.setTimeout=2]="setTimeout",t=function(t){function e(e,i,n){var o;return void 0===n&&(n="unknown"),(o=t.call(this)||this).za=e,o.console=i,o.name=n,o.vnb=0,o.kga=!1,o.Mk=new b,o.e5=new r.Wh,o.Zl=new a.C0([],c.HSa((function(t,e){return t.ZO.Al(e.ZO)}),(function(t,e){return e.Ds.priority-t.Ds.priority}),(function(t,e){return t.Ds.id>e.Ds.id?1:t.Ds.id<e.Ds.id?-1:0}))),o.GQa(e),o}return n.__extends(e,t),Object.defineProperties(e.prototype,{wYb:{get:function(){return this.za.Zk},enumerable:!1,configurable:!0}}),e.prototype.CTa=function(t,e){return(t=new(t.bind.apply(t,n.__spread([void 0],e)))).id=this.vnb++,t.Prb(this),this.Oha(t),t},e.prototype.AG=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.CTa(l.tEa,t)},e.prototype.vEb=function(){var t;return t={hasSchedule:!!this.Mk.eJ,schedule:this.Mk.eJ&&{sleepTime:this.Mk.eJ.hUa,originalSleepTime:this.Mk.eJ.qRb,clockSkewAdjustments:this.Mk.eJ.c4a},nextWakeup:this.Mk.H3a.Y,timeScheduled:this.Mk.Myb,scheduleType:v[this.Mk.tva],numTasks:this.Zl.length,clock:{ir:this.za.Zk,ct:this.za.currentTime.Y,sp:this.za.speed}},u.ga&&this.trace("audit",t),t},e.prototype.nU=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.CTa(d.AKa,t)},e.prototype.ayb=function(t,e,i){this.AG((function(){return n.__generator(this,(function(i){switch(i.label){case 0:return[4,p.Jk.tJ(e)];case 1:return i.bd(),t(),[3,0];case 2:return[2]}}))}),i)},e.prototype.GQa=function(t){var e;e=this,this.yC(),this.e5.clear(),this.za=t,this.e5.on(t,"stopStart",(function(){return e.JO()})),this.e5.on(t,"clockAdjusted",(function(){return e.nX()})),this.e5.on(t,"speedChanged",(function(){return e.cRb()})),this.nX(),this.emit("clockChanged")},e.prototype.cRb=function(){this.yC(),this.JO()},e.prototype.Nb=function(){this.reset()},e.prototype.reset=function(){this.yC(),this.Zl.clear()},e.prototype.nX=function(){var t,e;t=this,e=this.Zl.map((function(t){return t.Ds})),this.yC(),this.Zl.clear(),e.forEach((function(e){return t.Oha(e,!1)})),this.JO()},e.prototype.Oha=function(t,e){var i;void 0===e&&(e=!0),i=t.W8(),t={Ds:t,ZO:this.Z$a(i),i$:i},s.assert(!this.Zl.contains(t)),this.Zl.push(t),e&&this.JO()},e.prototype.JO=function(){var t,e,i,n,r;t=this,u.ga&&this.trace("recheck schedule task count:"+this.Zl.length),this.wYb?this.kga?u.ga&&this.trace("already executing, bailing"):(n=this.Mk.H3a,(r=null!==(i=null===(e=this.Zl.Pw())||void 0===e?void 0:e.ZO)&&void 0!==i?i:o.T.fD).isFinite()&&r.a9(n)?(this.yC(!1),this.za.currentTime.Or(r)?(this.Mk.set(r,v.X2a),Promise.resolve().then((function(){t.Mk.tva===v.X2a&&(t.Mk.complete(),t.a8a())}))):(u.ga&&this.trace("scheduling next wake up for:"+r.Y),e=g(this.za,(function(){t.Mk.complete(),t.a8a()}),r),this.Mk.set(r,v.setTimeout,e))):r.isFinite()||this.Mk.tva!==v.setTimeout||this.yC(!1)):(u.ga&&this.trace("should check schedule is false, stopping"),this.yC())},e.prototype.a8a=function(){var t,e,i,n;i=0,n=null===(t=this.Zl.Pw())||void 0===t?void 0:t.i$;try{for(this.kga=!0;1e4>i++&&this.E0b(););}finally{this.kga=!1,this.yC(),1e4<i&&!this.EIb(n)?null===(e=this.console)||void 0===e||e.error("Task scheduler executed more than 10000 iterations in same tick"):this.JO()}},e.prototype.EIb=function(t){var e,i;return i=null===(e=this.Zl.Pw())||void 0===e?void 0:e.i$,!(t&&i&&t.timestamp.equal(i.timestamp)&&t.type===i.type)},e.prototype.E0b=function(){var t,e,i;if(i=null!==(e=null===(t=this.Zl.Pw())||void 0===t?void 0:t.ZO)&&void 0!==e?e:o.T.fD,u.ga&&this.trace("tryExecuteNextTask @"+this.za.currentTime.Y+", next wakeup at "+i),this.za.currentTime.Or(i)&&(t=this.Zl.pop())){e=t.Ds,u.ga&&this.trace("Running a task @"+this.za.currentTime.Y+", scheduled for time:"+i.Y+"Name:"+e.name);try{e.ax(),t.i$=e.W8(),t.ZO=this.Z$a(t.i$)}catch(t){throw this.console.error("Unhandled error from a task "+e.name+" occurred. Removing the task from future executions:"+t,{stack:t.stack}),e.Nb(),t}finally{t.ZO!==o.T.fD&&e.state===f.Ym.s$&&(s.assert(!this.Zl.contains(t)),this.Zl.push(t))}return!0}},e.prototype.nWb=function(t){s.assert(t.Yf===this),this.Mua(t,!1),this.Oha(t)},e.prototype.Mua=function(t,e){var i;void 0===e&&(e=!0),(i=this.Zl.find((function(e){return e.Ds===t})))&&this.AVb(i,e)},e.prototype.AVb=function(t,e){this.Zl.remove(t),e&&this.JO()},e.prototype.yC=function(t){void 0===t&&(t=!0),this.Mk.eJ&&(t&&this.emit("stopping"),clearTimeout(this.Mk.eJ.id),this.Mk.complete())},e.prototype.Z$a=function(t){return t.type===p.Dea.absolute?t.timestamp:t.timestamp.add(this.za.currentTime)},e.prototype.trace=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];null===(t=this.console)||void 0===t||t.trace.apply(t,n.__spread(["TaskScheduler("+this.name+"):"],e))},e}(r.EventEmitter),e.XR=t,e.nya=function(t,e,i){var n;return n=void 0,(i||t.za.Zk)&&t.za.currentTime.Or(e)?{promise:Promise.resolve()}:{promise:new Promise((function(i){n=t.nU(p.Jk.XP(e),i)})),Ds:n}}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.HSa=void 0,n=i(2),r=i(20),o=i(5),e.HSa=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.ga&&o.assert(t.length),function(e,i){var r,o;try{for(var a=n.__values(t),s=a.next();!s.done;s=a.next())if(0!==(o=(0,s.value)(e,i)))return o}catch(t){var u;u={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}return 0}}},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.tEa=void 0,n=i(2),r=i(22),o=i(5),a=i(174),s=i(148),t=function(t){function e(e,i,n){return(i=t.call(this,i,n)||this).JWb=e,i.reset(),i}return n.__extends(e,t),e.prototype.reset=function(){var t,e;this.$c!==a.Ym.s$&&this.$c!==a.Ym.pending||null===(e=null===(t=this.P1)||void 0===t?void 0:t.return)||void 0===e||e.call(t),this.$c=a.Ym.pending,this.P1=this.JWb(),this.Dga=s.Jk.tJ(r.T.Gb)},e.prototype.Hm=function(){this.reset(),o.assert(this.Tv),this.Tv.nWb(this)},e.prototype.W8=function(){return this.Dga},e.prototype.og=function(){var t,e,i;(i=this.P1.next()).done?(this.Dga=s.Jk.mya,null===(e=(t=this.P1).return)||void 0===e||e.call(t)):this.Dga=i.value},e.prototype.Nb=function(){var e,i;null===(i=(e=this.P1).return)||void 0===i||i.call(e),t.prototype.Nb.call(this)},e}(a.Qea),e.tEa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.AKa=void 0,n=i(2),r=i(174),o=i(148),t=function(t){function e(e,i,n){return(n=t.call(this,n)||this).wva=e,n.YT=i,n}return n.__extends(e,t),e.prototype.W8=function(){return this.$c===r.Ym.pending?this.wva:o.Jk.mya},e.prototype.og=function(){this.YT()},e}(r.Qea),e.AKa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.NJa=void 0,t=i(2),n=t.__importDefault(i(28)),r=t.__importDefault(i(383)),i=function(){function t(t){this.N2=[],this.N2[n.default.Ta.Mb]=new r.default(t,n.default.Ta.Mb),this.N2[n.default.Ta.Wb]=new r.default(t,n.default.Ta.Wb)}return t.prototype.Oqb=function(t,e,i){this.N2[t].add(e,i)},t.prototype.Yna=function(){var t;return t=[],this.N2.forEach((function(e){var i;e&&((i=e.get())&&0<i.length&&i.forEach((function(e){t.push(e)})),e.reset(!0))})),t},t.prototype.RCb=function(t){var e;return e=this.Yna(),t.strmsel=e,0<e.length},t}(),e.NJa=i},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.YXa=void 0,e.YXa=function(t){var e,i,n;return e=Math.floor(1e6*Math.random()),i=t.Koa,n=t.J6,{Jr:t=0==e%t.Loa&&0<n.length,QU:t&&0==e%i}}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.VSa=void 0,e.VSa=function(t,e){var i;return Array.isArray(t.TSa)?(i=t.Et?t.Et():Object.create(t),t.TSa.forEach((function(t){if(void 0!==t.TOb&&e.duration>=t.TOb&&t.config)for(var n in t.config)i[n]=t.config[n]})),i):t}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.xBa=void 0,n=i(2).__importStar(i(10)),r=i(125),o=i(5),t=function(){function t(t,e,i){var n;for(n=2;3!==n;)switch(n){case 2:this.tn=t,this.H=e,this.ai=i,n=4;break;case 4:"I","YbZr","NJ","Cp9",n=3}}var e;for(e=2;7!==e;)switch(e){case 8:return t;case 2:t.prototype.Clb=function(t,e){var i,n,o;for(i=2;8!==i;)switch(i){case 2:n=this,o=this.tn.I,i=1;break;case 1:"eat","eDlTr","ac","ksStart",0===this.OF&&this.tn.Cb.am("createDlTracksStart"),this.OF+=t.length,t=t.map((function(t){for(2;;)return n.LMa(t,e.J,e.Oz(),n.tn.Yl,o)})),r.lp.instance.og(),i=9;break;case 9:return t}},t.prototype.Olb=function(){var t,e,i;for(t=2;3!==t;)if(2===t)e=this,i=[],this.tn.zb.Kf.forEach((function(t){var e;for(e=2;5!==e;)if(2===e)n.ia(t.If)||i.push(t.If),t.If=void 0,e=5})),this.tn.FS&&(i.push(this.tn.FS),this.tn.FS=void 0),i.forEach((function(t){var i;for(i=2;5!==i;)if(2===i)t.Co||--e.OF,r.lp.instance.oM(t),i=5})),t=3},t.prototype.Kmb=function(){var t;for(t=2;1!==t;)switch(t){case 2:this.OF=0,t=1;break;case 4:this.OF=3,t=8}},t.prototype.DOa=function(t,e){var i,n,r;for(i=2;5!==i;)if(2===i)(r=(n=this.tn.zb.Kf[t]).If)&&(r=e.yL(t,r),this.Nlb(t),n.If=this.LMa(t,e.J,e.Oz(),this.tn.Yl,this.tn.I),e.hva(r)),i=5},t.prototype.LMa=function(t,e,i,n,a){var s,u,c;for(s=2;7!==s;)switch(s){case 2:"rtr","epo","rt";"r","r","o","r";"etworkfaili","ng";"re","a","ted",u=this,(c=r.lp.instance.Ht(t,e,!0,i,n,a)).Xg.on(c,"created",(function(){var t;for(t=2;5!==t;)if(2===t){"D","lTrac","ksEnd",--u.OF,0===u.OF&&u.tn.Cb.am("createDlTracksEnd"),t=5}})),c.Xg.on(c,"networkfailing",(function(){var t,e;for(t=2;8!==t;)switch(t){case 1:t=c.k5?5:8;break;case 2:"tworkFailin","g",": ",a.ji&&u.ai.Bm("reportNetworkFailing: "+c),t=1;break;case 3:e.aq.ms(c.$U,void 0,c.ph,c.uj),e.Om(),t=8;break;case 5:o.assert(c.$U),e=u.tn.Ge.P,t=3}})),c.Xg.on(c,"error",(function(){var t;for(t=2;5!==t;)if(2===t){"FErr_MC_Streami","ngFa","i","lure";"ownloadTrack f","a","tal er","ror";" f","a","tal error",a.ji&&u.ai.Bm("DownloadTrack fatal error"),u.tn.Ep("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",c.ph,0,c.uj),t=5}})),c.on("transportreport",(function(t){var e;for(e=2;1!==e;)switch(e){case 2:"tre","po","rt",u.tn.emit("transportreport",t),e=1;break;case 4:u.tn.emit("",t),e=2}})),c.xb(),s=8;break;case 8:return c}},t.prototype.Nlb=function(t){var e,i;for(e=2;9!==e;)if(2===e)(i=(t=this.tn.zb.Kf[t]).If).Co||--this.OF,r.lp.instance.oM(i),t.If=void 0,e=9},e=8}}(),e.xBa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.Sya=void 0,n=i(16),r=i(9),t=function(){function t(t){this.pG=t,this.state=new r.er(n.ma.zh),this.qj={}}return t.prototype.getState=function(){return this.state.value},t.prototype.Ve=function(t){this.state.set(t)},t.prototype.addListener=function(t){this.state.addListener(t)},t.prototype.paused=function(){this.state.value===n.ma.Kc&&this.state.set(n.ma.hh)},t.prototype.v0a=function(){return this.state.value===n.ma.zh},t.prototype.sq=function(){return"function"==typeof this.pG.sq?this.pG.sq():this.state.value===n.ma.Kc},t.prototype.pg=function(){return this.state.value===n.ma.xd||this.state.value===n.ma.Of},t.prototype.w0a=function(){return this.state.value===n.ma.dj},t.prototype.x0a=function(){return this.state.value===n.ma.gr},t.prototype.Re=function(){return this.pG.Re()},t.prototype.Jo=function(){return"function"==typeof this.pG.Jo?this.pG.Jo():1},t.prototype.BV=function(){return this.pG.BV()},t.prototype.LY=function(t,e){this.qj[t]=e},t.prototype.Oo=function(t){return!!this.qj[t.J]||t.ii},t}(),e.Sya=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.JIa=void 0,t=function(){function t(t,e,i){var n;this.Drb=t,this.Ega=e,this.Ilb=i,this.Rfa=((n={})[0]=!1,n[1]=!1,n),this.reset()}return t.prototype.Qy=function(){var t,e;t=this,0===(e=this.Drb.filter((function(e){return!e.Z_a(t.Ilb())}))).length&&this.oga?this.Dnb():e.forEach((function(e){t.Rfa[e.mediaType]||(e.once("requestAppended",(function(){t.Rfa[e.mediaType]=!1,t.Qy()})),t.Rfa[e.mediaType]=!0)}))},t.prototype.reset=function(){var t;t=this,this.oga=!1,new Promise((function(e){t.Dnb=e})).then((function(){return t.Ega()}))},t.prototype.ENb=function(){this.oga||(this.oga=!0,this.Qy())},t}(),e.JIa=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.Eya=void 0,n=i(20),t=function(){function t(t){this.console=t,this.HF=[],this.VB=[],n.ga&&this.console.trace("Received pending adoption "+this.Nl.length)}return Object.defineProperties(t.prototype,{length:{get:function(){return this.HF.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Nl:{get:function(){return this.VB},enumerable:!1,configurable:!0}}),t.prototype.BNb=function(t){-1!==(t=this.VB.indexOf(t))&&(n.ga&&this.console.trace("Marking request attached"),this.HF[t].W_a=!0,this.wab(t))},t.prototype.CNb=function(t){-1!==(t=this.VB.indexOf(t))&&(n.ga&&this.console.trace("Marking request completed"),this.HF[t].Pz=!0,this.wab(t))},t.prototype.BVb=function(t){var e,i;e=this,i=[],this.VB.forEach((function(e,n){t(e)&&i.unshift(n)})),i.forEach((function(t){e.VB.splice(t,1),e.HF.splice(t,1)}))},t.prototype.push=function(t){this.VB.push(t),this.HF.push({W_a:!1,Pz:!1}),n.ga&&this.console.trace("Pushing pending request, "+this.length+" total")},t.prototype.$C=function(){return 0<this.length},t.prototype.wab=function(t){var e;(e=this.HF[t]).W_a&&e.Pz&&(e=this.VB[t],this.VB.splice(t,1),this.HF.splice(t,1),n.ga&&this.console.trace("Removing request, "+this.length+" left"),0===this.length&&n.ga&&this.console.trace("Removing last request, contentEndPts: "+e.Lc))},t}(),e.Eya=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e){return(1===t.mediaType?0:1)-(1===e.mediaType?0:1)}Object.defineProperties(e,{__esModule:{value:!0}}),e.IEa=e.Tda=e.kjb=void 0,n=i(2),r=i(83),o=i(149),a=i(387),s=i(16),u=i(9),c=i(5),h=i(22),f=n.__importDefault(i(6)),t=i(102),l=i(42),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(i(239).bK),e.kjb=d,e.Tda={Ebb:p},i=function(t){function e(e,i,n,r,o,a,s,c,l,p,b,v,y,g,m,_){var w;return(o=t.call(this)||this).ycc=e,o.I=i,o.P=r,o.Gp=a,o.a6=s,o.Zs=p,o.BS=b,o.sl=y,o.by=g,o.events=m,o.Rv=_,o.ee=new d([]),o.Xl=!1,o.KS=0,o.jS=o.mX.bind(o),o.H=u.wq(f.default,n,a.id&&a.id.length?"{"+a.id+"}":""),o.Kk=o.H.error.bind(o.H),o.Sb=o.H.warn.bind(o.H),o.jn=o.H.trace.bind(o.H),o.Sr=null!=l?l:h.T.Eb(o.O.Z),o.Mga=null==v?void 0:v.xe,null===(w=o.by)||void 0===w||w.addListener(o.jS),r&&c&&o.WJb(r,c),o}return n.__extends(e,t),Object.defineProperties(e.prototype,{Eh:{get:function(){return this.Xl},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{O:{get:function(){return this.Gp},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Aw:{get:function(){return this.ee.every((function(t){return t.Aw}))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wl:{get:function(){return this.ee.every((function(t){return t.wl}))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ut:{get:function(){return this.lq().reduce((function(t,e){return t+e.ut}),0)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ri:{get:function(){return this.lq().every((function(t){return t.ri()}))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{vg:{get:function(){return this.lq().map((function(t){return t.track}))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{S:{get:function(){return this.mt.S},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Wa:{get:function(){return this.mt.Wa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ob:{get:function(){return this.mt.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zj:{get:function(){return this.jg.Zf(this.S).vc},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Tr:{get:function(){return this.Sr.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gI:{get:function(){return this.O.Mg.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{xO:{get:function(){return this.O.Uk.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{KM:{get:function(){var t,e;return(e=null===(t=this.O.O.hq)||void 0===t?void 0:t[0])&&this.Vc?h.T.Eb(Math.max(0,e[0]-this.Vc.Y-this.O.Mg.Y)):void 0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{O7:{get:function(){return this.ee.reduce((function(t,e){return t&&e.xe?h.T.max(t,e.xe):e.xe?e.xe:t}),void 0)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{jpa:{get:function(){return this.Tr.Y},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Fe:{get:function(){return this.jg.Y},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Rq:{get:function(){return this.mt.Rq},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{jg:{get:function(){return this.Zs},enumerable:!1,configurable:!0}}),e.prototype.kx=function(t){this.jg.equal(t)||(this.Zs=t)},e.prototype.yz=function(t){return(t=this.eb(t))?Promise.resolve(t.yz()):Promise.resolve(o.AsyncIterator.KXa())},e.prototype.LG=function(){this.lq().forEach((function(t){return t.LG()}))},e.prototype.reset=function(){this.ee.forEach((function(t){t.reset()}))},e.prototype.Df=function(){var t,e;this.Xl||(this.Xl=!0,null===(t=this.XB)||void 0===t||t.ed(),this.XB=void 0,this.ee.forEach((function(t){t.Df()})),null===(e=this.by)||void 0===e||e.removeListener(this.jS),this.events.removeAllListeners())},e.prototype.hW=function(){return!0},e.prototype.eb=function(t){return this.ee.get(t)},e.prototype.lq=function(t){return void 0===t&&(t=p),this.ee.items.slice().sort(t)},e.prototype.e6=function(){return this.ee.items},e.prototype.aN=function(t){return this.eb(t)},e.prototype.Gh=function(t,e){return(t=this.eb(t))?e?t.Gm:void 0===(e=t.Tp)?0:e-(t=this.BS()):0},e.prototype.OC=function(){var t,e,i,n,r,o,a;return a=null===(t=this.eb(0))||void 0===t?void 0:t.rn,{$n:null!==(i=null==(t=null===(e=this.eb(1))||void 0===e?void 0:e.rn)?void 0:t.Y)&&void 0!==i?i:0,vr:null!==(n=null==a?void 0:a.Y)&&void 0!==n?n:0,Ks:null!==(r=null==t?void 0:t.fa)&&void 0!==r?r:0,kC:null!==(o=null==a?void 0:a.fa)&&void 0!==o?o:0}},e.prototype.KV=function(t){var e;return(t=this.eb(t))&&null!==(e=t.Tp)&&void 0!==e?e:0},e.prototype.Om=function(t){return t=this.eb(t),c.assert(t),t.Om()},e.prototype.mX=function(t){s.No(t.newValue)&&this.qr()},e.prototype.vG=function(t){return this.ee.every((function(e){return e.vG(t)}))},e.prototype.P5=function(t){var e,i;return null!==(i=null===(e=this.ee.get(t))||void 0===e?void 0:e.HTa)&&void 0!==i?i:h.T.Gb},e.prototype.tk=function(t){this.Xl||(t.e3||c.assert(!t.ad),this.qr(),this.wl&&this.Kga()),this.Ut(t)},e.prototype.YH=function(t){this.I.T4&&this.qr(!0),this.TG(t)},e.prototype.XH=function(t){this.I.T4&&this.qr(!0),this.MC(t)},e.prototype.iwa=function(t){var e;return s.No((null===(e=this.by)||void 0===e?void 0:e.value)||s.Jc.ej)&&(!t||this.KS+this.I.z8<f.default.time.ea())},e.prototype.qr=function(t){void 0===t&&(t=!1),this.iwa(t)&&(this.KS=f.default.time.ea(),t={type:"checkBufferingProgress"},this.events.emit(t.type,t))},e.prototype.Kga=function(){var t;t={type:"branchStreamingComplete"},this.events.emit(t.type,t)},e.prototype.WJb=function(t,e){var i,n;i=this,this.$va(t),c.assert(t.W===this.O.W||isNaN(t.W)&&isNaN(this.O.W)),this.Zfa=[],t=null!=e?e:null===(n=this.a6)||void 0===n?void 0:n.call(this,t),c.assert(t,"tracks need to exist upon initialization"),t.forEach((function(t){var e;t=t.mediaType,e=new a.wda(t,i.I,i.H),i.Zfa[t]=e}))},e.prototype.toJSON=function(){var t,e;return{segment:this.O.id,branchOffset:this.Fe,viewableId:this.Gp.W,contentStartPts:null===(t=this.Vc)||void 0===t?void 0:t.Y,contentEndPts:null===(e=this.Pd)||void 0===e?void 0:e.Y}},e}(r.kv),e.IEa=i,l.xf(t.rx,i),l.xf(t.kB,i)},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.WUa=e.LKb=e.b0a=e.PYa=void 0,n=i(25),e.PYa=function(t,e){if((t=t.gb.O.Zw)&&0!==t.length)return n.ig(t,(function(t){return t.Vc.Y<=e&&e<t.Pd.Y}))},e.b0a=function(t,e){return e.index===t.ie.index||!(!(t=t.gb.O.Zw)||0===t.length)&&t.some((function(t){return t=t.Vc,e.Vc.HN(t)&&t.lessThan(e.Pd)}))},e.LKb=function(t,e){return e.index===t.Hf.index||!(!(t=t.gb.O.Zw)||0===t.length)&&t.some((function(t){return t=t.Pd,e.Vc.lessThan(t)&&t.HN(e.Pd)}))},e.WUa=function(t,e,i,n){var r,o,a,s,u,c,h,f;t=null===(r=e.wa)||void 0===r?void 0:r.start,r=null===(o=e.wa)||void 0===o?void 0:o.end,f=o=!1,(null!=n&&n.VKb||(null==n||!n.JKb)&&e.Vc.lessThan(i.Vc))&&((h=e.ima(i.Vc.Y))&&(h=(null!==(s=null===(a=e.wa)||void 0===a?void 0:a.start)&&void 0!==s?s:0)+h.il,t=Math.max(null!=t?t:0,h)),h=i.Vc.Y,o=!0),null!=n&&n.PKb||!e.Pd.greaterThan(i.Pd)||((h=e.ima(i.Pd.Y))&&(h=(null!==(c=null===(u=e.wa)||void 0===u?void 0:u.start)&&void 0!==c?c:0)+h.il,r=Math.min(null!=r?r:1/0,h),e.bO=e.index),h=i.Pd.Y,f=!0),void 0===t&&void 0===r||(e.Bk({start:t,end:r}),void 0!==h&&(!e.av||h>e.av)&&e.nP(h)),e.UXb(i.region,o,f)}},function(t,e,i){var n,r,o,a,s,u,c;Object.defineProperties(e,{__esModule:{value:!0}}),e.jIa=void 0,n=(t=i(2)).__importDefault(i(28)),r=n.default.Ta,o=n.default.kF,a=i(9),s=i(22),u=t.__importDefault(i(144)),c=t.__importDefault(i(6)),i=function(){function t(t,e,i,n,r){this.Rw=t,this.Mt=e,this.I=i,this.H=n,this.Sg=r}return t.prototype.RPb=function(t){t={type:"requestCreated",request:t},a.Va(this.Mt,t.type,t)},t.prototype.QPb=function(t){var e;e=t.Pa.gb.O,t={type:"updateStreamingPts",mediaType:t.mediaType,position:{xa:e.id,offset:s.T.Eb(this.Rw.Uja-e.Z)},completePlayerStreamingTimestamp:s.T.Eb(this.Rw.Tp),trackIndex:t.stream.track.jC},a.Va(this.Mt,t.type,t)},t.prototype.Z3a=function(t,e,i){var n,r;n=this.Sg,(r=this.Rw.kl.ug).Z8a(t),1===n&&this.I.t$&&(void 0===r.kqa?r.a9a(c.default.time.ea()):c.default.time.ea()-r.kqa>this.I.t$&&(t.bitrate!==r.g1a&&(c.default.storage.set("vb",t.bitrate),r.ZXb(t.bitrate)),r.a9a(c.default.time.ea()))),r.sW&&r.sW===t||(this.Rw.kl.xZb(e,r.sW,t),r.OXb(t),e=0,t.wb&&t.wb.confidence&&t.wb.Ra&&(e=t.wb.Ra.Ga),r={xa:this.Rw.gb.O.id,offset:s.T.Eb(i-this.Rw.gb.O.Z)},t={type:"streamSelected",nativetime:c.default.time.ea(),mediaType:n,streamId:t.id,manifestIndex:t.P.Pb,trackIndex:t.track.jC,streamIndex:t.Lf,movieTime:i,bandwidth:e,longtermBw:e,rebuffer:0,position:r},a.Va(this.Mt,t.type,t))},t.prototype.MPb=function(t,e,i){var n,s,u,c,h;s=(n=e.P).ym,u=this.Rw.kl.ug,h=(c=n.pLb(e)).Wpa,c=c.qLb,i&&e.Pc&&!u.tW?(c=o.Ux,e.ws=o.name[c],this.Y3a(t,e.Pc,e.ws,e.location,e.bitrate),u.tW=e.Pc):!i&&e.Pc&&e.Pc!==u.tW&&(c=c?void 0===u.tW?o.Ux:s.fP===o.Ida?o.Mjb:o.Dba:o.Ljb,e.ws=o.name[c],this.Y3a(t,e.Pc,e.ws,e.location,e.bitrate),u.tW=e.Pc),u.FN||(c={type:"logdata",target:"startplay",fields:{}},this.Sg===r.Wb?c.fields.alocid=e.location:this.Sg===r.Mb&&(c.fields.locid=e.location),a.Va(this.Mt,c.type,c)),i&&e.location&&!u.FN?(c=o.Ux,e.ws=o.name[c],this.W3a(n.Pb,t,e.location,e.Aqa,e.Pc,e.HI,e.ws,e.Tw),u.FN=e.location):!i&&e.location&&e.location!==u.FN&&(c=h?void 0===u.FN?o.Ux:s.fP===o.Ida?o.hhb:o.Dba:o.ghb,e.ws=o.name[c],this.W3a(n.Pb,t,e.location,e.Aqa,e.Pc,e.HI,e.ws,e.Tw),e.Tw=void 0,u.FN=e.location),this.I.Ju||(e.b1a=e.location,e.e1a=e.Pc)},t.prototype.e9=function(t){t={type:"requestsPruned",requests:t},a.Va(this.Mt,t.type,t)},t.prototype.Y3a=function(t,e,i,n,o){var s;t={type:"serverSwitch",segmentId:t,mediatype:this.Sg===r.Mb?"video":"audio",server:e,reason:i,location:n,bitrate:o,confidence:(s=u.default.instance().get()).confidence},s.confidence&&(t.throughput=s.Ra.Ga),this.Rw.kl.ug.tW&&(t.oldserver=e),a.Va(this.Mt,t.type,t)},t.prototype.W3a=function(t,e,i,n,o,s,u,c){a.Va(this.Mt,"locationSelected",{type:"locationSelected",manifestIndex:t,segmentId:e,mediatype:this.Sg===r.Mb?"video":"audio",location:i,locationlv:n,serverid:o,servername:s,selreason:u,seldetail:c})},t.prototype.Fga=function(t,e){e={type:"lastSegmentPts",segmentId:t.id,pts:Math.floor(e)},t.QD||a.Va(this.Mt,e.type,e)},t.prototype.Bm=function(t){t={type:"managerdebugevent",message:"@"+c.default.time.ea()+", "+t},a.Va(this.Mt,t.type,t)},t.prototype.LDb=function(t){a.Va(this.Mt,"transportReport",t)},t}(),e.jIa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.SJa=void 0,n=i(2),r=n.__importStar(i(10)),o=i(240),a=i(832),s=i(835),t=i(83),u=i(5),c=i(242),h=i(9),f=i(72),i=function(t){function e(e,i,n,r,o,a,s,u){var h;return(h=t.call(this,e)||this).I=i,h.H=n,h.gn=r,h.Vd=o,h.Sg=a,h.Dna=u,h.jbb=!0,h.Ee=new c.x_(h.H),h.Kk=h.H.error.bind(h.H),h.Sb=h.H.warn.bind(h.H),h.jn=h.H.trace.bind(h.H),h.KOa(),h.Dp=null==s?void 0:s.AG((function(){return h.SVb()}),"pruner"),h}return n.__extends(e,t),Object.defineProperties(e.prototype,{console:{get:function(){return this.H},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{mediaType:{get:function(){return this.Sg},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gb:{get:function(){return this.Vd},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ex:{get:function(){return 0<this.HA},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Cwa:{get:function(){return!this.QK},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{HA:{get:function(){return this.Ea.length},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Hs:{get:function(){return this.Ea.Hs},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{oUb:{get:function(){return this.Ee.count},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{fU:{get:function(){return this.Ea.complete.xe},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Tp:{get:function(){return this.Ea.DSa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Uja:{get:function(){return this.Ea.CSa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{jE:{get:function(){return this.Ea.xe},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Gm:{get:function(){return void 0===this.Ea.zd?0:this.Ea.me-this.Ea.zd},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{rn:{get:function(){return{fa:this.Ea.zC,Y:Math.max(this.Ea.DSa-this.Ea.zd,0)||0}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{YL:{get:function(){return this.Ea.pvb},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zC:{get:function(){return this.Ea.zC},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ut:{get:function(){return this.Ea.fa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{KD:{get:function(){return this.smb()},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Wsa:{get:function(){return this.Ea.KJb},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{B6:{get:function(){return this.Ea.length>this.Ea.Hs},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Jp:{get:function(){return this.Ea.Jp},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{QLb:{get:function(){return this.GNa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{q5a:{get:function(){return this.Ea.length-this.$l},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{U:{get:function(){return this.Ea},enumerable:!1,configurable:!0}}),e.prototype.Df=function(){var t,e;e=this.Ea,setTimeout((function(){e.forEach((function(t){t.abort(),t.ed()}))}),1),this.KOa(),this.Ee.X4(),null===(t=this.Dp)||void 0===t||t.Nb()},e.prototype.reset=function(){this.Df(),this.Ee.J7a()},e.prototype.close=function(){this.Ee.X4()},e.prototype.F8a=function(){this.wMa=!0},e.prototype.Kna=function(){return{endMarked:void 0!==this.Ee.count,queueCount:this.Ee.count,isComplete:this.Ee.Pz,itemCount:this.Ee.ESa,continuousEndPts:this.Ee.fp().reduce((function(t,e){return e&&!e.done&&(e=e.value,100>Math.abs(e.Ema-t)||-1===t)?e.MDb:t}),-1),sentinelItemCount:this.Ee.fp().filter((function(t){return t&&t.done})).length,processedCount:this.Ee.Ozb,rc:this.HA}},e.prototype.xyb=function(t,e,i){var n;return n=this.I,u.assert(!t.header),(t=n.EBb&&1===this.mediaType?new s.Vya(i,n,e.track,t,this.Ea,this.H):o.t_.create(i,n,e.track,t,this.Ea,!1,this.H,this.Dna)).xb(this),this.yy(t),t},e.prototype.erb=function(t){var e;return t.xb(this),t.e3=!0,this.yy(t),e=Promise.resolve(),t.complete?(this.wfa(t),this.gn.Z3a(t.stream,t.zd,t.fd),e=this.zaa(),this.Ut(t)):(t.active&&this.NM(t),t.wua&&this.MC(t)),e},e.prototype.yy=function(t){var e,i;this.Ea.qq(t),(null===(e=this.Dp)||void 0===e?void 0:e.state)===f.Ym.complete&&(null===(i=this.Dp)||void 0===i||i.Hm()),this.wfa(t),t.uq&&(this.QK=!1)},e.prototype.yz=function(){return this.Ee.xEb()},e.prototype.tja=function(){this.$l===this.Ea.length&&this.wMa&&this.Ee.X4()},e.prototype.zaa=function(){var t,e,i,n,o;if(t=this,i=Promise.resolve(),!(n=this.Vd).hW(this.Sg)||this.$l===this.Ea.length)return i;for(var a=this.I.TNb,s=0,u=[];this.$l<this.Ea.length;){if(e=this.Ea.get(this.$l)){if(this.Ea.rWa&&this.Ea.rWa.Wa<e.Wa)break;if(!e.iu())break;u.push(e),++s,r.Ba(this.zd)||(this.zd=e.zd)}if(++this.$l,!r.ia(a)&&s>=a)break}if(u.length){if(void 0!==this.Ee.count&&(this.Kk("tryToAtach() but requestQueue has sentinel:",this.Ee.count),this.Ee.J7a()),this.jbb)i=Promise.all(u.map((function(e){return t.Ee.enqueue(e).then((function(){return t.y6(e)}))})));else for(e=0;e<u.length;e++)try{o=u[e],n.OGb(this.mediaType).jAb(o),this.y6(o)}catch(t){return this.$l-=u.length-e,Promise.reject(t)}this.tja()}return i},e.prototype.y6=function(t){this.GNa=t,this.BWa(t)},e.prototype.rT=function(t,e){var i,n,o;i=this,n=[],0!==this.Ea.Hs&&(o=this.Ea.i5a,this.Ea.Q0b.wwa((function(e){return!!(!r.ia(t)&&e.P.Pb!==t||e.uq||o>e.zd)||(e.s5&&(i.QK=!1),i.x1(e)?void n.unshift(e):(i.Sb("request abort failed:",e.toString()),!0))})),this.Tga(),n.length&&"function"==typeof e&&e(n))},e.prototype.h$=function(){this.Tga()},e.prototype.SVb=function(){var t,e,i,r,o,a;return n.__generator(this,(function(n){switch(n.label){case 0:n.label=1;case 1:return this.Ea.length?(t=this.Ea.get(0),e=h.T.Eb(null!==(a=null===(o=this.I.rP)||void 0===o?void 0:o.Y)&&void 0!==a?a:0),i=e.add(t.xe),[4,f.Jk.XP(i)]):[3,3];case 2:return n.bd(),1>=this.Ea.complete.length&&!t.uq?[3,3]:(u.assert(t===this.Ea.get(0)),t.ef||this.x1(t),r=this.Ea.splice(0,1),0<this.$l&&this.$l--,this.gn.e9(r),[3,1]);case 3:return[2]}}))},e.prototype.WX=function(t,e){var i,n,r,o,a,s;return i=this,n=this.I,r=!1,o=0,a=this.Ea.some((function(a){if(t<a.me)return r&&i.wfa(a),!0;++o,a.ef||(i.Sb("pruning unappended request:",a&&a.toString()),n.ji&&i.gn.Bm("prune pts:"+t+" unappended request:"+(a&&a.toString())),a.s5&&(i.QK=!1,r=!0),i.x1(a,e)||i.Kk("MediaRequest.abort error:",a.ph))})),0<o&&(s=this.Ea.splice(0,o),this.$l-=Math.min(o,this.$l),this.gn.e9(s)),a},e.prototype.m6=function(t){var e,i,n;return void 0===t&&(t={gU:null,yO:null,zd:null,cl:0,bh:0,U:[]}),e=this.I,i=this.Ea,r.Ba(i.zd)&&(null===t.zd||i.zd<t.zd)&&(t.zd=i.zd),void 0!==(n=this.Tp)&&null===t.gU&&(t.gU=n),void 0!==(n=i.me)&&(null===t.yO||n>t.yO)&&(t.yO=n),t.cl+=i.cl,t.bh=e.qwa?t.bh+i.O6a:t.bh+i.zC,Array.prototype.unshift.apply(t.U,i.bd.U),t},e.prototype.Rt=function(t){if(this.Ea.length&&(t=this.Ea.fWa(t)))return t},e.prototype.cqb=function(t){var e,i,n;return i=t.Pd,t=t.fd,u.assert(i,"expected contentEndTimestamp to be defined"),u.assert(void 0!==t,"expected contentStartPts to be defined"),t=this.Ea.ema(t),n=this.Ea.get(t),u.assert(n&&void 0!==n.fd&&void 0!==n.Lc&&void 0!==n.index,"expected existing request to be defined with properties"),null!==(e=n.Pd)&&void 0!==e&&e.equal(i)?(this.rPa(t),[n.Lc,n.index+1]):(this.rPa(t-1),[n.fd,n.index])},e.prototype.Om=function(){var t,e;return t=this,e=[],this.Ea.forEach((function(i){var n;1===(n=i.Txa())?e.push(i):2===n&&t.gb.P.Nh("swapUrl failure")})),e},e.prototype.XH=function(t){t.kD&&t.iu()&&this.zaa(),this.MC(t)},e.prototype.tk=function(t){var e,i;t.kD&&!t.ef&&this.zaa(),(null===(e=this.Dp)||void 0===e?void 0:e.state)===f.Ym.complete&&(null===(i=this.Dp)||void 0===i||i.Hm()),this.Ut(t)},e.prototype.Zha=function(t){var e,i,n;return e=1===this.Sg?"v_":"a_",t=0<=(n=(i=this.Ea).JM(t))?i.get(n):void 0,(i=0<=n&&n+1<i.length?i.get(n+1):void 0)&&t?t.me!==i.zd?e+"rg":t.complete&&i.complete?e+"uk":e+"fd":e+"rm"},e.prototype.smb=function(){return this.Ea.Jp+this.Ea.Hs},e.prototype.KOa=function(){var t,e,i;e=void 0!==this.Ea&&0<this.Ea.length,i=this.Ea,this.Ea=new a.Qya(this.H,this),this.$l=0,this.Ee.clear(),this.GNa=void 0,this.zd=null,null===(t=this.Dp)||void 0===t||t.Hm(),this.wMa=this.QK=!1,e&&(t=i.map((function(t){return t})),this.gn.e9(t))},e.prototype.wfa=function(t){this.QK?t.s5=!1:this.QK=t.s5=!0},e.prototype.rPa=function(t){var e;for(t+=1;t<this.HA;t++)e=this.Ea.get(t),u.assert(e,"expected request to exist"),this.Ee.remove(e),e.aborted||(this.x1(e),e.ed());this.Tga()},e.prototype.x1=function(t,e){return!!t.abort()&&("function"==typeof e&&e(t),!0)},e.prototype.Tga=function(){var t,e,i,n;t=this,0!==this.Ea.length&&(i=[],n=0,this.Ea.gUb((function(e,r){r<t.$l&&++n,i.push(e)})),this.$l-=n,null===(e=this.Dp)||void 0===e||e.Hm(),this.gn.e9(i))},e}(t.kv),e.SJa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;Object.defineProperties(e,{__esModule:{value:!0}}),e.Nya=void 0,n=i(2),r=i(116),o=n.__importDefault(i(28)),t=n.__importDefault(i(6)),a=i(9),s=i(5),u=i(241),c=i(101),h=i(233),f=i(117),l=t.default.$q,i=function(t){function e(e,i,n,r,a,s,u,f){var d;return r=t.call(this,e,n,r,s,u,f)||this,a=c.Rm.prototype.toString.call(r)+(a?"(cache)":""),f={offset:n.offset,fa:n.Sra+8,responseType:0},r.push(new h.kQ(e,i,a+"(moof)",f,r,s,u)),f={offset:n.offset+f.fa,fa:n.fa-f.fa,responseType:l.pc&&!l.pc.wY.SR?0:1},r.mediaType===o.default.Ta.Mb&&r.wa&&(0<r.wa.start&&(d=r.iWa(r.wa.start))&&(f.offset=n.offset+d,f.fa=n.fa-d),r.wa.end<r.NC&&(d=r.iWa(r.wa.end))&&(f.fa-=n.fa-d)),r.push(new h.kQ(e,i,a+"(mdat)",f,r,s,u)),r}return n.__extends(e,t),e.prototype.iu=function(){return!this.ef&&!!this.Ea.length&&this.Ea.every((function(t){return t.iu()}))},e.prototype.eG=function(t){var e,i,n,o,u,c,h,l;return this.ef?{status:f.Ij.xx}:this.iu()?(e=!1,n=(i=this.Ea[0].response).slice(0,i.byteLength-8),i=(o=new DataView(i)).getUint32(n.byteLength),s.assert("mdat"===r.ko(o.getUint32(n.byteLength+4))),u=this.wa&&0<this.wa.start,o=this.wa&&this.wa.end<this.NC,this.wa&&(u||o)?(u&&(h=(c=new r.cr(this.H,this.stream,n)).Jua(this.wa.start,this.S)),o&&!1!==h&&(l=(c=new r.cr(this.H,this.stream,h?a.AC(h.Ld):n)).Nua(this.wa.end-this.wa.start,this.S)),(n=o?l:h)&&(e=t.appendBuffer(a.AC(n.Ld),a.vq(this)),h&&(i-=h.Yi),l&&(i-=l.Yi)),c=this.Wga()):e=t.appendBuffer(n,a.vq(this)),e&&(e=t.appendBuffer(r.bA(i-8),a.vq(this)))&&(e=t.appendBuffer(this.Ea[1].response,a.vq(this))),this.ef=e,this.kVb(),{status:e?f.Ij.xx:f.Ij.Mf,mk:c}):{status:f.Ij.Mf}},e.prototype.toString=function(){return"ID: "+this.mi()+":"+t.prototype.toString.call(this)},e}(u.wE),e.Nya=i},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.Jcb=void 0,t=i(2),n=i(116),r=t.__importDefault(i(28)),o=i(9),i(5),a=t.__importDefault(i(6)),s=i(117),i=function(){var t;function e(){var t;for(t=2;1!==t;)if(2===t){"r","NJCp9",t=1}}for(t=2;3!==t;)switch(t){case 4:return e;case 2:e.prototype.eG=function(t,e,i){var n,a;for(n=2;10!==n;)switch(n){case 5:return{status:s.Ij.Mf};case 4:n=!this.wa||this.uq||this.zw?3:11;break;case 2:e=this.Oe,n=1;break;case 3:n=this.wa&&(this.uq||this.zw)?9:12;break;case 1:n=this.ef?5:4;break;case 9:t=(a=this.Vlb(t)).$,n=7;break;case 12:t=!!(this.mediaType===r.default.Ta.Wb&&e.WD&&i&&this.av&&i.me>=this.me&&this.Lc-this.av<this.av-this.fd)||t.appendBuffer(this.response,o.vq(this)),n=6;break;case 7:a=a.mk,n=6;break;case 6:return this.ef=!0,this.iY(),{status:t?s.Ij.xx:s.Ij.Mf,mk:a};case 11:t=(a=this.Ulb(t)).$,a=a.mk,n=6}},e.prototype.Ulb=function(t){var e,i,r,s,u;for(e=2;12!==e;)switch(e){case 4:e=s?3:13;break;case 2:i={cE:0},r=!1,s=!0,this.wa&&(i.cE=this.wa.nwa),0>=this.duration&&(s=!1,r=!0),e=4;break;case 8:r=t.appendBuffer(o.AC(r.Ld),o.vq(this)),e=7;break;case 6:"r","om ["," ";"eFragm","e","ntMediaRequest",": Fragment edit failed for ",this.H.error("AseFragmentMediaRequest: Fragment edit failed for "+this.toString()+" from [ "+this.OM+"-"+this.B5+"]"),r=!0,e=13;break;case 9:"|a","sejs";"P","4",e=(r=(r=new n.cr(new a.default.Console("MP4","media|asejs"),this.stream,this.response)).Jua(this.wa.start,this.$N,i.cE))?8:6;break;case 13:return{$:r,mk:u};case 14:r=t.appendBuffer(this.response,o.vq(this)),e=13;break;case 7:u=this.Wga(i),e=13;break;case 3:e=this.wa&&(0<this.wa.start||i.cE)?9:14}},e.prototype.Vlb=function(t){var e,i,r,a;for(e=2;12!==e;)switch(e){case 5:e=i?4:13;break;case 2:r={cE:0},i=!0,0===this.duration&&(i=!1),e=5;break;case 4:e=this.wa&&this.wa.end<this.NC||r.cE?3:14;break;case 3:e=(i=(i=new n.cr(this.H,this.stream,this.response)).Nua(this.wa&&this.wa.end,this.S,r.cE))?9:6;break;case 8:a=this.Wga(r),e=7;break;case 14:t=t.appendBuffer(this.response,o.vq(this)),e=7;break;case 9:t=t.appendBuffer(o.AC(i.Ld),o.vq(this)),e=8;break;case 7:return{$:t,mk:a};case 13:t=!0,e=7;break;case 6:"m ["," ";"aRequest: Fragment edit"," f","ailed for ",this.H.error("AseFragmentMediaRequest: Fragment edit failed for "+this.toString()+" from [ "+this.OM+"-"+this.B5+"]"),t=!0,e=7}},t=4}}(),e.Jcb=i,e.default=new i},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.Qya=void 0,n=i(2),i(5),r=i(833),t=i(42),o=i(834),a=i(102),s=i(83),u=i(232),i=function(t){function e(e,i){var r,a;return r=this,a=[new o.s_(e),new o.s_(e),new o.s_(e)],r=t.call(this,a,(function(t){return t.complete?r.empty||t.Wa<=r.qvb?0:1:t.active?1:2}))||this,a=n.__read(a,3),r.Fi=a[0],r.$e=a[1],r.qt=a[2],r.sr=0,r.hfa=0,r.H=e,r.af=i,r}return n.__extends(e,t),Object.defineProperties(e.prototype,{fa:{get:function(){return this.Fi.fa+this.$e.fa+this.qt.fa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Q0b:{get:function(){return this.qt},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{active:{get:function(){return this.$e},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{complete:{get:function(){return this.Fi},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{O6a:{get:function(){return this.sr},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zC:{get:function(){return this.Fi.fa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{cl:{get:function(){return this.Fi.fa+this.$e.fa-this.sr},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{R0b:{get:function(){return this.qt.fa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{first:{get:function(){return this.XDb()},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Po:{get:function(){return this.xsb()},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{tla:{get:function(){return!this.Fi.empty||this.qt.empty||this.$e.empty?this.first:this.$e.Wa<this.qt.Wa?this.$e.first:this.qt.first},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{j1a:{get:function(){return this.qt.empty||this.$e.empty?this.Po:this.$e.ob<this.qt.ob?this.qt.Po:this.$e.Po},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{rWa:{get:function(){return this.qt.first},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{S:{get:function(){return this.first&&this.first.S},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Wa:{get:function(){return this.tla&&this.tla.Wa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ob:{get:function(){return this.j1a&&this.j1a.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zj:{get:function(){return this.first&&this.first.zj},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{pvb:{get:function(){return this.Fi.duration},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{KJb:{get:function(){return this.Lc-this.CSa||0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{qvb:{get:function(){return this.Fi.empty?this.Wa:this.Fi.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{CSa:{get:function(){return this.Fi.empty?this.fd:this.Fi.Lc},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{DSa:{get:function(){return this.Fi.empty?this.zd:this.Fi.me},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{i5a:{get:function(){return this.$e.me||this.Fi.me},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Hs:{get:function(){return this.qt.length},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Jp:{get:function(){return this.$e.length},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{FSa:{get:function(){return this.Fi.length},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{bd:{get:function(){return this.Fi.concat(this.$e)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Dr:{get:function(){return this.Bg},enumerable:!1,configurable:!0}}),e.prototype.wK=function(t){var e;t.aborted?++this.hfa:this.sr+=t.bytesReceived||0,this.empty?this.Bg=new u.lB(this,{}):t.Wa!==this.ob&&(t.Wa>this.Bg.ob?this.Bg.KY(this.Bg.ob):(t.Wa<this.Wa||t.Wa===this.Bg.ob)&&(e=t.ob,this.CDb((function(t,e){return t.Wa-e.Wa}),(function(t){e=t.Wa===e?t.ob:e})),e===Math.max(this.ob,t.ob)?this.Bg.Hja():this.Bg.KY(e))),t.$va(this)},e.prototype.oy=function(t){t.aborted?--this.hfa:this.sr-=t.bytesReceived,this.empty?this.Bg=void 0:t.Wa!==this.ob&&t.ob<=this.Bg.ob&&t.Wa>this.Bg.Wa&&this.Bg.KY(t.Wa),t.jSa()},e.prototype.push=function(e){return this.wK(e),t.prototype.push.call(this,e)},e.prototype.shift=function(){var e;return(e=t.prototype.shift.call(this))&&this.oy(e),e},e.prototype.pop=function(){var e;return(e=t.prototype.pop.call(this))&&this.oy(e),e},e.prototype.unshift=function(e){return this.wK(e),t.prototype.unshift.call(this,e)},e.prototype.qq=function(e){this.wK(e),t.prototype.qq.call(this,e)},e.prototype.remove=function(e){return!!t.prototype.remove.call(this,e)&&(this.oy(e),!0)},e.prototype.splice=function(e,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return o=t.prototype.splice.apply(this,n.__spread([e,i],r)),r.forEach(this.wK.bind(this)),o.forEach(this.oy.bind(this)),o},e.prototype.gUb=function(t){var e;e=this,this.reduce((function(i,n,r){return n.aborted&&(t&&t(n,r,e),0===i.length||i[0].end!==r?i.unshift({start:r,end:r+1}):i[0].end+=1),i}),[]).forEach((function(t){return e.splice(t.start,t.end-t.start)}))},e.prototype.ema=function(t){return this.gWa((function(e){return e.ema(t)}))},e.prototype.JM=function(t){return this.gWa((function(e){return e.JM(t)}))},e.prototype.fWa=function(t){return-1!==(t=this.JM(t))?this.get(t):void 0},e.prototype.ZWb=function(t){for(var e,i=[];t<this.length;)(e=this.get(t))&&i.push(e),t++;return i},e.prototype.qA=function(t){this.move(t),this.NM(t)},e.prototype.YH=function(t){this.sr+=t.bytesReceived-t.ks,this.TG(t)},e.prototype.tk=function(t){for(this.sr+=t.bytesReceived-t.ks;this.$e.first&&this.$e.first.complete&&(this.Fi.empty?this.$e.first===this.tla:this.$e.first.Wa===this.Fi.ob);)this.rYb();this.Ut(t)},e.prototype.tX=function(t,e,i){this.sr-=t.bytesReceived,++this.hfa,this.MM(t,e,i)},e}(r.xAa),e.Qya=i,t.xf(s.kv,i,!1),t.xf(a.rx,i),t.xf(a.kB,i)},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.xAa=void 0,n=i(2),i(5),t=function(){function t(t,e){this.ud=t,this.IK=e,this.jy()}return Object.defineProperties(t.prototype,{length:{get:function(){return this.lf},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{empty:{get:function(){return 0===this.lf},enumerable:!1,configurable:!0}}),t.prototype.XDb=function(){return this.Qg&&this.Qg.get(0)},t.prototype.xsb=function(){return this.CK&&this.CK.get(this.CK.length-1)},t.prototype.get=function(t){0>t&&(t+=this.length);for(var e=0;e<this.ud.length;++e)if(this.bi[e+1]>t)return this.ud[e].get(t-this.bi[e])},t.prototype.push=function(t){return this.ud[this.IK(t)].push(t),this.jy(),this.lf},t.prototype.shift=function(){var t;if(this.Qg)return t=this.Qg.shift(),this.jy(),t},t.prototype.pop=function(){var t;if(this.CK)return t=this.CK.pop(),this.jy(),t},t.prototype.unshift=function(t){return this.ud[this.IK(t)].unshift(t),this.jy(),this.lf},t.prototype.qq=function(t){var e;e=this.IK(t),this.ud[e].qq(t),this.jy()},t.prototype.remove=function(t){var e;return(e=this.ud.some((function(e){return e.remove(t)})))&&this.jy(),e},t.prototype.splice=function(t,e){for(var i,r,o,a,s,u=[],c=2;c<arguments.length;c++)u[c-2]=arguments[c];c=[];for(var h,f=t+Math.max(0,e),l=0;l<this.ud.length&&(i=this.ud[l],r=this.bi[l],!(t<(o=this.bi[l+1])&&(a=t-r,r=Math.min(f-r,i.length),void 0===h&&0<a&&r<i.length?Array.prototype.push.apply(c,i.splice.apply(i,n.__spread([a,r-a],u))):(Array.prototype.push.apply(c,i.splice(a,r-a)),void 0===h&&(h=0<l&&0===a?l-1:l)),(t=o)>=f)));++l);if(u.length&&void 0!==h){for(f=this.IK(u[0]);0<h&&f<h&&this.ud[h].empty;)--h;for(;u.length&&f===h&&(this.ud[h].push(u.shift()),u.length);)f=this.IK(u[0]);for(;u.length&&++h<this.ud.length&&this.ud[h].empty;)for(;u.length&&f===h&&(this.ud[h].push(u.shift()),u.length);)f=this.IK(u[0]);u.length&&(s=this.ud[h]).splice.apply(s,n.__spread([0,0],u))}return this.jy(),c},t.prototype.find=function(t){var e,i;return e=this,this.ud.some((function(n,r){return void 0!==(i=n.find(e.hC(t,r)))}))?i:void 0},t.prototype.findIndex=function(t){for(var e,i=0;i<this.ud.length;++i)if(-1!==(e=this.ud[i].findIndex(this.hC(t,i))))return e+this.bi[i];return-1},t.prototype.indexOf=function(t){for(var e,i=0;i<this.ud.length;++i)if(-1!==(e=this.ud[i].indexOf(t)))return e+this.bi[i];return-1},t.prototype.map=function(t){var e,i;return e=this,i=this.ud.map((function(i,n){return i.map(e.hC(t,n))})),Array.prototype.concat.apply([],i)},t.prototype.reduce=function(t,e){var i;return i=this,this.ud.reduce((function(e,n,r){return n.reduce(i.Ypb(t,r),e)}),e)},t.prototype.forEach=function(t){var e;e=this,this.ud.forEach((function(i,n){i.forEach(e.hC(t,n))}))},t.prototype.t5=function(t){for(var e=this.ud.length-1;0<=e;--e)this.ud[e].t5(this.hC(t,e))},t.prototype.some=function(t){var e;return e=this,this.ud.some((function(i,n){return i.some(e.hC(t,n))}))},t.prototype.wwa=function(t){for(var e=this.ud.length-1;0<=e;--e)if(this.ud[e].wwa(this.hC(t,e)))return!0;return!1},t.prototype.every=function(t){var e;return e=this,this.ud.every((function(i,n){return i.every(e.hC(t,n))}))},t.prototype.CDb=function(t,e){var i,n;for(var r=this,o=this.ud.map((function(){return 0})),a=this.ud.filter((function(t){return t.empty})).length;a<this.ud.length;)i=o.map((function(t,e){return t<r.ud[e].length?r.ud[e].get(t):void 0})),e(i[n=i.reduce((function(e,i,n,r){return void 0===i?e:void 0===e||0>t(i,r[e])?n:e}),void 0)],this.bi[n]+o[n],this),++o[n],o[n]===this.ud[n].length&&++a},t.prototype.move=function(t){return!!this.remove(t)&&(this.qq(t),!0)},t.prototype.rYb=function(){var t;this.ud[1].length&&(t=this.ud[1].shift(),this.ud[0].push(t),this.jy())},t.prototype.gWa=function(t){for(var e=-1,i=0;i<this.ud.length;++i)if(-1!==(e=t(this.ud[i]))){e+=this.bi[i];break}return e},t.prototype.toJSON=function(){return this.map((function(t){return t.toJSON()}))},t.prototype.jy=function(){var t;this.lf=0,this.bi=[0],this.CK=this.Qg=void 0;for(var e=0;e<this.ud.length;++e)t=this.ud[e],this.lf+=t.length,this.bi.push(this.bi[this.bi.length-1]+t.length),!this.Qg&&t.length&&(this.Qg=t),t.length&&(this.CK=t)},t.prototype.hC=function(t,e){var i,n;return i=this,n=this.bi[e],function(e,r){return t(e,n+r,i)}},t.prototype.Ypb=function(t,e){var i,n;return i=this,n=this.bi[e],function(e,r,o){return t(e,r,n+o,i)}},t}(),e.xAa=t},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.s_=void 0,n=i(2),r=i(5),t=i(42),o=i(232),i=i(102),a=function(){function t(e,i){this.Ma=[],this.Bg=void 0,this.Qc=0,this.H=e,i&&i.length&&(Array.isArray(i)?(this.Ma=i.slice(),this.eS(0,this.Ma.length)):i instanceof t&&(this.Ma=i.Ma.slice(),this.eS(0,this.Ma.length)))}return Object.defineProperties(t.prototype,{length:{get:function(){return this.Ma.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{empty:{get:function(){return 0===this.Ma.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{first:{get:function(){return this.Ma[0]},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Po:{get:function(){return this.Ma[this.Ma.length-1]},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Wa:{get:function(){return this.first&&this.first.Wa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ob:{get:function(){return this.Po&&this.Po.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Dr:{get:function(){return this.Bg},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{fa:{get:function(){return this.Qc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){return this.first&&this.first.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{zj:{get:function(){return this.first&&this.first.zj},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{U:{get:function(){return this.Ma},enumerable:!1,configurable:!0}}),t.prototype.lsb=function(){var t;0===this.Ma.length?(r.assert(void 0===this.Bg),r.assert(0===this.Qc)):(r.assert(this.Bg instanceof o.lB),r.assert("number"==typeof this.Qc),r.assert(void 0!==this.Dr&&this.Dr.Wa===this.Wa),t=this.Ma.reduce((function(t,e,i){return 0===i||e.Wa===t?e.ob:t}),0),r.assert(this.Dr.ob===t),r.assert(this.Ma.reduce((function(t,e,i){return 0===i||e.Wa===t?e.ob:t}),0)===this.Dr.ob),r.assert(this.Ma.reduce((function(t,e){return t+e.fa}),0)===this.Qc))},t.prototype.get=function(t){return 0>t&&(t+=this.Ma.length),this.Ma[t]},t.prototype.push=function(t){return this.Ma.push(t),this.eS(this.Ma.length-1),this.length},t.prototype.unshift=function(t){return this.Ma.unshift(t),this.eS(0,1),this.length},t.prototype.pop=function(){if(0!==this.Ma.length)return this.Vga(this.Ma.length-1),this.Ma.pop()},t.prototype.shift=function(){if(0!==this.Ma.length)return this.Vga(0),this.Ma.shift()},t.prototype.splice=function(t,e){for(var i,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return 0>t&&(t+=this.Ma.length),0>t&&(t=0),t>this.Ma.length&&(t=this.Ma.length),(void 0===e||0>e)&&(e=0),0<(e=Math.min(e,this.Ma.length-t))&&this.Vga(t,t+e),o=(i=this.Ma).splice.apply(i,n.__spread([t,e],r)),0<r.length&&this.eS(t,t+arguments.length-2),o},t.prototype.slice=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=this.Ma.length),0>e&&(e+=this.Ma.length),e>=this.Ma.length?new t(this.H):(i>this.Ma.length&&(i=this.Ma.length),0>i&&(i+=this.Ma.length),new t(this.H,this.Ma.slice(e,i)))},t.prototype.qq=function(t){if(0===this.Ma.length||t.Wa>=this.ob)this.push(t);else if(t.ob<=this.Wa)this.unshift(t);else{for(var e,i=0,n=this.Ma.length-1;i<n-1;)e=Math.floor((n+i)/2),r.assert(e!==n&&e!==i),t.Wa>=this.Ma[e].ob?i=e:n=e;r.assert(i!==n),r.assert(this.Ma[i].ob<=t.Wa&&this.Ma[n].Wa>=t.ob),this.splice(n,0,t)}},t.prototype.remove=function(t){return!(0>(t=this.Ma.indexOf(t)))&&(this.splice(t,1),!0)},t.prototype.concat=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return e=e.map((function(t){return t.Ma})),new t(this.H,Array.prototype.concat.apply(this.Ma,e))},t.prototype.forEach=function(t){var e;e=this,this.Ma.forEach((function(i,n){return t(i,n,e)}))},t.prototype.some=function(t){var e;return e=this,this.Ma.some((function(i,n){return t(i,n,e)}))},t.prototype.every=function(t){var e;return e=this,this.Ma.every((function(i,n){return t(i,n,e)}))},t.prototype.map=function(t){var e;return e=this,this.Ma.map((function(i,n){return t(i,n,e)}))},t.prototype.reduce=function(t,e){var i;return i=this,this.Ma.reduce((function(e,n,r){return t(e,n,r,i)}),e)},t.prototype.indexOf=function(t){return this.Ma.indexOf(t)},t.prototype.find=function(t){var e,i;return e=this,this.Ma.some((function(n,r){return i=r,t(n,r,e)}))?this.Ma[i]:void 0},t.prototype.findIndex=function(t){var e,i;return e=this,this.Ma.some((function(n,r){return i=r,t(n,r,e)}))?i:-1},t.prototype.filter=function(e){var i;return i=this,new t(this.H,this.Ma.filter((function(t,n){return e(t,n,i)})))},t.prototype.t5=function(t){for(var e=this.Ma.length-1;0<=e;--e)t(this.Ma[e],e,this)},t.prototype.wwa=function(t){for(var e=this.Ma.length-1;0<=e;--e)if(t(this.Ma[e],e,this))return!0;return!1},t.prototype.ema=function(t){if(this.empty||t<this.fd||t>=this.Lc)return-1;for(var e,i=0,n=this.Ma.length-1;n>i;){if(e=Math.floor((n+i)/2),t>=this.Ma[e].fd&&t<this.Ma[e].Lc){n=e;break}t<this.Ma[e].Lc?n=e-1:i=e+1}return n},t.prototype.JM=function(t){if(this.empty||t<this.zd||t>=this.me)return-1;for(var e,i=0,n=this.Ma.length-1;n>i;){if(e=Math.floor((n+i)/2),t>=this.Ma[e].zd&&t<this.Ma[e].me){n=e;break}t<this.Ma[e].me?n=e-1:i=e+1}return n},t.prototype.fWa=function(t){return 0<=(t=this.JM(t))?this.Ma[t]:void 0},t.prototype.V2=function(t){var e;for(e=this.Ma[t].ob,t+=1;t<this.Ma.length&&e===this.Ma[t].Wa;++t)e=this.Ma[t].ob;t<this.Ma.length?void 0===this.Bg?this.Bg=new o.lB(this,{ob:e}):this.Bg.KY(e):void 0===this.Bg?this.Bg=new o.lB(this,{}):this.Bg.Hja()},t.prototype.wK=function(t,e){for(var i=t;i<e;++i)this.Qc+=this.Ma[i].fa;void 0===this.Bg||0===t?this.V2(0):this.Bg.ob===this.ob?this.V2(t-1):this.Ma[t].Wa===this.Bg.ob&&this.V2(t)},t.prototype.oy=function(t,e){var i;for(0===t?(this.Bg=void 0,e<this.length&&this.V2(e)):(i=this.Bg).ob>this.Ma[t-1].ob&&(e<this.length?i.KY(this.Ma[t-1].ob):i.Hja());t<e;++t)this.Qc-=this.Ma[t].fa},t.prototype.eS=function(t,e){void 0===e&&(e=t+1),this.wK(t,e)},t.prototype.Vga=function(t,e){void 0===e&&(e=t+1),this.oy(t,e)},t}(),e.s_=a,t.xf(i.rx,a),t.xf(i.kB,a)},function(t,e,i){var n,r,o,a,s,u,c,h;Object.defineProperties(e,{__esModule:{value:!0}}),e.Vya=void 0,n=i(2),r=i(116),o=i(5),n.__importDefault(i(6)),a=i(9),s=i(241),u=i(101),c=i(233),h=i(117),t=function(t){function e(i,n,r,o,a,s){return(n=t.call(this,i,o,a,n,s)||this).Slb=r,n.W1=e.EE.INIT,n.I8b=o.offset,n.qga=u.Rm.prototype.toString.call(n)+" multiple",n.mob=o.fa,n.pL(i.url,o.offset,8,0),n}return n.__extends(e,t),Object.defineProperties(e.prototype,{data:{get:function(){return this.dn},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{fa:{get:function(){return this.mob},enumerable:!1,configurable:!0}}),e.prototype.tk=function(t){var i,n;switch(this.dn=this.W1===e.EE.INIT?t.response:a.AC(this.dn,t.response),t.iY(),this.W1){case e.EE.INIT:n=(i=new DataView(this.dn)).getUint32(0),i=i.getUint32(4),r.ko(i),this.pL(t.url,t.offset+t.fa,n,0),s.wE.prototype.tk.call(this,t),this.W1=e.EE.wFa;break;case e.EE.wFa:n=(i=new DataView(this.dn)).getUint32(this.GMa-8),i=i.getUint32(this.GMa-4),r.ko(i),this.pL(t.url,t.offset+t.fa,n-8,0),this.W1=e.EE.rFa,s.wE.prototype.tk.call(this,t);break;case e.EE.rFa:s.wE.prototype.tk.call(this,t);break;default:o.assert(!1)}},e.prototype.eG=function(t){return this.ef?{status:h.Ij.xx}:this.iu()?(this.ef=t.appendBuffer(this.dn,a.vq(this)),{status:this.ef?h.Ij.xx:h.Ij.Mf}):{status:h.Ij.Mf}},e.prototype.pL=function(t,e,i,n){t=new c.kQ(this.stream,this.Slb,this.qga+" ("+this.Ea.length+")",{J:this.J,mediaType:this.mediaType,Oa:this.Oa,bitrate:this.bitrate,offset:e,fa:i,url:t,location:this.location,Md:this.Md,responseType:n},this,this.Oe,this.H),this.push(t),this.GMa=this.Ea.reduce((function(t,e){return t+e.fa}),0)},e.EE={INIT:0,wFa:1,rFa:2,name:["INIT","MOOF","MDAT"]},e}(s.wE),e.Vya=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.HKa=void 0,n=i(382),r=i(22),t=function(){function t(t,e){this.ah=t,this.console=e,this.FF=1/0,this.oS=this.y2=0,this.iPa=!1}return t.prototype.MVb=function(){this.iPa=!0},t.prototype.eDb=function(t,e,i,o,a){var s;if(this.ah&&(s=t.U)){if(1===i)i=s.zn(Math.ceil(this.ah*t.sa.hI),void 0,!0),s=t.Wk(i),t=s.LU.qm(t.sa),s.Bk({start:0,end:this.ah-i*t}),this.FF=this.ah;else{for(void 0!==o.J9a?i=(e=o.J9a)*t.sa.Y:(i=n.yna(o,a)+Math.ceil(o.esb*t.sa.hI),r.T.Eb(i).qm(t.sa),i=e+i,e=Math.ceil(i/t.sa.hI)),i=s.zn(i,void 0,!0),a=o=0;a<i;++a)o+=(s=t.Wk(a)).LU.qm(t.sa);o=e-o,(s=t.Wk(i)).Bk({end:o}),this.FF=e}return s.j2a(),s}},t.prototype.MJb=function(t){this.oS+=t.z7a,this.console.warn("StallAtFrameCount, adding frames: "+t.z7a,"total frames: "+this.oS,"needed frames: "+this.FF)},t.prototype.wIb=function(){return this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: "+this.y2,"needed: "+this.FF),this.y2>=this.FF},t.prototype.vIb=function(){return this.oS>=this.FF},t.prototype.OJb=function(t,e){this.y2+=this.QC(t,e)},t.prototype.aCb=function(t,e,i){t.z7a=this.QC(e,i)},t.prototype.QC=function(t,e){return t.LU.qm(e.sa)},t.prototype.Qy=function(){return!!this.vIb()&&(this.iPa?(this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1):(this.console.warn("StallAtFrameCount bufferingComplete = true:",this.oS+" >= "+this.FF),!0))},t}(),e.HKa=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;Object.defineProperties(e,{__esModule:{value:!0}}),e.Lea=void 0,t=i(2),n=t.__importStar(i(10)),r=t.__importDefault(i(28)),o=t.__importDefault(i(6)),a=i(25),s=i(16),u=i(238),c=i(838),h=new o.default.Console("ASEJS_STREAM_SELECTOR","media|asejs"),f=[s.ma[s.ma.zh],s.ma[s.ma.xd],s.ma[s.ma.Of],s.ma[s.ma.Kc],s.ma[s.ma.hh],"checkBuffering"],l={first:i(840),random:i(841),optimized:i(175).default,roundrobin:i(845),selectaudio:i(392),selectaudioadaptive:i(846),default:i(175).default,lowest:i(847),highest:i(848),throughputthreshold:i(849),replay:i(850).default,checkdefault:i(852),testscript:i(853)},d={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"},i=function(){function t(t,e,i,n){var r,o;for(r=2;6!==r;)switch(r){case 9:t=t||this.I.Mwa,this.yg=f.reduce((function(e,i){for(2;;)return e[i]=((l[t]||l[d[i]])[i]||l[d[i]][i]).bind(o),e}),{}),n&&(this.Q4a=new c.oHa(e)),r=6;break;case 2:o=this,this.gP=t,this.I=e,this.ug=i,r=3;break;case 3:"IYbZr","N","JCp9",r=9}}var e;for(e=2;6!==e;)switch(e){case 8:Object.defineProperties(t.prototype,{pqa:{get:function(){var t;for(t=2;1!==t;)switch(t){case 4:case 2:return this.vga}},enumerable:!1,configurable:!0}}),e=7;break;case 7:return t;case 2:t.prototype.Gva=function(t,e,i,c,f,l){var d,p,b,v,y,g,m,_,w,E,k,O,S,T,A;for(d=2;61!==d;)switch(d){case 47:d=p===s.ma.xd?46:45;break;case 25:d=(p=t.state)===s.ma.zh?24:47;break;case 38:d=b&&null!==b.Je?36:37;break;case 41:T=e[f],d=40;break;case 20:d=0<=S?16:19;break;case 12:d=0<y?11:16;break;case 42:d=0<=f?41:39;break;case 22:b=this.yg[s.ma[t.state]].call(this,O,t,e,S,c,!!f,T),d=21;break;case 13:y=(v=i.U).length,d=12;break;case 63:d=62;break;case 46:case 23:this.ug.N8a(r.default.h0.zh),d=22;break;case 64:d=p===s.ma.hh?22:63;break;case 30:d=f<e.length?29:44;break;case 50:return"yi","ng",t.state!==s.ma.Kc&&t.state!==s.ma.hh?(e=u.K9(t.state),l=this.Qy(t.buffer,e,t.playbackRate,c,l),(b.Pe=l.complete)?b.D3=l.reason:(b.Pe=!1,b.wI=l.wI,b.tD=l.tD,b.progress=l.progress)):(b.Pe=!0,b.D3="playing"),t.wM&&(b.Ic=i.Ic,l=t&&t.Qd,e=c.U,b.ek=e&&void 0!==l&&!isNaN(l)&&0<=l&&l<e.length?e.Cj(l):i.Ic,b.gTb=c.Ra||0,b.iQb=c.wb&&c.wb.Ra&&c.wb.Ra.Ga||0,b.Yia=i.lm-i.Mc,b.xRa=i.bh,b.NSb=null!==(E=null===(w=null===(_=o.default.y$b)||void 0===_?void 0:_.call(o.default))||void 0===w?void 0:w[1===t.mediaType?1:0])&&void 0!==E?E:-1,b.tf=t.state,b.Jp=t&&t.Jp,b.Axa=k,b.v_b=o.default.time.ea()),b;case 45:d=p===s.ma.Of?46:65;break;case 3:n.Ba(S)&&S>=e.length&&(this.ug.NY(void 0),S=void 0),d=9;break;case 17:S=0<S?S-1:0===S?0:e.length-1,d=16;break;case 40:T.U&&T.U.length||(c=!0,b.ez.push(T.Oa)),d=39;break;case 65:d=p===s.ma.Kc?22:64;break;case 11:g=v[y-1].Oa,S=a.Mp(e,(function(t){for(2;;)return t.Oa===g})),d=20;break;case 43:f=b.Je-1,d=42;break;case 8:m=this.ug.ou.bitrate,S=0<(S=a.Mp(e,(function(t){var e;for(e=2;1!==e;)switch(e){case 2:return t.bitrate>m;case 4:return t.bitrate<=m}})))?S-1:0===S?0:e.length-1,d=14;break;case 44:d=c?39:43;break;case 2:i=null==t?void 0:t.buffer,k=o.default.time.ea(),O=this.I,S=this.ug.d1a,T=!1,n.Ba(S)&&t.state===s.ma.zh&&(this.ug.NY(void 0),S=void 0),d=3;break;case 29:T=e[f],d=28;break;case 39:c||(b.ez=void 0),d=38;break;case 62:return"led with invalid playe","r sta","te ",h.error("Stream selector called with invalid player state "+s.ma[t.state]),null;case 21:d=b.Kg&&(b.ez=[],e.forEach((function(t,e){var i;for(i=2;4!==i;)if(2===i)t===b.Kg&&(b.Je=e),(!O.pBb||t.U&&t.U.length)&&!t.Y$||b.ez.push(t.Oa),t.Y$=!1,i=4})),!b.ez.length)?35:38;break;case 36:"in_f","ragment_","vm","af",void 0===b.f3a?this.ug.NY(b.Je):this.ug.NY(b.f3a),c=e[b.Je],b.reason&&(c.ws=b.reason,"min_fragment_vmaf"!==b.reason&&(c.Fva=b.fu,c.Jz=b.Jz,c.Lo=b.Lo,c.Mo=b.Mo)),this.Q4a&&(b.xu=this.Q4a.EGb({Qp:i.lm-i.Mc,hNb:e[0],Kg:c,F1b:e[b.Je+1]||c,a0b:e[e.length-1],tf:t.state,playbackRate:t.playbackRate,Qd:t.Qd})),n.Ba(S)&&c.bitrate<e[S].bitrate&&(this.rga=i.Ic),d=50;break;case 16:n.ia(S)&&(S=this.ug.d1a),void 0!==c&&this.Jta(e,!!t.Wr,t.buffer,c),t.state===s.ma.zh&&n.Ba(S)&&(t.state=s.ma.xd),t.state!==s.ma.zh&&void 0===S&&(t.state=s.ma.zh),d=25;break;case 28:T.U&&T.U.length||(c=!0,b.ez.push(T.Oa)),d=44;break;case 9:d=n.ia(S)&&t.state===s.ma.Kc&&(T=!0,void 0!==this.ug.ou)?8:13;break;case 32:d=O.A9a&&f>O.TW?31:39;break;case 24:this.vga=this.rga=void 0,d=23;break;case 31:f=b.Je+1,d=30;break;case 19:A=v[y-1].bitrate,S=a.Mp(e,(function(t){var e;for(e=2;1!==e;)switch(e){case 2:return t.bitrate>A;case 4:return t.bitrate>=A}})),d=17;break;case 37:return null;case 14:this.ug.NY(S),d=13;break;case 35:f=i.lm-i.Mc,T=void 0,c=!1,d=32}},t.prototype.Qy=function(t,e,i,n,r){for(2;;)return this.yg.checkBuffering.call(this,t,e,i,n,r,this.I)},t.prototype.xZb=function(t,e,i){var r;for(r=2;1!==r;)if(2===r)n.ia(e)?this.rga=this.vga=void 0:e.bitrate<i.bitrate&&(this.vga=t),r=1},e=4;break;case 4:t.prototype.Jta=function(t,e,i,n){var r,o,a;for(r=2;5!==r;)if(2===r)this.t5(t,(function(t){var r;for(r=2;1!==r;)if(2===r)t.lu&&t.wb&&t.wb.confidence?(o!==t.wb&&(o=t.wb,e&&t.wb&&(t.wb.Wr=!0),a=0===(a=Math.floor(n(t.wb,i,t.track.P.Gw[0])))?1:a),t.Ra=a):t.Ra=void 0,r=1})),r=5},t.prototype.t5=function(t,e){var i,n;for(i=2;3!==i;)switch(i){case 1:i=0<=n?5:3;break;case 2:n=t.length-1,i=1;break;case 4:--n,i=1;break;case 5:e(t[n],n,t),i=4;break;case 14:++n,i=2}},Object.defineProperties(t.prototype,{L7:{get:function(){var t;for(t=2;1!==t;)switch(t){case 4:case 2:return this.rga}},enumerable:!1,configurable:!0}}),e=8}}(),e.Lea=i},function(t,e,i){var r,o,a;function s(t){return f(t.Kg)}function u(t,e){var i,n,r,o;return e&&"object"==typeof e?(i=t.Kg,n=t.F1b,r=t.a0b,o={selectedFragmentBitrate:h(i,t.Qd)*t.playbackRate,upswitchFragmentBitrate:h(n,t.Qd)*t.playbackRate,maxFragmentBitrate:h(r,t.Qd)*t.playbackRate,selectedPeakBitrate:(i.iA||l(i)||0)*t.playbackRate,upswitchPeakBitrate:(n.iA||l(n)||0)*t.playbackRate,maxPeakBitrate:(r.iA||l(r)||0)*t.playbackRate,selectedAverageBitrate:l(i)*t.playbackRate,upswitchAverageBitrate:l(n)*t.playbackRate,maxAverageBitrate:f(i)*t.playbackRate,bufferLevelMs:t.Qp,observedThroughput:d(t.Kg)||0,predictedThroughput:(null==i?void 0:i.Ra)||0},t=e.offset||0,Object.keys(o).reduce((function(t,i){return t+(e[i]||0)*o[i]}),t)):0}function c(t,e){var i,n,r,o;if(!Array.isArray(e.Eua)||1>e.Eua.length)return 0;for(i=Array.from(e.Eua).sort((function(t,e){return t.Qp-e.Qp})),n=-1,e=0;e<i.length;e++)if(i[e].Qp>=t.Qp){n=e;break}return-1===n?u(t,i[i.length-1].Oja):0===n?u(t,i[0].Oja):(r=i[n-1].Qp,e=u(t,i[n-1].Oja),o=i[n].Qp,i=u(t,i[n].Oja),(1-(t=Math.min((t.Qp-r)/(o-r),1)))*e+t*i)}function h(t,e){var i;return(void 0!==e?null===(i=t.U)||void 0===i?void 0:i.get(e).gRa:void 0)||t.iA||0}function f(t){var e,i;return(i=null===(e=null==t?void 0:t.P)||void 0===e?void 0:e.Gw)&&i[t.mediaType]||0}function l(t){return(null==t?void 0:t.bitrate)||0}function d(t){var e,i;return(null===(i=null===(e=null==t?void 0:t.wb)||void 0===e?void 0:e.Ra)||void 0===i?void 0:i.Ga)||0}Object.defineProperties(e,{__esModule:{value:!0}}),e.oHa=void 0,t=i(2).__importDefault(i(6)),r=i(16),o=i(839),new t.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs"),a={maxStreamBitrate:s,static:function(t,e){return e.mZb},none:function(){return 0},regression:c,epsGreedy:function(t,e){return Math.min(c(t,e)||0,d(t.Kg))},default:s},i=function(){for(2;;)return t.prototype.gna=function(t,e,i){var r,o;for(r=2;8!==r;)switch(r){case 1:r=i?4:5;break;case 4:return n.N4L(6),(e=Math.ceil(n.J4L(e,i)))<(t=(this.I.Lja.mac||0)*((null===(o=t.hNb)||void 0===o?void 0:o.iA)||0))?0:e;case 5:return 0;case 2:r=1}},t.prototype.GYb=function(t,e){var i,n;for(2;;)return!(!e.Lja.Y9b||t.tf!==r.ma.zh&&t.tf!==r.ma.xd)&&!!((t=null===(i=t.Kg)||void 0===i?void 0:i.wb)&&t.confidence>=r.uda.Dx&&null!==(n=t.Ra)&&void 0!==n&&n.Ga)},t.prototype.EGb=function(t){var e,i,n,r;for(e=2;14!==e;)switch(e){case 1:e=n?4:5;break;case 2:i=new o.Lda({sP:0,$L:0,KO:0}),n=this.I.Lja,e=1;break;case 3:e=r&&t.Qd&&0==t.Qd%r?9:8;break;case 5:case 9:return i;case 8:i=0,e=7;break;case 4:r=this.I.P0b,e=3;break;case 7:return this.GYb(t,this.I)?i=d(t.Kg):t.Qp>=n.XW&&(i=this.algorithm(t,this.I)),new o.Lda({sP:this.gna(t,i,n.z6a[0]),KO:this.gna(t,i,n.z6a[2]),$L:this.gna(t,i,n.z6a[1])})}},t;function t(t){var e;for(e=2;4!==e;)if(2===e){"e","fault";"bZrNJC","p9",this.I=t,this.algorithm=(a[this.I.FRb]||a.default).bind(this),e=4}}}(),e.oHa=i},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.Lda=void 0,n=i(2),t=function(){function t(t){this.sP=t.sP,this.$L=t.$L,this.KO=t.KO}return Object.defineProperties(t.prototype,{A6a:{get:function(){return[this.sP,this.$L,this.KO]},enumerable:!1,configurable:!0}}),t.prototype.v7=function(){return this.A6a.some((function(t){return 0<t}))},t.prototype.m2a=function(t,e,i,r){var o;return o=8*t/Math.max(i-e,1),!!this.v7()&&(t=this.A6a.map((function(t){return Math.abs(o-t)/t})),Math.min.apply(Math,n.__spread(t))<r)},t}(),e.Lda=t},function(t,e,i){var n,r,o,a;function s(t,e,i,s){if(n.ia(s))t=r(i);else if(o(i[s]))t=s;else if(0>(t=r(i,s)))return null;return new a(t)}n=i(10),e=i(35),r=e.mma,o=e.tH,a=e.up,t.exports={STARTING:s,BUFFERING:s,REBUFFERING:s,PLAYING:s,PAUSED:s}},function(t,e,i){var n;function r(t,e,i){return(t=i.map((function(t,e){return t.lu?e:null})).filter((function(t){return null!==t}))).length?new n(t[Math.floor(Math.random()*t.length)]):null}n=i(35).up,t.exports={STARTING:r,BUFFERING:r,REBUFFERING:r,PLAYING:r,PAUSED:r}},function(t,e,i){var n,r,o,a,s,u,c;Object.defineProperties(e,{__esModule:{value:!0}}),e.A$=void 0,t=i(2),n=t.__importStar(i(10)),r=i(25),t=t.__importDefault(i(35)),o=i(390),a=i(391),s=t.default.assert,u=t.default.up,e.A$=c,function(){var t;for(t=2;5!==t;)if(2===t){"Yb","ZrNJ","Cp","9",e.A$=c=function(t,e,n,r,o,s,u){for(2;;){return"a","y","ing","playing"===t.Wia?a.bx.call(this,t,e,n,r,o,s,u):i.call(this,t,e,n,r)}},t=5}function i(t,e,i,a){var c,h,f,l,d,p,b;for(c=2;20!==c;)switch(c){case 2:" selected s","tre","am",s(!n.ia(a),"Must have at least one selected stream"),h=i[a],f=h.bitrate,l=h,d=e.Qd,c=5;break;case 4:h=r.ig(i.slice(0,Math.min(a+(t.orb?2:1),i.length)).reverse(),v),c=3;break;case 5:c=h.Ra?4:14;break;case 3:c=void 0===h?9:6;break;case 8:"k_lo","west_acceptable_stream",p="fallback_lowest_acceptable_stream",c=7;break;case 9:h=i[0],c=8;break;case 6:"_buff","ering",p="select_feasible_buffering",c=7;break;case 7:b=null==h?void 0:h.Ra,c=14;break;case 14:return(a=new u).Kg=h,l!==h&&(a.reason=p,a.fu=b),o.k8(t,i,d,a),a}function v(n){var r,a;for(r=2;7!==r;)switch(r){case 4:return!1;case 5:r=!a||(n.bitrate>f?t.E1b:1)*n.bitrate*e.playbackRate>a?4:3;break;case 2:void 0!==d&&null!=h&&h.U&&o.l8(t,i,h.U.cx,d,d+1),a=n.Ra,r=5;break;case 3:return"uf","f_","lt","_hist",p="buff_lt_hist",b=a,!0}}}}()},function(t,e,i){var r;i(10),r=i(35).console,t.exports=function(t,e,i,o,a,s,u,c,h,f,l,d,p,b,v){var y,g,m,_,w,E,k,O,S,T=n;for(y=2;39!==y;)switch(y){case 44:O=t,y=43;break;case 18:T.Z4L(7),b*=T.J4L(_,1e3),T.Z4L(7),p*=T.J4L(_,1e3),y=16;break;case 42:y=(t=Math.max(u-i,0))<p&&t<O?41:34;break;case 27:g=E[c],m=w[c],y=26;break;case 6:"me","n","tsLength: ";"e","x:"," ",T.Z4L(8),t=T.J4L(d,0,8,s),T.N4L(9),d=T.j4L(8,d,0),T.N4L(7),s=T.j4L(_,1e3),c>=e&&r.error("StreamingIndex: "+c+" >= fragmentsLength: "+e),y=11;break;case 2:"Y","bZrN","JCp9",_=t.S,e=Math.min(t.length,e),w=t.vd,E=t.sizes,k=o-i,y=3;break;case 11:i+=t,0===u&&(i=0),T.Z4L(7),i*=T.J4L(_,1e3),T.Z4L(7),u*=T.J4L(_,1e3),y=18;break;case 30:l+=E[S],a+=w[++S],y=31;break;case 25:O=Math.max(g,f),y=24;break;case 26:y=l<g?25:42;break;case 23:i=a,l+=E[S],a+=t=w[++S],y=24;break;case 40:return{result:!0,EW:o/(_/1e3),St:!0};case 34:T.N4L(10),i+=T.j4L(d,g,0,s),u+=m,y=32;break;case 15:y=c<e?27:40;break;case 16:T.N4L(7),k*=T.J4L(_,1e3),y=15;break;case 29:++c,y=28;break;case 43:o=Math.min(t,o),y=15;break;case 28:y=c>=h&&t>k?40:44;break;case 21:return{result:!1,EW:t/(_/1e3),St:!1};case 35:T.Z4L(0),t=T.J4L(i,u),y=34;break;case 3:o=1/0,O=0,S=0,t=t.vd[0],T.N4L(11),a=T.j4L(1e3,t,a,_),y=6;break;case 24:y=l<O?23:22;break;case 32:l-=g,y=31;break;case 41:return{result:!1,EW:Math.min(t,o)/(_/1e3),St:!0};case 31:y=a<i&&S<c?30:29;break;case 22:y=!v&&(t=u-i)<b?21:35}}},function(t,e,i){var r,o,a,s,u,c,h,f,l,d,p;Object.defineProperties(e,{__esModule:{value:!0}}),e.IKb=e.o8a=void 0,r=i(2),o=r.__importDefault(i(86)),a=r.__importStar(i(10)),s=i(25),u=i(365),c=r.__importDefault(i(6)),t=r.__importDefault(i(115)),i=r.__importDefault(i(35)),h=i.default.fPb,f=i.default.ptb,l=i.default.T3,d=i.default.up,p=t.default.mwa,t=(i=function(){function t(t,e,i,n,r,o){var a;for(a=2;5!==a;)switch(a){case 1:"alid_B","it","rate";"_V","M","AF";return"rge","t",(n=n<r&&t)?{m5:n}:{m5:n,reason:t?"no_valid_DelayTarget":i?"no_valid_VMAF":"no_valid_Bitrate"};case 2:t=i?t.sb>=o.uu&&t.sb<=o.G2a:t.bitrate>=o.Lw&&t.bitrate<=o.fA,a=1}}function e(t,e,i){var n,o;for(2;;)return n=new d,o=Math.max(t.Lw,t.w8,e.zpa?t.Kra:-1/0),n.Kg=s.ig(i.filter((function(e){var i;for(i=2;1!==i;)switch(i){case 2:return e.bitrate<=t.fA;case 4:return e.bitrate<t.fA}})).reverse(),(function(i){var a,s,u,c;for(a=2;13!==a;)switch(a){case 2:s={Ra:i.Ra,em:i.wb&&i.wb.em,Dk:i.wb&&i.wb.Dk},a=1;break;case 1:a=i.bitrate>o?5:14;break;case 8:"ti","me",g(i,u,t)<=c?(n.fu=u,s&&(n.Lo=s.em?s.em:0,n.Mo=s.em&&s.Dk),n.reason="hist_bufftime",s=!0):s=!1,a=7;break;case 5:i=i.bitrate*e.playbackRate,u=s.Ra,a=3;break;case 7:return s;case 6:s=!1,a=7;break;case 3:a=u?9:6;break;case 9:c=r(t,i),a=8;break;case 14:"r","ate";"t_tp","ut_lt_minbitrate";"t_hist_lt","e_minbitrate",u=s.Ra,i.bitrate*e.playbackRate<=u?(n.fu=u,s&&(n.Lo=s.em?s.em:0,n.Mo=s.em?s.Dk:void 0),n.reason="lt_hist_lte_minbitrate",s=!0):u?(n.fu=u,s&&(n.Lo=s.em?s.em:0,n.Mo=s.em?s.Dk:void 0),n.reason="hist_tput_lt_minbitrate",s=!1):(n.reason="no_historical_lte_minbitrate",s=!0),a=7}}))||i[0],n}function i(t,e){var i,r,o=n;for(i=2;9!==i;)switch(i){case 5:r=e.cP,i=4;break;case 7:o.Z4L(0);var a=o.J4L(11,14);o.Z4L(0);var s=o.j4L(5600,5950);t=l(t,a,s)%686,i=9;break;case 1:"o","g",i=0===e.cP.lastIndexOf("log",0)?5:3;break;case 4:return(r=e.p8a[r])&&2===r.length?1e3*(r[0]+r[1]*Math.log(1+t)):e.$r;case 2:o.N4L(12);var u=o.J4L(4,50007,99986,35e4,7);o.N4L(0);var c=o.J4L(6,1006);t=l(t,0,u)/c,i=1;break;case 3:return"ig","mo","i","d",0===e.cP.lastIndexOf("sigmoid",0)?(r=e.cP,(r=e.p8a[r])&&2===r.length?1e3*(r[0]+r[1]*p(t)):e.$r):e.$r;case 14:r=e.cP,i=9}}function r(t,e){var i,r,o;for(i=2;13!==i;)switch(i){case 9:return r[r.length-1].d;case 5:i=0===o?4:3;break;case 2:i=t.Y6?1:14;break;case 1:r=t.Y6,o=s.Mp(r,(function(t){var i;for(i=2;1!==i;)switch(i){case 2:return e<=t.r;case 4:return e<t.r}})),i=5;break;case 3:i=-1===o?9:8;break;case 4:return r[0].d;case 8:n.Z4L(0),t=r[n.j4L(1,o)],r=r[o],i=6;break;case 6:return Math.floor(t.d+(r.d-t.d)*(e-t.r)/(r.r-t.r));case 14:return t.$r}}function b(t,e){var i,n,r;for(i=2;12!==i;)switch(i){case 7:i=(r=a.Ba(e.B$)&&0<=e.B$&&100>=e.B$&&!a.ia(t)&&!a.Bb(t))?6:14;break;case 2:(n=new d).Kg=t,t=n.Kg.wb||{},n.Mo=t.em&&t.Dk,n.Lo=t.em?t.em:0,t=o.default(n.Mo,{}),i=8;break;case 8:i=7;break;case 14:"i","st_th","rou","ghput";return"st","_tdige","st",r?(e=t.wj(e.B$/100)||n.Kg.Ra,n.fu=e,n.reason="hist_tdigest"):n.Kg.Ra&&(e=n.Kg.Ra,n.fu=e,n.reason="hist_throughput"),n;case 6:r=u.eLa.HGb(t),a.gd(r)?(t.wj=r,r=!0):r=!1,i=14}}function v(e,n,r){var o,s,u,c,h,f,l;for(o=2;19!==o;)switch(o){case 2:s=!!e.uu&&!!e.G2a&&r.every((function(t){for(2;;)return t.sb&&110>=t.sb})),u=null,c=r.length-1,o=1;break;case 5:u=b(h=r[c],e),f=g(h.bitrate*n.playbackRate,u.fu,e),l=i(u.fu,e),l=t(h,u.fu,s,f,l,e),o=8;break;case 1:o=0<=c&&(s?r[c].sb>=e.uu:r[c].bitrate>=e.Lw)?5:11;break;case 8:h=l.m5,l=l.reason,u.Jz=f,o=14;break;case 14:o=h?11:13;break;case 12:c--,o=1;break;case 13:u.reason=l,o=12;break;case 11:return"ptable_st","re","am",a.Bb(u)&&(u=b(r[0],e)),a.Bb(u)&&((u=b(r[0],e)).reason="fallback_no_acceptable_stream"),u}}function y(t,i,n,r){var o,a;for(o=2;7!==o;)switch(o){case 1:"u","mbe","r",o="number"!=typeof a?5:4;break;case 2:"b",a=c.default.storage.get("vb"),o=1;break;case 5:return t.uT?v(t,i,n):e(t,i,n);case 4:return"st","_bitrate",(t=new d).Kg=s.ig(n.slice().reverse(),(function(t){for(2;;)return t.bitrate<=a}))||n[0],t.reason="hist_bitrate",t}}for(2;;){return"IYbZrN","JCp","9",{lpb:function(t,i,n,r){for(2;;){return"is","torica","l","historical"===t.gpa?y(t,i,n):t.uT?v(t,i,n):e(t,i,n)}},Omb:t}}function g(t,e,i){for(2;;)return t=f(i.tj,t*i.xra),h(t,e)}}()).Omb,e.o8a=i.lpb,e.IKb=t},function(t,e,i){var n,r,o,a;function s(t,e,i){var s,u;return s=this.tga,e=e.buffer.Ic,u="forward"===t.uWb,n.ia(s)?(s=u?r(i):r(i,i.length),this.uga=e,this.tga=s,new a(s)):(o(i[s])||(s=r(i,s),this.uga=e,this.tga=s),0>s?null:e>this.uga+t.H_b?(t=i.map((function(t,e){return t.lu?e:null})).filter((function(t){return null!==t}))).length?(u?s=(t.indexOf(s)+1)%t.length:0>(s=t.indexOf(s)-1)&&(s=t.length-1),this.tga=t[s],this.uga=e,new a(t[s])):null:new a(s))}n=i(10),e=i(35),r=e.mma,o=e.tH,a=e.up,t.exports={STARTING:s,BUFFERING:s,REBUFFERING:s,PLAYING:s,PAUSED:s}},function(t,e,i){!function(){var e,n,r,o,a,s,u,c,h,f,l;for(e=2;4!==e;)if(2===e){"bZ","r","NJCp","9",n=i(10),r=i(35),o=r.console,a=r.debug,s=r.assert,u=i(86),c=r.tH,h=r.up,f=i(392),l=i(16).ma,t.exports={STARTING:function(t,e,i,n){var r,s,c;for(r=2;7!==r;)switch(r){case 5:"ctAudioStreamSta","rting: overri","ding co","nfig with ",s={minInitAudioBitrate:t.WW,minHCInitAudioBitrate:t.VW,maxInitAudioBitrate:t.HW,minRequiredAudioBuffer:t.D8},a&&o.log("selectAudioStreamStarting: overriding config with "+JSON.stringify(c)),u(c,s),r=4;break;case 2:s=t,c=i[n||0].kh,r=1;break;case 4:" ","pr","ofile :";return"tarting: selected s","tream ",":",i=i[(t=f[l[l.zh]](s,e,i,n)).Je],a&&o.log("selectAudioStreamStarting: selected stream :"+i.bitrate+" kbps, profile :"+i.kh),t;case 1:r=(c=t&&t.FP&&0<=t.FP.indexOf(c)?d(c,t.x$a):d(c,t.hsb))?5:4}},BUFFERING:p,REBUFFERING:p,PLAYING:p,PAUSED:p},e=4}function d(t,e){var i;for(2;;)return i=void 0,e.some((function(e){var n;for(2;;)return(n=(n=e.profiles)&&0<=n.indexOf(t))&&(i=e.override),n})),i}function p(t,e,i,r){var u,f,l,d,p,b,v,y,g,m,_,w;for(u=2;32!==u;)switch(u){case 17:m--,u=11;break;case 5:u=t&&t.FP&&0<=t.FP.indexOf(d)?3:4;break;case 15:f=this.pqa,l=this.L7,u=27;break;case 26:"tr","eami","ngPts ="," ";"UpswitchPts"," = ";"h allo","wed. la","stDownswitch","Pts = ",a&&o.log("  Upswitch allowed. lastDownswitchPts = "+l+", lastUpswitchPts = "+f+", streamingPts = "+g.Ic),u=25;break;case 19:u=c(v)&&(0==m||v.bitrate*e.playbackRate*w.FUa<_)?18:17;break;case 8:u=b&&1<b.length?7:21;break;case 6:u=0>m?14:13;break;case 11:u=0<=m?10:21;break;case 13:u=m&&_<w.FUa*g*e.playbackRate?12:16;break;case 2:"at least one se","le","cted stream",s(!n.ia(r),"Must have at least one selected stream"),d=i[r].kh,u=5;break;case 22:"s";"fer"," level = ";" ","= ";"psw","itc","h not allowed. lastDownswitchPts ","= ",a&&o.log("  Upswitch not allowed. lastDownswitchPts = "+l+", lastUpswitchPts = "+f+", buffer level = "+v+"ms"),u=21;break;case 27:u=e.sq&&v>w.Zz&&(void 0===l||Number(f)>l||g.Ic-l>w.V7)?26:22;break;case 3:p=r,t.x$a.some((function(n){var r,o,a,s,u,c,h;for(r=2;9!==r;)switch(r){case 1:r=a?5:3;break;case 4:b=i.filter((function(t){var e;for(2;;)return(e=t.bitrate)>=u&&e<=c&&0<=o.indexOf(t.kh)&&e*s/8<h})).map((function(t){var e;for(e=2;1!==e;)switch(e){case 4:case 2:return t.Lf}})),r=3;break;case 2:a=(o=n.profiles)&&0<=o.indexOf(d),r=1;break;case 5:s=(n=n.wX)&&n.D8||t.D8,u=n&&n.Uac||-1/0,c=n&&n.QN||1/0,h=e.buffer.ew,r=4;break;case 12:case 3:return a}})),u=8;break;case 12:"try to downs","witch";"s"," ","< ";"t for audio"," ",a&&o.log("throughput for audio "+_+" kbps < "+w.FUa+"*"+g+" kbps, try to downswitch"),--m,u=11;break;case 16:"k","b","p","s";"kb","ps"," ","> ";"ug","hput fo","r audi","o ",u=m<b.length-1&&_>w.Jab*g*e.playbackRate&&(a&&o.log("throughput for audio "+_+" kbps > "+w.Jab+"*"+g+" kbps"),v=(g=e.buffer).lm-g.Mc,y.U&&y.U.length)?15:21;break;case 10:g=b[m],v=i[g],u=19;break;case 23:case 18:p=g,u=21;break;case 7:g=(y=i[r]).bitrate,m=b.indexOf(r),_=y.Ra,w=t.jsb,u=6;break;case 4:return new h(r);case 25:u=++m<b.length?24:21;break;case 14:p=0,u=21;break;case 24:g=b[m],v=i[g],u=c(v)&&_>w.Jab*v.bitrate*e.playbackRate?23:25;break;case 21:" ",":";"udio throughput",":";"s, pro","f","ile :";"m: se","lecte","d stream :";"p","s";"kbps, to"," ";"hing ","au","d","io from ";"o","w","n";return"p",_=i[p],p!==r&&a&&o.log((p>r?"up":"down")+"switching audio from "+y.bitrate+" kbps, to "+_.bitrate+" kbps"),a&&o.log("selectAudioStream: selected stream :"+_.bitrate+" kbps, profile :"+d+", audio throughput:"+_.Ra+"kbps, streamingPts :"+e.buffer.Ic),new h(p)}}}()},function(t,e,i){var n;function r(){return new n(0)}i(10),n=i(35).up,t.exports={STARTING:r,BUFFERING:r,REBUFFERING:r,PLAYING:r,PAUSED:r}},function(t,e,i){var n;function r(t,e,i){return new n(i.length-1)}i(10),n=i(35).up,t.exports={STARTING:r,BUFFERING:r,REBUFFERING:r,PLAYING:r,PAUSED:r}},function(t,e,i){!function(){var e,r,o,a,s;for(e=2;6!==e;)switch(e){case 2:r=i(10),e=1;break;case 8:"Yb","Z","rNJCp","9",t.exports={STARTING:o.STARTING,BUFFERING:o.BUFFERING,REBUFFERING:o.REBUFFERING,PLAYING:u,PAUSED:u},e=6;break;case 1:i(28),o=i(35),i(6),a=o.assert,s=o.up,o=i(175).default,e=8}function u(t,e,i,o){var u,c;for(u=2;12!==u;)switch(u){case 4:n.N4L(13);var h=n.J4L(20,9,18,18);o=i.length-h,u=3;break;case 2:"ssing fragmentIn","dex";"e at least one se","lected s","tream",a(!r.ia(o),"Must have at least one selected stream"),a(r.Ba(e.Qd),"player missing fragmentIndex"),e=s(o),u=4;break;case 8:u=c.wb&&c.wb.Ra&&c.bitrate<c.wb.Ra.Ga-t.E_b?7:6;break;case 9:c=i[o],u=8;break;case 14:return e.Je=0,e;case 3:u=-1<o?9:14;break;case 7:return e.Je=o,e;case 6:--o,u=3}}}()},function(t,e,i){Object.defineProperties(e,{__esModule:{value:!0}}),t=i(851),e.default={PLAYING:t.bx,PAUSED:t.bx}},function(t,e,i){var r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.bx=void 0,t=i(2),r=t.__importStar(i(10)),o=t.__importDefault(i(35)),a=t.__importDefault(i(175)),s=i(101),u=t.__importDefault(i(6)),c=o.default.assert,h=o.default.up,e.bx=f,function(){var t;for(t=2;5!==t;)if(2===t){"r","NJ","Cp9",e.bx=f=function(t,e,i,o,f,l,d){var p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x;for(p=2;66!==p;)switch(p){case 30:p=_.wb&&_.wb.tdigest?29:38;break;case 56:S+=1,p=55;break;case 52:p=T<Math.min(T+t.msb,k.length)?51:48;break;case 65:k=void 0,e.UT&&(k=u.default.time.ea()-e.UT),p=63;break;case 76:case 69:v=S,p=73;break;case 46:O+=k.get(T).duration,p=45;break;case 11:p=_===m?10:58;break;case 63:f.push({Qd:e.Qd,Kcc:k,Dac:O,$8b:A,Hcc:P,Jcc:w,Yia:l,o$b:d,t9b:E,hac:y.bitrate,iac:null!==(j=y.sb)&&void 0!==j?j:0,A9b:_.bitrate,B9b:null!==(I=_.sb)&&void 0!==I?I:0,gcc:m.bitrate,hcc:null!==(x=m.sb)&&void 0!==x?x:0,jD:v}),p=62;break;case 67:S--,p=71;break;case 61:g.QQa=f,p=60;break;case 45:T++,p=47;break;case 47:p=T<k.length?46:65;break;case 51:b=k.get(T),E.push({d:b.duration,b:b.fa}),p=49;break;case 21:S=0,p=35;break;case 57:p=_<m?56:72;break;case 70:p=y[S].f===m?69:68;break;case 54:p=void 0!==k?53:65;break;case 2:"r missing frag","mentIn","dex";"ne ","sel","ected stream",c(!r.ia(o),"Must have at least one selected stream"),c(r.Ba(e.Qd),"player missing fragmentIndex"),y=t.yZb,g=new h(o),m=null!==(v=e.Qd)&&void 0!==v?v:-1,p=3;break;case 49:T++,p=52;break;case 17:p=t.MBb?16:60;break;case 6:n.N4L(0),0>(S=n.j4L(v,m))&&(S=0),S>=y.length&&(S=y.length-1),_=y[S].f,p=11;break;case 74:S++,p=55;break;case 73:m=v,p=20;break;case 29:w=_.wb.tdigest,P.push(w.min),P.push(w.r9),P.push(w.Jl),P.push(w.uk),P.push(w.Kl),p=40;break;case 68:p=y[S].f<m?73:67;break;case 20:p=void 0!==m?19:59;break;case 3:v=y[0].f,p=9;break;case 58:v=void 0,p=57;break;case 7:case 59:return a.default.PLAYING.call(this,t,e,i,o,f,l,d);case 19:g.Je=y[m].BWb,p=18;break;case 72:--S,p=71;break;case 75:p=y[S].f>m?73:74;break;case 60:return g;case 77:p=y[S].f===m?76:75;break;case 40:P.push(w.s9),p=39;break;case 38:w=void 0,_.wb&&_.wb.tputTrace&&(w=_.wb.tputTrace),E=[],k=_.U,O=0,p=54;break;case 9:S=y[y.length-1].f,p=8;break;case 8:p=m<v||m>S?7:6;break;case 55:p=S<y.length?77:73;break;case 24:d=e.buffer.ew-d.fa,y=i[o],m=i[o],p=21;break;case 53:T=e.Qd,p=52;break;case 71:p=0<=S?70:73;break;case 48:T=e.Qd,p=47;break;case 35:p=S<i.length?34:61;break;case 34:v=S<=o,A=void 0,P=[],(_=i[S]).wb&&_.wb.throughput&&(A=_.wb.throughput.Ga),p=30;break;case 10:m=S,p=20;break;case 62:S++,p=35;break;case 39:P.push(w.max),p=38;break;case 16:f=[],l=(l=e.buffer).lm-l.Mc,d=s.Rm.xTa(e.buffer.U),p=24;break;case 18:g.Kg=i[g.Je],p=17}},t=5}}()},function(t,e,i){!function(){var e,r;for(e=2;8!==e;)switch(e){case 4:"IYbZrNJC","p","9",r=i(16).Jc,t.exports={checkBuffering:function(t,e,i,o,a,s){var u,c,h,f,l,d,p,b,v=n;function y(e){for(2;;)return e=o.U.o5(t.Mc+e,void 0,!0),(f-t.cl)/(f+(e.offset+e.fa)-h)}for(u=2;37!==u;)switch(u){case 6:v.N4L(14);var g=v.J4L(4,13,59,7);p=s.tj*(d?s.vua:g),s.HBb&&o.wb&&o.wb.Aj&&o.wb.Aj.Ga>s.Kqa&&(p+=s.Qha+o.wb.Aj.Ga*s.fta),a&&(p+=a.It*s.Rha),u=12;break;case 7:return{complete:!1,tD:!0};case 44:u=0<c?43:42;break;case 35:p=o.U.vd(a),s=Math.min(a+Math.floor(s.eY/p),o.U.length-1),c=o.U.Sd(s),p=8*h*i/e-t.Mc,u=31;break;case 23:u=l>=p?22:39;break;case 24:h=o.U.Sd(a),u=23;break;case 16:u=o.U&&o.U.length?27:15;break;case 11:u=e?20:10;break;case 25:return"ng","e",{complete:!0,reason:"outofrange"};case 42:c=d.offset,u=41;break;case 30:u=s>a?29:40;break;case 29:d=o.U.get(s),v.N4L(15),c=v.j4L(6,12,120)*c*i/e-d.Z-p,u=44;break;case 15:return e<d&&(p=Math.min(b,Math.max(s.eY*(d/e-1),p))),{complete:!1,wI:p,progress:0};case 12:p=b?Math.min(b,p):p,u=11;break;case 26:u=-1===a?25:24;break;case 20:f=0,t.U.forEach((function(e){var i;for(i=2;1!==i;)if(2===i)f+=e.Z+e.duration>t.Mc?e.fa:0,i=1})),d=(i=Math.max(i,1))*o.bitrate,u=16;break;case 2:l=t.lm-t.Mc,d=e===r.Of,e=o.Ra||0,p=0,b=s.Zxa&&!d?s.wD:s.nra,b=Math.min(s.gA,b),u=3;break;case 3:u=l>=b?9:8;break;case 43:return{complete:!1,wI:p=Math.min(b,l+c),progress:y(p)};case 39:return 0<e&&e<d&&(p=Math.min(b,Math.max(s.eY*(d/e-1),p))),{complete:!1,wI:p,progress:y(p)};case 8:u=e<=s.Qqa&&(0<e||!s.Sla)?7:6;break;case 21:return"h","tp",{complete:!0,reason:"hightp"};case 10:return{complete:!1,wI:p};case 27:a=o.U.zn(t.Ic),u=26;break;case 9:return"a","x","siz","e",{complete:!0,reason:"maxsize"};case 22:u=e>d*s.l5?21:35;break;case 41:case 31:--s,u=30;break;case 40:return"r","e","b","uff",{complete:!0,reason:"norebuff"}}}},e=8;break;case 2:i(10),i(28),i(35),e=4}}()},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i){return s=i,u=i.map((function(t,e){return e})),null===a?(t=r(i),a=i[t].bitrate,new o(t)):i.length?void 0===(t=u.filter((function(t){return i[t].bitrate==a}))[0])?(n.log("Defaulting to first stream due to unvalid bitrate requested: "+a),new o(u[0])):new o(t):null}e=i(35),i=i(6).default,n=e.console,r=e.mma,o=e.up,a=null,s=null,u=null,i.iub&&(i.iub.kl={xb:function(){u=s=a=null},Gva:function(t){a=t},B$b:function(){return{all:s,ibb:u}}}),t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c}},function(t,e,i){var r,o,a,s,u,c,h,f,l;Object.defineProperties(e,{__esModule:{value:!0}}),e.NFa=void 0,t=(r=i(2)).__importDefault(i(115)),o=r.__importDefault(i(6)),a=i(245),s=i(246),u=t.default.T3,c=t.default.Pub,h=t.default.HVa,f=t.default.jCb,l=t.default.IWb,new o.default.Console("ASEJS_PREDICTOR","media|asejs"),i=function(t){var e;for(e=2;5!==e;)switch(e){case 3:case 2:return r.__extends(i,t),i}function i(e,i){var r,o;for(r=2;12!==r;)switch(r){case 3:o.Esb=u(e.xt.threshold||6e3,1,1e5),o.zsb=u(e.xt.gamma||1,.1,10),o.filter=e.xt.filter,o.PYb=!!e.xt.simpleScaling,e.xt.niqrfilter&&e.xt.niqrcurve&&(o.J3a=e.xt.niqrfilter,o.yPb=c(e.xt.niqrcurve,1,0,4)),r=14;break;case 14:return"Y","b","ZrNJC","p9",o;case 2:(o=t.call(this,e,i)||this).SD=function(t,e){for(2;;)return s.SD(o.config,t,e)},o.O9=function(t,e,i){var r,a,s,u,c,d,p;for(r=2;13!==r;)switch(r){case 8:return o.PYb?e=(e=h(o.KTa,c,1))*u+(c=h(o.JTa,c,1))*(1-u):e=h(l(o.KTa,o.JTa,u),c,1),void 0!==(t=o.J3a&&(null===(d=t[o.J3a])||void 0===d?void 0:d.hX))&&(d=f(o.yPb,t),e=Math.min(e*d,1)),n.N4L(16),o.tUa(n.J4L(1,e,p),i);case 2:i=null!=i?i:o.QN,p=null!==(s=null===(a=t.Ra)||void 0===a?void 0:a.Ga)&&void 0!==s?s:0,a=null!==(c=null===(u=t[o.filter])||void 0===u?void 0:u.Ga)&&void 0!==c?c:p,u=Math.pow(Math.max(1-a/o.Esb,0),o.zsb),c=e.lm-e.Mc,r=8}},Array.isArray(e.xt.curves)&&(o.KTa=c(e.xt.curves[0],0,0,1),o.JTa=c(e.xt.curves[1],0,0,1)),r=3}}}(a.CJ),e.NFa=i},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.zKa=void 0,t=(n=i(2)).__importDefault(i(6)),r=i(245),o=i(246),new t.default.Console("ASEJS_PREDICTOR","media|asejs"),i=function(t){var e;function i(e,n){var r,a;for(r=2;9!==r;)switch(r){case 3:return a;case 2:(a=t.call(this,e,n)||this).SD=function(t,e){var i;for(i=2;1!==i;)switch(i){case 4:case 2:return o.SD(a.config,t,e)}},a.O9=function(t,e,n){var r;for(2;;)return n=null!=n?n:a.QN,r=i.FYb(t,a.config),t=t.Ra?t.Ra.Ga*(100-a.AEb(e,r))/100|0:0,a.tUa(t,n)},r=4;break;case 4:"ZrNJCp","9",r=3}}for(e=2;3!==e;)switch(e){case 2:n.__extends(i,t),i.FYb=function(t,e){var i,n;for(2;;)return n=!!t.Wr,e.$wa&&(null===(i=t.Ra)||void 0===i?void 0:i.Ga)<e.hU&&(n=!0),n},i.prototype.AEb=function(t,e){var i,n,r;for(i=2;3!==i;)switch(i){case 5:return Array.isArray(e)&&(r=o.GVa(e,t.lm-t.Mc,n.Fia)),r;case 2:n=this.config,r=e?n.$ja:n.Eia,e=e?n.aka:n.Gia,i=5}},e=4;break;case 14:case 4:return i}}(r.CJ),e.zKa=i},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.EEa=void 0,t=function(){function t(t,e,i,n,r,o,a,s){this.gb=t,this.qRa=e,this.config=i,this.console=n,this.mediaType=r,this.Cb=o,this.Pa=a,this.ac=s,this.Xq=this.Vh=!1}return t.prototype.VL=function(t,e){!this.gb.O.bv||this.ac.cL||this.ac.t2||(t-=this.gb.Fe,this.Vh&&!this.Xq&&t+this.config.O$a>=e&&0===this.Pa.KD&&0===this.Pa.Hs&&0===this.Pa.oUb&&((e=this.ac.Ge.P.Pb)+1<(t=this.ac.$M())||(this.qRa[this.mediaType].q$a||this.Cb.Fnb(this.mediaType),this.Xq=!0,this.qRa[this.mediaType].d9())))},t}(),e.EEa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.CEa=void 0,n=i(2),r=i(20),t=i(394),o=i(388),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.jAb=function(e){t.prototype.F7.call(this,{value:e})},e.prototype.Z_a=function(){return!0},e.prototype.zwa=function(){},e.prototype.F7=function(e){t.prototype.F7.call(this,e),e.done&&(e=this.ZB.p4,r.ga&&this.H.trace("Requests drained",{a9b:e&&e.O.id}),(e=e&&e.eb(this.Sg))&&e instanceof o.y0&&e.VL(this.Og.sna()||0))},e}(t.xba),e.CEa=i},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.Eza=void 0,n=i(2),r=i(149),o=i(20),t=function(){function t(t,e,i){this.H=t,this.hlb=e,this.Sg=i,this.O1=0,this.i2=!1,this.fS=[],this.zF=void 0,o.ga&&t.trace("BranchRequestIterator ["+this.Sg+"]: created")}return Object.defineProperties(t.prototype,{Ryb:{get:function(){return this.O1},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{p4:{get:function(){return this.NMa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Zk:{get:function(){return this.i2},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ITa:{get:function(){return this.tl?this.tl.Pz?"Complete":this.tl.Xta?"WaitingForBranch":void 0!==this.zF&&0!==this.zF?"In Policy "+this.fS[this.zF].name:"WaitingForRequest":"Uninitialized;Prior:"+this.KNa},enumerable:!1,configurable:!0}}),t.prototype.next=function(){return n.__awaiter(this,void 0,void 0,(function(){var t,e,i;return n.__generator(this,(function(n){switch(n.label){case 0:return(t=this.tl)?(this.zF=void 0,[4,t.next()]):[3,6];case 1:e=n.bd(),i=0,n.label=2;case 2:return i<this.fS.length?(this.zF=i,[4,this.fS[i].process(e)]):[3,5];case 3:e=n.bd(),n.label=4;case 4:return i++,[3,2];case 5:return this.zF=void 0,e.done||this.tl!==t?[2,{done:!0}]:(this.O1++,e.value.sPa(),[2,{done:!1,value:e.value.value}]);case 6:return[2,r.AsyncIterator.boa()]}}))}))},t.prototype.lWb=function(){this.U9a(),this.IUb()},t.prototype.U9a=function(){var t;this.tl&&(this.KNa=this.ITa,(t=this.tl)&&t.Fh(),this.fS.forEach((function(t){return t.reset()})),t&&o.ga&&this.H.trace("BranchRequestIterator ["+this.Sg+"]: Disposing iterator that was on branch ",this.p4&&this.p4.O.id),this.i2=!1,this.zF=this.tl=void 0)},t.prototype.Mqb=function(t){this.fS.push(t)},t.prototype.IUb=function(){var t,e,i,a;t=this,this.i2||(e=this.H,i=this.hlb,a=this.Sg,this.O1=0,this.KNa=this.NMa=void 0,this.tl=r.flatten(r.map(i.YYa(),(function(i){return n.__awaiter(t,void 0,void 0,(function(){var t;return n.__generator(this,(function(n){switch(n.label){case 0:return this.NMa=i,this.O1=0,o.ga&&e.trace("BranchRequestIterator ["+this.Sg+"]: new branch "+i.O.id),[4,i.yz(a)];case 1:return(t=n.bd())?[2,{value:t}]:(o.ga&&e.error("BranchRequestIterator ["+this.Sg+"]: skipping branch "+i.O.id),[2,{value:[]}])}}))}))}),e),e),this.i2=!0)},t}(),e.Eza=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.uJa=void 0,n=i(2),r=i(860),o=i(861),t=function(){function t(t,e,i,n,a,s,u,c){this.mediaType=t,this.Fa=i,this.events=a,this.BZ=[],1===this.mediaType&&this.BZ.push(new o.rKa(t,e,i,n,a,s,u,c,2)),this.BZ.push(new r.RKa(t,e,i,n,a,s,u,"stream",1))}return t.prototype.reset=function(){this.BZ.forEach((function(t){return t.reset()}))},t.prototype.close=function(){this.BZ.forEach((function(t){return t.close()}))},t.prototype.Li=function(t){return n.__read(this.BZ,1)[0].Li(t)},t}(),e.uJa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.RKa=void 0,n=i(2),r=i(5),o=i(20),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.jA=function(t){var e,i;e=t.stream,i=t.xj,t=t.xe,r.assert(void 0!==i),this.FPa(e,i,t)&&o.ga&&this.trace("stream "+e.id+", "+e.bitrate+"kbit/s @ "+i.Y+"ms")},e.prototype.aVa=function(t,e){var i,n,a;n=t.lJ,a=this.Fa.js(e),r.assert(void 0!==a),o.ga&&this.trace("emitStreamPresentingEvent @ "+t.timestamp.Y+"ms for "+(null==n?void 0:n.id)+", "+(null==n?void 0:n.bitrate)+"kbit/s"),this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:e,position:a,trackIndex:null===(i=null==n?void 0:n.track)||void 0===i?void 0:i.jC,streamIndex:null==n?void 0:n.Lf})},e}(i(395).mea),e.RKa=t},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.rKa=void 0,n=i(2),r=i(20),o=i(5),a=i(9),t=function(t){function e(e,i,n,r,o,a,s,u,c){return(e=t.call(this,e,i,n,r,o,a,s,"segment",c)||this).hx=u,e}return n.__extends(e,t),e.prototype.jA=function(t){var e,i,n;i=t.xj,t=t.xe,o.assert(void 0!==i),n=null===(e=this.Fa.js(i))||void 0===e?void 0:e.xa,o.assert(void 0!==n),this.FPa(n,i,t)&&r.ga&&this.trace("segment "+n+" @ "+i.Y+"ms")},e.prototype.aVa=function(t,e){var i,n;i=t.lJ,n=this.Fa.js(e),o.assert(void 0!==n),r.ga&&this.trace("emitSegmentPresentingEvent @ "+t.timestamp.Y+"ms for segment "+i),n.xa!==i&&(r.ga&&this.console.warn("player position:",n,"not equal to trackedElement:",i),n={xa:i,offset:a.T.Gb}),t={type:"segmentPresenting",playerTimestamp:e,position:n},this.hx&&(t.metrics=this.hx.xna(i)),r.ga&&this.trace("segmentPresenting: "+JSON.stringify(t)),this.events.emit(t.type,t)},e}(i(395).mea),e.rKa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.vCa=void 0,n=i(2),r=i(20),o=i(72),t=function(){function t(t,e,i){this.Yf=t,this.IOb=e,this.H=i}return Object.defineProperties(t.prototype,{name:{get:function(){return"ExitZone"},enumerable:!1,configurable:!0}}),t.prototype.waitUntil=function(t){var e;return e=(t=o.nya(this.Yf,t,!0)).promise,this.Xpb=t.Ds,e},t.prototype.process=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,i;return n.__generator(this,(function(n){switch(n.label){case 0:return t.done?[3,2]:(e=t.value.value).sma?(i=e.xj.Qa(this.IOb),r.ga&&this.H.trace("["+e.mediaType+"] JIT: waiting until playertime >= "+i.Y,"to append next request "+e.toString()),[4,this.waitUntil(i)]):[3,2];case 1:n.bd(),r.ga&&this.H.trace("["+e.mediaType+"] JIT: now appending request "+e.toString()),n.label=2;case 2:return[2,t]}}))}))},t.prototype.reset=function(){var t;null===(t=this.Xpb)||void 0===t||t.Nb()},t}(),e.vCa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.lKa=void 0,t=function(){function t(t,e,i,n,r,o,a,s,u,c){var h;h=this,this.id=t,this.P=e,this.Z=i,this.wU=r,this.Bl=o,this.bv=a,this.hq=s,this.Wo=u,this.ae=c,this.kN=function(t){var e,i;return(null===(i=null===(e=h.Bl)||void 0===e?void 0:e[t])||void 0===i?void 0:i.q0b)||h.ae},this.Ha=n||1/0}return Object.defineProperties(t.prototype,{W:{get:function(){return this.P.W},enumerable:!1,configurable:!0}}),t.prototype.vXa=function(){var t,e,i;return t=this,(i=Object.keys(this.Bl||{}).filter((function(e){var i,n;return!(null===(n=null===(i=t.Bl)||void 0===i?void 0:i[e])||void 0===n||!n.weight)}))).length&&null!==(e=i.map(this.kN).reduce((function(t,e){return t===e?e:void 0})))&&void 0!==e?e:this.ae},t.prototype.toString=function(){return"segmentId: "+this.id+" playlistSegmentId: "+this.Wo+" viewableId: "+this.P.W+" pts: "+this.Z+"-"+this.Ha+" defaultKey: "+this.wU+" dests: "+JSON.stringify(this.Bl)+" terminal: "+!!this.bv},t.prototype.toJSON=function(){return{id:this.id,viewable:this.P.W,"startPts:":this.Z,endPts:this.Ha,defaultKey:this.wU,"dests:":this.Bl,terminal:!!this.bv,playlistSegmentId:this.Wo}},t}(),e.lKa=t},function(t,e,i){var r,o,a,s,u,c;Object.defineProperties(e,{__esModule:{value:!0}}),e.Gya=void 0,t=i(2),r=t.__importStar(i(10)),o=i(176),a=t.__importDefault(i(865)),s=i(366),u=t.__importDefault(i(28)),c=t.__importDefault(i(6)),i=function(){var t;function e(t,e,i,r,h,f,l,d,p){var b,v,y,g,m;for(b=2;32!==b;)switch(b){case 2:this.H=e,this.fg=r,this.kc=d,this.MF=p,b=3;break;case 35:b=34;break;case 34:case 24:this.UK=new s.Eca(l,h,this.H),b=23;break;case 16:b=this.MF.Jr?15:27;break;case 27:this.lga=!1,b=26;break;case 19:void 0!==e&&void 0!==e.Jl&&void 0!==e.uk&&void 0!==e.Kl&&(m=(e.Kl-e.Jl)/e.uk),r=h.bX?u.default.Nf.Dx:u.default.Nf.pB,i&&i.confidence>=r&&i.Ra&&m&&this.Lmb(i,e,m),b=16;break;case 26:b=l&&1<l.length&&h.Ala?25:33;break;case 3:"SIYbZr","NJC","p9",this.rb=t,this.Sb=this.H.warn.bind(this.H),this.jn=this.H.trace.bind(this.H),this.I=h,n.N4L(17);var _=n.J4L(10,7000184,1000017,8,16);this.PNa=0==Math.floor(_*Math.random())%h.Ria,this.bD=this.WZa=this.XZa=this.c4=this.Wr=void 0,b=12;break;case 15:try{for(v=2;4!==v;)if(2===v)y=new a.default(t,this.H,{bufferSize:c.default.Io()},h),this.fg.uqb(y),this.AOa=y,v=4}catch(e){"ght",": Er","ror when creating QoEEvaluator: ",n.Z4L(1),t.Cb.Kn(n.j4L("Hindsight: Error when creating QoEEvaluator: ",e))}b=27;break;case 23:this.lga=this.UK.r7(),b=33;break;case 33:h.Waa&&(this.C2=this.B2=!1),b=32;break;case 25:"as","eline",b="baseline"===(g=h.QIb)?24:22;break;case 22:"R",b="LR"===g?21:35;break;case 21:this.UK=new s.wDa(l,h,this.H),b=23;break;case 12:this.bxa=this.v9a=this.w9a=this.axa=this.T4a=this.U4a=0,this.u2=o.eN(h,f),e=this.nNa(i),b=19}}for(t=2;27!==t;)switch(t){case 2:Object.defineProperties(e.prototype,{r7:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.lga}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gua:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.AOa}},enumerable:!1,configurable:!0}}),t=5;break;case 5:e.prototype.O8a=function(t,e,i){var n;for(n=2;4!==n;)if(2===n)this.bD=t,r.ia(e)||(this.XZa=e),r.ia(i)||(this.WZa=i),n=4},e.prototype.Kxa=function(t){var e;for(e=2;5!==e;)if(2===e)this.I=t,this.u2.Kxa(t),e=5},e.prototype.mga=function(t,e,i,n){var o,a;for(o=2;7!==o;)switch(o){case 1:"q","r",o="iqr"===t?5:9;break;case 5:o=void 0!==n?4:3;break;case 2:a=this.I,o=1;break;case 9:"v","g",o="avg"===t?8:3;break;case 8:return!e.Ra||e.Ra.Ga<a.hU;case 4:return!!(e.Ra&&i&&r.Ba(n)&&e.Ra.Ga<a.hU&&n>a.Ica);case 3:return!1}},t=9;break;case 9:e.prototype.eN=function(t){for(2;;)return 1===t?this.u2.O9:this.u2.SD},e.prototype.jP=function(t){var e;for(e=2;1!==e;)if(2===e)this.u2.jP(t),e=1},e.prototype.lqb=function(t,e,i,n,r,o){var a,s;for(a=2;5!==a;)switch(a){case 3:s=this.I,a=3;break;case 2:s=this.I,a=1;break;case 1:s.Waa&&this.vob(e)||!i||!n||!(i=o?Math.min(i,n,o):Math.min(i,n))||(this.fg.get(),t=(n=this.rb.La).dw(n.Wc,t),e.track.ku()&&t>s.Qia&&i===r?(s.set?(s.set({pipelineEnabled:!0}),s.set({maxParallelConnections:1}),s.set({maxActiveRequestsPerSession:2}),s.set({maxPendingBufferLen:500})):(s.zq=!0,s.RN=1,s.Fw=2,s.g8=500),e.track.c$({type:e.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:s.UP,minRequestSize:s.YN}),this.axa++,s.Waa&&(this.B2=!0)):s.zq&&!e.ku()&&(t<s.Pia||i!==r)&&(s.set?(s.set({pipelineEnabled:!0}),s.set({maxParallelConnections:3}),s.set({maxActiveRequestsPerSession:3}),s.set({maxPendingBufferLen:12e3})):(s.zq=!0,s.RN=3,s.Fw=3,s.g8=12e3),e.track.c$({type:e.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:s.UP,minRequestSize:s.YN}),this.bxa++,s.Waa&&(this.C2=!0))),a=5}},e.prototype.oqb=function(t,e){var i,n,r,o;for(i=2;6!==i;)switch(i){case 9:i=void 0===r||n>r?8:7;break;case 2:n=this.I,i=1;break;case 1:i=this.PNa?5:6;break;case 7:this.bn.fqa=n,i=6;break;case 8:this.bn.FT[o]=t,this.bn.TZ[o]=e,i=7;break;case 5:void 0===this.bn&&(this.bn={startTime:c.default.time.ea(),FT:[],TZ:[],mqa:void 0,fqa:void 0}),n=Math.floor((c.default.time.ea()-this.bn.startTime)/n.ML),r=this.bn.fqa,o=this.bn.mqa?n-this.bn.mqa-1:n,i=9}},e.prototype.wQb=function(){var t,e,i;for(t=2;4!==t;)switch(t){case 1:t=this.MF.Jr?5:4;break;case 2:e=this.rb,t=1;break;case 5:try{for(i=2;1!==i;)if(2===i)this.fg.tVb(),this.AOa.ed(),i=1}catch(t){"ndsight: Erro","r du","ring clean up: ",n.N4L(1),e.Cb.Kn(n.j4L("Hindsight: Error during clean up: ",t))}t=4}},e.prototype.KQb=function(t){var e;for(e=2;1!==e;)if(2===e)this.I.yM&&t===u.default.Ta.Mb&&(this.bxa=this.axa=this.v9a=this.w9a=this.T4a=this.U4a=0),e=1},e.prototype.IQb=function(t,e){var i;for(i=2;1!==i;)if(2===i)t===u.default.Ta.Mb&&(this.w2b=e),i=1},t=11;break;case 19:e.prototype.TCb=function(t){var e,i,n,r,o,a,s,c;for(e=2;6!==e;)switch(e){case 3:r.confidence&&(a=r.Ra?r.Ra.Ga:0,s=r.Aj?r.Aj.Ga:0,c=r.gu?r.gu.Ga:0),e=9;break;case 2:i=this,n=this.I,r=this.fg.get(),o=[],[u.default.Ta.Mb,u.default.Ta.Wb].forEach((function(t){var e,a;for(e=2;4!==e;)switch(e){case 2:e=i.kc(t)?1:4;break;case 9:e=i.kc(t)?4:3;break;case 1:void 0!==(a=i.rb.bZa(t))&&(t===u.default.Ta.Mb&&(n.yM&&(a.parallelDownloadMs=i.U4a,a.parallelDownloadBytes=i.T4a,a.singleDownloadMs=i.w9a,a.singleDownloadBytes=i.v9a,a.switchFromParallelToSingle=i.axa,a.switchFromSingleToParallel=i.bxa),r&&r.confidence&&r.Ra&&(a.asetput=r.Ra,a.aseiqr=r.hu,a.tdigest=r.Dk&&r.Dk.wz()||void 0),r&&r.avtp&&(a.avtp=r.avtp.Ga)),o.push(a)),e=4}})),t.stat=o,a=0,s=0,c=0,e=3;break;case 9:t.location={responseTime:s,httpResponseTime:c,bandwidth:a,confidence:r.confidence,name:this.w2b},this.PNa&&(t.bt={startTime:this.bn.startTime,audioMs:this.bn.FT,videoMs:this.bn.TZ},this.bn.FT=[],this.bn.TZ=[],this.bn.mqa=this.bn.fqa),e=7;break;case 7:"o","n","e","none"!==n.kE&&(t.isConserv=this.Wr,t.ccs=this.c4),e=6}},e.prototype.vob=function(t){var e,i;for(e=2;6!==e;)switch(e){case 5:case 9:return!0;case 2:i=this.I,e=1;break;case 8:return this.C2&&(this.C2=!1),!1;case 1:e=this.B2&&t.ku()?5:4;break;case 3:e=this.C2&&i.zq&&!t.ku()?9:8;break;case 4:this.B2&&(this.B2=!1),e=3}},e.prototype.nNa=function(t){var e;for(e=2;4!==e;)switch(e){case 1:t=t.Dk,e=5;break;case 2:"d","ig","es","t",e="tdigest"===this.I.Moa?1:3;break;case 6:t=t.Dk,e=6;break;case 3:e=9;break;case 5:return t;case 9:t=t.hu&&t.hu.A9,e=5}},e.prototype.Lmb=function(t,e,i){var n,r;for(n=2;3!==n;)if(2===n)r=this.I,this.mga(r.kE,t,e,i)?this.Wr=!0:this.Wr=!1,this.c4=0,this.mga(r.Mqa,t,e,i)&&(this.RKb=!0),n=3},t=15;break;case 15:return e;case 11:e.prototype.vub=function(t){var e,i,n,r,o,a;for(e=2;6!==e;)switch(e){case 5:i=this.fg.get(),e=4;break;case 3:n=this.nNa(i),e=9;break;case 2:r=this.I,e=1;break;case 1:"o","n","e",e="none"!==r.kE&&!0!==this.Wr&&t.state<=r.mra?5:6;break;case 4:"q","r",e="iqr"===r.kE?3:8;break;case 9:void 0!==n&&void 0!==n.Jl&&void 0!==n.uk&&void 0!==n.Kl&&(o=(n.Kl-n.Jl)/n.uk),e=8;break;case 8:a=r.bX?u.default.Nf.Dx:u.default.Nf.pB,i&&i.confidence>=a&&this.mga(r.kE,i,n,o)&&(this.Wr=!0,this.c4=t.state),e=6}},e.prototype.Kqb=function(t){var e;for(e=2;1!==e;)if(2===e)t.Wr=this.Wr,e=1},e.prototype.SCb=function(t){var e,i,n,o,a,s,h,f,l;for(e=2;25!==e;)switch(e){case 2:"r","t","p","lay";"og","dat","a",i={},n=this.I,o=this.rb,(a={type:"logdata",target:"startplay",fields:{}}).fields=i,Object.keys(t).forEach((function(e){var n;for(n=2;1!==n;)if(2===n)i[e]=t[e],n=1})),s=this.fg.get(),e=3;break;case 8:i.isConserv=this.Wr,i.ccs=this.c4,i.isLowEnd=this.RKb,i.histdiscbw=this.bD,h=this.WZa,e=12;break;case 3:s&&s.Ra&&(s=s.Ra.Ga),i.actualbw=s,e=8;break;case 11:f=function(t){for(2;;)return r.Ba(t)?Number(t).toFixed(2):-1},e=10;break;case 12:e=h?11:16;break;case 27:o.mc&&(n=c.default.Io(),i.maxAudioBufferAllowedBytes=n[u.default.Ta.Wb],i.maxVideoBufferAllowedBytes=n[u.default.Ta.Mb]),o.emit(a.type,a),e=25;break;case 17:i.histtd=s,e=16;break;case 16:i.histage=this.XZa,n.Ala&&this.UK&&(i.ishighstable=this.lga,i.avg_avtp=this.UK.rsb,i.avg_ne=Number(this.UK.tsb).toFixed(4)),e=27;break;case 10:s=[f(h.min||void 0),f(h.r9||void 0),f(h.Jl||void 0),f(h.uk||void 0),f(h.Kl||void 0),f(h.s9||void 0),f(h.max||void 0)],l=[],h=r.isArray(h.Mi)&&h.Mi.reduce((function(t,e){var i,n;for(i=2;3!==i;)switch(i){case 5:return-1<n&&-1<e&&t.push({mean:n,n:e}),t;case 2:n=f(e.qg||void 0),e=f(e.n||void 0),i=5}}),l),i.histtdc=h,e=17}},t=19}}(),e.Gya=i},function(t,e,i){var n,r,o;function a(t,e,i,o){this.rb=t,this.H=e,this.Kk=this.H.error.bind(this.H),this.Sb=this.H.warn.bind(this.H),this.jn=this.H.trace.bind(this.H),this.Dg=this.H.log.bind(this.H),this.Skb=new r,this.I=o,this.s2=[],this.J2=void 0,t=o.K6,n.call(this,t.numB*t.bSizeMs,t.bSizeMs),this.gga=!0}i(28),e=i(6).default,n=i(143),i(397),r=i(866),new e.Console("ASEJS_QOE_EVAL","media|asejs"),o=i(126).wJa||i(126),a.prototype=Object.create(n.prototype),a.prototype.add=function(t,e,i){this.J2||(this.J2=e),n.prototype.add.call(this,t,e,i)},a.prototype.MEb=function(){var t;if(0!==this.s2.length)return t=[],this.s2.forEach((function(e){e&&e.DL&&t.push(e.wz())})),t},a.prototype.ed=function(){this.s2=[]},a.prototype.CHb=function(){var t,e,i;if((0===(t=this.get(this.I.K6.fillS))[0]||null===t[0])&&(t.some((function(t,n){if(t)return e=t,i=n,!0})),e))for(var r=0;r<i;r++)t[r]=e;return t={trace:t,timestamp:this.J2,Iy:this.Hd},this.gga=!1,n.prototype.reset.call(this),this.gga=!0,this.J2=void 0,t},a.prototype.Pla=function(t){var e,i,n,r,o,a;if(t&&!t.DL){if((i=t.Nt.r0a)&&(t.uua=this.Zha(t),t.a$=!1),(e=this.CHb())&&e.trace&&e.trace.length){if(n=t.Dj.PD,(r=e.timestamp)>n)for(o=e.Iy,a=e.trace[0],n=Math.ceil((r-n)/o),e.timestamp=r-n*o,r=0;r<n;r++)e.trace.splice(0,0,a);e.trace.length&&e.trace.pop()}t.VA=e,e.trace&&0===e.trace.length||void 0===e.timestamp||(e=this.vtb(t),t.z4a=e,i&&e&&(t.a$=e.jD),t.DL=!0,this.s2.push(t))}},a.prototype.vtb=function(t){var e,i,n,r;function a(t){for(var e,i,n=0;n<t.length;n++)if(e=t[n].reduce((function(t,e){return e.sb?t+1:t}),0),void 0===i)i=e;else if(e!==i)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))="+Math.ceil(Math.log(e>i?e-i:i-e)*Math.LOG2E)+"]")}for(var s=this.I.J6,u={jD:!1,g7:!1,fBb:0},c=0;c<s.length;c++)if(e=s[c],i=this.Skb.create(e)){n=o.now(),r={};try{a(t.nx),r=i(t)}catch(t){r.FM=t}r.grb=o.now()-n,u[e]=r,u.jD=u.jD||r.jD,u.g7=u.g7||r.g7,u.FM=u.FM||r.FM}return u},a.prototype.Zha=function(t){var e;return e="",1e3>(t=t.Nt).$n&&(e+=t.Nbb),1e3>t.vr&&(e=e+(""!==e?",":"")+t.uQa),1e3<=t.$n&&1e3<=t.vr&&(e="media"),e},t.exports=a},function(t,e,i){var n;function r(){}function o(t,e,i){return function(n){return n.GI=e,n.compare=i,t(n)}}n=i(867),r.prototype.constructor=r,r.prototype.create=function(t){var e;switch(t){case"htwbr":break;case"htwbr-dlvmaf":e=o(n.PV,!1,n.zSa);break;case"htwbr-segvmaf":e=o(n.PV,!0,n.zSa);break;case"hvmafgr":case"hvmafgr-dlvmaf":e=o(n.PV,!1,n.Sja);break;case"hvmafgr-segvmaf":e=o(n.PV,!0,n.Sja);break;case"hvmafdp":case"hvmafdp-dlvmaf":e=o(n.dp,!1);break;case"hvmafdp-segvmaf":e=o(n.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm")}return e},t.exports=r},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t){var e,i,n;e=t.VA,i=t.Dj,n=t.Nt.Ha-i.Z,e.timestamp>i.PD&&l.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+e.timestamp+" and "+i.PD),t=[];for(var r,o=e.timestamp,a=0;a<e.trace.length;a++)o>=i.PD&&(t.push(e.trace[a]),r=e.trace[a]),o+=e.Iy,n-=e.Iy;for(;0<n;)t.push(r),n-=e.Iy;if(i=e.Iy,0===(e=t.length))e=[];else{for(i=[i/1e3];2*i.length<=e;)i=i.concat(i);i.length<e&&(i=i.concat(i.slice(0,e-i.length))),e=i}return new u(t,e,!1)}function b(t,e,i){return(e=t.nx[e][i]).fa+t.Dj.KT*e.duration/8}function v(t){var e,i,r,o,a,s,u,c,h;for(i=(e=t.Dj).Lm,o=(r=t.Nt).lw,s=[],r=o=Math.min(r.EH,o);r>=i;r--){if(d.update("backward step loop"),u=a=t.nx[0][r].Z-t.Dj.Z,r<o&&(n(void 0!==s[r+1],"expect solution[(fragIndex + 1)] !== undefined"),u=Math.min(s[r+1].startTime,u)),0>(h=m(c=b(t,0,r),u,t.VA,e.PD)))throw Error("Infeasible: reason throughput at min bitrate");(c={startTime:h,endTime:u,r4:u,GAb:a,dP:c,Je:0}).EWa=r,s[r]=c}for(e=0,r=i;r<=o;r++)e+=s[r].dP,s[r].gla=e;if(!y(t,s,i,o))throw Error("Infeasible: reason buffer capacity at min bitrate");return{jD:!0,dsa:0==s.length,Oq:s}}function y(t,e,i,n){for(var r,o,a,s,u,c,h,f,l,p;i<=n;i++){if(d.update("checkBuffer"),r=t,o=e,a=i,d.update("check buffer vacancy"),s=r.Dj,u=r.nx[s.cW],c=r.pRa,h=!0,r=r.jDb(Math.floor(o[a].startTime)+s.Z),f=s.Ks+o[a].gla,l=0,p=0,r.index<s.Lm){for(var b=0,v=s.QA;v<r.index;v++)b+=u[v].fa;for(l+=b,b=0,v=s.QA;v<r.index;v++)b+=u[v].duration;p+=b}else l+=s.Ks,p+=s.$n;for(b=0,v=s.Lm;v<r.index;v++)b+=o[v].dP;for(l+=b,b=0,v=s.Lm;v<r.index;v++)b+=u[o[v].EWa].duration;if(p+=b,r=f-l,((s=u[a].Z+u[a].duration-s.Z-p)>=c.gA||r>=c.Abb)&&(h=!1),o[a].xRa=r,o[a].Yia=s,!h)return!1}return!0}function g(t,e,i){return e=Math.min(t.length-1,e),t[e=Math.max(0,e)]*i/8}function m(t,e,i,n){var r,o,a,s,u;if(r=i.trace,o=1*i.Iy,(e=((a=e+n-i.timestamp)-(s=Math.floor(1*a/o))*o)/o*g(r,s,o))>=t)u=a-1*t/e*(a-s*o);else for(a=s;e<t;){if(d.update("find download start time"),0>--a)return-1;if(e+(s=g(r,a,o))>=t){u=(a+1)*o-(t=(t-e)/s*o);break}e+=s}return u+i.timestamp-n}n=i(5).assert,r=i(868),o=i(398).Ydb,a=i(398).Zdb,s=i(869).mfb,u=i(399).okb,c=i(247).Jza,h=i(237).C0,f=i(86).default,l=new(i(6).default.Console)("ASEJS_QOE_EVAL","media|asejs"),d=i(126).wJa||i(126),t.exports={PV:function(t){var e,i,o,a,s,u,c,f,p,g,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D;l.debug("greedy DEBUG false"),d.Tva("greedy-"+(t.GI?"segvmaf":"dlvmaf")+": ");try{for(t.DH=[],e=t.nx,i=t.Dj,a=(o=t.Nt).lw,s=t.$d,a=Math.min(o.EH,a),c=i.Lm;c<=a;c++){for(f=new r,t.DH[c]=f,e[0][c].cja=e[0][c].fa,u=1;u<e.length;u++)e[u][c].cja=e[u][c].fa;for((p=e[u=0][c]).uD=1/0,p.Lf=u,u=1;u<e.length;u++)(p=e[u][c]).Lf=u,g=f.n7()?e[0][c]:f.eSb(),_=8*p.cja/p.duration,w=8*g.cja/g.duration,t.GI&&void 0!==p.sb?(E=p.sb,k=g.sb):(E=s[u].sb,k=s[g.Lf].sb),p.qu=_-w,p.uD=(E-k)/p.qu,isFinite(p.uD)&&(0<p.uD||u==e.length-1)&&0<p.qu&&f.enqueue(p)}for(c=i.Lm;c<=a;c++)for(i=[],O=[],S=[],T=t.DH[c].fp(),e=0;e<T.length;e++)p=T[e],i.push(p.qu.toFixed(2)),t.GI&&void 0!==p.sb?O.push(p.sb):O.push(s[p.Lf].sb),S.push(p.uD.toFixed(4));if((A=v(t)).dsa)return A;P=t.Dj,I=(j=t.Nt).lw,I=Math.min(j.EH,I),S=[];for(var U=P.Lm;U<=I;U++)t.DH[U].n7()||S.push(t.DH[U].nM());n(void 0!==t.compare,"playSegment.compare required for greedy");for(var B=new h(S,t.compare);0<B.length;){d.update("upgrade frags"),x=B.pop();t:if(I=P=void 0,S=A,O=x,M=(U=t).Dj,R=U.Nt,N=Math.min(R.EH,R.lw),C=JSON.parse(JSON.stringify(S.Oq)),n(O&&C[O.index].Je<O.Lf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex"),(P=C[I=O.index]).Je=O.Lf,P.dP=b(U,P.Je,I),P.startTime=m(P.dP,P.r4,U.VA,M.PD),C[I]=P,0>P.startTime)L=!1;else{for(I=O.index-1;I>=M.Lm&&(P=C[I],D=C[I+1].startTime,!(P.r4<=D));I--)if(P.r4=D,P.startTime=m(P.dP,P.r4,U.VA,M.PD),C[I]=P,0>P.startTime){L=!1;break t}for(var F=O.index+1;F<=N;F++)C[F].gla=C[F].dP+(F>U.Dj.Lm?C[F-1].gla:0);for(var q=O.index+1;q<=N;q++)if(C[q].startTime>C[O.index].GAb){N=q-1;break}y(U,C,O,Math.min(I+1,O.index))?(S.Oq=C,L=!0):L=!1}L&&(t.DH[x.index].n7()||B.push(t.DH[x.index].nM()))}}finally{delete t.DH}for(N=R=M=L=x=B=0;N<A.Oq.length;N++)(C=A.Oq[N])&&(B+=((D=t.nx[C.Je][C.EWa]).sb?D.sb:t.$d[C.Je].sb)*D.duration,x+=D.duration,L+=D.fa,M+=t.Dj.KT*D.duration/8,R+=D.duration*t.$d[C.Je].bitrate);return A.AUa=0<x?1*B/x:0,A.zUa=x,A.yUa=L,A.vUa=M,A.xUa=0<x?1*R/x:0,A.eA=d.nYa(),l.debug("Max heap used: "+Math.round(A.eA/1024/1024)+" MB"),A},Sja:function(t,e){if(t.uD<e.uD)return 1;if(t.uD>e.uD)return-1;if(t.qu>e.qu)return 1;if(t.qu<e.qu)return-1;if(t.index>e.index)return 1;if(t.index<e.index)return-1;throw Error("Invalid frag comparison")},zSa:function(t,e){if(t.qu>e.qu)return 1;if(t.qu<e.qu)return-1;if(t.index>e.index)return 1;if(t.index<e.index)return-1;throw Error("Invalid frag comparison")},dp:function(t){var e,i,r,u,h,b;return d.Tva("dp-"+(t.GI?"segvmaf":"dlvmaf")+": "),!1===(e=v(t)).jD||!0===e.dsa||(i=function(t){var e,i,n,r,s,u,c;e=t.nx,i=t.Dj,r=(n=t.Nt).lw,s=t.$d,u=[],r=Math.min(n.EH,r);for(var h=0;h<e.length;h++){n=[];for(var f=i.Lm;f<=r;f++)d.update("get chunk map from play segment"),c=e[h][f],c=new o(c.fa,c.duration/1e3,t.GI&&void 0!==c.sb?c.sb:s[h].sb),n.push(c);u.push(n)}return new a(u,!1)}(t),r=new s(i),u=function(t){t=t.Dj.U;for(var e,i=[],r=0;r<t.length;r++)d.update("get prebuffered chunks loop"),e=t[r],n(void 0!==e.sb,"expect frag.vmaf !== undefined"),e=new o(e.fa,e.duration/1e3,e.sb),i.push(e);return i}(t),u={U$a:p(t),OQa:t.Dj.KT,j3a:0,K2a:240,J2a:8*t.pRa.Abb/1e3,uRa:.5,bRa:new c(u),vVa:0,E$b:void 0,tZa:void 0,t6a:void 0,cQa:!0},u=function(t,e,i){n(t.mN()>=e.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var r,o=0,a=0,s=0;s<e.length;s++)d.update("calculate twvmaf"),n(e[s].f_a===s,"expect stream_choices[idx].i_epoch === idx"),r=t.Qk[e[s].P6][s],o+=(void 0!==i?i(r.quality):r.quality)*(r=r.Im),a+=r;return{AUa:o/a,zUa:1e3*a}}(i,r=r.ax(u),void 0),i=function(t,e,i){n(t.mN()>=e.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var r,o=0,a=0,s=i.Dj.KT,u=0,c=0,h=0;h<e.length;h++)d.update("calculate Bytes"),n(e[h].f_a===h,"expect stream_choices[idx].i_epoch === idx"),o+=(r=t.Qk[e[h].P6][h]).fa,a+=s*r.Im*1e3/8,u+=r.Im*i.$d[e[h].P6].bitrate,c+=r.Im;return{yUa:o,vUa:a,xUa:0<c?1*u/c:0}}(i,r,t),h=[],b=t.Dj.Lm,r.forEach((function(t){h[b]={Je:t.P6},b++})),f(u,e),f(i,e),e.Oq=h,e.eA=d.nYa(),l.debug("Max heap used: "+Math.round(e.eA/1024/1024)+" MB")),e}}},function(t){var e;function i(t){if(this.Ag=n(t),this.Qg=this.lf=0,e(t)){for(var i=t.length,r=0;r<i;++r)this[r]=t[r];this.lf=i}}function n(t){if("number"!=typeof t){if(!e(t))return 16;t=t.length}return t=((t=Math.min(Math.max(16,t),1073741824))>>>0)-1,t|=t>>1,t|=t>>2,t|=t>>4,1+((t|=t>>8)|t>>16)}i.prototype.fp=function(){for(var t=this.lf,e=Array(t),i=this.Qg,n=this.Ag,r=0;r<t;++r)e[r]=this[i+r&n-1];return e},i.prototype.push=function(t){var e,i,n,r;if(e=arguments.length,i=this.lf,1<e){if(i+e>(n=this.Ag)){for(var o=0;o<e;++o)this.D1(i+1),this[r=this.Qg+i&this.Ag-1]=arguments[o],i++,this.lf=i;return i}for(r=this.Qg,o=0;o<e;++o)this[r+i&n-1]=arguments[o],r++;return this.lf=i+e,i+e}return 0===e?i:(this.D1(i+1),this[o=this.Qg+i&this.Ag-1]=t,this.lf=i+1,i+1)},i.prototype.pop=function(){var t,e,i;if(0!==(t=this.lf))return i=this[e=this.Qg+t-1&this.Ag-1],this[e]=void 0,this.lf=t-1,i},i.prototype.shift=function(){var t,e,i;if(0!==(t=this.lf))return i=this[e=this.Qg],this[e]=void 0,this.Qg=e+1&this.Ag-1,this.lf=t-1,i},i.prototype.unshift=function(t){var e,i,n,r;if(e=this.lf,1<(i=arguments.length)){if(e+i>(n=this.Ag)){for(var o=i-1;0<=o;o--)this.D1(e+1),n=this.Ag,this[r=(this.Qg-1&n-1^n)-n]=arguments[o],e++,this.lf=e,this.Qg=r;return e}for(r=this.Qg,o=i-1;0<=o;o--)this[r=(r-1&n-1^n)-n]=arguments[o];return this.Qg=r,this.lf=e+i,e+i}return 0===i?e:(this.D1(e+1),n=this.Ag,this[o=(this.Qg-1&n-1^n)-n]=t,this.lf=e+1,this.Qg=o,e+1)},i.prototype.eSb=function(){var t;if(0!==(t=this.lf))return this[this.Qg+t-1&this.Ag-1]},i.prototype.get=function(t){var e;if(t===(0|t)&&(e=this.lf,0>t&&(t+=e),!(0>t||t>=e)))return this[this.Qg+t&this.Ag-1]},i.prototype.n7=function(){return 0===this.lf},i.prototype.clear=function(){for(var t=this.lf,e=this.Qg,i=this.Ag,n=0;n<t;++n)this[e+n&i-1]=void 0;this.Qg=this.lf=0},i.prototype.toString=function(){return this.fp().toString()},i.prototype.valueOf=i.prototype.toString,i.prototype.enqueue=i.prototype.push,i.prototype.nM=i.prototype.shift,i.prototype.toJSON=i.prototype.fp,Object.defineProperty(i.prototype,"length",{get:function(){return this.lf},set:function(){throw new RangeError("")}}),i.prototype.D1=function(t){this.Ag<t&&this.fpb(n(1.5*this.Ag+16))},i.prototype.fpb=function(t){var e,i;if(e=this.Ag,this.Ag=t,(t=this.Qg)+(i=this.lf)>e)for(t=t+i&e-1,i=0;i<t;++i)this[i+e]=this[i+0],this[i+0]=void 0},e=Array.isArray,t.exports=i},function(t,e,i){var n,r,o,a;function s(t,e,i){this.eRa=this.xlb(t,e,i)}function u(){}function c(){}function h(){}function f(t){this.Iub=t}function l(){}function d(){}function p(){}function b(){this.dla={}}n=i(5).assert,e=i(247).Jza,r=i(399).pkb,o=i(247).Bdb,new(i(6).default.Console)("ASEJS_QOE_EVAL","media|asejs"),a=i(126).wJa||i(126),s.prototype.constructor=s,s.prototype.xlb=function(t,e,i){n(t<e,"expect min_buffer_sec < max_buffer_sec but got "+t+" and "+e),n(0<i,"expect buffer_step_sec > 0. but got "+i);for(var r=[];t<e;t+=i)r.push(t);return r[r.length-1]<e&&r.push(e),r},s.prototype.WC=function(t){return this.wmb(t,this.eRa)},s.prototype.wmb=function(t,e){if(0===(t=this.gAb(t,e)))throw new u;if(t===e.length)throw new c;return t},s.prototype.gAb=function(t,e){if(n(0<e.length,"expect bins.length > 0 but got "+e.length),t<e[0])return 0;if(t>=e[e.length-1])return e.length;for(var i=1;i<e.length;i++)if(e[i-1]<=t&&t<e[i])return i;n(!1,"expect not coming here in digitize()")},s.prototype.u6=function(){return t=1,e=this.eRa.length-1,Array.apply(0,Array(e)).map((function(e,i){return i+t}));var t,e},u.prototype=Error(),c.prototype=Error(),h.prototype=Error(),f.prototype.constructor=f,f.prototype.VERSION="0.5",f.prototype.teb=-20,f.prototype.seb=20,f.prototype.reb=void 0,f.prototype.meb=new e(void 0),f.prototype.oeb=0,f.prototype.neb=1,f.prototype.web=!1,f.prototype.qeb=!0,f.prototype.peb=!0,f.prototype.ueb=void 0,f.prototype.keb=!0,f.prototype.leb=0,f.prototype.ax=function(t){return n(void 0!==t.U$a,"expect recipe.time_varying_bandwidth !== undefined"),this.hpb(this.Iub,t.U$a,void 0!==t.j3a?t.j3a:this.teb,void 0!==t.K2a?t.K2a:this.seb,void 0!==t.J2a?t.J2a:this.reb,void 0!==t.bRa?t.bRa:this.meb,void 0!==t.vVa?t.vVa:this.oeb,void 0!==t.uRa?t.uRa:this.neb,void 0!==t.UYb?t.UYb:this.web,void 0!==t.ZHb?t.ZHb:this.qeb,void 0!==t.tZa?t.tZa:this.peb,void 0!==t.t6a?t.t6a:this.ueb,void 0!==t.cQa?t.cQa:this.keb,void 0!==t.OQa?t.OQa:this.leb)},f.prototype.hpb=function(t,e,i,f,v,y,g,m,_,w,E,k,O,S){var T,A,P,j,I,x,M,R,N,C,L,D,U,B,F,q,K,H,V;function G(t){return t[I]}for(x in a.Tva("dp: "),n(i<=y.xh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec"),n(y.xh<=f,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec"),n(i<=g,"expect min_buffer_sec <= end_buffer_sec"),n(g<=f,"expect end_buffer_sec <= max_buffer_sec"),void 0!==v&&n(y.Sl<=v,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+y.Sl+" and "+v),T=new s(i,f,m),A=0,P=y,(m=new b).put([0,T.WC(y.xh)],[A,P,void 0,void 0,e,void 0,void 0,void 0]),j=P=0,e=t.THb(),n(t.mN()==e.length,"expect chunk_map.get_n_epoch() == durations_sec.length"),I=-1,e){I+=1;for(var J=!0,z=t.Qk.map(G),Y=T.u6(),W=0;W<Y.length;W++)if(M=Y[W],m.$pa([I,M]))for(var X=m.get([I,M]),Z=X[0],Q=X[1],$=X[4],tt=0;tt<z.length;tt++){e=z[tt],a.update("epoch-ibuf-chunk loop"),y=void 0!==k?k(e.quality):e.quality,R=$.Et();try{N=(X=this.cmb(Q,e,R,S))[0],C=X[1],L=X[2],D=X[3],U=X[4],B=X[5]}catch(t){if(t instanceof r)continue;if(t instanceof u){P+=1;continue}throw t}F=A=!1;try{if(q=T.WC(D.xh),w&&T.WC(N),E&&T.WC(C),void 0!==v)if(E){if(L.Sl>v)throw new h}else if(D.Sl>v)throw new h}catch(t){if(t instanceof u)q=void 0,P+=1;else if(t instanceof c)O?A=!0:j+=1,q=void 0;else{if(!(t instanceof h))throw t;O?F=A=!0:j+=1,q=void 0}}try{if(A&&F){n(void 0!==v,"expect max_buffer_kb !== undefined"),K=E?L.Sl-v:D.Sl-v,n(0<=K,"pause dlnd kb cannot be -ve but is "+K);try{H=D.BSb(K)}catch(t){if(t instanceof o)throw new u;throw t}R.k5a(H),U+=H,n(D.xh<f,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec"),q=T.WC(D.xh)}else if(A&&!F){H=E?L.xh-f+1e-8:D.xh-f+1e-8,n(0<=H,"pause dlnd kb cannot be -ve but is "+H);try{D.E5a(H)}catch(t){if(t instanceof o)throw new u;throw t}R.k5a(H),U+=H,n(i<=D.xh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec"),n(D.xh<f,"cur_buffer_queue.total_remain_sec < max_buffer_sec"),q=T.WC(D.xh)}else H=0}catch(t){if(!(t instanceof u)){if(t instanceof r)continue;throw t}q=void 0,P+=1,H=void 0}A=m.$pa([I+1,q])?m.get([I+1,q])[0]:-1/0,this.Ppb(D,q,e,y,M,I+1,A,m,Z,tt,R,U,B,H)&&(J=!1)}if(J){--I;break}}try{V=this.eNa(I+1,T.WC(g),m,_,T)}catch(t){if(!(t instanceof l))throw t;try{V=this.eNa(I+1,T.WC(g),m,!_,T)}catch(t){if(t instanceof l){if(P>j)throw new d;throw new p}throw t}}for(M=V,i=[];-1<I;I--)A=(X=m.get([I+1,M]))[0],P=X[1],f=X[3],v=X[5],g=X[6],_=X[7],X=X[2],w=(e=t.Qk[X][I]).Bz(),y=e.quality,i.unshift({f_a:I,P6:X,info:{e9b:w,quality:y,Tia:P.xh,Sia:P.Sl,XUa:v,Ra:g,Zsa:_}}),M=f;return i},f.prototype.eNa=function(t,e,i,n,r){var o,a;for(o=!1,a=r.u6()[0],r=r.u6()[r.u6().length-1];;){if(e<a||e>r){o=!0;break}if(i.$pa([t,e]))break;e=n?e-1:e+1}if(o)throw new l("backtrack fails to find a solution");return e},f.prototype.Ppb=function(t,e,i,n,r,o,a,s,u,c,h,f,l,d){return i=u+n*i.Im,void 0!==e&&i>a&&(s.put([o,e],[i,t,c,r,h,f,l,d]),!0)},f.prototype.cmb=function(t,e,i,n){var r,a,s;n=(e.Bz()+n)*e.Im,n/=i=i.OAb(n),r=t.xh-i,a=t.xh+e.Im,(s=t.Et()).add(e,void 0),(t=t.Et()).add(e,void 0);try{t.E5a(i)}catch(t){if(t instanceof o)throw new u;throw t}return[r,a,s,t,i,n]},l.prototype=Error(),d.prototype=new l,p.prototype=new l,b.prototype={Cxa:function(t){return t.join(",")},put:function(t,e){this.dla[this.Cxa(t)]=e},get:function(t){return this.dla[this.Cxa(t)]},$pa:function(t){return this.Cxa(t)in this.dla}},t.exports={mfb:f,M3b:s,m3b:u,n3b:c}},function(t,e,i){var n,r,o,a,s,u;Object.defineProperties(e,{__esModule:{value:!0}}),e.kKa=void 0,t=i(2),n=t.__importStar(i(10)),r=i(16),o=i(16),a=t.__importDefault(i(6)),s=i(217),u=i(396),i=function(){function t(t,e,i,n){var r;for(r=2;9!==r;)if(2===r){"SIYbZ","rNJ","C","p9",this.Za=t,this.H=e,this.kc=i,this.ai=n,r=9}}var e;for(e=2;13!==e;)switch(e){case 2:t.prototype.ss=function(t,e){var i,a,s,c,h,f,l,d;for(i=2;50!==i;)switch(i){case 16:case 33:case 27:return;case 39:this.Za.Zga(),a=this.Za.La.Wc.N3(t).EO,l.gsa(),i=36;break;case 36:s=this.Za.La.Wc,o.zf.forEach((function(t){var e,i;for(e=2;5!==e;)if(2===e)i=s.Rd(t),h.kc(t)&&h.Hob(i,a[t]),e=5})),i=53;break;case 8:this.Za.La.K7a(),i=7;break;case 41:"eek","ing, playerState no longer STARTING: ",this.H.warn("after seeking, playerState no longer STARTING: "+this.Za.V.getState()),i=40;break;case 23:i=t>d?22:31;break;case 6:!l.P.sf.LW&&0<e&&(f=this.Za.cM(e,t)),this.Za.V.Ve(r.ma.dj),d=this.Za.Ge,i=12;break;case 19:i=this.Za.JMa(e)?15:18;break;case 24:d=this.Za.yr?this.Za.Pm?Math.min(d[0].Z,d[1].Z):d[0].Z:d[1].Z,i=23;break;case 53:this.Za.fT(),i=43;break;case 21:i=this.Za.T2(l.P.Pb+1)?31:35;break;case 31:this.Za.V.Ve(r.ma.zh),this.Za.Hwa(),i=29;break;case 18:"ekD","e","layed",this.WB={Pb:e,ek:t},this.Za.emit("seekDelayed"),i=16;break;case 51:"k","Fa","iled";"ife","st at ","manifestIndex:",this.H.warn("seek, no manifest at manifestIndex:",e),this.Za.emit("seekFailed"),i=50;break;case 29:this.Za.La.g_b(t,e),i=28;break;case 52:"ekDe","layed",this.WB={Pb:e,ek:t},this.Za.emit("seekDelayed"),i=50;break;case 43:i=this.Za.V.v0a()?42:41;break;case 11:e<d.P.Pb&&l.P.sf.replace&&(l.P.sf.replace=!1),c=this.Za.La.Wc,o.zf.forEach((function(t){var e;for(e=2;1!==e;)if(2===e)(t=c.Rd(t))&&h.Za.QOa(t),e=1})),i=19;break;case 32:f=(t=d)+this.Za.La.Fe,i=31;break;case 26:d=this.Za.La.Wc.bV(l.Ha||1/0,l.P),i=25;break;case 28:i=(d=this.Za.Ge.P.Pb===e&&!this.Pmb(e)&&t===l.Z)?44:39;break;case 40:"ee","kFailed",this.Za.emit("seekFailed"),i=50;break;case 15:i=this.Cr(u.Iba.Mma(e),!1,!0)?27:26;break;case 22:i=l.P.sf.Vg?21:32;break;case 44:o.zf.forEach((function(t){var e;for(e=2;1!==e;)if(2===e)h.Za.Pv[t].Hm(!0),e=1})),i=43;break;case 42:"e","e","k";return"tsc","h","an","ged",this.Za.emit("ptschanged",f),this.Za.emit("seek"),this.tT(e),t=d&&this.Za.zb.cy()?100:0,this.Za.H2(1,t),this.Za.Zj(),f;case 35:"a","yed",this.WB={Pb:l.P.Pb+1,ek:t},this.Za.emit("seekDelayed"),i=33;break;case 12:i=e!=d.P.Pb?11:26;break;case 7:i=(l=this.Za.qh(e))?6:51;break;case 25:i=d.length?24:52;break;case 2:"rS","ta","te",": ";"d","ia.cu","rrentPts:"," ";"curr","ent"," manifes","t: ";"ifestI","ndex: ";":"," ",h=this,null===(f=this.LNa)||void 0===f||f.cancel(),l=this.Za.I,d=this.Za.V.Re(),f=t,l.ji&&this.ai.Bm("seek: "+t+" manifestIndex: "+e+" current manifest: "+this.Za.Ge.P.Pb+" media.currentPts: "+d+" playerState: "+this.Za.V.getState()),n.ia(e)&&(e=this.Za.Ge.P.Pb),i=8}},t.prototype.seek=function(t,e){var i;for(2;;)return i=t,n.ia(e)&&(e=this.Za.Ge.P.Pb),this.Za.La.K7a(),this.Za.qh(e).P.sf.LW||this.Za.cL||(i=this.Za.Dt(e,t)),this.ss(i,e)},t.prototype.Cr=function(t,e,i){var n,o,a;for(n=2;9!==n;)switch(n){case 4:"e","e","k";return"cha","ng","e","d",a?(this.Za.V.Ve(r.ma.dj),(t=this.Za.La.si.children[t])&&this.Za.emit("ptschanged",null!==(o=t.zd)&&void 0!==o?o:t.jpa),this.Za.V.Ve(r.ma.zh),this.Za.emit("seek"),t&&this.tT(t.P.Pb),this.Za.H2(1),this.Za.Zj(),this.Za.zb.cy()):i||(o=this.Za.La.hHb(t),this.ss(o)),a;case 1:n=e?5:4;break;case 2:a=this.Za.La.Cr(t,e),n=1;break;case 5:return a}},t.prototype.Pmb=function(t){for(2;;)return!!this.Za.qh(t).zT},t.prototype.tT=function(t){var e,i;for(e=2;4!==e;)switch(e){case 5:t.zT||(t.zT=!0,o.zf.forEach((function(t){var e;for(e=2;1!==e;)if(2===e)i.Za.Pg[t].resume(),e=1})),this.Za.fT()),e=4;break;case 2:i=this,t=this.Za.qh(t),e=5}},t.prototype.Hob=function(t,e){var i,n,r,o;for(i=2;8!==i;)switch(i){case 5:t.dWb(),i=4;break;case 4:i=null!==(r=this.Za.Ah)&&void 0!==r&&r.$C()?3:9;break;case 2:n=this,o=t.mediaType,t.KI(e),i=5;break;case 3:this.Za.Ah.Nl.forEach((function(t){var e;for(e=2;1!==e;)switch(e){case 4:n.Za.$F(t,8),e=3;break;case 2:n.Za.$F(t,!1),e=1}})),this.Za.Ah=void 0,i=9;break;case 9:this.Za.IU.DOa(o,t.gb.P),i=8}},t.prototype.Tfa=function(){var t,e,i;for(t=2;4!==t;)switch(t){case 2:t=this.WB?1:4;break;case 1:e=this.WB.ek,i=this.WB.Pb,this.Za.qh(i)&&(this.WB=void 0,this.ss(e,i)),t=4}},e=7;break;case 7:return t.prototype.Vn=function(t){var e,i,n;for(e=2;7!==e;)switch(e){case 2:i=this,null===(n=this.LNa)||void 0===n||n.cancel(),this.Za.Hwa(),e=4;break;case 4:return this.Za.La.si.Vn(t),o.zf.forEach((function(t){var e,n;for(e=2;9!==e;)switch(e){case 1:"p: not resuming buff","erManager, audio track switch in pr","ogress",n=i.Za.zb.Kf[t],i.Za.Jr&&(n.uwa=a.default.time.ea()),n.YP?n.Sb("skip: not resuming bufferManager, audio track switch in progress"):i.Za.Pg[t].resume(),u(i.Za.La.Wc,t),e=9;break;case 7:e=i.kc(t)?3:5;break;case 2:e=i.kc(t)?1:9}})),this.LNa=t=new s.pF(this.Za.SI()),t.Esa((function(){var t;for(t=2;5!==t;)if(2===t)i.Za.V.Ve(r.ma.Kc),i.Za.nT(),t=5})).iva}function u(t,e){var n;for(n=2;5!==n;)switch(n){case 2:"ng branc","h doesn't ","have a previous branch",t!==i.Za.La.si&&(t.tg?u(t.tg,e):i.H.error("skip: unexpected behaviour - a non-presenting branch doesn't have a previous branch")),n=1;break;case 1:(t=t.Rd(e))&&t.Vn(),n=5}}},t.prototype.Li=function(t){var e,i,n,r;for(e=2;8!==e;)switch(e){case 4:return i=this.Za.Rt(t,0,!0),t=this.Za.Rt(t,1,!0),void 0!==i&&void 0!==t&&i.complete&&t.complete;case 1:e=t<(null!==(i=n.zd)&&void 0!==i?i:n.jpa)||t>=r?5:4;break;case 5:return!1;case 2:n=this.Za.La.si,r=0<Object.keys(n.O&&n.O.Bl||{}).length&&!n.Sk?n.me-this.Za.I.BD:n.me,e=1}},t}}(),e.kKa=i},function(t,e,i){var r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.yBa=void 0,t=i(2),r=t.__importStar(i(10)),o=i(16),a=t.__importDefault(i(6)),i=function(){var t;for(t=2;18!==t;)switch(t){case 5:e.prototype.ZOa=function(){for(2;;)return!!(this.Sa.en()||this.Sa.V.x0a()||this.Sa.V.w0a())},e.prototype.I1=function(t){for(2;;)return!(this.ZOa()||this.Sa.zb.Kf[t.mediaType].YP||this.Sa.Zx.lC)},e.prototype.Zj=function(){var t,e,i;for(t=2;5!==t;)if(2===t)e=this,i=this.Sa.I,!this.Sa.sOa||this.Sa.z2||this.Sa.L2||(this.Sa.z2=setTimeout((function(){var t;for(t=2;4!==t;)if(2===t)clearTimeout(e.Sa.z2),e.Sa.z2=void 0,e.XMa(),t=4}),i.nta),i.yM&&this.Sa.Pm&&(this.vF||(this.vF=setTimeout((function(){var t,i;for(t=2;3!==t;)if(2===t)clearTimeout(e.vF),e.vF=void 0,(i=e.Sa.La.Wc.Rd(1))&&e.rMa(i),t=3}),i.mqb)))),t=5},e.prototype.rMa=function(t,e){var i,n,r,o,a;for(i=2;3!==i;)switch(i){case 2:n=t.mediaType,r=this.Sa.zb.Jw[n].AH,o=t.ug.sW,i=1;break;case 1:i=r&&o?5:3;break;case 7:i=r||o?4:5;break;case 5:(a=this.Sa.zb.Kf[n].If)&&(this.Sa.V.pg()||this.Sa.yg.lqb(n,a,r.bitrate,o.bitrate,t.TIb.bitrate,e)),i=3}},t=8;break;case 2:e.prototype.E1=function(){var t;for(t=2;1!==t;)if(2===t)this.vF&&(clearTimeout(this.vF),this.vF=void 0),t=1},e.prototype.XMa=function(){var t,e,i,n,r;for(t=2;6!==t;)switch(t){case 1:"i","ng",void 0===this.Sa.Plb&&(this.Sa.Plb=!0,this.Sa.Cb.am("firstDriveStreaming")),i=(e=this.Sa.La).Wc.Rd(0),r=!(n=e.Wc.Rd(1))||n.Vh,(!i||i.Vh)&&r&&this.Sa.cL&&e.fvb(n?n.Lc:i.Lc),n=!n||n.Xq,t=9;break;case 2:t=this.Sa.Qi.kha||this.Sa.en()?6:1;break;case 9:i&&!i.Xq||!n||this.Sa.cL||(this.Sa.mc.Gf&&this.Sa.mc.Gf.Lp(!0,this.Sa.Yl.sessionId),this.Sa.Cb.$3a()),this.UMa(e.Wc),this.Kpb(),t=6}},t=5;break;case 20:return e.prototype.Kpb=function(){var t,e,i,n;for(t=2;5!==t;)if(2===t)e=this.Sa.I,n=(i=this.Sa.La).Wc,this.Sa.V.pg()||i.dw(n,1)<e.TW||n.P.yxa(),t=5},e;case 8:e.prototype.UMa=function(t,e){var i,n,r,o,a,s;for(i=2;7!==i;)switch(i){case 5:i=s&&a?9:4;break;case 2:n=t.O,r=t.Rd(1),a=!(o=t.Rd(0))||o.Vh,s=!r||r.Vh,n.cs||this.Sa.La.Y8(t,n,t.P.sf.Vg&&0===t.P.Pb),i=5;break;case 4:this.Sa.Pm&&this.VMa(t,r,o),this.Sa.yr&&this.VMa(t,o,r),a=!o||o.Vh,i=(s=!r||r.Vh)&&a?9:3;break;case 3:return;case 9:"l in buffering"," state ","while pipelin","e's are done",this.Sa.V.pg()&&(this.H.warn("Still in buffering state while pipeline's are done"),this.Sa.zb.cy()),i=8;break;case 8:e||n.bv||t.P.sf.Vg||!this.qub(t)||((e=this.Sa.V.pg())&&this.Sa.I.Kka&&(this.Sa.fha(),e=!1),t.x5||this.Sa.La.XIb(t,e),t.IL(),t.rub()&&(e=Object.keys(t.children),this.Sa.I.P4&&1===e.length&&!t.children[e[0]].active&&this.Sa.La.W1a(t,e[0]),this.Tlb(t,n))),i=7}},e.prototype.Tlb=function(t,e){var i,o,s,u,c,h,f,l,d;for(i=2;23!==i;)switch(i){case 9:o=t.HK,s=e.Bl[o.O.id].weight,i=8;break;case 27:t.xfa=o.Gm,i=26;break;case 20:i=0===c.length?19:17;break;case 19:"ch can","didates to drive",this.H.warn("No subbranch candidates to drive"),i=18;break;case 13:i=1<c.length?12:20;break;case 3:t.HK=void 0,i=8;break;case 7:u=[],c=[],r.mf(t.children,(function(t,i){var n;for(n=2;5!==n;)if(2===n)0!==(i=e.Bl[i].weight)&&(i={weight:i,gb:t},t.xja(!0,!0)||c.push(i),u.push(i)),n=5})),0===c.length?c=u:2<c.length&&(c.sort((function(t,e){for(2;;)return e.weight-t.weight})),c.length=2),i=13;break;case 18:return;case 4:i=Math.min(d[0]-t.xfa[0],d[1]-t.xfa[1])>=l.Hub?3:9;break;case 12:o=c.reduce((function(t,e){for(2;;)return e.Gm=e.gb.Gm,e.c3a=Math.min(e.Gm[0],e.Gm[1]),[t[0]+e.weight,t[1]+e.c3a]}),[0,0]),h=o[0],f=o[1],i=10;break;case 8:i=o?26:7;break;case 2:l=this.Sa.I,i=1;break;case 17:o=c[0].gb,s=c[0].weight,t.HK=o,i=27;break;case 1:i=this.Sa.mc.Soa&&t.HK&&t.xfa?5:8;break;case 5:d=t.HK.Gm,i=4;break;case 26:o.ke||(o.ke={Z6:a.default.time.ea(),HA:0}),o.ke.weight=s,this.UMa(o,!0),i=23;break;case 10:0!==h&&0!==f?(r.mf(c,(function(t){var e;for(e=2;4!==e;)if(2===e)t.M2b=t.weight/h,t.ctb=t.c3a/f,t.usage=t.ctb-t.M2b,e=4})),c.sort((function(t,e){for(2;;)return t.usage-e.usage}))):c.sort((function(t,e){for(2;;)return t=Math.min.apply(null,t.gb.Gm),e=Math.min.apply(null,e.gb.Gm),n.N4L(0),n.j4L(e,t)})),i=20}},e.prototype.VMa=function(t,e,i){var n,o,s,u,c,h,f;for(n=2;8!==n;)switch(n){case 3:"ll in buffering state while pipeline doe","s not"," hav","e vacancy";"rivePipeline, delaying ","audio ","until video actualStartP","ts determined",o=this.Sa.Ge,r.ia(o.UH)||(s.WD&&0===u&&r.ia(this.Sa.zb.Kf[1].xo)?e.Sb("drivePipeline, delaying audio until video actualStartPts determined"):(r.ia(e.Jn)&&(e.Jn=e.ie?e.ie.index:e.dma(e.Ic)),e.Hf&&e.Jn>e.Hf.index?t.P.sf.Vg&&r.ia(o.Ha)&&r.ia(t.Lc)||(e.Vh||this.Sa.QOa(e),(t=this.Sa.Ge.P.Pb)<this.Sa.$M()-1&&this.Sa.T2(t+1)):this.I1(e)&&(s.JBb&&!this.Sa.V.pg()&&0>=e.GH?e.f1b(s.nOb):this.slb(e,i)?(e.YLb=a.default.time.ea(),s=(i=this.Sa.zb.Xna(e)).Lf,r.ia(s)||(s=e.track.$d[s],this.rlb(e,s)||((u=s.Y5())?(e.SLb=s.bitrate,e.qNb(s,u,this.Sa.V.pg(),c.If,i.xu),this.q1b(s,f,h),t.ke&&++t.ke.HA):s.pE()))):this.Sa.V.pg()&&(e.jn("Still in buffering state while pipeline does not have vacancy"),this.Sa.zb.cy())))),n=8;break;case 1:n=e.Vh?8:5;break;case 2:s=this.Sa.I,u=e.mediaType,n=1;break;case 5:c=this.Sa.zb.Kf[u],h=this.Sa.zb.RA[u],f=this.Sa.zb.Jw[u],n=4;break;case 4:n=!c.If||void 0!==e.cI&&(e.KI(e.cI,e.fSb),void 0!==e.cI)?8:3}},t=14;break;case 14:e.prototype.q1b=function(t,e,i){var n;for(n=2;4!==n;)if(2===n)e.jqa=t.Pc,r.Ba(i.rw)||(i.n1b(t.ws,t.Jz||-1,t.bitrate),r.ia(t.Fva)||this.Sa.yg.O8a(t.Fva,t.Lo,t.Mo)),t.url&&(e.qqa=t.url),n=4},e.prototype.rlb=function(t,e){var i;for(2;;)return i=this.Sa.zb.Jw[t.mediaType],!!(this.Sa.sOa&&e.Pc&&i.jqa&&e.Pc!==i.jqa&&(0<t.Pa.KD||0<t.Pa.Hs))},e.prototype.slb=function(t,e){var i,n,s,u,c,h,f,l,d,p,b;for(i=2;32!==i;)switch(i){case 34:case 7:case 12:case 3:case 25:case 22:case 18:case 27:return!1;case 13:i=l===o.ma.Kc&&d>u.gra&&!s.sf.Vg&&!n&&!s.KW||d&&f>Math.max(d*u.kra/100,u.NOb)?12:11;break;case 14:n=this.Sa.V.Oo(s),i=13;break;case 17:p=void 0,e&&(p=e.mediaType,b=a.default.Io()[p],p=u.H1b?this.Sa.La.X1a(h,p).bh/b:n/b),i=15;break;case 2:"lo","or","ed"," to 0";"e schedule","dBufferLe","vel:",u=this.Sa.I,c=t.mediaType,h=t.R7,f=this.Sa.V.Re(),l=this.Sa.V.getState(),d=this.Sa.La.dw(h,c),0>(p=t.Ic+h.Fe-f)&&(t.Sb("negative scheduledBufferLevel:",p,"floored to 0"),p=0),b=e?e.Ic:0,i=4;break;case 6:s=this.Sa.Ge.P,i=14;break;case 15:i=void 0===p||p<u.KNb?27:26;break;case 19:i=this.Sa.mc.Upa?18:17;break;case 4:i=null!==(s=t.ah)&&void 0!==s&&s.wIb()?3:9;break;case 33:return!(0<u.ru&&!h&&l+(e?n:0)>u.ru||void 0!==this.DMa&&d>this.DMa||1===c&&s.sf.Vg&&d>u.ira&&(e=this.Sa.mc.Qb.get(),e.confidence&&e.Ra&&e.Ra.Ga*t.YL>u.hra));case 20:i=e&&(n=this.Sa.La.mG(h,e.mediaType),b=t.Ic-b,this.kc(e.mediaType)&&!e.Vh&&b>=u.pra&&p>u.tj)?19:26;break;case 9:f=t.Pa.Wsa,i=8;break;case 35:f=1,t.Via<u.hA&&(f=u.hA),i=t.Pa.KD>=f?34:33;break;case 23:i=!r.ia(u.Fw)&&p>=u.Fw||t.YL+f>=Math.max(u.gA,this.Sa.mc.OA+u.psa*h.P.NNb[c])?22:21;break;case 11:l=this.Sa.La.mG(h,c),n=0,i=20;break;case 8:i=f>=u.g8?7:6;break;case 26:i=this.umb(c)>=u.D2a?25:24;break;case 24:p=this.Sa.La.c0b(),i=23;break;case 21:i=(h=this.Sa.V.pg())?35:33}},e.prototype.umb=function(t){for(2;;)return this.Sa.La.Kb.reduce((function(e,i){for(2;;)return e+i.aHb(t)}),0)},e.prototype.qub=function(t){var e,i,n,o;for(e=2;4!==e;)switch(e){case 2:i=this,n=this.Sa.La,o=!0,r.mf(t.O.Bl,(function(e,r){var a,s;for(a=2;7!==a;)switch(a){case 2:a=(e=n.ue(r))?1:8;break;case 1:e=(r=e.P).sh[0],s=r.sh[1],e&&s&&e.stream.je&&s.stream.je||(o=!1),a=9;break;case 9:i.Sa.V.Oo(r)||(o=!1),a=7;break;case 8:"s","ts:";"lid segme","nt:",t.Sb("invalid segment:",r,"in dests:",t.O.Bl),a=7}})),e=5;break;case 5:case 7:return o}},t=20}function e(t,e,i){var n;for(n=2;9!==n;)switch(n){case 2:this.Sa=t,this.H=e,this.kc=i,n=4;break;case 4:"SIY","bZrN","JCp","9",this.DMa=this.vF=void 0,n=9}}}(),e.yBa=i},function(t,e,i){var r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.REa=void 0,r=i(170),o=i(16),a=i(16),s=i(9),t=function(){function t(t,e,i,n){var r;for(r=2;8!==r;)switch(r){case 2:this.ac=t,this.H=e,this.kc=i,r=4;break;case 4:this.MF=n,this.pOa=this.kha=!1,r=9;break;case 9:"IY","bZrNJCp9",r=8}}var e;for(e=2;6!==e;)switch(e){case 4:return t.prototype.resume=function(){var t;for(t=2;5!==t;)if(2===t)this.kha=!1,this.ac.mg.Zj(),t=5},t.prototype.close=function(){var t,e;for(t=2;6!==t;)switch(t){case 2:"ndp","l","ay";"g","data";"os","e",e=this.ac.I,this.pOa=!0,this.stop(),this.ac.emit("close"),e.nVa&&(e=r.ux.instance().wb())&&(e={type:"logdata",target:"endplay",fields:{bridgestat:e}},s.Va(this.ac,e.type,e)),t=9;break;case 9:this.ac.mc.Gf&&this.ac.mc.Gf.Lp(!0,this.ac.Yl.sessionId,!0),this.ac.Cb.$3a(),this.ac.h7a(),t=6}},t.prototype.flush=function(){var t,e,i,r,a,u,c,h,f,l;for(t=2;16!==t;)switch(t){case 14:i&&i.length&&(a.activeRequests=JSON.stringify(i)),a.aseApiVersion=this.ac.dG,f.lVa&&(e=l.i6())&&(e.bytesRequestedPacingVideo&&(a.bytesRequestedPacingVideo=e.bytesRequestedPacingVideo,a.estimatedBytesPacedVideo=e.estimatedBytesPacedVideo,a.bytestotalVideo=e.bytestotalVideo,a.pacedAvtpVideo=e.pacedAvtpVideo),e.bytesRequestedPacingAudio&&(a.bytesRequestedPacingAudio=e.bytesRequestedPacingAudio,a.estimatedBytesPacedAudio=e.estimatedBytesPacedAudio,a.bytestotalAudio=e.bytestotalAudio,a.pacedAvtpAudio=e.pacedAvtpAudio),e.pacedAvtp&&(a.pacedAvtp=e.pacedAvtp)),t=11;break;case 20:"n","d","pla","y";"g","da","t","a";"hp","u","t-s","w";"ut-s","w";"h","roughput","-sw";"ou","gh","put-sw",f.UU&&(u&&u["throughput-sw"]&&u["throughput-sw"].Ga&&this.ac.Xu.Bqb({avtp:u["throughput-sw"].Ga,variance:u["throughput-sw"].aj}),this.ac.Xu.vqb(c,null===(h=u.avtp)||void 0===h?void 0:h.GC),h=this.ac.Xu.aFb(),f=this.ac.Xu.kHb(),h&&(h.n=f,h={type:"logdata",target:"endplay",fields:{ibef:h}},s.Va(this.ac,h.type,h),this.ac.Xu.save())),t=19;break;case 1:t=l?5:19;break;case 8:e=l.MXa(),i=l.tPa,t=7;break;case 6:for(var d in e){"e";"e";"e",e.hasOwnProperty(d)&&(a["ne"+d]=Number(e[d]).toFixed(6),c["ne"+d]=1*a["ne"+d])}t=14;break;case 11:"n","dp","l","ay";"dat","a",f.S4&&(l=l.Z5())&&(a.initial_avtp=l.pH,a.initial_dltime=l.GC,a.initial_responses_audio=l.H_a,a.initial_responses_video=l.I_a,a.initial_tput_samples=l.jO,a.initial_1sec_tput_samples=l.hO),Object.keys(a).length&&(a={type:"logdata",target:"endplay",fields:a},s.Va(this.ac,a.type,a)),t=20;break;case 7:t=e?6:14;break;case 17:try{for(r=2;1!==r;)if(2===r)this.ac.c5(o.ma.gr),r=1}catch(t){"luating Qo","E at stopping: ",n.Z4L(1),this.ac.Cb.Kn(n.j4L("Hindsight: Error evaluating QoE at stopping: ",t))}t=16;break;case 5:a={},c={},(u=l.get())&&u.avtp&&u.avtp.Ga&&(a.avtp=u.avtp.Ga,a.dltm=u.avtp.GC,c.avtp=a.avtp),u&&u.cdnavtp&&(a.cdnavtp=u.cdnavtp,a.activecdnavtp=u.activecdnavtp),l.flush(),t=8;break;case 2:f=this.ac.I,l=this.ac.mc.Qb,t=1;break;case 19:this.ac.Cb.fOa(),t=18;break;case 18:t=this.MF.Jr?17:16}},t.prototype.en=function(){var t;for(t=2;1!==t;)switch(t){case 4:return this.pOa&&this.ac.La.jk;case 2:return this.pOa||this.ac.La.jk}},t;case 2:t.prototype.play=function(){var t,e;for(t=2;5!==t;)if(2===t){"l","a","y";"ay called after ","pipelines al","re","ady shutdown",e=this,this.en()?this.H.warn("play called after pipelines already shutdown"):(this.ac.V.Ve(o.ma.Kc),this.ac.tpb(),this.ac.zb.Kf.forEach((function(t){var i;for(i=2;1!==i;)if(2===i){" not"," resuming bufferManager, audio track switch"," in prog","ress",e.kc(t.mediaType)&&(t.YP?t.Sb("play: not resuming bufferManager, audio track switch in progress"):(e.ac.Pg[t.mediaType].resume(),e.ac.Pv[t.mediaType].resume())),i=1}})),this.ac.nT(),this.ac.emit("play")),t=5}},t.prototype.stop=function(){var t,e,i,n,r;for(t=2;6!==t;)switch(t){case 2:e=this,i=this.ac.V.x0a(),n=this.ac.V.w0a(),this.ac.V.Ve(o.ma.gr),this.ac.E1(),t=4;break;case 4:i||n||this.ac.La.si.fE(!1,this.ac.V),r=this.ac.La.Wc,a.zf.forEach((function(t){var e;for(e=2;5!==e;)switch(e){case 2:e=(t=r.Rd(t))?1:5;break;case 1:t.Vh=!1,e=5}})),a.zf.forEach((function(t){var i;for(i=2;1!==i;)if(2===i)(t=e.ac.Pg[t])&&t.pause(),i=1})),t=7;break;case 7:"t","o","p",this.ac.emit("stop"),t=6}},t.prototype.suspend=function(){var t;for(t=2;1!==t;)switch(t){case 4:this.kha=-9,t=6;break;case 2:this.kha=!0,t=1}},e=4}}(),e.REa=t},function(t,e,i){var r,o,a,s,u,c;Object.defineProperties(e,{__esModule:{value:!0}}),e.LGa=void 0,t=i(2),r=t.__importStar(i(10)),o=i(142),a=t.__importDefault(i(28)).default.Ta,s=t.__importDefault(i(6)),u=i(9),c=i(5),i=function(){var t;function e(t,e){var i;for(i=2;4!==i;)if(2===i){"SIYbZrNJC","p","9",this.ab=t,this.H=e,i=4}}for(t=2;38!==t;)switch(t){case 2:e.prototype.am=function(t){var e;for(e=2;5!==e;)if(2===e){"r","tEv","en","t",t={type:"startEvent",event:t,time:s.default.time.ea()},u.Va(this.ab,t.type,t),e=5}},e.prototype.Rnb=function(){var t,e;for(t=2;5!==t;)if(2===t){"Com","pl","e","te",e={type:"openComplete"},u.Va(this.ab,e.type,e),t=5}},e.prototype.Snb=function(t,e,i,n,r){var o;for(o=2;1!==o;)if(2===o){"St","art","s",this.ab.I.lAb||(t={type:"ptsStarts",manifestIndex:t,mediaType:e,movieId:n,streamId:i,ptsStarts:r.P9a()},u.Va(this.ab,t.type,t)),o=1}},e.prototype.Inb=function(t,e){var i;for(i=2;5!==i;)if(2===i){"ader","C","ache","Hit",t={type:"headerCacheHit",movieId:t,streamId:e},u.Va(this.ab,t.type,t),i=5}},t=3;break;case 23:e.prototype.Anb=function(t,e){var i,n;for(i=2;5!==i;)if(2===i)n=this,setTimeout((function(){var i,r;for(i=2;5!==i;)if(2===i){"h","Co","mplete",r={type:"audioTrackSwitchComplete",trackId:t,trackIndex:e},u.Va(n.ab,r.type,r),i=5}}),0),i=5},e.prototype.Enb=function(t){var e,i;for(e=2;4!==e;)if(2===e){"Start","ed",i={type:"bufferingStarted",time:s.default.time.ea(),percentage:t||0},u.Va(this.ab,i.type,i),this.sga=t||0,e=4}},e.prototype.Cnb=function(){var t,e,i,n,r,o;for(t=2;3!==t;)if(2===t){"f","f","e","ring",e=this.ab.I,i=s.default.time.ea(),n=this.ab.La.Wc,r=this.ab.Pm?1:0,o=n.eb(r),n=n.Gh(r),(e=Math.min(Math.max(Math.round(100*(o.tD?(i-this.ab.qfa)/e.vA:o.progress?o.progress:n/e.tj)),this.sga),99))!=this.sga&&(i={type:"buffering",time:i,percentage:e},u.Va(this.ab,i.type,i),this.sga=e),t=3}},e.prototype.Ega=function(){var t,e,i,n,r,o;for(t=2;8!==t;)if(2===t){"ngC","omplete",i=(e=this.ab.La.Wc).eb(0),n=e.eb(1),this.gOa(),o=(r=this.ab.Pm?this.ab.zb.RA[a.Mb]:this.ab.zb.RA[a.Wb]).WT,e={type:"bufferingComplete",time:s.default.time.ea(),actualStartPts:o,aBufferLevelMs:e.Gh(0),vBufferLevelMs:e.Gh(1),selector:n?n.gP:i.gP,initBitrate:r.rw,skipbackBufferSizeBytes:this.ab.mc.dE},this.ab.yg.SCb({initSelReason:r.Kz,initSelectionPredictedDelay:r.Jz,buffCompleteReason:r.zt,hashindsight:this.ab.Jr,hasasereport:!!this.ab.ns,bcVBufferLevelMs:e.vBufferLevelMs,bcABufferLevelMs:e.aBufferLevelMs}),u.Va(this.ab,e.type,e),t=8}},e.prototype.gOa=function(){var t,e,i,n,r,o,a;for(t=2;12!==t;)switch(t){case 1:t=this.ab.en()?12:5;break;case 5:i=(e=this.ab.La.Wc).Gh(0),n=e.Gh(1),this.ab.yg.oqb(i,n),r=(r=this.ab.mc.Qb.get()).confidence?r.Ra.Ga:0,t=8;break;case 2:o=this.ab.I,t=1;break;case 8:"t","eBu","fferL","evel",i={type:"updateBufferLevel",abuflbytes:(a=this.ab.La).mG(e,0),vbuflbytes:e=a.mG(e,1),totalabuflmsecs:i,totalvbuflmsecs:n,currentBandwidth:r},t=14;break;case 14:n>o.d3a&&this.ab.mc.Gf&&this.ab.mc.Gf.Lp(!0,this.ab.Yl.sessionId),u.Va(this.ab,i.type,i),t=12}},e.prototype.anb=function(t){var e,i,n,o;for(e=2;7!==e;)switch(e){case 5:e=r.ia(this.eL)?8:4;break;case 2:e=r.ia(t)?7:1;break;case 8:this.eL=t,e=7;break;case 4:"All","o","c","atorDelta: ";"a:"," ";"llocDelta",": ";"mo","ryUsa","ge at t","ime: ",i=t.WVa-this.eL.WVa,n=t.TZa-this.eL.TZa,o=t.F4a-this.eL.F4a,(4194304<i||4194304<o)&&this.H.warn("memoryUsage at time: "+s.default.time.ea()+", fastMallocDelta: "+i+", jsHeapDelta: "+n+", osAllocatorDelta: "+o),e=9;break;case 1:r.Ba(t.kZ),e=5;break;case 9:"m","Delta",":"," ";"emo","ryUsage at time:"," ",r.Ba(t.kZ)&&r.Ba(this.eL.kZ)&&(4194304<(i=t.kZ-this.eL.kZ)&&this.H.warn("memoryUsage at time: "+s.default.time.ea(),", systemDelta: "+i)),e=8}},t=32;break;case 13:e.prototype.Vnb=function(t,e,i){var n;for(n=2;4!==n;)if(2===n){"Pres","enting",i=i?this.vmb(t.id,i):void 0,t={type:"segmentPresenting",segmentId:t.id,contentOffset:e,metrics:i,playlistSegment:t.QD,manifestIndex:t.P.Pb},u.Va(this.ab,t.type,t),n=4}},e.prototype.Tnb=function(t,e){var i;for(i=2;5!==i;)if(2===i){"egme","ntAppe","nde","d",e={type:"segmentAppended",segmentId:t.id,metrics:e},t.QD||u.Va(this.ab,e.type,e),i=5}},e.prototype.Unb=function(t,e,i){var n;for(n=2;5!==n;)if(2===n){"C","ompl","ete",t={type:"segmentComplete",mediaType:t,manifestIndex:e,segmentId:i.id},u.Va(this.ab,t.type,t),n=5}},t=10;break;case 26:e.prototype.Gnb=function(t){var e;for(e=2;5!==e;)if(2===e){"irst","RequestAppended",t={type:"firstRequestAppended",manifestIndex:t.Pa.gb.P.Pb,mediatype:t.mediaType,time:s.default.time.ea()},u.Va(this.ab,t.type,t),e=5}},e.prototype.Knb=function(t,e){var i;for(i=2;5!==i;)if(2===i){"t","i","alAudioTr","ack",t={type:"initialAudioTrack",trackId:e,trackIndex:t},u.Va(this.ab,t.type,t),i=5}},e.prototype.Bnb=function(t,e){var i;for(i=2;3!==i;)if(2===i){"itchSta","rted",t=t.cA,e=e.cA,e={type:"audioTrackSwitchStarted",oldLangCode:t.language,oldNumChannels:t.channels,newLangCode:e.language,newNumChannels:e.channels,sourceBufferReset:void 0},u.Va(this.ab,e.type,e),i=3}},t=23;break;case 20:e.prototype.Nnb=function(t,e,i,n,r){var o;for(o=2;5!==o;)if(2===o){"f","estRange",t={type:"manifestRange",index:t,manifestOffset:e,startPts:Math.floor(i),endPts:Math.floor(n),maxPts:Math.floor(r)},u.Va(this.ab,t.type,t),o=5}},e.prototype.iOa=function(t){var e;for(e=2;5!==e;)if(2===e){"t","r","at","es",t={type:"maxBitrates",audio:t[0],video:t[1]},u.Va(this.ab,t.type,t),e=5}},e.prototype.Onb=function(t,e){var i,n;for(i=2;3!==i;)if(2===i){"est","Selec","ted: ";"fes","tSelected",n=this.ab.I,t={type:"manifestSelected",index:t,replace:e.P.sf.replace,ptsStarts:e.EO,streamingOffset:e.Z+e.Cw},n.ji&&(e="notifyManifestSelected: "+JSON.stringify(t),n.ji&&this.Bm(e)),u.Va(this.ab,t.type,t),i=3}},e.prototype.Mnb=function(t,e,i,n,r){var o;for(o=2;4!==o;)if(2===o){"s","enting",t={type:"manifestPresenting",index:t.Pb,pts:Math.floor(e),movieId:t.J,replace:t.sf.replace,contentOffset:i},null!=n&&null!=r&&(t.previousMovieId=n,t.previousIndex=r),u.Va(this.ab,t.type,t),o=4}},t=16;break;case 10:e.prototype.Fga=function(t,e){var i;for(i=2;5!==i;)if(2===i){"e","g","mentP","ts",e={type:"lastSegmentPts",segmentId:t.id,pts:Math.floor(e)},t.QD||u.Va(this.ab,e.type,e),i=5}},t=20;break;case 16:e.prototype.Wnb=function(t,e,i,n){var r,a;for(r=2;3!==r;)if(2===r){"reamPr","e","senting",a=t.mediaType,o.Qm.kq(a),t={type:"streamPresenting",startPts:Math.floor(e),contentStartPts:Math.floor(i),mediaType:a,manifestIndex:n,trackIndex:t.track.jC,streamIndex:t.Lf},u.Va(this.ab,t.type,t),r=3}},e.prototype.aob=function(t){var e;for(e=2;5!==e;)if(2===e){"o","ped",t={type:"videoLooped",offset:t},u.Va(this.ab,t.type,t),e=5}},e.prototype.Znb=function(t,e,i,n,r){var a;for(a=2;4!==a;)if(2===a){"ateSt","ream","ingPts",e={type:"updateStreamingPts",mediaType:t,manifestIndex:e,trackIndex:i,movieTime:Math.floor(n),segmentId:r},o.Qm.kq(t),u.Va(this.ab,e.type,e),a=4}},t=26;break;case 3:e.prototype.Hnb=function(t,e,i,n,r){var o,a;for(o=2;3!==o;)if(2===o){"c","heDataHit",a=this.ab.wNa,this.ab.wNa=void 0,t={type:"headerCacheDataHit",movieId:t,audio:e,audioFromMediaCache:n,video:i,videoFromMediaCache:r,actualStartPts:a&&a.xo,headerCount:a&&a.pN,stats:a&&a.ec},u.Va(this.ab,t.type,t),o=3}},e.prototype.Pnb=function(t,e,i,n){var r;for(r=2;5!==r;)if(2===r){"o","n",t={type:"maxPosition",index:t,endPts:e,maxPts:i,maxSeekPts:n},u.Va(this.ab,t.type,t),r=5}},e.prototype.Ynb=function(t,e,i,n,r,o,a){var s;for(s=2;3!==s;)switch(s){case 2:"r","r","o","r",void 0===a&&(a=!1),t={type:"error",error:t,errormsg:e,networkErrorCode:i,httpCode:n,nativeCode:r,manifestIndex:o,temporaryFailure:a},s=5;break;case 5:"fyStreami","ngErro","r: ",this.H.error("notifyStreamingError: "+JSON.stringify(t)),u.Va(this.ab,t.type,t),s=3}},e.prototype.o2=function(t,e){var i;for(i=2;5!==i;)if(2===i){"m","entStar","ting",e={type:"segmentStarting",segmentId:t.id,contentOffset:e,maxBitrates:{audio:t.P.Gw[0],video:t.P.Gw[1]}},t.QD||u.Va(this.ab,e.type,e),i=5}},e.prototype.Gga=function(t){var e,i;for(e=2;5!==e;)if(2===e){"o","rted",i={type:"segmentAborted",segmentId:t.id},t.QD||u.Va(this.ab,i.type,i),e=5}},e.prototype.vmb=function(t,e){var i,n,o;for(i=2;12!==i;)switch(i){case 2:"a","mless";"ese","t";"k","i","p";"o","n","g";"o","n","g";"aml","ess",n={segment:t,srcsegment:e.S$,srcoffset:e.wP,seamlessRequested:e.Ue,atRequest:{},discard:{}},(o=e.ke[t])?n.atRequest={weight:o.weight,abuflmsec:o.Br.vr,vbuflmsec:o.Br.$n,abuflbytes:o.Br.kC,vbuflbytes:o.Br.Ks}:void 0!==(o=this.ab.La.XYa(e.S$,t))&&(n.atRequest.weight=o),r.mf(e.ke,(function(e,i){var r;for(r=2;1!==r;)if(2===r)i!=t&&(n.discard[i]={weight:e.weight,abuflmsec:e.Br.vr,vbuflmsec:e.Br.$n,abuflbytes:e.Br.kC,vbuflbytes:e.Br.Ks}),r=1})),o=e.Ue?e.SV?"seamless":"long":e.B3a?"long":e.Vn?"skip":"reset",n.transitionType=o,e.Uka||(n.delayToTransition=e.C4),o="seamless"===o?0:s.default.time.ea()-e.startTime,i=7;break;case 7:return n.durationOfTransition=o,n.atTransition=e.oab,n.srcsegmentduration=this.ab.La.gHb(e.S$),n}},t=13;break;case 32:e.prototype.$nb=function(){var t,e;for(t=2;3!==t;)if(2===t){"e","ami","ng","stat",this.ab.I.WMb&&s.default.memory.IFb(this.anb.bind(this)),e={type:"streamingstat",time:s.default.time.ea(),playbackTime:this.ab.V.Re()},this.ab.yg.TCb(e),u.Va(this.ab,e.type,e),t=3}},e.prototype.fOa=function(){var t,e;for(t=2;4!==t;)switch(t){case 2:t=this.ab.ns?1:4;break;case 9:t=this.ab.ns?4:7;break;case 1:"or","t",e={type:"asereport"},this.ab.ns.RCb(e)&&u.Va(this.ab,e.type,e),t=4}},e.prototype.znb=function(){var t,e;for(t=2;5!==t;)if(2===t){"reportenab","led",e={type:"asereportenabled"},u.Va(this.ab,e.type,e),t=5}},e.prototype.Jnb=function(t){var e,i,r,o,a,s,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S=n;for(e=2;6!==e;)switch(e){case 2:e=t?1:6;break;case 7:u.Va(this.ab,i.type,i),e=6;break;case 1:for(O in"i","ndsig","htr","eport",i={type:"hindsightreport"},r=this.ab.I.J6){"vmaf","dp";"v","ma","fg","r";"v","ma","ftb";for(k in"tw","b","r",o=r[O],a=0,s=0,h=0,f=0,l=0,d=0,p=void 0,b=void 0,v=!1,y=-1,g=-1,m=-1,_=-1,w=-1,E=-1,t)void 0===(b=t[k]).nd&&(p=(p=b.sols)&&p[o])&&(v=!0,h+=p.dlvdur,a+=p.dltwbr*p.dlvdur,s+=p.dlvmaf*p.dlvdur),d+=b.pbdur,f+=b.pbtwbr*b.pbdur,l+=b.pbvmaf*b.pbdur,p=b.rr,b=b.ra;switch(0<d&&(y=1*f/d,_=1*l/d),v&&(0<h&&(g=1*a/h,w=1*s/h),0<h+d&&(m=1*(a+f)/(h+d),E=1*(s+l)/(h+d))),o){case"htwbr":i.htwbr=m,i.hptwbr=g,i.pbtwbr=y,p&&(i.rr=p,i.ra=b);break;case"hvmaftb":i.hvmaftb=E,i.hpvmaftb=w,i.pbvmaftb=_,p&&(i.rrvmaftb=p,i.ravmaftb=b);break;case"hvmafgr":i.hvmafgr=E,i.hpvmafgr=w,i.pbvmafgr=_,p&&(i.rrvmafgr=p,i.ravmafgr=b);break;case"hvmafdp":i.hvmafdp=E,i.hpvmafdp=w,i.pbvmafdp=_,p&&(i.rrvmafdp=p,i.ravmafdp=b)}}e=4;break;case 4:e=this.ab.QU||this.ab.$w?3:9;break;case 8:for(var T in t)if(void 0!==(r=t[T]).E9a)for(o in r.E9a)if(void 0!==(p=r.E9a[o]).$$){"a","n","d ";"pe","ct sol.strmsel.l","ength ","=== sol.fragsel.length but got ";" ","report.fragmentsPrebuffered !== ","undefined";for(var A in"fragmentsPrebuffered !=","= undefined",(O=void 0!==r.GWa)||(console.error("expect report.fragmentsPrebuffered !== undefined"),c.assert(O,"expect report.fragmentsPrebuffered !== undefined")),O=[],r.GWa)a=r.GWa[A],O.push({fa:a.fa,Im:a.duration/1e3,quality:a.sb});for(var P in O=p.$$.length===p.HWa.length,a="expect sol.strmsel.length === sol.fragsel.length but got "+p.$$.length+" and "+p.HWa.length,O||(console.error(a),c.assert(O,a)),O=[],a=0,p.$$)h=p.$$[P],s=p.HWa[P],S.Z4L(1),a=h=S.j4L(a,h),O.push({icc:h,Lcc:p.XUa[P],Q9b:p.Ra[P],Tia:p.Tia[P],Sia:p.Sia[P],tRa:p.tRa[P],u9b:{fa:s.fa,Im:s.duration/1e3,quality:s.sb?s.sb:p.$d[h].sb,ncc:s.Lf,v9b:s.Me},L6a:0,Nbc:0,Zsa:p.Zsa[P]});for(var j in p=[],O=0,r.VA.trace)a=r.VA.trace[j],S.N4L(1),O=a=S.J4L(O,a),p.push(a)}e=7;break;case 3:i.report=t,e=9;break;case 9:e=this.ab.$w?8:7}},t=28;break;case 39:return e;case 28:e.prototype.Fnb=function(t){var e;for(e=2;5!==e;)switch(e){case 3:t={type:"",mediaType:t},e=4;break;case 2:"ndO","f","Stre","am",t={type:"endOfStream",mediaType:t},e=1;break;case 1:u.Va(this.ab,t.type,t),e=5}},e.prototype.Kn=function(t){var e;for(e=2;1!==e;)if(2===e){"s","eexcept","ion";"xceptio","n",this.ab.emit("aseexception",{type:"aseexception",msg:t}),e=1}},e.prototype.NPb=function(t,e,i,n){var r;for(r=2;5!==r;)if(2===r){"a","n","ged";"i","tr","atechanged",t={type:"maxvideobitratechanged",time:s.default.time.ea(),spts:n,maxvb_old:t,maxvb:e,reason:i},this.ab.emit("maxvideobitratechanged",t),r=5}},t=42;break;case 42:e.prototype.$3a=function(){var t,e;for(t=2;3!==t;)switch(t){case 1:"eamere","n","d",this.Cpb=!0,e={type:"streamerend",time:s.default.time.ea()},u.Va(this.ab,e.type,e),t=3;break;case 2:t=!this.Cpb&&this.ab.I.X3a?1:3}},e.prototype.UPb=function(t){var e;for(e=2;5!==e;)if(2===e){"eamSelecti","onAug","mentData",t={type:"streamSelectionAugmentData",augmentData:t,fragmentIndex:t[0].Qd},u.Va(this.ab,t.type,t),e=5}},e.prototype.Bm=function(t){var e;for(e=2;5!==e;)if(2===e){" ";"nagerdebu","gevent",t={type:"managerdebugevent",message:"@"+s.default.time.ea()+", "+t},u.Va(this.ab,t.type,t),e=5}},t=39}}(),e.LGa=i},function(t,e,i){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m;Object.defineProperties(e,{__esModule:{value:!0}}),e.pDa=void 0,r=i(2),t=i(17),o=r.__importStar(i(10)),i(5),i(222),a=i(240),s=i(378),u=i(83),i(369),i(384),c=i(125),h=r.__importDefault(i(28)),i(235),f=i(875),l=r.__importDefault(i(124)),i(16),d=r.__importDefault(i(6)),i(176),i(244),i(243),i(99),p=new d.default.Console("HEADERCACHE","media|asejs"),i=new d.default.Console("MEDIACACHE","media|asejs"),b=d.default.JJ,v=p.trace.bind(p),i.trace.bind(i),y=p.warn.bind(p),g=p.error.bind(p),m=p.info.bind(p),i=function(t){function e(e,i,n,r){var o;for(o=2;25!==o;)switch(o){case 15:return"bZrNJ","Cp9",e.Yl=n,e;case 2:(e=t.call(this)||this).jn=v,e.Kk=g,o=4;break;case 13:e.SNa=i.y4,e.Sv=[],o=11;break;case 11:e.Q1=!1,e.NK=[],e.RF={},o=19;break;case 4:e.Sb=y,e.E8b=m,e.d2=Object.create(null),e.po=i,e.dg=Object.create(null),e.wF=0,e.so=[],o=13;break;case 19:e.rha=(e.po.$xa||e.po.aya)&&0<(e.po.EU||(d.default.options||{}).WN||0),e.DF=e.po.sra,e.Vj=void 0,e.rha&&(e.po.EU||(i=(d.default.options||{}).WN||0,e.po.set?e.po.set({EU:i}):e.po.EU=(d.default.options||{}).WN||0),e.Vj=new f.XFa(e.po,d.default,e),e.Vj.xb(e,r).then((function(){var t;for(t=2;1!==t;)switch(t){case 4:v(""),t=6;break;case 2:"he in","itialized",v("Media cache initialized"),t=1}})).catch((function(t){var e;for(e=2;1!==e;)switch(e){case 4:g("",t),e=2;break;case 2:"no","t initialize",g("Media cache did not initialize",t),e=1}}))),o=15}}var i;for(i=2;39!==i;)switch(i){case 11:e.prototype.tk=function(t){var e;for(e=2;1!==e;)if(2===e)this.ad(t)?this.jRb(t):this.kRb(t),e=1},e.prototype.uX=function(t){var e;for(e=2;5!==e;)if(2===e){"nEr","ro","r",": ",y("_onError: ",t.toString()),this.F1(t),e=5}},e.prototype.jRb=function(t){var e,i;for(e=2;9!==e;)switch(e){case 2:i=this,t.I_b=t.rf,this.Okb(t),e=4;break;case 4:o.ia(t.KIb)||t.KIb(t.I_b),this.apb(t,(function(){var e;for(e=2;1!==e;)if(2===e)o.ia(t)||(o.ia(t.Am)||t.Am.RZa--,i.F1(t)),e=1})),e=9}},i=19;break;case 16:e.prototype.cnb=function(){var t,e;for(t=2;5!==t;)if(2===t)e=this,!this.Q1&&0<this.NK.length&&(this.NK.forEach((function(t){var i;for(i=2;1!==i;)if(2===i)e.Xga(t.NIb,t.Ed),i=1})),this.NK=[]),t=5},e.prototype.KMa=function(t,e){var i,n;for(i=2;8!==i;)switch(i){case 2:n=t.stream.mediaType,2>this.Sv.length&&this.MMa(),i=5;break;case 5:return(e=new s.vba(t.stream,e,this.Sv[n],t,this,!0,p)).Ph=t.Ph,e.Gf=this,e}},e.prototype.Alb=function(t,e){var i,n;for(i=2;8!==i;)switch(i){case 2:n=t.stream.mediaType,2>this.Sv.length&&this.MMa(),i=5;break;case 5:return(e=a.t_.create(t.stream,e,this.Sv[n].track,t,this,!0,p)).Ph=t.Ph,e.Gf=this,e}},e.prototype.F1=function(t){var e,i;for(e=2;9!==e;)switch(e){case 3:"ave","to","dis","k",i&&0===i.RZa&&0===i.qU&&(this.npb(i,t.rf),i.Ph&&this.Vj&&(i.ec.Oac||(this.DF?this.Vj.HWb(i):this.Vj.hP("savetodisk",{g8a:i.ec.Fs})))),e=9;break;case 2:this.ad(t)&&delete this.d2[t.Oa],this.ad(t)||delete t.response,t.ed(),i=this.dg[t.J]||t.Am,e=3}},e.prototype.inb=function(t,e,i){var r,o,a;for(r=2;8!==r;)switch(r){case 2:o=t.x4,e.Ph&&this.Vj&&(t.O2a?o=t.O2a:t.x2a&&0<t.x2a&&(o=2e3*t.x2a)),r=5;break;case 5:r=0<o?4:3;break;case 3:return a=i&&i.length<t.$Ta?i.length:t.$Ta,function(t){var e,i=n;for(e=2;1!==e;)switch(e){case 2:return i.Z4L(18),i.J4L(a,t);case 4:return i.N4L(19),i.J4L(a,t)}};case 4:return function(t,e){for(2;;)return n.N4L(18),n.J4L(o,e)}}},e.prototype.Xga=function(t,e){var i,r,a,s,u,c,f,l,p,b,v,y;for(i=2;53!==i;)switch(i){case 8:i=b?7:53;break;case 54:b.Wka&&!o.ia(b.xo)&&(t=b.Wka,delete b.Wka,this.Xga(t,b.xo)),i=53;break;case 21:s=l=0,a=(r=u&&u.mediaType)===h.default.Ta.Mb?p.F8:p.x8,i=34;break;case 34:p=r===h.default.Ta.Mb?p.ROb:p.KOb,i=33;break;case 29:n.Z4L(1),r=n.j4L(y,1),i=28;break;case 14:b.Wka=t,i=13;break;case 28:i=r<v.length&&(u.fa<a||u.duration<p)?44:42;break;case 43:++r,i=28;break;case 5:this.NK.push({NIb:t,Ed:e}),i=4;break;case 1:i=this.Q1?5:9;break;case 7:i=t.mediaType===h.default.Ta.Wb?6:11;break;case 37:u=void 0,i=36;break;case 6:i=void 0===b.xo?14:12;break;case 33:i=y<(v&&v.length||0)&&!c(s,l)?32:54;break;case 3:this.NK.shift(),i=4;break;case 36:++y,i=33;break;case 25:void 0===b.data&&(b.data={}),void 0===b.data[f]&&(b.data[f]=[]),i=23;break;case 42:o.ia(b.xo)&&(b.xo=u.Z),u.Ph&&(u.responseType=0),i=40;break;case 26:"nagerdebuge","vent";"artP","ts: ";" pts",":"," ";"stre","amId",": ";" ","headerCache requestData: movi","eId: ",p.ji&&(e="@"+d.default.time.ea()+", headerCache requestData: movieId: "+c+", streamId: "+f+", pts: "+e+", startPts: "+u.Z,this.emit("managerdebugevent",{message:e})),i=25;break;case 39:++s,l+=u.duration,i=37;break;case 4:i=this.NK.length>p.JIb?3:53;break;case 16:u.Ph=t.Ph,(s=u.jma(e))&&(u.mediaType===h.default.Ta.Wb&&!p.zra&&s.Ed<(p.fm&&!p.fG&&l.uf?Math.floor(l.uf.Y):0)&&(++s.il,s.Ed+=u.sa.Y),0<s.il&&u.Bk({start:s.il})),i=26;break;case 18:u=t.stream.Wk(y),i=17;break;case 44:u.f3(v.get(r)),u.bO=r+1,y=r,i=43;break;case 23:e=b.data[f],c=this.inb(p,t,v),i=21;break;case 20:i=-1===y||void 0===y?19:18;break;case 30:i=o.ia(v)||u.wa?42:29;break;case 2:c=t.J,f=t.Oa,l=t.stream,p=t.Oe,i=1;break;case 32:void 0===u&&(u=t.stream.Wk(y)),i=void 0!==u?31:36;break;case 12:e=b.xo,i=11;break;case 31:u.Ph=t.Ph,i=30;break;case 13:return;case 9:b=this.dg[c]||t.Am,i=8;break;case 17:i=o.ia(u)?25:16;break;case 19:"o"," proper ","fragment found to requ","est data at pts",g("no proper fragment found to request data at pts",e),i=53;break;case 11:t.mediaType===h.default.Ta.Wb&&p.fm&&!p.fG&&l.uf&&(e=Math.max(l.U&&l.U.Cj(0)||0,e+l.uf.Y)),y=(v=t.stream.U)&&v.zn(e),i=20;break;case 40:"e","f","ined",t.Ph&&this.Vj&&t.NW&&t.NW[f]&&void 0!==u.Z&&t.NW[f][u.Z]||((r=this.Alb(u,t.Oe)).Ph&&(r.Am=t.Am),r.oO(),++b.qU,e.push(r)),i=39}},e.prototype.Okb=function(t){var e;for(e=2;1!==e;)switch(e){case 4:this.tMa(t,t.Am),e=6;break;case 2:this.tMa(t,t.Am),e=1}},i=22;break;case 28:e.prototype.Xmb=function(t,e){var i,n,r,a;for(i=2;8!==i;)switch(i){case 9:return"e is not ena","bled",Promise.reject("Media cache is not enabled");case 2:n=this,i=1;break;case 1:i=this.Vj?5:9;break;case 5:r=void 0,a=!1,this.Vj.k0a(this.dg[t])?(r=Promise.resolve(this.dg[t]),a=!0):r=this.Vj.LMb(t),i=3;break;case 3:return r.then((function(i){for(2;;)return!o.ia(i)&&n.Vj?n.Vj.HMb(t,e,i).then((function(e){for(2;;)return e&&(a||(n.dg[t]=i,++n.wF,n.vfa(),n.so.push(i),n.so.sort(n.g6a)),n.uMa(t,e)),n.dg[t]})):Promise.resolve(void 0)}))}},e.prototype.uMa=function(t,e){var i,n,r,a,s;for(i=2;7!==i;)switch(i){case 1:i=e?5:7;break;case 9:n=e.data,Object.keys(n).forEach((function(t){var e,i,r;for(e=2;9!==e;)if(2===e)i=n[t],o.ia(a.data)&&(a.data={}),o.ia(a.data[t])&&(a.data[t]=[]),r=a.data,i.forEach((function(e){var i;for(i=2;1!==i;)if(2===i)r[t].push(e),i=1})),e=9})),i=7;break;case 2:r=this,i=1;break;case 3:i=e.data?9:7;break;case 5:a=this.dg[t],s=e.headers,a&&s&&Object.keys(s).forEach((function(t){var e;for(e=2;1!==e;)switch(e){case 2:r.Nkb(s[t],a),e=1;break;case 4:r.Nkb(s[t],a),e=3}})),i=3}},e.prototype.g6a=function(t,e){for(2;;)return e.priority-t.priority},e.prototype.j6a=function(t){var e,i,n,r;for(e=2;11!==e;)switch(e){case 5:for(r in t.data)0<(i=t.data[r]).length&&(n[i[0].mediaType]={Oa:r,header:t.headers[r],data:i});n.xo=t.xo,n.pN=t.pN,n.ec=t.ec,n.rw=t.rw,n.Kz=t.Kz,n.bD=t.bD,e=14;break;case 14:return n.Lo=t.Lo,n.Mo=t.Mo,n;case 1:e=t&&t.data?5:11;break;case 2:n={},e=1}},i=41;break;case 19:e.prototype.kRb=function(t){var e,i,n,r,a;for(e=2;8!==e;)switch(e){case 2:i=this,n=t.J,r=this.dg[n]||t.Am,e=1;break;case 1:e=r?5:8;break;case 5:"r","debuge","vent";" ","remai","ning",": ";" p","ts: ";"tream","Id",": ";"derCache dataComplete: movieId",": ",this.po.ji&&(n="@"+d.default.time.ea()+", headerCache dataComplete: movieId: "+n+", streamId: "+t.Oa+", pts: "+t.Z+", remaining: "+(r.qU-1),this.emit("managerdebugevent",{message:n})),e=t.Ph&&0===t.responseType&&this.Vj&&!this.DF?4:9;break;case 4:a=d.default.time.now(),this.Vj.FWb(t,r,(function(e){var n;for(n=2;4!==n;)if(2===n)e||o.ia(r)||(e=d.default.time.ea()-a,o.ia(r.ec)&&(r.ec={}),o.ia(r.ec.Fs)&&(r.ec.Fs=0),r.ec.Fs+=e),--r.qU,i.F1(t),n=4})),e=8;break;case 9:--r.qU,i.F1(t),e=8}},e.prototype.MMa=function(){var t;for(t=2;1!==t;)if(2===t)0===this.Sv.length&&(this.Sv=[c.lp.instance.Ht(0,void 0,!1,!1,this.Yl,this.po),c.lp.instance.Ht(1,void 0,!1,!1,this.Yl,this.po)],this.Sv.forEach((function(t){for(2;;)return t.xb()})),b.og()),t=1},e.prototype.RMa=function(){var t,e;for(t=2;4!==t;)if(2===t)e=this.Sv,this.Sv=[],e.forEach((function(t){var e;for(e=2;1!==e;)switch(e){case 2:c.lp.instance.oM(t),e=1;break;case 4:c.lp.instance.oM(t),e=8}})),t=4},i=16;break;case 2:r.__extends(e,t),Object.defineProperties(e.prototype,{cache:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.dg}},enumerable:!1,configurable:!0}}),e.prototype.Yzb=function(){var t;for(t=2;5!==t;)if(2===t)this.flush(),this.RMa(),t=5},e.prototype.Gaa=function(t){var e;for(e=2;5!==e;)if(2===e)this.Yl=t,this.Sv.forEach((function(){})),e=5},e.prototype.Lp=function(t,e,i){var n,r,o;for(n=2;9!==n;)switch(n){case 1:n=(r[e]=t)?5:4;break;case 4:i&&delete r[e],o?(this.Q1=!1,this.cnb()):this.Q1=!0,n=9;break;case 2:r=this.RF,o=t,n=1;break;case 5:for(var a in r)r.hasOwnProperty(a)&&!1===r[a]&&(o=!1);n=4}},i=9;break;case 9:e.prototype.flush=function(){var t,e;for(t=2;8!==t;)switch(t){case 3:"gerdeb","u","gevent";"eaderCach","e flush: ",this.so=[],this.po.ji&&(e="@"+d.default.time.ea()+", headerCache flush: ",this.emit("managerdebugevent",{message:e})),t=8;break;case 2:for(var i in this.tWa(),this.d2)(e=this.d2[i]).abort();this.dg=Object.create(null),this.wF=0,t=3}},e.prototype.list=function(){for(2;;)return this.so},e.prototype.BW=function(t,e){var i;for(i=2;4!==i;)switch(i){case 2:i=(t=this.dg[t])?1:4;break;case 9:i=(t=this.dg[t])?0:6;break;case 1:i=(e=t.headers[e])?5:4;break;case 5:case 7:return e}},i=6;break;case 22:e.prototype.Nkb=function(t,e){var i;for(i=2;1!==i;)if(2===i)this.tMa(t,e),i=1},i=21;break;case 6:e.prototype.fNb=function(t,e){var i,n;for(2;;)return i=this,(n=this.eNb(t))||!this.Vj?Promise.resolve(n):(this.DF?this.Ymb(t,e):this.Xmb(t,e)).then((function(t){var e;for(e=2;1!==e;)switch(e){case 4:case 2:return i.j6a(t)}}))},e.prototype.eNb=function(t){var e;for(e=2;1!==e;)switch(e){case 2:case 4:return this.j6a(this.dg[t])}},e.prototype.tWa=function(){var t,e,i,n;function r(t){var e;for(e=2;1!==e;)switch(e){case 2:t.jSa(),e=1;break;case 4:t.jSa(),e=3}}for(t=2;4!==t;)if(2===t){for(i in e=0,this.dg)if((n=this.dg[i]).data){for(var o in n.data){"n ","ent","ry:";"e","aderEntry for streamId:",n.headers[o]||g("missing headerEntry for streamId:",o,"in entry:",n),a(n,o),n.data[o].forEach(r),delete n.data[o]}delete n.data}this.Xob(e),t=4}function a(t,i){var n;for(n=2;1!==n;)if(2===n)t&&t.data&&t.data[i].forEach((function(t){var i;for(i=2;5!==i;)if(2===i)t.abort(),e+=t.bytesReceived,i=5})),n=1}},e.prototype.qA=function(t){var e,i;for(e=2;5!==e;)if(2===e)(i=this.dg[t.J])&&(this.ad(t)?o.ia(i.ec.OIb)&&!o.ia(t.loadTime)&&(i.ec.OIb=t.loadTime):o.ia(i.ec.U5a)&&!o.ia(t.loadTime)&&(i.ec.U5a=t.loadTime)),e=5},i=11;break;case 21:e.prototype.tMa=function(t,e){var i,n;for(i=2;4!==i;)switch(i){case 1:i=(e=this.dg[t.J]||e)?5:4;break;case 5:e.Vqb||e.Ph&&!this.DF||(e.Vqb=!0,++this.wF),e.headers||(e.headers={}),e.headers[n]=t,this.po.PBb&&(e.pN||(e.pN=0),++e.pN),this.vfa(),i=4;break;case 2:n=t.Oa,i=1;break;case 9:n=t.Oa,i=8}},e.prototype.vfa=function(){function t(t){var e;for(e=2;5!==e;)if(2===e)t.abort(),n+=t.bytesReceived,e=5}var e,i,n,r;for(e=2;12!==e;)switch(e){case 5:e=this.wF>this.SNa?4:13;break;case 1:e=this.wF<=this.SNa?12:5;break;case 2:n=0,e=1;break;case 4:e=(i=this.so.shift())?3:5;break;case 9:e=i.data?8:7;break;case 8:for(var o in i.data)i.data[o].forEach(t),delete i.data[o];e=7;break;case 3:r=i.J,e=9;break;case 14:this.Uob(r),e=5;break;case 13:this.Vob(n),e=12;break;case 7:delete this.dg[r],--this.wF,e=14}},e.prototype.Vob=function(t){var e;for(e=2;1!==e;)if(2===e){"rd","edBytes",0!==t&&(t={type:"discardedBytes",bytes:t},this.emit(t.type,t)),e=1}},i=33;break;case 33:e.prototype.Xob=function(t){var e;for(e=2;1!==e;)if(2===e){"h","e","dByte","s",0!==t&&(t={type:"flushedBytes",bytes:t},this.emit(t.type,t)),e=1}},e.prototype.Uob=function(t){var e;for(e=2;5!==e;)if(2===e){"Ev","ic","t",t={type:"cacheEvict",movieId:t},this.emit(t.type,t),e=5}},e.prototype.apb=function(t,e){var i,n;for(i=2;3!==i;)if(2===i)n=t.Oe,o.ia(t.TVb)||this.Xga(t,t.TVb),!this.Vj||!t.Ph||this.DF||o.ia(t.NW)||t.NW[t.Oa]&&t.NW[t.Oa].header?e():this.Vj.GWb(t,e),n.Yxa||0!==Object.keys(this.d2).length||this.RMa(),i=3},e.prototype.npb=function(t,e){var i;for(i=2;4!==i;)if(2===i){"ffs","t","at","s",t.ec.eTb=e,t={type:"prebuffstats",movieId:t.J,stats:{prebuffstarted:t.ec.U5a,prebuffcomplete:t.ec.eTb}},this.emit(t.type,t),i=4}},e.prototype.Ymb=function(t,e){var i;for(2;;){return"dia ","cache is ","not enabled",i=this,this.Vj?this.Vj.IMb(t,e).then((function(e){var n;for(n=2;5!==n;)switch(n){case 2:n=e&&e.Am?1:5;break;case 1:return i.dg[t]=e.Am,++i.wF,i.vfa(),i.so.push(e.Am),i.so.sort(i.g6a),i.uMa(t,e),i.cache[t]}})):Promise.reject("Media cache is not enabled")}},i=28;break;case 41:return e.prototype.ad=function(t){for(2;;)return!!t.ad},e}}(u.kv),e.pDa=i,l.default(t.EventEmitter.prototype,i.prototype)},function(t,e,i){var n,r,o,a,s,u,c,h;Object.defineProperties(e,{__esModule:{value:!0}}),e.XFa=void 0,n=i(2),r=i(17),o=n.__importStar(i(876)),a=n.__importStar(i(10)),i(5),s=i(240),u=i(9),t=i(42),c=n.__importStar(i(887)),h=c.sFa,i=function(){var t;for(t=2;18!==t;)switch(t){case 3:e.prototype.GWb=function(t,e){var i,n,r,o,s,f,l;for(i=2;13!==i;)switch(i){case 4:i=t.stream.je&&!a.ia(t.stream.U)?3:14;break;case 2:n=this,r=[t.J,t.Oa,h.Qfb].join("."),o=this.ro.time.ea(),s=c.WXa(t),(f={})[r+"."+h.gda]={Kq:s,Gc:h.PE},f[r+"."+h.qgb]={Kq:u.AC(t.Wg.map((function(t){for(2;;)return t.data}))),Gc:h.PE},i=4;break;case 3:s={timescale:t.stream.U.S,startTicks:t.stream.U.jl,offset:t.stream.U.Sd(0)},l=t.stream.U.cx,f[r+"."+h.ACa]={Kq:s,Gc:h.PE},i=7;break;case 7:f[r+"."+h.Hfb]={Kq:l.sizes.buffer,Gc:h.PE},i=6;break;case 6:f[r+"."+h.Gfb]={Kq:l.vd.buffer,Gc:h.PE},i=14;break;case 14:this.oo.f8a(h.Yq,f,(function(i){var r;for(r=2;5!==r;)if(2===r)i||(i=n.ro.time.ea()-o,t.Am&&(a.ia(t.Am.ec.Fs)&&(t.Am.ec.Fs=0),t.Am.ec.Fs+=i)),e(),r=5})),i=13}},e.prototype.FWb=function(t,e,i){var n,r,o,s,u,f;for(n=2;14!==n;)switch(n){case 3:(r={})[s+"."+h.gda]={Kq:t,Gc:h.PE},a.ia(f)||(r[s+"."+h.whb]={Kq:f,Gc:h.PE}),this.oo.f8a(h.Yq,r,(function(t){var n;for(n=2;5!==n;)if(2===n){"iled to save fr","agment",t?u.H.warn("Failed to save fragment",t):(t=u.ro.time.ea()-o,a.ia(e.ec.Fs)&&(e.ec.Fs=0),e.ec.Fs+=t),i(),n=5}})),n=14;break;case 5:o=this.ro.time.ea(),s=[t.J,t.Oa,t.fd].join("."),t=c.wna(t),n=3;break;case 1:n=f instanceof ArrayBuffer?5:6;break;case 2:u=this,f=t.response,n=1;break;case 6:"agment ","because response is"," not an ArrayBuffer",i(Error("Unable to save fragment because response is not an ArrayBuffer")),n=14}},e.prototype.HWb=function(t){var e,i,r,o,u,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M;for(e=2;20!==e;)switch(e){case 9:x.headers=i,e=8;break;case 4:i={},Object.keys(t.headers).forEach((function(e){var n,r;for(n=2;5!==n;)if(2===n)r=c.UXa(t.headers[e]),i[e]=r,n=5})),e=9;break;case 5:e=t.headers?4:8;break;case 7:M={},r=t.data,o=Object.keys(t.data);try{for(u=2;6!==u;)switch(u){case 1:u=p.done?6:5;break;case 5:l=r[f=p.value],o={},u=3;break;case 3:u=l?9:7;break;case 8:M[f]=o,u=7;break;case 2:p=(d=n.__values(o)).next(),u=1;break;case 7:p=d.next(),u=1;break;case 9:try{for(b=2;7!==b;)switch(b){case 5:v=g.value,b=4;break;case 2:A=void 0,g=(y=n.__values(l)).next(),b=1;break;case 3:m=c.wna(v),b=9;break;case 4:b=v instanceof s.t_&&v.response instanceof ArrayBuffer&&!a.ia(v.fd)?3:8;break;case 8:g=y.next(),b=1;break;case 1:b=g.done?7:5;break;case 9:o[v.fd]={mediaType:m.mediaType,streamId:m.streamId,movieId:m.movieId,bitrate:m.bitrate,location:m.location,serverId:m.serverId,saveToDisk:m.saveToDisk,offset:m.offset,bytes:m.bytes,timescale:m.timescale,startTicks:m.startTicks,durationTicks:m.durationTicks,response:v.response},b=8}}catch(t){A={error:t}}finally{for(_=2;1!==_;)if(2===_){try{for(w=2;1!==w;)if(2===w)g&&!g.done&&(P=y.return)&&P.call(y),w=1}finally{for(E=2;5!==E;)switch(E){case 2:E=A?1:5;break;case 1:throw A.error;case 3:E=A?0:9}}_=1}}u=8}}catch(t){var R;R={error:t}}finally{for(k=2;1!==k;)if(2===k){try{for(O=2;1!==O;)if(2===O)p&&!p.done&&(T=d.return)&&T.call(d),O=1}finally{for(S=2;5!==S;)switch(S){case 3:S=R?5:7;break;case 2:S=R?1:5;break;case 1:throw R.error}}k=1}}e=13;break;case 12:R={lifespan:259200},this.hnb&&(R.convertToBinaryData=!0),this.oo.save(h.Yq,t.J,x,R,(function(t){var e;for(e=2;1!==e;)if(2===e){"eto","disk",t||j.hP("savetodisk",{g8a:j.ro.time.ea()-I}),e=1}})),e=20;break;case 8:e=t&&t.data?7:12;break;case 2:j=this,I=this.ro.time.ea(),x={},M=c.uYa(t),x.movieEntry=M,e=5;break;case 13:x.data=M,e=12}},e.prototype.k0a=function(t){for(2;;)return!(a.ia(t)||a.Bb(t)||a.ia(t.ec)||a.Bb(t.ec)||a.ia(t.J)||a.Bb(t.J)||a.ia(t.priority)||a.Bb(t.priority))},e.prototype.hP=function(t,e){var i,n;for(i=2;9!==i;)switch(i){case 2:"ediacachelo","okup";"et","odis","k";"ed","iacac","hestats",n={type:"mediacachestats",operation:t},"savetodisk"===t&&(n.saveTime=e.g8a),"mediacachelookup"===t&&(n.lookupTime=e.Y7,n.dataFound=e.q4),n.oneObject=this.DF,i=3;break;case 3:"ac","a","c","he",this.Xlb&&this.emit("mediacache",n),i=9}},t=14;break;case 2:e.prototype.xb=function(t,e){var i;for(2;;){return"e","dia"," cache is disabled",i=this,this.rha?this.ht=new Promise((function(n,r){var a;for(a=2;1!==a;)if(2===a)(null!=e?e.vN:function(t){var e;for(e=2;1!==e;)switch(e){case 2:case 4:return o.vN(i.ro,i.I,t)}})((function(e){var o,a;for(o=2;4!==o;)if(2===o){"d ","not init","ial","ize",i.oo=e,a=e.En,(e=e.rH)?r(e):a?(i.oYb(t),n()):r(Error("Media cache did not initialize")),o=4}})),a=1})):(this.ht=Promise.reject("Media cache is disabled"),this.ht.catch((function(){}))),this.ht}},e.prototype.LMb=function(t){var e,i,n;for(2;;)return e=this,i=[h.xFa,t].join("."),n=this.ro.time.ea(),this.ht.then((function(){for(2;;)return new Promise((function(r){var o;for(o=2;1!==o;)if(2===o)e.oo.YX(h.Yq,i,(function(i){var o,s;for(o=2;3!==o;)switch(o){case 2:o=!i||0>=i.length?1:5;break;case 1:"d","iacachelookup",r(),e.hP("mediacachelookup",{Y7:e.ro.time.ea()-n,q4:!1}),o=3;break;case 5:s=i[0],e.oo.read(h.Yq,s,(function(i,n){var o,u,h,f;for(o=2;14!==o;)switch(o){case 1:o=a.ia(n)?9:5;break;case 2:"i","le","d";"eading movie e","ntry"," ",i&&e.H.warn("Reading movie entry "+s+" failed",i),o=1;break;case 4:try{for(u=2;1!==u;)if(2===u)h=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(n))),u=1}catch(t){}o=9;break;case 5:o=n instanceof ArrayBuffer?4:3;break;case 3:h={priority:n.priority,movieId:n.movieId,saveToDisk:n.saveToDisk,firstSelectedStreamBitrate:n.firstSelectedStreamBitrate,initSelectionReason:n.initSelectionReason,histDiscountedThroughputValue:n.histDiscountedThroughput,histTdigest:n.histTdigest,histAge:n.histAge,headerCount:n.headerCount,dataRequestCount:n.dataRequestCount,headerRequestCount:n.headerRequestCount,stats:n.stats},o=9;break;case 9:a.ia(h)||(f=c.zna(h)),o=7;break;case 7:a.ia(f)||a.Bb(f)||(f.ec=f.ec||{},f.headers=f.headers||{}),o=6;break;case 6:e.k0a(f)?r(f):(e.jpb(t),r()),o=14}})),o=3}})),o=1}))}))},e.prototype.HMb=function(t,e,i){var n,r,o;for(n=2;9!==n;)switch(n){case 1:n=this.ht?4:5;break;case 5:return"dia ca","ch","e is not enabled",Promise.reject("Media cache is not enabled");case 2:r=this,n=1;break;case 7:r=this,n=7;break;case 14:return Promise.reject("");case 4:return o=this.ro.time.ea(),this.ht.then((function(){for(2;;)return new Promise((function(n){var s;for(s=2;1!==s;)if(2===s)r.oo.YX(h.Yq,t,(function(s){var u;for(u=2;5!==u;)if(2===u)s=s.reduce((function(t,e){var i,n;for(i=2;9!==i;)switch(i){case 1:"ader.__e","mbed","_","_",i=-1!==n.indexOf("drmHeader.__embed__")?5:4;break;case 2:n=e.substr(0,e.lastIndexOf(".")),i=1;break;case 6:"e","mb","ed","__",i=-4==n.indexOf("")?7:9;break;case 5:return t;case 4:return t[n]?t[n].push(e):t[n]=[e],t}}),{}),r.lUb(s,e).then((function(e){var s,u,c;for(s=2;8!==s;)switch(s){case 1:return n();case 2:s=void 0===i||void 0===e?1:5;break;case 5:"di","acach","elookup";"nt data fo","und ","for ",u=r.ro.time.ea()-o,c=!1,a.ia(e)||a.ia(e.data)||!a.Jh(e.data)?r.H.trace("No content data found for "+t,i):c=!0,r.hP("mediacachelookup",{Y7:u,q4:c}),n(e),s=8}}),(function(){var t;for(t=2;1!==t;)switch(t){case 4:n(),t=7;break;case 2:n(),t=1}})),u=5})),s=1}))}))}},e.prototype.IMb=function(t,e){var i,n;for(2;;)return i=this,n=this.ro.time.ea(),this.ht.then((function(){for(2;;)return i.Qmb(t)})).then((function(r){var o;for(o=2;5!==o;)switch(o){case 1:case 8:return i.Nob(t.toString(),e,n);case 2:o=r?1:4;break;case 4:"a","ca","c","helookup",i.hP("mediacachelookup",{Y7:i.ro.time.ea()-n,q4:!1}),o=5}}))},t=3;break;case 14:e.prototype.lUb=function(t,e){var i,n;for(2;;)return i=this,n=Object.keys(t).map((function(e){var n;for(n=2;1!==n;)switch(n){case 2:case 4:return i.Oxb(t[e])}})),Promise.all(n).then((function(t){for(2;;)return t.sort((function(t,e){for(2;;)return t.ad===e.ad?0:t.ad?-1:1})),c.Ana(i.I,i.H,i.af,t,e)}))},e.prototype.Oxb=function(t){var e,i,n,r;for(2;;)return e=this,r={},new Promise((function(o,a){var s,u;for(s=2;5!==s;)if(2===s)e.oo.Z9(h.Yq,t,(function(t,e){var s,f,l;for(s=2;1!==s;)if(2===s){try{for(f=2;19!==f;)switch(f){case 3:f=i instanceof ArrayBuffer?9:7;break;case 14:f=c.Bpa(u)?13:12;break;case 20:u=c.Pma(n,{response:r.response}),f=6;break;case 5:Object.keys(e).map((function(t){var o,a,s,u;for(o=2;3!==o;)switch(o){case 2:a=t.substr(t.lastIndexOf(".")+1),o=1;break;case 5:try{for(s=2;5!==s;)if(2===s)u=new Uint8Array(e[t]),n=JSON.parse(String.fromCharCode.apply(null,u)),s=5}catch(i){n=e[t]}o=3;break;case 1:o=a===h.gda?5:4;break;case 4:a===h.ACa?i=e[t]:r[a]=e[t],o=3}})),f=4;break;case 6:f=u.ad?14:11;break;case 8:return a(l);case 7:u=c.Qma(n,r,i),f=6;break;case 1:return a(t);case 9:"agments was ","an array buffer, is invalid type ",l="Header fragments was an array buffer, is invalid type "+u.Oa,f=8;break;case 4:f=c.d0a(n)?3:20;break;case 13:return"r in","valid header dat","a p","arts for stream ",l="Missing or invalid header data parts for stream "+u.Oa,a(l);case 2:f=t||void 0===e?1:5;break;case 11:f=c.Apa(u)?10:12;break;case 12:o(u),f=19;break;case 10:return"id media data pa","rts for stream ",l="Missing or invalid media data parts for stream "+u.Oa,a(l)}}catch(t){a(t)}s=1}})),s=5}))},e.prototype.Nob=function(t,e,i){var r;for(2;;)return r=this,new Promise((function(o,s){var u,f;for(u=2;5!==u;)if(2===u)r.oo.read(h.Yq,t,(function(u,h){var l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F,q,K,H;for(l=2;4!==l;)switch(l){case 17:f=c.Ana(r.I,r.H,r.af,h,e),l=16;break;case 16:void 0!==f&&(f.Am=u),l=15;break;case 5:s(u),l=4;break;case 20:G=B.data,F=Object.keys(G),l=18;break;case 13:l=B.headers?12:10;break;case 1:l=u?5:3;break;case 12:d=Object.keys(B.headers),l=11;break;case 18:try{for(p=2;8!==p;)switch(p){case 1:p=v.done?8:5;break;case 9:v=b.next(),p=1;break;case 2:v=(b=n.__values(F)).next(),p=1;break;case 5:M=v.value,y=Object.keys(G[M]);try{for(g=2;7!==g;)switch(g){case 2:K=void 0,_=(m=n.__values(y)).next(),g=1;break;case 1:g=_.done?7:5;break;case 5:w=G[M][_.value],E=c.Pma(w,w),g=4;break;case 3:return"ing or invalid media data parts for st","ream ",N="Missing or invalid media data parts for stream "+E.Oa,s(N);case 9:h.push(E),g=8;break;case 8:_=m.next(),g=1;break;case 4:g=c.Apa(E)?3:9}}catch(t){K={error:t}}finally{for(k=2;1!==k;)if(2===k){try{for(O=2;1!==O;)if(2===O)_&&!_.done&&(H=m.return)&&H.call(m),O=1}finally{for(S=2;5!==S;)switch(S){case 3:S=K?3:9;break;case 2:S=K?1:5;break;case 1:throw K.error}}k=1}}p=9}}catch(t){var V;V={error:t}}finally{for(T=2;1!==T;)if(2===T){try{for(A=2;1!==A;)if(2===A)v&&!v.done&&(q=b.return)&&q.call(b),A=1}finally{for(P=2;5!==P;)switch(P){case 2:P=V?1:5;break;case 1:throw V.error}}T=1}}l=17;break;case 7:l=B.movieEntry?6:15;break;case 11:try{for(j=2;12!==j;)switch(j){case 2:x=(I=n.__values(d)).next(),j=1;break;case 5:M=x.value,R=B.headers[M],j=4;break;case 14:h.push(C),j=13;break;case 7:j=c.Bpa(C)?6:14;break;case 1:j=x.done?12:5;break;case 13:x=I.next(),j=1;break;case 3:"ray b","uffer, is invalid typ","e ",N="Header fragments was an array buffer, is invalid type "+R.streamId,j=9;break;case 6:return"g or invalid"," header data parts for str","eam ",N="Missing or invalid header data parts for stream "+C.Oa,s(N);case 8:C=c.Qma(R,R,R.fragments),j=7;break;case 9:return s(N);case 4:j=R.fragments instanceof ArrayBuffer?3:8}}catch(t){var G;G={error:t}}finally{for(L=2;1!==L;)if(2===L){try{for(D=2;1!==D;)if(2===D)x&&!x.done&&(F=I.return)&&F.call(I),D=1}finally{for(U=2;5!==U;)switch(U){case 9:case 1:throw G.error;case 2:U=G?1:5;break;case 3:U=G?6:9}}L=1}}l=10;break;case 15:"c","achelookup",r.hP("mediacachelookup",{Y7:r.ro.time.ea()-i,q4:!0}),o(f),l=4;break;case 6:u=c.zna(B.movieEntry),h=[],l=13;break;case 3:l=a.ia(h)?9:8;break;case 10:l=B.data?20:17;break;case 8:B=h[t],l=7;break;case 9:o(),l=4;break;case 2:l=1}})),u=5}))},t=11;break;case 11:return e.prototype.Qmb=function(t){var e;for(2;;){return"a cache ","is n","ot enabled",e=this,this.ht?this.ht.then((function(){for(2;;)return new Promise((function(i){var n;for(n=2;1!==n;)if(2===n)e.oo.YX(h.Yq,t.toString(),(function(e){var n;for(n=2;1!==n;)if(2===n)e&&0!==e.length&&1===e.length&&e[0]===t.toString()?i(!0):i(!1),n=1})),n=1}))})):Promise.reject("Media cache is not enabled")}},e.prototype.jpb=function(t){var e,i,n;function r(t){var e;for(e=2;1!==e;)if(2===e)i.oo.delete(h.Yq,t),e=1}for(e=2;4!==e;)if(2===e)i=this,n=t.toString(),this.oo.YX(h.Yq,[h.xFa,t].join("."),o),this.oo.YX(h.Yq,n,o),e=4;function o(t){var e;for(e=2;1!==e;)switch(e){case 2:t.map(r),e=1;break;case 4:t.map(r),e=9}}},e.prototype.oYb=function(t){var e,i;for(e=2;4!==e;)if(2===e){"ache-","error";"di","acache",(i=new r.Wh).on(this.oo,"mediacache",(function(e){var i;for(i=2;4!==i;)switch(i){case 1:e.keys||e.items.map((function(t){var e;for(e=2;1!==e;)switch(e){case 2:case 4:return t.key}})),i=5;break;case 2:i=e.keys||e.items?1:5;break;case 5:"i","aca","che",t.emit("mediacache",e),i=4}})),i.on(this.oo,"mediacache-error",(function(e){var i;for(i=2;5!==i;)if(2===i){"ia","c","a","che";"r","ror",e.type="error",t.emit("mediacache",e),i=5}})),e=4}},e}function e(t,e,i){var n;for(n=2;12!==n;)switch(n){case 4:this.DF=!!t.sra&&t.sra,this.hnb=!!t.N2a&&t.N2a,this.I=t,this.ro=e,n=7;break;case 2:"|a","sejs";"E","DIACACHE",this.H=new e.Console("MEDIACACHE","media|asejs"),this.rha=(t.$xa||t.aya)&&0<(t.EU||(e.options||{}).WN||0),this.Xlb=!!t.CBb&&t.CBb,n=4;break;case 7:"SIYb","Zr","NJC","p9";"he has not been in","it","iaiz","ed",this.af=i,this.ht=Promise.reject("Media cache has not been initiaized"),this.ht.catch((function(){})),n=12}}}(),e.XFa=i,t.xf(r.EventEmitter,i)},function(t,e,i){var n,r,o,a,s;n=i(10),o=[],s=!1,t.exports={vN:function(t,e,u){var c;return s?n.gd(u)&&(r.En||r.rH?setTimeout((function(){u(r)}),0):o.push(u)):(s=!0,(c=i(127)).bW(t),a=new c.Console("MEDIACACHE","media|asejs"),r=new(i(401))(e,(function(t){t&&a.warn("Failed to initialize MediaCache",t),n.gd(u)&&setTimeout((function(){u(r)}),0),o.map((function(t){setTimeout((function(){t(r)}),0)}))}))),r},n$b:function(t,e){r=new(i(401))(t,(function(t,i){t&&a.warn("Failed to initialize MediaCache",t),n.gd(e)&&setTimeout((function(){e(i)}),0)}))}}},function(t,e,i){var n,r,o,a,s;function u(t){this.jr=t,this.context=t.context,this.T3a="NULLCONTEXT"===t.context}n=i(10),r=i(127),o=new r.Console("DISKCACHE","media|asejs"),a={context:"NULLCONTEXT",read:function(t,e,i,n,r){r("MediaCache is not supported")},remove:function(t,e,i){i("MediaCache is not supported")},create:function(t,e,i,n){n("MediaCache is not supported")},append:function(t,e,i,n){n("MediaCache is not supported")},query:function(t,e,i){i([])}},u.prototype.XF=function(){var t,e,i;e=(t=Array.prototype.slice.call(arguments))[0],i=t[t.length-1],(t=t.slice(1,t.length-1)).push((function(t){i(null,t)}));try{if(this.T3a)throw Error("Media Cache not supported");e.apply(this.jr,t)}catch(t){i(t)}},u.prototype.query=function(t,e,i,n){try{if(this.T3a)throw Error("Media Cache not supported");this.jr.query(t,e,(function(t){i(null,t)}),n)}catch(t){i(t)}},u.prototype.read=function(t,e,i,n,r){this.XF(this.jr.read,t,e,i,n,r)},u.prototype.remove=function(t,e,i){this.XF(this.jr.remove,t,e,i)},u.prototype.create=function(t,e,i,n){this.XF(this.jr.create,t,e,i,n)},u.prototype.append=function(t,e,i,n){this.XF(this.jr.append,t,e,i,n)},u.prototype.info=function(t){this.XF(this.jr.info,t)},u.prototype.validate=function(t){this.XF(this.jr.validate,t)},u.prototype.flush=function(t){this.XF(this.jr.flush,t)},u.prototype.clear=function(){this.jr.clear()},t.exports={Rxb:function(t){var e,i,c,h,f;e=t.K9b||"NRDMEDIADISKCACHE",0!==(s=t.EU||0)||n.ia(r.options)||n.ia(r.options.WN)||(s=r.options.WN),t=s;try{if(!(c=r.storage.sAb)||!n.Jh(c))throw o.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(i=c[e])o.warn("Disk store exists, returning"),h=new u(i);else{if(n.ia(r.storage)||!n.gd(r.storage.iTa)||r.options&&0===r.options.WN)throw o.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";if(o.warn("Disk store context doesn't exist, creating with size "+t),!(f=r.storage.iTa({context:e,size:t,encrypted:!0,signed:!0}))||!f.valid)throw"Failed to create disk store context";h=new u(f)}}catch(t){o.warn("Exception creating disk store context - returning NullContext (noops)",t),h=new u(a)}return h},iFb:function(){return s},v4b:u}},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(){}function d(t,e,o,a,c){var h;h=n.gd(a)?a:l,this.Ov=t,this.Ag=o.ew,this.ty=0,this.bmb=o.mCb||"NONE",this.ey=n.ia(c)||n.Bb(c)?0:c,this.De={},this.dt=o.Nac||r.storage.AR,this.Hv=e,this.xL=s.create(this.Hv,o.Tyb*this.ey,this.Ov),this.on=this.addEventListener=f.addEventListener,this.removeEventListener=f.removeEventListener,this.emit=this.Va=f.Va,this.uNa=b(this,d.Le.REPLACE),this.Cmb=b(this,d.Le.gMa),this.QF,this.QF=o.rbb?i(883):i(884),this.Hv.query(this.dt,this.yq(""),function(t,e){var i;t?h(t):(i=this.xL.rna(),t=Object.keys(e).filter((function(t){return t!==i&&u.BN(t)})).map(this.wxa.bind(this)),this.Z9(t,function(t,i){Object.keys(i).map(function(t){var r,o;r=i[t],this.De[u.j5(t)]=r,r.fva&&1<Object.keys(r.fva).length?(o=0,Object.keys(r.fva).forEach(function(t){e[this.yq(t)]&&n.Ba(e[this.yq(t)].size)&&(o+=e[this.yq(t)].size)}.bind(this)),t=u.j5(t),this.De[t].size=o):(t=u.j5(t),e[this.yq(t)]&&(this.De[t].size=e[this.yq(t)].size))}.bind(this)),p(this.Hv,this.dt,this.Ov,function(t,e){this.ty=e,t?h(t):h(null,this)}.bind(this))}.bind(this)))}.bind(this))}function p(t,e,i,r){var o;o=n.gd(r)?r:l,t.query(e,i,(function(t,e){t?o(t):(t=Object.keys(e).reduce((function(t,i){return t+(e[i].size||0)}),0),o(null,t))}))}function b(t,e){return function(i,o,a,s,u){return function(c,f){var l;c?(o||t.Va(d.Le.Mf,{itemKey:i,error:c}),a(c)):(l={Ok:0,duration:0,items:[],time:r.time.now()},Object.keys(f.actions).map((function(e){var i;i=f.actions[e],e={key:t.wxa(i.E7),al:e},i.$?(l.Ok+=i.Ok,e.D7=i.Ok,n.Ba(i.duration)&&(l.duration+=i.duration)):e.error=i.error,l.items.push(e)})),c=n.gd(s)?s():0,0<u&&(l.jM=u-c),p(t.Hv,t.dt,t.Ov,(function(i,n){i?a(i):(t.ty=n,l.An=t.Ag-n,o||t.Va(e,h.oXa(l)),a(null,l))})))}}}function v(t,e){return 0<e&&t>=e}n=i(10),r=i(127),o=i(249),e=i(86),a=new r.Console("MEDIACACHE","media|asejs"),s=i(879),u=i(402),c=i(128),h=i(250),f=i(403).EventEmitter,e({Le:{gMa:"writeitem",REPLACE:"replaceitem",Mca:"journalupdate",Mf:"mediacache-error"}},d),d.prototype.pGb=function(){return this.Ov},d.prototype.wxa=function(t){return t.slice(this.Ov.length+1)},d.prototype.lna=function(){return Object.keys(this.De).filter(function(t){return void 0===(t=u.Ima(this.De[t]))||0>=t.JSa()}.bind(this))},d.prototype.BGb=function(){return Object.keys(this.De).reduce(function(t,e){var i;return(i=this.De[e])&&i.creationTime<t.creationTime?{resourceKey:e,creationTime:i.creationTime}:t}.bind(this),{resourceKey:null,creationTime:r.time.now()}).Sbc},d.prototype.uFb=function(){var t;if("FIFO"===this.bmb)t=this.BGb();return t},d.prototype.Lzb=function(t){var e;e=n.gd(t)?t:l,this.bYa(function(i){var n,o,a;n=this.De,o=Object.keys(n).reduce((function(t,e){return(e=n[e]).resourceIndex&&Object.keys(e.resourceIndex).forEach((function(e){t.push(e)})),t}),[]),(i=i.filter((function(t){return!u.BN(t)&&0>o.indexOf(t)})))&&0<i.length?(a=this,i=r.Promise.all(i.map((function(t){return new r.Promise((function(e,i){a.delete(t,(function(t){t?i(t):e()}))}))}))).then((function(){e(void 0,{Aua:!0})}),(function(t){e(t,{Aua:!1})})),h.Uw(i)):t(void 0,{Aua:!1})}.bind(this))},d.prototype.yUb=function(t,e,i){var s,h;s=n.gd(e)?e:l,e=this.yq(t),h=r.time.now(),this.Hv.read(this.dt,e,0,-1,function(e,f){var l;if(e)s(e);else if(f&&f.$&&f.value){n.gd(i)||(i=this.QF.uV(c.Zq.BE),u.BN(t)?i=this.QF.uV(c.Zq.L0):(e=this.De[t],!n.ia(e)&&n.Ba(e.resourceIndex[t])?(e=e.resourceIndex[t],n.ia(e)&&(e=c.Zq.BE),i=this.QF.uV(e)):a.warn("Metadata is undefined or does not contain a resource format for key",t,":",e)));try{l=i(f.value)}catch(t){return s(o.jK.Uq(t.message))}f={duration:r.time.now()-h},this.De[t]&&n.Ba(this.De[t].size)&&(f.Ky=n.Ba(this.De[t].size)?this.De[t].size:0),s(null,l,f)}else s(o.jK.Uq(f.error))}.bind(this))},d.prototype.read=function(t,e,i){this.yUb(t,e,i)},d.prototype.Z9=function(t,e,i){var a,s,u;a=n.gd(e)?e:l,"[object Array]"!==Object.prototype.toString.call(t)?a(o.jK.Uq("item keys must be an array")):(s={},u=[],t=r.Promise.all(t.map(function(t){return new r.Promise(function(e,r){var o;i&&!n.ia(i[t])&&(o=this.QF.uV(i[t])),this.read(t,(function(i,n,o){i?((n={})[t]=i,r(n)):(s[t]=n,u.push({duration:o.duration,Ky:o.Ky}),e())}),o)}.bind(this))}.bind(this))).then((function(){var t;t={},0<u.length&&(t=u.reduce((function(t,e){return n.Ba(e.duration)&&(t.duration+=e.duration),n.Ba(e.Ky)&&(t.Ky+=e.Ky),t}),{duration:0,Ky:0})),a(null,s,t)}),(function(t){a(t)})),h.Uw(t))},d.prototype.write=function(t,e,i,r,a){var s,u,h;i=n.gd(i)?i:l,s=this.yq(t),u="function"==typeof a?a():0,h=c.joa(e),(h=this.QF.Sna(h)(e)).byteLength+this.ty>=this.Ag?i(o.DJ):v(h.byteLength+u,this.ey)?i(o.w1):this.xL.save(this.dt,s,e,this.Cmb(t,r,i,a,this.ey),h.byteLength)},d.prototype.replace=function(t,e,i,r,s){var u,h,f,d;u=n.gd(i)?i:l,h=this.yq(t),f=0,"function"==typeof s&&(f=s()),i=c.joa(e),d=this.QF.Sna(i)(e),0>=(i=(this.De[t]||{}).size||0)&&this.De[t]?this.FYa([t],function(i){a.trace("Replacing key",t,"which exists:",!!this.De[t],this.De[t]?this.De[t]:void 0,"and has size",i,"with",e,"with size",d.byteLength,"plus _used",this.ty,"vs capacity",this.Ag),d.byteLength-i+this.ty>=this.Ag?u(o.DJ):v(d.byteLength-i+f,this.ey)?u(o.w1):this.xL.replace(this.dt,h,e,this.uNa(t,r,u,s,this.ey),d.byteLength)}.bind(this)):(a.trace("Replacing key",t,"which exists:",!!this.De[t],this.De[t]?this.De[t]:void 0,"and has size",i,"with",e,"with size",d.byteLength,"plus _used",this.ty,"vs capacity",this.Ag),d.byteLength-i+this.ty>=this.Ag?u(o.DJ):v(d.byteLength-i+f,this.ey)?u(o.w1):this.xL.replace(this.dt,h,e,this.uNa(t,r,u,s,this.ey),d.byteLength))},d.prototype.GVb=function(t,e,i,a){var s;s=n.gd(e)?e:l,"[object Object]"!==Object.prototype.toString.call(t)?s(o.v1.Uq("items must be a map of keys to objects")):(e=r.Promise.all(Object.keys(t).map(function(e){return new r.Promise(function(i){this.replace(e,t[e],(function(t,n){i(t?{error:t,Kq:e}:n)}),!0,a)}.bind(this))}.bind(this))).then(function(t){var e,o,u,c;try{e=Number.MAX_VALUE,o=t.reduce((function(t,i){return i.error||(t.Ok+=i.Ok,n.Ba(i.duration)&&(t.duration+=i.duration),!n.ia(i.An)&&i.An<e&&(e=i.An),i.items.map((function(e){t.items.push({key:e.key,al:e.al,D7:e.D7,$Mb:e.$Mb,duration:e.duration})})),e<Number.MAX_VALUE&&(t.An=e)),t}),{Ok:0,items:[],time:r.time.now(),duration:0}),0<this.ey&&(o.jM=this.ey-a()),u=t.filter((function(t){return!n.ia(t.error)})),c=h.sZa(u),i||(c?c.forEach(function(t){this.Va(d.Le.Mf,t)}.bind(this)):this.Va(d.Le.REPLACE,h.oXa(o))),s(c,o)}catch(t){s(t)}}.bind(this),function(t){i||this.Va(d.Le.Mf,t),s(t)}.bind(this)),h.Uw(e))},d.prototype.delete=function(t,e){var i;i=n.gd(e)?e:l,this.Hv.remove(this.dt,this.yq(t),function(t,e){t?i(t):e&&e.$?p(this.Hv,this.dt,this.yq(""),function(t,e){t?i(t):(this.ty=e,i())}.bind(this)):i(o.xeb.Uq(e.error))}.bind(this))},d.prototype.bYa=function(t){this.query("",(function(e,i){e?(a.error("Failed to get keys",e),t([])):t(i)}))},d.prototype.query=function(t,e){var i,r;i=n.gd(e)?e:l,r=this.xL.rna(),this.Hv.query(this.dt,this.yq(t),function(t,e){t?i(t):i(null,Object.keys(e).filter((function(t){return t!==r})).map(this.wxa.bind(this)))}.bind(this))},d.prototype.yq=function(t){return this.Ov+"."+t},d.prototype.clear=function(t){var e;e=n.gd(t)?t:l,this.bYa(function(t){var i;i=r.Promise.all(t.map(function(t){return new r.Promise(function(e){t&&this.delete(t,(function(){e()}))}.bind(this))}.bind(this))).then((function(){e(t)}),function(t){this.Va(d.Le.Mf,t),e([],t)}.bind(this)),h.Uw(i)}.bind(this))},d.prototype.FYa=function(t,e){var i,r;i=n.gd(e)?e:l,r=(t||[]).map(function(t){return this.yq(t)}.bind(this)),this.Hv.query(this.dt,this.Ov,function(e,n){e?(a.error("failed to get persisted size for keyset ",t,e),i(0)):(e=Object.keys(n).filter((function(t){return 0<=r.indexOf(t)})).reduce((function(t,e){return t+(n[e].size||0)}),0),i(e))}.bind(this))},d.prototype.KEb=function(t){return this.xL.eXa(t)},d.prototype.constructor=d,t.exports=d},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i){var l,d,p,b;function v(t,e,i,n){t.info.call(t,function(t,r){var o;if(t)n(t);else{try{o=r.values[this.context].entries[e][i].size}catch(t){o=-1}-1<o?n(null,o):this.validate((function(t,e){t?n(t):(e[i]&&(o=e[i].size),n(null,o))}))}}.bind(t))}function y(t,e,i,n,o,a){n.qq(i.time,i);for(var u=i.time-864e5,h=n.Pw();h&&!isNaN(h.time)&&h.time<u;)h=n.nM(),l(0-(h.fa||0)),h=n.Pw();n=n.fp().map((function(t){return t.time+";"+t.fa})),function(t,e,i,n,o,a,u){var h;a?a.actions||(a.actions={}):a={actions:{}},l(n),h=r.time.now(),n=new c((function(n,o){t.create(r.storage.AR,e,i,(function(t,e){t?o(t):n(e)}))})).then((function(i){i.$?v(t,r.storage.AR,e,(function(t,n){t?u(t):(d(n),l(n),a.actions[f.h_.Mca]={$:!0,time:o,Ok:n,E7:e,B6a:i,duration:r.time.now()-h},a.An=i.An,u(null,a))})):(a.actions[f.h_.Mca]={$:!1,E7:e,error:i.error},u(null,a))}),(function(t){u(t)})),s.Uw(n)}(t,e,Array.prototype.join.call(n,"|"),i.fa,i.time,o,a)}if(!t.jr.valid)return h;this.QMa=n.ia(e)||n.Bb(e)?0:e,this.Jfa=t,this.pga=this.kS=0,this.cT=new a,this.sob=i||"default",this.ZK=this.sob+".NRDCACHEJOURNALKEY",l=function(t){return isNaN(t)||(this.kS+=t),this.kS}.bind(this),d=function(t){return isNaN(t)||(this.pga+=t),this.pga}.bind(this),this.rna=function(){return this.ZK},this.save=function(t,e,i,n){var a;a=r.time.now(),function(t,e,i,n,a,s,c,h,d){var p;p=r.time.now(),t.append(i,n,a,(function(a,b){var g;a?(u.error("Failed to save item "+n,a),d(a)):b.$?(g=b.An,v(t,i,n,(function(i,o){var a,u;i?d(i):(i={time:h,fa:o||0},a={An:g,actions:{}},u=r.time.now()-p,a.actions[f.h_.Gjb]={$:!0,time:h,Ok:o,E7:n,B6a:b,duration:u},s?y(t,e,i,c,a,d):(l(o),d(null,a)))}))):d(o.v1.Uq(b.error||"Failed to save item"))}))}(this.Jfa,this.ZK,t,e,i,0<=this.QMa,this.cT,a,n)},this.replace=function(t,e,i,n){var a;a=r.time.now(),function(t,e,i,n,a,s,c,h,d){var p;p=r.time.now(),t.create(i,n,a,(function(a,b){var g;a?u.error("Failed to replace item",n,a):b.$?(g=b.An,v(t,i,n,(function(i,o){var a,u;i?d(i):(i={time:h,fa:o||0},a={An:g,actions:{}},u=r.time.now()-p,a.actions[f.h_.REPLACE]={$:!0,time:h,Ok:o,E7:n,B6a:b,duration:u},s?y(t,e,i,c,a,d):(l(o),d(null,a)))}))):d(o.v1.Uq(b.error||"Failed to create item"))}))}(this.Jfa,this.ZK,t,e,i,0<=this.QMa,this.cT,a,n)},this.eXa=function(t){var e,i;e=this.kS,t-=864e5;for(var n=this.cT.fp(),r=0;r<n.length;r++)(i=n[r]).time<t&&!isNaN(i.fa)&&(e-=i.fa);return e},b=(p=this).Jfa,p.kS=0,b.read(r.storage.AR,p.ZK,0,-1,(function(t,e){var i,o,a,s;if(i=[],o=0,a=!0,t)u.error("Failed to compile records",t);else if(e.$){t=String.fromCharCode.apply(null,new Uint8Array(e.value)),e=(t=String.prototype.split.call(t,"|")).reduce((function(t,e){return t+(e.length+40)}),0),l(e),i=t.map((function(t){return t=t.split(";"),{time:Number(t[0]),fa:Number(t[1])}}));try{if(!isNaN(i.reduce((function(t,e){return t+e.fa}),0))){a=!1;for(var c=r.time.now()-864e5;o<i.length;o++)(s=i[o]).time<c||(p.cT.qq(s.time,s),l(s.fa))}}catch(t){}}a&&function(t,e){t&&n.gd(t.remove)&&t.jr.valid&&t.remove(r.storage.AR,e.ZK,(function(i,r){if(i)u.error("Failed to delete old journal key",i);else try{r&&(n.ia(r.error)||r.error.some((function(t){return"NFErr_FileNotFound"===t.a$b})))&&y(t,e.ZK,{time:0,fa:0},e.cT,0,(function(){}))}catch(t){}}))}(b,p)}))}n=i(10),r=i(127),o=i(249),a=i(880),e=i(86),s=i(250),u=new r.Console("DISKWRITEMANAGER","media|asejs"),c=r.Promise,e({h_:{Gjb:"saveitem",REPLACE:"replaceitem",Mca:"journalupdate"}},f),h={save:function(t,e,i,n){n(o.tFa)},replace:function(t,e,i,n){n(o.tFa)},rna:function(){return""},eXa:function(){return 0}},f.prototype.constructor=f,t.exports={create:function(t,e,i){return new f(t,e,i)},D6b:h}},function(t){function e(t){if(!(this instanceof e))return new e(t);if(void 0===t)this.cn=function(t,e){return t<=e};else{if("function"!=typeof t)throw Error("heap comparator must be a function");this.cn=t}this.Bp=[]}function i(t,e){var r,o,a,s,u,c,h;r=t.Bp,o=t.cn,a=2*e+1,s=2*e+2,u=r[e],c=r[a],h=r[s],c&&o(c.priority,u.priority)&&(!h||o(c.priority,h.priority))?(n(r,e,a),i(t,a)):h&&o(h.priority,u.priority)&&(n(r,e,s),i(t,s))}function n(t,e,i){var n;n=t[e],t[e]=t[i],t[i]=n}e.prototype.clear=function(){this.Bp=[]},e.prototype.qq=function(t,e){this.Bp.push({priority:t,value:e}),t=this.Bp,e=this.cn;for(var i=t.length-1,r=0===i?null:Math.floor((i-1)/2);null!==r&&e(t[i].priority,t[r].priority);)n(t,i,r),r=0===(i=r)?null:Math.floor((i-1)/2)},e.prototype.remove=function(){var t;if(0!==this.Bp.length)return t=this.Bp[0],n(this.Bp,0,this.Bp.length-1),this.Bp.pop(),i(this,0),t.value},e.prototype.Pw=function(){if(0!==this.Bp.length)return this.Bp[0].value},e.prototype.enqueue=e.prototype.qq,e.prototype.nM=e.prototype.remove,e.prototype.n7=function(){return 0===this.Bp.length},e.prototype.fp=function(){return this.Bp.map((function(t){return t.value}))},t.exports=e},function(t){function e(t,e){var i;if(void 0===e||"function"!=typeof e||"string"!=typeof t)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");return void 0===this.Ad?(this.Ad={},this.Ad[t]=[e],!0):void 0===(i=this.Ad[t])?(this.Ad[t]=[e],!0):0>i.indexOf(e)&&(i.push(e),!0)}function i(t,e){return!!(t=this.Ad?this.Ad[t]:void 0)&&(t.forEach((function(t){t(e)})),!0)}t.exports={addEventListener:e,on:e,removeEventListener:function(t,e){var i;if(void 0===e||"function"!=typeof e||"string"!=typeof t)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");return void 0!==this.Ad&&(void 0!==(i=this.Ad[t])&&(!(0>(e=i.indexOf(e)))&&(1===i.length?(delete this.Ad[t],!0):(i.splice(e,1),!0))))},Va:i,emit:i,removeAllListeners:function(t){return this.Ad&&(void 0===t?delete this.Ad:delete this.Ad[t]),this}}},function(t){function e(t,e,i,n){t.trace(":",i,":",n),e(n)}function i(t){this.listeners=[],this.console=t}i.prototype.constructor=i,i.prototype.addEventListener=function(t,i,n,r){if(n=r?n.bind(r):n,r=!1,t){if(this.console&&(n=e.bind(null,this.console,n,i)),"function"==typeof t.addEventListener)r=t.addEventListener(i,n);else{if("function"!=typeof t.addListener)throw Error("Emitter does not have a function to add listeners for '"+i+"'");r=t.addListener(i,n)}this.listeners.push([t,i,n])}return r},i.prototype.on=i.prototype.addEventListener,i.prototype.clear=function(){var t;t=this.listeners.length,this.listeners.forEach((function(t){var e,i;e=t[0],i=t[1],t=t[2],"function"==typeof e.removeEventListener?e.removeEventListener(i,t):"function"==typeof e.removeListener&&e.removeListener(i,t)})),this.listeners=[],this.console&&this.console.trace("removed",t,"listener(s)")},t.exports=i},function(t,e,i){var n,r,o,a;n=i(10),r=i(128),(o={})[r.Zq.BE]=function(t){return t},o[r.Zq.f1]=function(t){return t=t||new ArrayBuffer(0),String.fromCharCode.apply(null,new Uint8Array(t))},o[r.Zq.L0]=function(t){var e;e=t||new ArrayBuffer(0),t="",e=new Uint8Array(e);for(var i=0;i<e.byteLength;i++)t+=String.fromCharCode(e[i]);return JSON.parse(t)},(a={})[r.Zq.BE]=function(t){return t},a[r.Zq.f1]=function(t){for(var e=new ArrayBuffer(t.length),i=new Uint8Array(e),n=0,r=t.length;n<r;n++)i[n]=t.charCodeAt(n);return e},a[r.Zq.L0]=function(t){return n.ia(t)||n.Bb(t)?t:a[r.Zq.f1](JSON.stringify(t))},t.exports={uV:function(t){return o[t]||o[r.Zq.BE]},Sna:function(t){return a[t]||a[r.Zq.BE]}}},function(t,e,i){function n(t){return t}function r(){return n}i(10),t.exports={uV:r,Sna:r}},function(t,e,i){var n;function r(t,e){return t.length>e.length?1:e.length>t.length?-1:0}n=i(128),t.exports={rAb:function t(e,i){var r,o,a;return r=[],n.Jh(i)?((a={})[e]=o={},r.push(a),r=Object.keys(i).reduce((function(r,a){var s,u,c;return s=i[a],u={},n.j7(s)?(u[c=e+".__embed__."+a]=s,r.push(u)):n.Jh(s)?(s=t(c=e+".__sub__."+a,s),o[a]=s[0][c],r=r.concat(s.slice(1))):o[a]=s,r}),r)):((a={})[e]=i,r.push(a)),r},hKb:function(t){var e,i,n,o;(e=Object.keys(t).map((function(t){return t.split(".")}))).sort(r),n=(i=e[0]).length,i=t[i.join(".")];for(var a=1;a<e.length;a++)for(var s=!1,u=!1,c=i,h=n;h<e[a].length;h++)switch(o=e[a][h]){case"__metadata__":break;case"__sub__":u=!0;break;case"__embed__":s=!0;break;default:u?(c=c[o],u=!1):s&&(c[o]=t[e[a].join(".")],s=!1)}return i},OKb:function(t){return t&&(0<=t.indexOf("__sub__")||0<=t.indexOf("__embed__"))}}},function(t,e,i){var n,r;function o(t,e,i){return Object.keys(t).forEach((function(r){var a,s;n.Jh(t[r])&&(t[r].j7?(a=t[r],s=i+a.offset,t[r]=e.slice(s,s+a.byteLength)):t[r]=o(t[r],e,i))})),t}function a(t,e,i){return Object.keys(t).forEach((function(r){var o;n.j7(t[r])?(o=t[r],e.push(o),t[r]={j7:!0,offset:i.yka,byteLength:o.byteLength},i.yka+=o.byteLength):n.Jh(t[r])&&a(t[r],e,i)})),t}function s(){var t,e,i;return e=(t=Array.prototype.concat.apply([],arguments)).reduce((function(t,e){return t+e.byteLength}),0),i=new Uint8Array(e),t.reduce((function(t,e){return i.set(new Uint8Array(e),t),t+e.byteLength}),0),i.buffer}n=i(128),r=i(86),t.exports={Wvb:function(t){var e,i,n;e=a(e=r(t,{}),t=[],{yka:0}),e=JSON.stringify(e),i=new ArrayBuffer(e.length+4),(n=new DataView(i)).setUint32(0,e.length);for(var o=4,u=0,c=e.length;u<c;u++)n.setUint8(o,e.charCodeAt(u)),o++;return t=[i].concat(t),s.apply(null,t)},Vvb:function(t){for(var e=new DataView(t,0,4).getInt32(0),i=new Uint8Array(t,4,e),n="",r=0;r<i.byteLength;r++)n+=String.fromCharCode(i[r]);return e=4+e,o(n=JSON.parse(n),t,e)}}},function(t,e,i){var n,r,o,a,s;function u(t){return{mediaType:t.mediaType,streamId:t.Oa,movieId:t.J,bitrate:t.bitrate,location:t.location,serverId:t.Md,saveToDisk:!0,offset:t.offset,bytes:t.fa,timescale:t.S,frameDuration:t.stream.sa&&t.stream.sa.vc,encrypted:t.Tk,initSegments:1<t.Wg.length?t.Wg.map((function(t){return{fi:t.Qd,s:t.data.byteLength,e:!!t.Tk}})):void 0}}Object.defineProperties(e,{__esModule:{value:!0}}),e.Apa=e.Bpa=e.d0a=e.uYa=e.UXa=e.WXa=e.wna=e.Ana=e.zna=e.Pma=e.Qma=e.sFa=void 0,n=i(2).__importStar(i(10)),r=i(888),o=i(379),a=i(9),s=i(22),e.sFa={xFa:"movieEntry",Qfb:"header",gda:"metadata",qgb:"headerData",w5b:"headerMetadata",Hfb:"sizes",Gfb:"durations",ACa:"fragments",whb:"response",Yq:"billboard",PE:{lifespan:259200}},e.Qma=function(t,e,i){var n,r;return n=e.headerData,i&&e.sizes instanceof ArrayBuffer&&e.durations instanceof ArrayBuffer&&(r={jl:i.startTicks,offset:i.offset,S:i.timescale,sizes:new Uint32Array(e.sizes),vd:new Uint32Array(e.durations)}),{ad:!0,mediaType:t.mediaType,J:t.movieId,Oa:t.streamId,bitrate:t.bitrate,location:t.location,Md:t.serverId,fa:t.bytes,offset:t.offset,Coa:n,W6:t.initSegments,Tk:t.encrypted,S:t.timescale,sa:t.frameDuration,Ph:t.saveToDisk,U:r}},e.Pma=function(t,e){var i,n,r;return e=e.response,i=t.startTicks,n=t.durationTicks,void 0!==i&&void 0!==n&&(r=i+n),{ad:!1,mediaType:t.mediaType,J:t.movieId,Oa:t.streamId,bitrate:t.bitrate,location:t.location,Md:t.serverId,fa:t.bytes,offset:t.offset,response:e,S:t.timescale,Wa:t.startTicks,Lt:n,Ph:t.saveToDisk,ob:r}},e.zna=function(t){return{priority:t.priority,J:t.movieId,headers:{},pN:0,qU:0,RZa:0,Ph:t.saveToDisk,ec:t.stats,rw:t.firstSelectedStreamBitrate,Kz:t.initSelectionReason,bD:t.histDiscountedThroughputValue,Mo:t.histTdigest,Lo:t.histAge,xo:void 0}},e.Ana=function(t,e,i,a,u){var c,h;return c={headers:{},data:{}},a.forEach((function(n){var a,h,f;if(a=n.mediaType,a=u&&u.ww(a,n.Oa),h=[],n.ad)if(!Array.isArray(n.W6)||2>n.W6.length)h.push({Qd:0,data:n.Coa});else for(var l=0,d=0;d<n.W6.length;++d)f=n.W6[d],h.push({Qd:f.fi,data:n.Coa.slice(l,l+f.s),Tk:f.e}),l+=f.s;a?(n.U&&a.h9(h,n.S,n.sa?new s.T(n.sa,n.S):void 0,n.U),n.ad&&a&&a.je?(void 0===c.headers&&(c.headers={}),c.headers[n.Oa]=new o.u_(a,{fa:n.fa,offset:n.offset,Wg:h,Tk:n.Tk},e)):n.response instanceof ArrayBuffer&&void 0!==a.U&&void 0!==n.Wa&&void 0!==n.S&&void 0!==n.ob&&(void 0!==(h=a.U.o5(new s.T(n.Wa,n.S).Y))&&(a=new r.Oya(a,{S:n.S,Wa:n.Wa,ob:n.ob,index:h.index,offset:n.offset,fa:n.fa},n.response,i,t,e),void 0===c.data&&(c.data={}),c.data[n.Oa]||(c.data[n.Oa]=[]),c.data[n.Oa].push(a)))):e.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+n.Oa+" movieId: "+n.J)})),n.ia(c.data)||(h=c.data,Object.keys(h).forEach((function(t){h[t].sort((function(t,e){return t.Wa-e.Wa}))}))),c},e.wna=function(t){return{mediaType:t.mediaType,streamId:t.Oa,movieId:t.J,bitrate:t.bitrate,location:t.location,serverId:t.Md,saveToDisk:!0,offset:t.offset,bytes:t.fa,timescale:t.S,startTicks:t.Wa,durationTicks:t.Lt}},e.WXa=u,e.UXa=function(t){var e,i,n,r;return e=u(t),t.stream.je&&t.stream&&t.stream.U&&(i={timescale:t.stream.U.S,startTicks:t.stream.U.jl,offset:t.stream.U.Sd(0)},r=(n=t.stream.U.cx).sizes.buffer,n=n.vd.buffer),{mediaType:e.mediaType,streamId:e.streamId,movieId:e.movieId,bitrate:e.bitrate,location:e.location,serverId:e.serverId,saveToDisk:!0,offset:e.offset,bytes:e.bytes,timescale:e.timescale,frameDuration:e.frameDuration,headerData:a.AC(t.Wg.map((function(t){return t.data}))),initSegments:e.initSegments,encrypted:t.Tk,fragments:i,sizes:r,durations:n}},e.uYa=function(t){return{priority:t.priority,movieId:t.J,saveToDisk:t.Ph,firstSelectedStreamBitrate:t.rw,initSelectionReason:t.Kz,histDiscountedThroughputValue:t.bD,histTdigest:t.Mo,histAge:t.Lo}},e.d0a=function(t){return!n.has(t,"startTicks")},e.Bpa=function(t){return!(t.Coa&&t.S&&t.U&&void 0!==t.U.jl&&void 0!==t.U.offset&&void 0!==t.U.vd&&t.U.vd.length&&void 0!==t.U.sizes&&t.U.sizes.length)},e.Apa=function(t){return void 0===t.fa||void 0===t.offset||void 0===t.S||void 0===t.Wa||void 0===t.Lt}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.Oya=void 0,n=i(2),r=i(9),t=i(42),o=i(101),i=function(t){function e(e,i,n,r,a,s){return r=t.call(this,e,i,r,a,s)||this,i.fa=n.byteLength,o.Rm.xb(r,e,i),r.lL=n,r.llb=i.fa,r}return n.__extends(e,t),Object.defineProperties(e.prototype,{ad:{get:function(){return!1},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ku:{get:function(){return!1},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{rf:{get:function(){return 0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{status:{get:function(){return 0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{uj:{get:function(){return 0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ph:{get:function(){},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{active:{get:function(){return!1},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{complete:{get:function(){return!0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{response:{get:function(){return this.lL},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{OMb:{get:function(){return!0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{url:{get:function(){return"disk://"},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{aborted:{get:function(){return!1},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{HM:{get:function(){return""},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wua:{get:function(){return!1},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{bytesReceived:{get:function(){return this.llb},enumerable:!1,configurable:!0}}),e.prototype.iu=function(){return!0},e.prototype.eG=function(t){return this.ef=t.appendBuffer(this.response,r.vq(this)),{$:this.ef}},e.prototype.mi=function(){return-1},e.prototype.abort=function(){return!0},e.prototype.ed=function(){},e.prototype.daa=function(){return!1},e}(i(234).AJ),e.Oya=i,t.xf(o.Rm,i)},function(t,e,i){var r,o,a,s,u,c,h,f,l,d;Object.defineProperties(e,{__esModule:{value:!0}}),e.uKa=void 0,r=i(2),t=i(17),o=i(67),a=r.__importDefault(i(6)),s=i(16),u=i(251),c=i(9),h=i(5),f=i(957),l=i(356),(d=new a.default.Console("ASEJS","media|asejs")).trace.bind(d),t=function(t){var e;for(e=2;17!==e;)switch(e){case 2:r.__extends(a,t),Object.defineProperties(a.prototype,{Qb:{get:function(){for(2;;)return this.Ka.Qb},enumerable:!1,configurable:!0}}),Object.defineProperties(a.prototype,{In:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.Ka.In}},enumerable:!1,configurable:!0}}),Object.defineProperties(a.prototype,{Kh:{get:function(){var t;for(t=2;1!==t;)switch(t){case 2:case 4:return this.Ka.Kh}},enumerable:!1,configurable:!0}}),a.prototype.xb=function(t,e,i,n,r,o,a,s){var u;for(u=2;5!==u;)if(2===u)this.Ka.Sva({audio:t,video:e,ria:a,hya:s},{Y:n,fa:r}),this.Ka.open(this.config,this.mE),u=5},e=9;break;case 9:a.prototype.OY=function(t,e,i){var n;for(n=2;1!==n;)if(2===n)this.Ka.Sva({total:t},{Y:e,fa:i}),n=1},a.prototype.createSession=function(t,e,i,n,r,o,u,c,l,d){var p,b,v;for(p=2;19!==p;)switch(p){case 6:l=v.Ca.qa[v.Ca.Yd].Jb,v=[this.JV(b,v.Ca,i,l)],d[1]&&v.push(this.JV(b,d[1].Ca,i,l)),p=12;break;case 2:"g sessio","n",this.console.trace("creating session"),this.Ka.Qb.reset(),b=Number(t.movieId),p=4;break;case 4:l=this.t6(b,r.ba),this.MA[l]={mja:function(){},ba:r.ba,equals:function(t){for(2;;)return!(t.W!==b||r.ba!==t.ba&&t.ba&&r.ba)},Ot:!1,hv:Promise.resolve({oa:t,ii:!!n.ii,Bd:s.s8(!!n.GT,!!n.sE),config:c}),W:b},p=9;break;case 9:c.jz&&this.Ka.aE(this.MA[l],{ds:r.ds,ba:r.ba,HC:r.HC}),v=(d=this.qyb(b,t,c.M5a,c,r,d||a.Bzb,n))[0],p=6;break;case 12:return"Pts is ","not"," supported",h.assert(void 0===n.Ha,"endPts is not supported"),this.P7=new f.vKa(this.console,this,t,d,e,v,n,r,o,u,c),c.wr||c.RH||this.Ly(),this.P7}},e=7;break;case 20:return"0",a.prototype.t6=function(t,e){for(2;;)return n.Z4L(5),n.J4L(t,e,"-")},a.Bzb="s0",a;case 7:a.prototype.JV=function(t,e,i,n){for(2;;){return"relat","ive ","to playgraph",e.qa[e.Yd].Jb===n?(t=l.gka(e,t,c.T.Eb(i)),h.assert(t,"invalid start position relative to playgraph"),t):{xa:e.Yd,offset:c.T.Gb}}},a.prototype.lx=function(t,e,i){for(2;;)return r.__awaiter(this,void 0,void 0,(function(){var n,o,a,s;for(2;;)return r.__generator(this,(function(r){var u,c;for(u=2;3!==u;)switch(u){case 2:u=0===(c=r.label)?1:9;break;case 1:return" viewab","le. Viewable not found ",n=this.Cn.bind(this,i.ba),o=this.t6(t,i.ba),a=n(t),h.assert(void 0!==a,"Can not update viewable. Viewable not found "+o),[4,a.hv];case 5:return s=r.bd(),this.MA[o]={mja:function(){},ba:i.ba,equals:function(e){for(2;;)return!(e.W!==t||i.ba!==e.ba&&e.ba&&i.ba)},Ot:!1,hv:Promise.resolve({oa:e,ii:s.ii,Bd:s.Bd,config:s.config}),W:t},[4,this.Ka.lx(this.MA[o])];case 4:return r.bd(),[2];case 9:u=1===c?5:8;break;case 8:u=2===c?4:3}}))}))},a.prototype.qyb=function(t,e,i,a,s,u,c){var f,l,d,p,b,v,y;for(f=2;7!==f;)switch(f){case 8:return y;case 2:"ide","o";"u","d","io";"d","i","o";"i","deo";"playgraph f","rom choice","map.",l=this,(d=e.choiceMap)?(t=o.xC(d,{config:a}),this.console.trace("Generated playgraph from choicemap.")):t=o.NI(t,u,c.GT||c.sE?c.sE?["video"]:["audio"]:["audio","video"]),f=5;break;case 9:Object.keys(p).forEach((function(t,e){var s;for(s=2;9!==s;)switch(s){case 2:"parallel g","raph can only be media type [aud","io]";"u","dio";"nly on","e parallel graph is supported",n.Z4L(20),h.assert(n.J4L(0,e),"Currently only one parallel graph is supported"),e=p[t],h.assert(e.Bd&&1===e.Bd.length&&"audio"===e.Bd[0],"Currently parallel graph can only be media type [audio]"),s=4;break;case 4:t=o.xC(d,r.__assign(r.__assign({},p[t]),{config:a})),y.push(l.Ka.aG(t,i,b,{Cn:v})),s=9}})),f=8;break;case 4:f=d&&d.HRb?3:8;break;case 3:p=d.HRb,f=9;break;case 5:b=Object.create(a,{iz:{value:s.HC},DDb:{value:s.HL}}),v=this.Cn.bind(this,s.ba),y=[this.Ka.aG(t,i,b,{Cn:v})],f=4}},a.prototype.Wub=function(){var t;for(t=2;1!==t;)switch(t){case 4:this.Qb.lP(1),t=2;break;case 2:this.Qb.lP(null),t=1}},e=12;break;case 12:a.prototype.Cn=function(t,e){for(2;;)return this.MA[this.t6(e,t)]},a.prototype.zVb=function(t){var e,i,n;for(e=2;13!==e;)switch(e){case 2:this.Wub(),i=this.t6(t.W,t.ba),(n=this.MA[i])&&(n.Ot=!0),this.Ka.Qu(t.pa),t.Fa&&this.Ka.LO(t.Fa),t.Ig&&this.Ka.Qu(t.Ig),e=8;break;case 8:t.vj&&this.Ka.LO(t.vj),t===this.P7&&delete this.P7,this.Ka.Kua(this.MA[i]),delete this.MA[i],e=13}},a.prototype.Nb=function(){var t;for(t=2;9!==t;)switch(t){case 4:"ager wi","th"," latest session sti","ll defined",h.assert(void 0===this.P7,"Attempt to destruct ShimManager with latest session still defined"),this.Ka.close(),t=9;break;case 2:"ruct ShimManager"," with ","session config active";"d to destruct ShimManage","r with players present in ASE";"ruct Shi","mManager with pl","aygraphs present in ","ASE",h.assert(0===this.Ka.OD.length,"Attempted to destruct ShimManager with playgraphs present in ASE"),h.assert(0===this.Ka.L5a.length,"Attempted to destruct ShimManager with players present in ASE"),h.assert(0===Object.keys(this.MA).length,"Attempted to destruct ShimManager with session config active"),t=4}},e=20}function a(e,n,r,o){var a,s;for(a=2;11!==a;)switch(a){case 14:return"IY","bZrNJ","Cp","9",s.Ka=u.bH(),s;case 8:"BUG",":";"-a","se shim vers","ion:",e=i(404),s.console=d,s.console.trace("nf-ase shim version:",e,"DEBUG:",!1),a=14;break;case 2:(s=t.call(this)||this).config=e,s.Ly=n,s.Lp=r,s.mE=o,s.MA={},a=8}}}(t.EventEmitter),e.uKa=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N;Object.defineProperties(e,{__esModule:{value:!0}}),e.Dya=void 0,n=i(2),r=i(17),o=i(354),a=i(222),s=i(891),u=i(218),c=i(16),i(213),h=i(892),f=i(407),l=i(932),d=i(400),p=i(25),b=i(5),v=i(385),y=i(933),g=i(934),m=i(935),_=i(118),w=i(253),E=i(936),k=i(72),O=i(252),S=i(9),T=n.__importDefault(i(6)),A=i(937),P=i(938),j=i(939),I=i(940),x=i(54),M=i(415),R=i(951),N=i(952),t=function(){function t(t){this.H=t,this.events=new r.EventEmitter,this.$c=o.Os.CLOSED,this.Vv=[],this.RY=[],this.VS=[],this.Cp=[],this.CMa={},this.G2={},this.Qwa=o.lQ.default,this.Hpb=new _.IB({wu:this,source:"engine",xD:10,console:t})}return Object.defineProperties(t.prototype,{Gu:{get:function(){return b.assert(this.my),this.my},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{state:{get:function(){return this.$c},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{L5a:{get:function(){return this.VS},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{OD:{get:function(){return this.Cp.map((function(t){return t.Ca}))},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{PSb:{get:function(){return this.Cp},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Qb:{get:function(){return this.cJ(),this.Sy.Qb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{In:{get:function(){return this.cJ(),this.Sy.In},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Kh:{get:function(){return this.cJ(),this.Sy.Kh},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{z2b:{get:function(){return this.Vv.length},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{E3:{get:function(){return this.CMa},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{QI:{get:function(){return this.G2},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{tOb:{get:function(){return this.YNa||(this.YNa=this.Dtb())},enumerable:!1,configurable:!0}}),t.prototype.open=function(t,e,i,n){var r;return r=this,this.$c!==o.Os.OPEN&&(this.I=t,this.Ls=new k.XR(new O.k1({Zk:!0,currentTime:function(){return S.T.Eb(T.default.time.ea())},speed:1}),this.H,"Engine Scheduler"),this.sNa=new s.SCa(this.H,t),this.$B=new l.TJa(this.C7.bind(this),t),this.Sy=u.GJ.DYa(t,e),this.$c=o.Os.OPEN,t=Object.create(t,{jrb:{value:t.RH||t.wr}}),this.my=M.EV(t),i&&this.my.TXb(i),n&&this.my.Zva(n),this.N5a=new R.cJa({Pk:function(){r.$c!==o.Os.CLOSED&&r.$B.Pk("playgraphOpportunity")}}),this.ZNa=new j.mGa((function(){return r.f6()}),(function(){return r.g6().global}),this.H),this.wyb(),!0)},t.prototype.aG=function(e,o,a,s,u){var c,h,l;return c=this,void 0===u&&(u=!0),this.cJ(),h=Object.create(a,{rP:{value:this.QI}}),u&&(a=this.Gu.Nub(e,h))?(a.cbb(o),a):(e=[e,o,h,t.vPb++,this.Qb,this.WO.bind(this,s),function(t,e){var i,n;return n=s.Cn(t),null==(t=null===(i=p.ig(c.Vv,(function(t){return t.ZL.equals(n)})))||void 0===i?void 0:i.P)?void 0:t.yn(h,e)},function(t){return c.$B.Pk(t)},u?this.Gu.Mub.bind(this.Gu):function(){},this.f6.bind(this)],this.I.wla?(o=i(953),l=o.hTa.apply(o,n.__spread([{}],e))):l=new(f.w_.bind.apply(f.w_,n.__spread([void 0],e))),l.Ji(new g.KKa(l)),l.Ji(new m.dLa(l.Cu)),l.D1a.Ji(new I.aza(l)),this.py.OO.forEach((function(t){return l.Ji(t)})),this.N5a.aG(l),(e=new r.Wh).on(l.events,"requestsPruned",this.YVb.bind(this)),e.on(l.events,"weightUpdated",this.Psa.bind(this)),e.on(l.events,"underflow",this.sk.bind(this,l)),this.Cp.push({Ca:l,Xg:e,hY:0}),this.Psa(),l)},t.prototype.sk=function(t){null!=(t=this.ZNa.QDb(t))&&t.F4||this.Gu.reset()},t.prototype.Qu=function(t){this.N5a.Qu(t),this.Cp=this.Cp.filter((function(e){return e.Ca!==t||(e.Xg.clear(),!1)})),t.Nb(),this.Psa()},t.prototype.JPa=function(t,e){var i,r,o;return this.cJ(),o=e.Bd,t=new h.Wya(t,void 0===o?[0,1]:o,n.__assign({rP:null!==(r=null!==(i=e.rP)&&void 0!==i?i:this.G2)&&void 0!==r?r:{}},e)),this.VS.push(t),t},t.prototype.LO=function(t){this.cJ(),this.VS=this.VS.filter((function(e){return e!==t})),t.Nb()},t.prototype.Sva=function(t,e){this.CMa=t,this.G2=e,this.YNa=void 0},t.prototype.aE=function(t,e){var i,r;(r=null===(i=p.ig(this.Vv,(function(e){return e.ZL.equals(t)})))||void 0===i?void 0:i.P)?r.aE(n.__assign(n.__assign({},e),{Kn:this.jsa.bind(this)})):this.RY.push({Jbb:t,t9a:e})},t.prototype.Kua=function(t){this.RY=this.RY.filter((function(e){return!e.Jbb.equals(t)}))},t.prototype.close=function(){this.$c!==o.Os.CLOSED&&(this.oVb(),b.assert(0===this.Vv.length,"Unexpected viewable lease after Playgraph destruction."),this.nVb(),this.RY=[],delete this.Sy,this.$c=o.Os.CLOSED,this.Ls.Nb())},t.prototype.aYb=function(t){this.Qwa=t,this.$B.Pk("streamingModeChanged")},t.prototype.Ho=function(){return this.py.Ho()},t.prototype.wyb=function(){this.py=new x.wea(this.I),this.py.Ji(new A.kCa(this)),this.py.Ji(new E.VJa(this.Qb,this.$B)),this.py.Ji(new y.gCa(this.Qb)),this.py.Ji(new w.HB(this.Hpb)),this.py.Ji(new w.HB(this.$B.tq)),this.py.Ji(new w.HB(this.sNa.zi)),this.py.Ji(new w.HB(this.ZNa.zi))},t.prototype.jsa=function(){},t.prototype.lx=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,i,r,o;return n.__generator(this,(function(n){switch(n.label){case 0:return b.assert(t,"ase.updateViewable(): Viewable config not found."),e=p.ig(this.Vv,(function(e){return!0!==e.ZL.Ot&&e.ZL.equals(t)})),b.assert(e,"ase.updateViewable(): Viewable entry not found."),[4,e.tE];case 1:return i=n.bd(),o=(r=i).lx,[4,t.hv];case 2:return o.apply(r,[n.bd()]),[2]}}))}))},t.prototype.WO=function(t,e){var i,r,o;return i=this,r=t.Cn(e),b.assert(r,"ase.requestViewable(): Viewable config not found."),(o=p.ig(this.Vv,(function(t){return!0!==t.ZL.Ot&&t.ZL.equals(r)})))||(o={ZL:r,tE:n.__awaiter(i,void 0,void 0,(function(){var t,i;return n.__generator(this,(function(n){switch(n.label){case 0:return[4,r.hv];case 1:return t=n.bd(),i=this.oU(e,r,t),o.P=i,[2,i]}}))})),P:void 0,dMb:new v.BEa((function(t){t()&&i.i7a(o)}),S.wq(T.default,this.H,""+e))},this.Vv.push(o)),{get P(){return null==o?void 0:o.P},tE:o.tE,Q7:o.dMb.vy()}},t.prototype.i7a=function(t){var e,i;b.assert(t,"expected viewableEntry to exist"),e=t.P,i=t.tE,e?e.Nb():i.then((function(t){t.Nb()})),this.Vv=this.Vv.filter((function(e){return e!==t}))},t.prototype.oU=function(t,e,i){var r,o,s,u,h,f;function l(t){r.events.emit("logdata",t)}return r=this,this.cJ(),s=i.oa,u=i.ii,h=void 0===(h=i.Bd)?c.zf:h,i=i.config,f=[new d.oda(0),new d.oda(1)],s={oa:s,config:i,ii:u,Bd:h,F5:void 0,Qb:this.Sy.Qb,Kh:this.Sy.Kh,EVa:{Pr:function(){return r.$B.Pk("networkFailureReset")},Nh:this.Nh.bind(this,t),Fn:this.Fn.bind(this,t),Ln:l},QZa:{Ln:l,IV:void 0,SC:function(t){return f[t]},l7:function(){return!0},Gf:void 0,Ol:void 0,qh:void 0,aD:void 0},VO:{yy:this.yy.bind(this),qI:this.qI.bind(this)},QI:this.G2,Pb:0,Wo:void 0,L2a:{xpa:!1,t0a:!1},iX:function(){}},t=new a.zba(t,s),i.jz&&(s=(null===(o=p.ig(this.RY,(function(t){return t.Jbb.equals(e)})))||void 0===o?void 0:o.t9a)||{},this.Kua(e),t.aE(n.__assign(n.__assign({},s),{Kn:this.jsa.bind(this)}))),t},t.prototype.C7=function(){var t,e;return b.assert(this.state===o.Os.OPEN),t=this.g6(),e=this.hN(),this.sNa.u4a(t,e)},t.prototype.hN=function(){var t,e,i;return t=this,i=null!==(e=this.I.nTb)&&void 0!==e?e:this.Cp.every((function(t){return!t.Ca.E6})),e=p.flatten(this.Cp.map((function(t){return t.Ca.hN().map((function(e){return t.Ca.E6||1===t.hY||(e.gH=t.hY),e}))}))),this.Qwa===o.lQ.disabled?e=[]:this.Qwa===o.lQ.gNb&&(e=e.filter((function(e){return t.I.gra>=e.Cs-e.Er}))),i||(i=e.filter((function(t){var e;return 1===(null!==(e=t.gH)&&void 0!==e?e:1)}))).length&&(e=i),i=this.Vv.reduce((function(t,e){return e.P?n.__spread(t,e.P.hN()):t}),[]),p.flatten(n.__spread(e,i))},t.prototype.cJ=function(){if(this.$c===o.Os.CLOSED)throw Error("Engine CLOSED")},t.prototype.oVb=function(){var t,e;try{for(var i=n.__values(this.Cp),r=i.next();!r.done;r=i.next())(e=r.value).Xg.clear(),this.Qu(e.Ca)}catch(t){var o;o={error:t}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}},t.prototype.nVb=function(){var t;try{for(var e=n.__values(this.VS),i=e.next();!i.done;i=e.next())this.LO(i.value)}catch(t){var r;r={error:t}}finally{try{i&&!i.done&&(t=e.return)&&t.call(e)}finally{if(r)throw r.error}}},t.prototype.Nh=function(t,e,i,n,r,o,a){var s;return void 0===a&&(a=!1),s=!1,this.KYa(t).forEach((function(u){a&&!c.No(u.Cf.value)||(u.Nh(e,t,i,n,r,o,a),s=!0)})),s},t.prototype.Fn=function(t){return this.KYa(t).some((function(t){return t.Fn()}))},t.prototype.KYa=function(t){return this.Cp.filter((function(e){return e=e.Ca.Ca,""+t==""+e.qa[e.Yd].W})).map((function(t){return t.Ca}))},t.prototype.g6=function(){var t;return t=new P.PCa,this.Cp.forEach((function(e){var i,n;i=e.Ca,e=e.hY,(n=i.g6()).gH=e,t.add(i.id,n)})),t},t.prototype.f6=function(){return this.tOb},t.prototype.Dtb=function(){var t,e;return e=N.LRa(this.I,this.E3),{total:(t={},t[1]=this.E3.video||1/0,t[0]=this.E3.audio||1/0,t.total=this.E3.total||1/0,t),Gwa:e}},t.prototype.yy=function(t){this.$B.yy(t)},t.prototype.qI=function(t){this.$B.qI(t)},t.prototype.Psa=function(){var t;t=this.OD.reduce((function(t,e){return Math.max(e.weight,0)+t}),0),this.Cp.forEach((function(e){e.hY=0>=e.Ca.weight?0:e.Ca.weight/t}))},t.prototype.YVb=function(){},t.vPb=0,n.__decorate([_.bc({methodName:"open"})],t.prototype,"open",null),n.__decorate([_.bc({methodName:"addPlaygraph",context:function(t){var e,i;return{playgraphCount:null!==(i=null===(e=t.j4a.Cp)||void 0===e?void 0:e.length)&&void 0!==i?i:0}}})],t.prototype,"aG",null),n.__decorate([_.bc({methodName:"removePlaygraph",context:function(t){return{playgraphCount:t.j4a.Cp.length}}})],t.prototype,"Qu",null),n.__decorate([_.bc({methodName:"close"})],t.prototype,"close",null),n.__decorate([_.bc({methodName:"setStreamingMode",xr:!0})],t.prototype,"aYb",null),n.__decorate([_.bc({methodName:"notifyAseException",xr:!0})],t.prototype,"jsa",null),n.__decorate([_.bc({methodName:"updateViewable"})],t.prototype,"lx",null),n.__decorate([_.bc({methodName:"requestViewable"})],t.prototype,"WO",null),n.__decorate([_.bc({methodName:"removeViewable"})],t.prototype,"i7a",null),n.__decorate([_.bc({methodName:"createViewable"})],t.prototype,"oU",null),n.__decorate([_.bc({methodName:"issueRequestOpportunity",pm:!0,return:!0})],t.prototype,"C7",null),n.__decorate([_.bc({methodName:"reportStreamingFailure",xr:!0})],t.prototype,"Nh",null),t}(),e.Dya=t},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e){return t.filter((function(t){return t.groupId===e.groupId})).reduce(o.e3a((function(t){return t.sA})),e).sA}Object.defineProperties(e,{__esModule:{value:!0}}),e.SCa=void 0,n=i(2),r=i(213),o=i(25),a=i(16),s=i(118),u=n.__importDefault(i(6)),c=i(405),t=function(){function t(t,e){this.H=t,this.config=e,this.h1a=0,this.zi=new s.IB({xD:10,wu:this,source:"GraphStreamingProcess"})}return t.prototype.u4a=function(t,e){var i,s,f,l,d,p,b,v,y,g,m,_,w;if(f=!1,l=[],0<e.length){p=(d=this.YYb(e)).some((function(t){return 1===c.NRa(t)&&a.No(t.Cf)})),b=d.slice(),v=[!1,!1];try{for(var E=n.__values(d),k=E.next();!k.done;k=E.next())if((y=k.value).mD&&"global"!==v[y.mediaType])if(g=y.F0a(t,null!==(s=y.gH)&&void 0!==s?s:1),(m=r.J6a(g.reason))&&(v[y.mediaType]=m,o.zQa(b,y)),g.result){if(_=h(b,y),this.Bub(y,p,_)){if(w=y.J0a(),this.Fqa(l,y,w.reason),w.Gn&&(this.h1a=u.default.time.ea()),f=w.Gn)break}else if(this.Fqa(l,y,"concurrencyCheck"),!m)break}else this.Fqa(l,y,g.reason)}catch(t){var O;O={error:t}}finally{try{k&&!k.done&&(i=E.return)&&i.call(E)}finally{if(O)throw O.error}}}return this.zi.wy({streamableCount:e.length,streamableReasons:l,lastSuccessfulIssueRequestMs:this.h1a}),f},t.prototype.YYb=function(t){return this.ITb(t).sort((function(t,e){return t.priority-e.priority})).map((function(t){return t.zZb}))},t.prototype.ITb=function(t){var e;return e=this,t.map((function(t){return{priority:-c.MRa(e.config,t,e.H),zZb:t}}))},t.prototype.Fqa=function(t,e,i){this.zi.enabled&&t.push(this.wHb(i,e))},t.prototype.wHb=function(t,e){return{mediaType:e.mediaType,reason:t,bufferingState:e.Cf,currentPlayerMs:e.Er,pathCompletePlayerMs:e.sA,streamingPlayerMs:e.Cs}},t.prototype.Bub=function(t,e,i){return this.config.VT&&(e||a.No(t.Cf))?this.Cub(t,i):this.Dub(t,i)},t.prototype.Eub=function(t){return t.Cs<=t.sA},t.prototype.Dub=function(t,e){return t.Cs-(t.Er>e?t.Er:e)<=Math.max(this.config.Lra,Math.min((t.sA-t.Er)*this.config.Nwa,this.config.XNb))},t.prototype.Cub=function(t,e){var i,n;return void 0===this.config.VT||(i=this.config.VT,n=t.Er+i,t.Cs<=n||this.Eub(t)&&e>=n&&t.Cs-e<i)},n.__decorate([s.bc({methodName:"onRequestOpportunity",pm:!0})],t.prototype,"u4a",null),t}(),e.SCa=t},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperties(e,{__esModule:{value:!0}}),e.Wya=void 0,n=i(2),r=i(17),o=i(9),a=i(5),s=n.__importDefault(i(6)),u=i(72),c=i(25),h=i(893),t=i(406),f=i(895),i=function(t){function e(e,i,n){var a;return(a=t.call(this)||this).V=e,a.Bd=i,a.Qv=n,a.KU=[],a.Qfa=new r.Wh,a.H=new s.default.Console("ASEJS","media|asejs"),a.Qfa.on(a.V,"underflow",(function(){return a.sk()})),a.mS=new f.KIa(e),a.Qfa.on(a.V,"skipped",(function(){return a.qX()})),a.Rv=new u.XR(a.mS,a.H,"player"),a.pya=new o.l1,a}return n.__extends(e,t),Object.defineProperties(e.prototype,{hx:{get:function(){var t;return null===(t=this.Dh)||void 0===t?void 0:t.hx},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Cu:{get:function(){return this.Rv},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Kb:{get:function(){var t,e;return null!==(e=null===(t=this.Dh)||void 0===t?void 0:t.rz())&&void 0!==e?e:[]},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{pa:{get:function(){var t;return null===(t=this.Dh)||void 0===t?void 0:t.pa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{za:{get:function(){return this.mS},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{TA:{get:function(){var t;return!(null===(t=this.Dh)||void 0===t||!t.TA)},enumerable:!1,configurable:!0}}),e.prototype.LY=function(t){-1===this.KU.indexOf(t)&&this.KU.push(t),this.Dh&&this.Dh.oX(t),this.events.emit("drmReady",{viewableId:t})},e.prototype.Uva=function(t){-1!==(t=this.KU.indexOf(t))&&this.KU.splice(t,1)},e.prototype.Oo=function(t){var e;return-1!==this.KU.indexOf(t)||!(null===(e=c.ig(this.Kb,(function(e){return e.P.W===t})))||void 0===e||!e.P.ii)},e.prototype.reset=function(){var e;this.pya=new o.l1,t.prototype.reset.call(this),this.IF=void 0,null===(e=this.Dh)||void 0===e||e.reset()},e.prototype.vY=function(e){var i;t.prototype.vY.call(this,e),null===(i=this.Dh)||void 0===i||i.vY(e)},e.prototype.oG=function(){var t;null===(t=this.Dh)||void 0===t||t.oG()},e.prototype.pause=function(e){this.TI(e),t.prototype.pause.call(this,null!=e?e:this.Bd)},e.prototype.resume=function(e){var i;null===(i=this.Dh)||void 0===i||i.resume(e),t.prototype.resume.call(this,null!=e?e:this.Bd)},e.prototype.Nb=function(){this.kt=this.F6()?this.Ko():void 0,this.Dh&&this.$ka(this.Dh.pa),this.mS.Nb(),this.Rv.Nb(),this.Qfa.clear(),t.prototype.Nb.call(this)},e.prototype.WM=function(){var e,i;if(null!==(e=this.Dh)&&void 0!==e&&e.HTb){if(e=this.V.Mc,this.za.Zk){if(this.IF){if(this.IF.greaterThan(e))return e=this.IF.Qa(e),this.pya.push(e.Y),this.IF;if(this.Kb.length&&(i=this.Dh.bMb)&&i.lessThan(e))return this.events.emit("logdata",{type:"logdata",target:"endplay",ic:{clockdrift:{type:"count"}}}),this.IF}this.IF=e}return e}return t.prototype.WM.call(this)},e.prototype.Jo=function(){var e;return void 0===(e=this.V.playbackRate)&&(e=t.prototype.Jo.call(this)),e},e.prototype.F6=function(){return!!this.kt||0<this.Kb.length},e.prototype.Ko=function(){return this.kt?this.kt:(a.assert(0<this.Kb.length,"Could not find presenting branch. Player has no branches."),this.si)},e.prototype.$ka=function(t){var e;a.assert(t===this.pa),null===(e=this.Dh)||void 0===e||e.Nb(),this.Dh=void 0},e.prototype.q3=function(e,i){return this.kt=void 0,(i=t.prototype.q3.call(this,e,i))&&(this.Dh=new h.iza(e,this,this.H,e.config,this.Qv,this.events,this.Bd,this.Rv,this.TB,this.SB),this.TI(this.qO)),i},e.prototype.Hla=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t=this.Dh,a.assert(t),e.forEach((function(e){return t.$Bb(e)}))},e.prototype.Li=function(t){var e,i,n;return!!this.Dh&&(!!(e=this.H5(t))&&(i=e.O,n=o.T.Eb(this.Qv.BD),!(i.Uk.Qa(n).lessThan(t)||!e.vG(t))&&this.Dh.Li(t)))},e.prototype.sk=function(){var t,e,i;e=this.Ug,a.assert(this.pa),i=this.js(e),a.assert(i),null===(t=this.Dh)||void 0===t||t.sk(),null==(t=this.H5(e))||t.P.sk(),this.pa.sk(i)},e.prototype.qX=function(){this.IF=void 0},e.prototype.Sma=function(){var t;return null===(t=this.Dh)||void 0===t?void 0:t.Sma()},e.prototype.TI=function(t){var e;null===(e=this.Dh)||void 0===e||e.TI(t)},e.prototype.qxa=function(e){return a.assert(this.pa&&this.Dh),t.prototype.qxa.call(this,e)},e}(t.hea),e.Wya=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;Object.defineProperties(e,{__esModule:{value:!0}}),e.iza=void 0,n=i(2),r=i(394),o=n.__importDefault(i(6)),a=i(242),i(16),s=i(236),u=i(9),c=i(25),h=i(72),f=i(215),l=i(5),d=i(894),t=function(){function t(t,e,i,r,o,s,c,h,l,p){var b;b=this,this.pa=t,this.V=e,this.H=i,this.I=r,this.Qv=o,this.Zh=s,this.Bd=c,this.Cu=h,this.TB=l,this.SB=p,this.C1=!1,this.fNa=new u.yKa,this.Hga=this.rQb.bind(this),this.hj=new a.x_(this.H),this.hx=new d.xLa(this.H,t),this.myb(this.hx),this.sl&&(this.Bob=this.Rma(this.RGb()),this.gnb=u.er.oya(this.sl.map((function(t){return t.jA})),(function(t){return t.every((function(t){return t}))}),(function(t){return b.TB.set(t)})),this.jlb=new f.zda(this.sl.map((function(t){return t.qW})),(function(t){return u.T.min.apply(u.T,n.__spread(t))}),(function(t){b.SB.set(t)}),u.T.Eb(-1/0))),this.Dp=h.AG((function(){return b.Ysb()}),"branchPruner")}return t.prototype.Ysb=function(){var t,e,i,r,o,a,s;return n.__generator(this,(function(c){switch(c.label){case 0:return this.hj.ESa?(t=n.__read(this.hj.oaa(),1),e=t[0],i=null!==(s=null===(a=this.Qv.rP)||void 0===a?void 0:a.Y)&&void 0!==s?s:0,r=e.O7||e.xe,o=r.add(u.T.Eb(i+1e3)),[4,h.Jk.XP(o)]):[3,2];case 1:return c.bd(),this.hj.remove(e),e.events.removeListener("branchEdited",this.Hga),e.Df(),[3,0];case 2:return[2]}}))},Object.defineProperties(t.prototype,{HTb:{get:function(){var t;return!(null===(t=this.Bob)||void 0===t||!t.jA.value)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{TA:{get:function(){var t;return!(null===(t=this.sl[0])||void 0===t||!t.TA)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{bMb:{get:function(){return this.C1?u.T.max.apply(u.T,n.__spread(this.sl.map((function(t){var e;return null===(e=t.Vrb)||void 0===e?void 0:e.c1a})).filter(c.Z8))):void 0},enumerable:!1,configurable:!0}}),t.prototype.rQb=function(){var t;this.Dp.Hm(),t=this.sl.filter((function(t){return t.vKb})).map((function(t){return t.mediaType})),this.TI(t),this.resume(t)},t.prototype.$Bb=function(t){l.assert(-1===this.hj.oaa().indexOf(t),"Branch "+t.O.id+" is already in the collection, cannot re-queue"),t.events.addListener("branchEdited",this.Hga),this.hj.enqueue(t),this.Dp.state===h.Ym.complete&&this.Dp.Hm(),t.O.bv&&this.hj.X4(),this.C1||this.tDb(t)},t.prototype.oX=function(t){this.sl.forEach((function(e){e.oX(t)}))},t.prototype.reset=function(){this.sl.forEach((function(t){t.reset()})),this.C1=!1,this.fNa.removeAllListeners(),this.oG()},t.prototype.vY=function(t){null==(t=this.Rma(t))||t.reset()},t.prototype.oG=function(){var t;t=this,this.hj.oaa().forEach((function(e){return e.events.removeListener("branchEdited",t.Hga)})),this.hj.clear(),this.Dp.Hm()},t.prototype.resume=function(t){this.sl.forEach((function(e){void 0!==t&&-1===t.indexOf(e.mediaType)||e.resume()}))},t.prototype.TI=function(t){this.sl.forEach((function(e){return(void 0===t||-1!==t.indexOf(e.mediaType))&&e.stop()}))},t.prototype.sk=function(){this.H.trace("attached-player: onUnderflow")},t.prototype.YYa=function(){return this.hj.getIterator()},t.prototype.NFb=function(){return this.rz()[0]},t.prototype.rz=function(){return this.hj.oaa()},t.prototype.myb=function(t){var e,i;if(e=this,this.am("createMediaSourceStart"),this.Qv.CV?i=this.Qv.CV():(i=new o.default.MediaSource(this.V.V)).pc||(i.pc=o.default.MediaSource.pc),1!==i.readyState)this.Ep("exception in init","NFErr_MC_StreamingInitFailure");else{if(this.am("createMediaSourceEnd"),this.eg=i,!i.b3(this.Bd))throw this.H.trace("Error:",i.error),this.Ep("error creating source buffers","NFErr_MC_StreamingInitFailure"),i.error;this.sl=i.sourceBuffers.filter((function(t){return 0<=e.Bd.indexOf(t.mediaType)})).map((function(n){var o;return(o=new s.Jba(e.H,n.mediaType,i,n,e.I,!0,{Re:function(){return e.V.Ug.Y},Oo:function(t){return e.V.Oo(t.W)}},e.Cu)).addListener("error",(function(t){return e.Ep(t.errorstr)})),o.addListener("logdata",(function(t){return e.Zh.emit("logdata",t)})),new r.xba(o,n.mediaType,e,e.I,e.H,e.V,e.Qv,e.Cu,t)}))}},t.prototype.Nb=function(){this.gnb.clear(),this.jlb.clear(),this.sl.forEach((function(t){return t.Nb()})),this.Qv.CV||this.eg.Yp(),this.oG(),this.Dp.Nb()},t.prototype.Li=function(t){return this.sl.every((function(e){return e.Li(t)}))},t.prototype.Sma=function(){return{sUb:this.rz(),HSb:this.sl}},t.prototype.tDb=function(t){var e;e=this,this.C1=!0,t.vg.forEach((function(t){var i;void 0!==(i=e.Rma(t.mediaType))&&e.fNa.once(t.qma,(function(t){return i.uDb(t)}))})),t.Vc?this.bVa():t.events.once("branchNormalized",(function(){return e.bVa()}))},t.prototype.bVa=function(){var t;(t=this.NFb())&&(l.assert(t.xj),this.Zh.emit("ptsChanged",{initialTimestamp:t.xj}))},t.prototype.Rma=function(t){return c.ig(this.sl,(function(e){return e.mediaType===t}))},t.prototype.RGb=function(){return-1!==this.Bd.indexOf(1)?1:0},t.prototype.am=function(t){t={type:"startEvent",event:t,time:o.default.time.ea()},this.Zh.emit(t.type,t)},t.prototype.Ep=function(t,e){this.pa.Nh(t,void 0,e)},t}(),e.iza=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.xLa=void 0,n=i(2).__importDefault(i(6)),r=i(35),t=function(){function t(t,e){this.H=t,this.jL=e}return t.prototype.fE=function(t,e,i,r,o){var a,s;void 0===o&&(o=!1),a=t.O,s=this.pmb(a),this.lT={startTime:n.default.time.ea(),$Yb:t,ZYb:i.Y,$Ab:e,ae:this.bGb(r,e),r0b:this.GHb(r,o),Uka:o,Ue:r,cSa:s,uPb:this.tGb(a,i)}},t.prototype.xna=function(t){var e,i,r,o,a,s,u,c,h,f,l,d,p;if(this.lT&&0!==Object.keys(this.lT.cSa).length&&t===this.lT.$Ab){for(p in i=(e=this.lT).cSa,r=e.uPb,o=e.Uka,a=e.Ue,s=e.$Yb,u=e.ZYb,c=e.startTime,h=e.ae,e=e.r0b,this.lT=void 0,f=this.$fa(t).Br,l=this.qEb(s.O.id,t,i),f=this.QNa(l.weight,f),d={},i)p!==t&&(d[p]=i[p].details);return i=n.default.time.ea()-c,{segment:t,srcsegment:s.O.id,srcsegmentduration:s.uaa.Y,srcoffset:this.qHb(s,u,a,o),seamlessRequested:a,atRequest:l,atTransition:f,discard:d,transitionType:h,transitionTypeAtRequest:e,delayToTransition:this.cFb(i,a,o),durationOfTransition:a?0:i,nextExitPositionAtRequest:r}}},t.prototype.qEb=function(t,e,i){var n,o,a;return a={},(i=i[e])?a=i.details:(r.assert(this.jL),a.weight=null===(o=null===(n=this.jL.Ca.qa[t].next)||void 0===n?void 0:n[e])||void 0===o?void 0:o.weight),a},t.prototype.cFb=function(t,e,i){var n;return i||(n=e?t:0),n},t.prototype.tGb=function(t,e){var i,n,r;return n=t.Mg.add(e),null===(i=t.Zw)||void 0===i||i.some((function(t){n.lessThan(t.Vc)&&(r=t.Vc.Y)})),r},t.prototype.qHb=function(t,e,i,n){return i||n?t.uaa.Y:e},t.prototype.bGb=function(t,e){return t?"seamless":this.$fa(e).SV?"reset":"long"},t.prototype.GHb=function(t,e){return t||e?"lazy":"immediate"},t.prototype.pmb=function(t){var e,i;return e=this,i={},t.oA.forEach((function(n){var r,o;r=t.xPb[n],o=e.$fa(n).Br,i[n]={details:e.QNa(r,o)}})),i},t.prototype.$fa=function(t){var e,i;return t=null==(e=0<(t=this.jL.Wma(t)).length?t[0]:void 0)?void 0:e.OC(),e&&t?(i=e.EZa(0)&&!t.vr,e=e.EZa(1)&&!t.$n,{SV:!i&&!e,Br:t}):{SV:!1,Br:{$n:0,vr:0,Ks:0,kC:0}}},t.prototype.QNa=function(t,e){return{weight:t,vbuflmsec:e.$n,abuflmsec:e.vr,vbuflbytes:e.Ks,abuflbytes:e.kC}},t}(),e.xLa=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.KIa=void 0,n=i(17),t=i(42),i=function(){function t(t){var e;e=this,this.V=t,this.nga=!1,this.EF=new n.Wh,this.EF.on(t,"paused",(function(){return e.n9()})),this.EF.on(t,"playing",(function(){return e.n9(!0)})),this.EF.on(t,"underflow",(function(){return e.n9()})),this.EF.on(t,"skipped",(function(){return e.qX()})),this.EF.on(t,"clockAdjusted",(function(){return e.nX()})),this.EF.on(t,"playbackRateChanged",(function(){return e.OQb()}))}return Object.defineProperties(t.prototype,{currentTime:{get:function(){return this.XOa||this.V.Mc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Zk:{get:function(){return this.nga},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{speed:{get:function(){var t;return null!==(t=this.V.playbackRate)&&void 0!==t?t:1},enumerable:!1,configurable:!0}}),t.prototype.n9=function(t){void 0===t&&(t=!1),t!==this.nga&&(this.XOa=(this.nga=t)?void 0:this.V.Mc),this.emit("stopStart",{type:"stopStart"})},t.prototype.qX=function(){this.XOa=void 0,this.nX()},t.prototype.nX=function(){this.emit("clockAdjusted",{type:"clockAdjusted"})},t.prototype.OQb=function(){this.emit("speedChanged",{type:"speedChanged"})},t.prototype.Nb=function(){this.n9(),this.EF.clear()},t}(),e.KIa=i,t.xf(n.EventEmitter,i)},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.Gza=void 0,n=i(2),t=function(){function t(t,e,i,n){this.W=t,this.WO=e,this.Nsa=i,this.Osa=n}return Object.defineProperties(t.prototype,{P:{get:function(){var t;return null===(t=this.ZZ)||void 0===t?void 0:t.P},enumerable:!1,configurable:!0}}),t.prototype.Nb=function(){var t;this.P&&(this.P.Ixa(this.gb),this.Osa(this.P)),null===(t=this.ZZ)||void 0===t||t.Q7.release(),this.ZZ=void 0},t.prototype.xb=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,i,r,o,a;return n.__generator(this,(function(n){switch(n.label){case 0:return this.gb=t,e=this.WO(this.W),i=e.tE,r=e.P,o=e.Q7,this.ZZ={Q7:o,P:r},r?(this.F_a(r,t,!1),[2,r]):[4,i];case 1:return a=n.bd(),this.F_a(a,t,!0),[2,a]}}))}))},t.prototype.F_a=function(t,e,i){this.ZZ&&(this.ZZ.P=t,t.Cua(e),this.Nsa(e,t,i))},t}(),e.Gza=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e){return(1===t.mediaType?0:1)-(1===e.mediaType?0:1)}Object.defineProperties(e,{__esModule:{value:!0}}),e.Cza=e.Fza=e.Ohb=void 0,n=i(2),r=i(17),o=i(9),a=i(22),t=i(102),s=i(42),u=i(898),c=i(5),h=i(900),f=i(239),l=i(20),e.Ohb={Ebb:b},(p=d=e.Fza||(e.Fza={}))[p.Lba=0]="CREATED",p[p.Mza=1]="CANCELLED",i=function(){function t(t,e,i,n,a,s,u,c,h,l,p,b){var v,y;v=this,this.I=t,this.H=e,this.C9=i,this.Gp=n,this.a6=a,this.Sr=s,this.Zs=u,this.BS=c,this.parent=h,this.by=l,this.Rv=p,this.YZ=b,this.$c=d.Lba,this.S2=[],this.Lz=new f.bK,this.x7a=0,this.Fsa=function(){!v.Eh&&v.C6&&(v.P.eu.HD("onHeaderFragments",v.Fsa),v.a7.resolve())},this.events=new r.EventEmitter,this.cs=new o.EQ,this.a7=new o.EQ,null!==(y=this.parent)&&void 0!==y&&y.xe&&(this.Zs=this.parent.xe.Qa(this.Gp.Mg))}return Object.defineProperties(t.prototype,{state:{get:function(){return this.$c},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Eh:{get:function(){return this.$c===d.Mza},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{O:{get:function(){return this.Gp},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Aw:{get:function(){var t;return!(null===(t=this.yd)||void 0===t||!t.Aw)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{wl:{get:function(){var t;return!(null===(t=this.yd)||void 0===t||!t.wl)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ut:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.ut)&&void 0!==e?e:0},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ri:{get:function(){var t;return!(null===(t=this.yd)||void 0===t||!t.ri)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{D2b:{get:function(){return this.cs.promise},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{vg:{get:function(){return this.S2},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{VV:{get:function(){var t;return!(null===(t=this.YZ)||void 0===t||!t.P)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{C6:{get:function(){return!!this.vg.length&&this.S2.every((function(t){return t.je}))},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{P:{get:function(){return c.assert(this.YZ.P,"viewable should be available"),this.YZ.P},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{S:{get:function(){var t;return(null===(t=this.yd)||void 0===t?void 0:t.S)||this.Sr.S},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Wa:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.Wa)&&void 0!==e?e:this.Sr.vc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ob:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.ob)&&void 0!==e?e:this.O.Uk.vc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{zj:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.zj)&&void 0!==e?e:this.jg.Zf(this.S).vc},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Tr:{get:function(){var t,e,i;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.Tr)&&void 0!==e?e:null===(i=this.Sr)||void 0===i?void 0:i.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{KM:{get:function(){var t,e;return(e=null===(t=this.O.O.hq)||void 0===t?void 0:t[0])&&this.Vc?a.T.Eb(Math.max(0,e[0]-this.Vc.Y-this.O.Mg.Y)):a.T.Gb},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{gI:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.gI)&&void 0!==e?e:this.O.Mg.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{xO:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.xO)&&void 0!==e?e:this.O.Uk.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{O7:{get:function(){var t;return null===(t=this.yd)||void 0===t?void 0:t.O7},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{jg:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.jg)&&void 0!==e?e:this.Zs},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{Rq:{get:function(){var t,e;return null!==(e=null===(t=this.yd)||void 0===t?void 0:t.Rq)&&void 0!==e?e:this.O.Uk.Qa(this.Sr||this.O.Mg)},enumerable:!1,configurable:!0}}),t.prototype.xb=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return this.Eh?[2]:(l.ga&&this.H.log("AseBranch {"+this.O.id+"} awaiting viewable"),[4,this.YZ.xb(this)]);case 1:return t.bd(),l.ga&&this.H.log("AseBranch {"+this.O.id+"} viewable available, branch "+(this.Eh?"cancelled":"active")),this.Eh?[2]:(c.assert(this.a6,"tracks need to exist upon initialization"),this.S2=this.a6(this.P).sort(b),this.P8a(this.Sr),[4,this.YVa()]);case 2:return t.bd(),l.ga&&this.H.log("AseBranch {"+this.O.id+"} have headers"),this.Eh?[2]:this.parent?[4,this.parent.D2b]:[3,4];case 3:if(t.bd(),this.Eh)return[2];t.label=4;case 4:return this.normalize(),[2]}}))}))},t.prototype.YVa=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(){return this.C6?this.a7.resolve():(this.P.eu.on("onHeaderFragments",this.Fsa),this.events.emit("needsRequest")),[2,this.a7.promise]}))}))},t.prototype.normalize=function(){this.Eh||(this.yd=new u.KGa(this,this.I,this.H,this.P,this.C9,this.Gp,this.Sr,this.Lz.items,this.Zs,this.BS,this.parent,this.by,this.events,this.Rv),this.vla(this.yd.FC),this.cs.resolve(this.yd))},t.prototype.update=function(t){var e;this.Gp=t,null!==(e=this.yd)&&void 0!==e&&e.update(t)&&this.vla(!0)},t.prototype.kx=function(t){var e;this.Zs=t,null===(e=this.yd)||void 0===e||e.kx(t)},t.prototype.yz=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(i){switch(i.label){case 0:return[4,this.cs];case 1:return[2,null==(e=i.bd())?void 0:e.yz(t)]}}))}))},t.prototype.LG=function(){var t;null===(t=this.yd)||void 0===t||t.LG()},t.prototype.reset=function(){var t;null===(t=this.yd)||void 0===t||t.reset()},t.prototype.Df=function(){var t;this.$c=d.Mza,this.VV&&this.P.eu.HD("onHeaderFragments",this.Fsa),null===(t=this.yd)||void 0===t||t.Df(),this.Lz.forEach((function(t){return t.cancel()})),this.YZ.Nb()},t.prototype.hW=function(t){var e;return!(null===(e=this.yd)||void 0===e||!e.hW(t))},t.prototype.eb=function(t){var e;return null===(e=this.yd)||void 0===e?void 0:e.eb(t)},t.prototype.EZa=function(t){return this.vg.some((function(e){return e.mediaType===t}))},t.prototype.lq=function(t){var e,i;return void 0===t&&(t=b),null!==(i=null===(e=this.yd)||void 0===e?void 0:e.lq(t))&&void 0!==i?i:[]},t.prototype.uHb=function(t){var e,i;return(null===(e=this.eb(t))||void 0===e?void 0:e.kl.ug)||(null===(i=this.Lz.get(t))||void 0===i?void 0:i.kl.ug)},t.prototype.e6=function(){var t,e;return this.C6?null!==(e=null===(t=this.yd)||void 0===t?void 0:t.e6())&&void 0!==e?e:[]:this.Lz.items},t.prototype.aN=function(t){var e;return(null===(e=this.yd)||void 0===e?void 0:e.aN(t))||this.Lz.get(t)},t.prototype.Gh=function(t,e){var i;return(null===(i=this.yd)||void 0===i?void 0:i.Gh(t,e))||0},t.prototype.OC=function(){var t;return(null===(t=this.yd)||void 0===t?void 0:t.OC())||{}},t.prototype.KV=function(t){var e;return(null===(e=this.yd)||void 0===e?void 0:e.KV(t))||this.Tr.Y},t.prototype.bE=function(t,e,i){return n.__awaiter(this,void 0,void 0,(function(){var r,a,s,u;return n.__generator(this,(function(n){switch(n.label){case 0:return this.S2=t.sort(b),this.P8a(e),this.ri?(c.assert(this.yd),r=this.Lz.filter((function(t){return t.track.je})).items,a=this.yd.Vab(r,e,i),s=a.CU,u=a.FC,s&&this.vla(u),this.C6?[3,2]:(this.a7=new o.EQ,this.cs=new o.EQ,l.ga&&this.H.log("AseBranch {"+this.O.id+"} setTracks waiting for headers"),[4,this.YVa()])):[3,2];case 1:if(n.bd(),this.Eh)return[2];this.yd.Vab(this.Lz.items,e,i),l.ga&&this.H.log("AseBranch {"+this.O.id+"} setTracks pipelines updated"),this.cs.resolve(this.yd),this.events.emit("needsRequest"),n.label=2;case 2:return[2]}}))}))},t.prototype.P8a=function(t){var e;e=this,this.Lz=new f.bK(this.vg.map((function(i){var n,r;return(r=e.Lz.find((function(t){return t.track===i})))||(++e.x7a,r=new h.tDa(e,i,(null==t?void 0:t.add(e.jg))||a.T.Gb,e.I,e.H,null===(n=e.parent)||void 0===n?void 0:n.uHb(i.mediaType),e.C9,(function(){0==--e.x7a&&e.events.emit("requestQueuesCreated")}))),r})))},t.prototype.Om=function(t){var e;return(null===(e=this.yd)||void 0===e?void 0:e.Om(t))||[]},t.prototype.mX=function(t){var e;return null===(e=this.yd)||void 0===e?void 0:e.mX(t)},t.prototype.vG=function(t){var e;return!(null===(e=this.yd)||void 0===e||!e.vG(t))},t.prototype.P5=function(t){return this.yd?this.yd.P5(t):a.T.Gb},t.prototype.zxa=function(t){var e;return!(null===(e=this.yd)||void 0===e||!e.zxa(t))},t.prototype.vla=function(t){t={type:"branchNormalized",segmentContentStart:this.O.Mg,branchContentStart:this.Vc,branchContentEnd:this.Pd,didNormalizeSegment:t},this.events.emit(t.type,t),l.ga&&this.H.trace("branchNormalized:",t)},t.prototype.toJSON=function(){var t;return(null===(t=this.yd)||void 0===t?void 0:t.toJSON())||{}},t}(),e.Cza=i,s.xf(t.rx,i),s.xf(t.kB,i)},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y;function g(t,e){return(1===t.mediaType?0:1)-(1===e.mediaType?0:1)}Object.defineProperties(e,{__esModule:{value:!0}}),e.KGa=e.Tda=void 0,n=i(2),r=i(389),o=i(83),a=i(149),s=i(387),u=i(16),c=i(408),h=i(899),f=i(9),l=i(25),d=i(5),p=i(22),b=n.__importDefault(i(6)),t=i(102),v=i(42),y=i(239),e.Tda={Ebb:g},i=function(t){function e(e,i,n,r,o,a,s,u,c,h,l,v,g,m){var _,w;return(w=t.call(this,r)||this).gb=e,w.I=i,w.P=r,w.C9=o,w.Gp=a,w.Zs=c,w.BS=h,w.parent=l,w.by=v,w.events=g,w.Rv=m,w.ee=new y.bK([]),w.Xl=!1,w.KS=0,w.jS=w.mX.bind(w),d.assert(r.W===w.O.W||isNaN(r.W)&&isNaN(w.O.W)),w.console=f.wq(b.default,n,a.id&&a.id.length?"{"+a.id+"}":""),w.Sr=null!=s?s:p.T.Eb(w.O.Z),w.Mga=null==l?void 0:l.xe,null===(_=w.by)||void 0===_||_.addListener(w.jS),e=w.oTa(u,w.Sr,!!w.parent).FC,w.FC=e,w}return n.__extends(e,t),Object.defineProperties(e.prototype,{Eh:{get:function(){return this.Xl},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{O:{get:function(){return this.Gp},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Aw:{get:function(){return this.ee.every((function(t){return t.Aw}))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{wl:{get:function(){return this.ee.every((function(t){return t.wl}))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ut:{get:function(){return this.lq().reduce((function(t,e){return t+e.ut}),0)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ri:{get:function(){return this.lq().every((function(t){return t.ri()}))},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{vg:{get:function(){return this.gb.vg},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{S:{get:function(){return this.mt.S},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Wa:{get:function(){return this.mt.Wa},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ob:{get:function(){return this.mt.ob},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{zj:{get:function(){return this.jg.Zf(this.S).vc},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Tr:{get:function(){return this.Sr.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{gI:{get:function(){return this.O.Mg.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{xO:{get:function(){return this.O.Uk.add(this.jg)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{O7:{get:function(){return this.ee.reduce((function(t,e){return t&&e.xe?p.T.max(t,e.xe):e.xe?e.xe:t}),void 0)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{jpa:{get:function(){return this.Tr.Y},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Fe:{get:function(){return this.jg.Y},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Rq:{get:function(){return this.mt.Rq},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{jg:{get:function(){return this.Zs},enumerable:!1,configurable:!0}}),e.prototype.Vab=function(t,e,i){var n;return void 0===e&&(e=null!==(n=this.Vc)&&void 0!==n?n:this.Sr),this.oTa(t,e,i)},e.prototype.update=function(t){var e,i,r;return r=t.Uk.a9(this.Gp.Uk),this.Gp=t,!(!r||!this.XB)&&(t=(r=n.__read(this.XB.EVb(t,t.Uk),2))[0],r=r[1],d.assert(t&&r,"branch.update: lastFragment should be defined"),null===(e=this.eb(0))||void 0===e||e.truncate(t),null===(i=this.eb(1))||void 0===i||i.truncate(r),this.events.emit("branchEdited",{type:"branchEdited"}),!0)},e.prototype.kx=function(t){this.jg.equal(t)||(this.Zs=t)},e.prototype.yz=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e;return n.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.resolve()];case 1:return i.bd(),(e=this.eb(t))?[2,e.yz()]:[2,a.AsyncIterator.KXa()]}}))}))},e.prototype.LG=function(){this.lq().forEach((function(t){return t.LG()}))},e.prototype.rT=function(){this.ee.forEach((function(t){return t.rT()}))},e.prototype.reset=function(){this.ee.forEach((function(t){t.reset()}))},e.prototype.Df=function(){var t,e;this.Xl||(this.Xl=!0,null===(t=this.XB)||void 0===t||t.ed(),this.XB=void 0,this.ee.forEach((function(t){t.Df()})),null===(e=this.by)||void 0===e||e.removeListener(this.jS),this.events.removeAllListeners())},e.prototype.hW=function(){return!0},e.prototype.eb=function(t){return this.ee.get(t)},e.prototype.lq=function(t){return void 0===t&&(t=g),this.ee.items.slice().sort(t)},e.prototype.e6=function(){return this.ee.items},e.prototype.aN=function(t){return this.eb(t)},e.prototype.Gh=function(t,e){return(t=this.eb(t))?e?t.Gm:void 0===(e=t.Tp)?0:e-(t=this.BS()):0},e.prototype.OC=function(){var t,e,i,n,r,o,a;return a=null===(t=this.eb(0))||void 0===t?void 0:t.rn,{$n:null!==(i=null==(t=null===(e=this.eb(1))||void 0===e?void 0:e.rn)?void 0:t.Y)&&void 0!==i?i:0,vr:null!==(n=null==a?void 0:a.Y)&&void 0!==n?n:0,Ks:null!==(r=null==t?void 0:t.fa)&&void 0!==r?r:0,kC:null!==(o=null==a?void 0:a.fa)&&void 0!==o?o:0}},e.prototype.KV=function(t){var e;return(t=this.eb(t))&&null!==(e=t.Tp)&&void 0!==e?e:0},e.prototype.Om=function(t){return(null==(t=this.eb(t))?void 0:t.Om())||[]},e.prototype.mX=function(t){u.No(t.newValue)&&this.qr()},e.prototype.vG=function(t){return this.ee.every((function(e){return e.vG(t)}))},e.prototype.P5=function(t){var e,i;return null!==(i=null===(e=this.ee.get(t))||void 0===e?void 0:e.HTa)&&void 0!==i?i:p.T.Gb},e.prototype.zxa=function(t){var e,i,r;return!!(e=this.mt.PLb)&&(!!(i=l.ig(t,(function(t){return e.Y<=t.Vc.Y})))&&(t=!1,i=(r=n.__read(c.Pua(this.I,this.ee,i.Vc),2))[0],(r=r[1])&&(this.eb(1).truncate(r),t=!0),i&&(this.eb(0).truncate(i),t=!0),t&&(i={type:"branchEdited"},this.events.emit(i.type,i)),t))},e.prototype.tk=function(t){this.Xl||(t.e3||d.assert(!t.ad),this.qr(),this.wl&&this.Kga()),this.Ut(t)},e.prototype.YH=function(t){this.I.T4&&this.qr(!0),this.TG(t)},e.prototype.XH=function(t){this.I.T4&&this.qr(!0),this.MC(t)},e.prototype.oTa=function(t,e,i){var n,o,a;return n=this,o=new y.bK,a=!1,t.forEach((function(t){var i;void 0===(i=n.ee.find((function(e){return e.track===t.track})))?(a=!0,i=new s.wda(t.mediaType,n.I,n.console),(i=new r.Sda(n,n.I,n.console,n.C9,n.gb,t.track,e,t.kl,i,!0,void 0,t.l0b(),n.Rv)).events.on("lastRequestIssued",(function(){return n.Aw&&n.events.emit("lastRequestIssued",{type:"lastRequestIssued"})}))):(n.ee.remove(i),i.rT()),o.add(i)})),this.ee.forEach((function(t){return t.Df()})),this.ee=o,a?this.normalize(e,i):{CU:!1,FC:!1}},e.prototype.normalize=function(t,e){var i,n;return null===(i=this.XB)||void 0===i||i.ed(),this.XB=new h.iIa({console:this.console,config:this.I,P:this.P,O:this.O,el:this.ee,Vc:t,Pd:null!==(n=this.O.Uk)&&void 0!==n?n:void 0!==this.O.Ha?p.T.Eb(this.O.Ha):void 0,splice:e}),this.mt=this.ee.TX,t=(e=this.XB.normalize()).CU,e=e.FC,t&&this.Mga&&(this.Zs=this.Mga.Qa(this.Vc)),{CU:t,FC:e}},e.prototype.iwa=function(t){var e;return u.No((null===(e=this.by)||void 0===e?void 0:e.value)||u.Jc.ej)&&(!t||this.KS+this.I.z8<b.default.time.ea())},e.prototype.qr=function(t){void 0===t&&(t=!1),this.iwa(t)&&(this.KS=b.default.time.ea(),t={type:"checkBufferingProgress"},this.events.emit(t.type,t))},e.prototype.Kga=function(){var t;t={type:"branchStreamingComplete"},this.events.emit(t.type,t)},e.prototype.toJSON=function(){var t,e;return{segment:this.O.id,branchOffset:this.Fe,viewableId:this.Gp.W,contentStartPts:null===(t=this.Vc)||void 0===t?void 0:t.Y,contentEndPts:null===(e=this.Pd)||void 0===e?void 0:e.Y}},e}(o.kv),e.KGa=i,v.xf(t.rx,i)},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.iIa=void 0,n=i(2),r=i(408),o=i(5),t=function(){function t(t){var e,i,n,r,o,a,s,u;e=this,i=t.console,n=t.config,r=t.P,o=t.el,a=t.O,s=t.Vc,u=t.Pd,t=t.splice,this.dW=this.XL=!1,this.WRa=function(){e.XL||e.Vha()&&e.fsa()},this.console=i,this.config=n,this.el=o,this.P=r,this.O=a,this.Vc=s,this.Pd=u,this.splice=t}return t.prototype.xb=function(t){if(this.XL)throw Error("Cannot call init() after cleanup");if(this.dW)throw Error("Cannot call init() twice");this.dW=!0,this.r4a=t,this.P.eu.addListener("onHeaderFragments",this.WRa),this.Vha()&&this.fsa()},t.prototype.normalize=function(){if(this.XL)throw Error("Cannot call normalize() after cleanup");if(this.dW)throw Error("Cannot call init() / normalize() twice");return this.dW=!0,o.assert(this.Vha()),this.fsa()},t.prototype.EVb=function(t,e){return o.assert(this.dW,"expected to be called init() before renormalize"),this.O=t,this.Pd=e,t=r.Pua(this.config,this.el,this.Pd),this.Y8(),t},t.prototype.ed=function(){this.XL||(this.XL=!0,this.r4a=void 0,this.P.eu.removeListener("onHeaderFragments",this.WRa))},t.prototype.fsa=function(){var t,e,i;return this.XL?{CU:!1,FC:!1}:(e=this.EPb(),i=!1,this.O&&!this.O.cs&&(i=this.Y8()),null===(t=this.r4a)||void 0===t||t.call(this,e,i),this.ed(),{CU:e,FC:i})},t.prototype.Vha=function(){return this.el.every((function(t){return t.track.je}))},t.prototype.EPb=function(){var t,e;return e=(t=n.__read(r.P3a(this.config,this.el,this.Vc,this.Pd,this.splice),2))[0],t[1]||void 0===this.el.get(1)&&e},t.prototype.Y8=function(){var t,e,i;return o.assert(this.O),o.assert(!this.O.cs),t=this.el.TX,void 0!==(e=r.R3a(this.config,t,this.O.Mg))&&void 0!==t.Pd&&(t=t.Pd,i=this.config.Xxa&&"immediate"!==this.O.ae?r.k2a(this.console,this.O,this.el):[],this.O.normalize(e,t,i),!0)},t}(),e.iIa=t},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.tDa=void 0,n=i(393),r=i(125),o=i(243),a=i(244),s=i(5),t=function(){function t(t,e,i,n,r,o,a,s){this.gb=t,this.track=e,this.U$=i,this.config=n,this.console=r,this.events=a,this.YQb=s,this.Jn=0,this.c6a=this.wl=!1,this.kl=this.yyb(o)}return Object.defineProperties(t.prototype,{mediaType:{get:function(){return this.track.mediaType},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{xa:{get:function(){return this.gb.O.id},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{$g:{get:function(){return this.gb.$g},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{fU:{get:function(){return this.U$},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{jE:{get:function(){return this.U$},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{KM:{get:function(){return this.gb.KM},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{If:{get:function(){return this.Ee||(this.Ee=this.Ht())},enumerable:!1,configurable:!0}}),t.prototype.mD=function(){return this.track.N8},t.prototype.Ur=function(){return this.track.je},t.prototype.ri=function(){return!1},t.prototype.TXa=function(){return{U:[],x9:0,cl:0}},t.prototype.l0b=function(){var t;return s.assert(this.Ur()),t=this.If,this.Ee=void 0,t},t.prototype.vab=function(t){return(t=t.pE(this.If))?{Gn:t,reason:"success"}:{Gn:t,reason:"pipelineTryIssueHeaderRequest"}},t.prototype.cancel=function(){this.Ee&&(this.gb.P.yL(this.mediaType,this.Ee),r.lp.instance.oM(this.Ee),this.Ee.removeAllListeners(),this.Ee=void 0)},t.prototype.yyb=function(t){var e,i;return e=0===this.mediaType?this.config.NQa:this.config.Mwa,(t=new o.Kea(t)).PY(this.track),i=this.config,new a.Lea(e,this.config,t,0===this.mediaType?i.xla:i.yla)},t.prototype.Ht=function(){var t,e;return t=this,(e=n.Ht(this.mediaType,this.track.P,this.config,this.console,(function(e){return t.events.emit("transportReport",e)}),(function(){}))).on("created",this.YQb),e},t}(),e.tDa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.TKa=void 0,t=function(){function t(t,e){this.H=t,this.Zh=e,this.Owa=!1}return t.prototype.Nh=function(t,e,i,n,r,o,a){void 0===a&&(a=!1),this.Owa||(a||(this.Owa=!0),t={type:"error",error:null!=i?i:"NFErr_MC_StreamingFailure",errormsg:t,networkErrorCode:n,httpCode:r,nativeCode:o,viewableId:e,temporaryFailure:a},this.H.error("notifyStreamingError:",t),this.Zh.emit("error",t))},t.prototype.Fn=function(){return this.Owa},t}(),e.TKa=t},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.Uda=void 0,n=i(2),r=i(5),o=i(9),a=i(20),s=i(252),t=function(t){function e(e){var i;return(i=t.call(this)||this).pa=e,i.Kb=[],i.mS=new s.k1({Zk:!1,currentTime:function(){return i.vm?i.Ug:o.T.fD},speed:1}),i}return n.__extends(e,t),Object.defineProperties(e.prototype,{za:{get:function(){return this.mS},enumerable:!1,configurable:!0}}),e.prototype.q3=function(t,e){var i;return(i=!this.pa)&&(this.pa=t,this.Efa=null!=e&&e.vm?e.Ug:void 0),i},e.prototype.oG=function(){this.Kb=[],this.Efa=void 0},e.prototype.$ka=function(t){a.ga&&r.assert(this.pa===t),this.pa=void 0,this.oG()},e.prototype.Hla=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=this.Kb).push.apply(t,n.__spread(e))},e.prototype.WM=function(){return this.Efa?this.Efa:t.prototype.WM.call(this)},e.prototype.Oo=function(){return!1},e.prototype.TI=function(){},e}(i(406).hea),e.Uda=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.kIa=void 0,n=i(54),t=function(){function t(t){this.eb=t}return Object.defineProperties(t.prototype,{mj:{get:function(){return"PipelineReporter"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return!0},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){var e,i;if((t=t.Qi)===n.de.Zn||t===n.de.$p)return t={},e=this.eb(1),i=this.eb(0),e&&(t.videoPipelineSummary=this.o$a(e)),i&&(t.audioPipelineSummary=this.o$a(i)),t},t.prototype.o$a=function(t){var e,i,n,r,o;return{actualStartPlayerTimestamp:null===(e=(o=t.Pa.U).xj)||void 0===e?void 0:e.Y,actualPartialPlayerTimestamp:o.i5a,actualCompletePlayerTimestamp:null===(i=t.Dha)||void 0===i?void 0:i.Y,segmentId:t.xa,contentStartMs:null===(n=t.Vc)||void 0===n?void 0:n.Y,contentEndMs:null===(r=t.Pd)||void 0===r?void 0:r.Y,streamingPlayerMs:t.jE.Y,isStreamable:t.mD(),isNormalized:t.ri(),isDoneStreaming:t.Ur(),trackNeedsHeaderRequest:t.track.N8,completedRequests:o.FSa,activeRequests:t.Pa.Jp,unsentRequests:t.Pa.Hs,bytes:{current:o.fa,received:o.O6a,partial:o.cl,completed:o.zC,unsent:o.R0b}}},t}(),e.kIa=t},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.QIa=void 0,n=i(2),r=i(20),o=i(54),a=i(410),t=function(){function t(t){this.OSb=t}return Object.defineProperties(t.prototype,{mj:{get:function(){return"playgraph-branch-audit"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ED:{get:function(){return"paudit"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return r.ga},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){var e;if((t=t.Qi)===o.de.$p||t===o.de.Zn)return e={},this.OSb.forEach((function(t,i){var r;r=a.Vma(t),e[i]=n.__assign({probabilities:t.$g.map((function(t){return{duration:t.duration,immediate:t.dD,seamless:t.Ue}}))},r)})),e},t}(),e.QIa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.iFa=void 0,t=function(){function t(t,e,i){this.Yf=t,this.H=e,this.events=i,this.OO=[]}return t.prototype.Ji=function(t){var e;e=this,this.OO.push(t),this.Yf.ayb((function(){e.sab(t,{zKb:!0})}),t.FRa,t.ow)},t.prototype.jMb=function(t){var e,i;e=this,i={Qi:t},this.OO.forEach((function(t){e.sab(t,i)}))},t.prototype.sab=function(t,e){var i,n;try{n=(i=t.og(e)).event,i.o9a&&this.events.emit(t.ow,n)}catch(e){this.H.error("Error generating event for "+t.ow,e)}},t}(),e.iFa=t},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.js=e.rZa=e.C0a=void 0,n=i(9),r=i(5),o=i(20),e.C0a=function(t,e){if(void 0===(t=t.qa[e.xa]))return!1;if(void 0===t.Ob||null===t.Ob)throw Error("Cannot validate graph position without endTimeMs");return t=t.Ob-t.Jb,0<=e.offset.Y&&e.offset.Y<t},a=n.T.Eb(100),e.rZa=function(t,e){if(t===e)return!0;if(t&&e&&t.xa===e.xa){if(t.offset===e.offset)return!0;if(t=n.T.abs(t.offset.Qa(e.offset)),a.greaterThan(t))return!0}return!1},e.js=function(t,e,i){var a,s,u,c;if(u=e.pa,e=e.ZJb,void 0===i&&(i={}),c=u.Ca,c=(u=u.navigator).ue(null!==(a=null==e?void 0:e.id)&&void 0!==a?a:c.Yd),(a=null!==(s=null==e?void 0:e.WWb)&&void 0!==s?s:c.Mg).greaterThan(t))return i.B9a?{offset:t.Qa(a),xa:c.id}:void 0;for(e=u.xLb(c),u=e.next();!u.done;){if(u=(s=u.value).Uk.Qa(s.Mg),(a=(c=a).add(u)).greaterThan(t))return t=t.Qa(c),o.ga&&r.assert(t.Or(n.T.Gb)&&t.lessThan(u)),{xa:s.id,offset:t};if((u=e.next()).done&&i.C9a)return{xa:s.id,offset:t.Qa(c)}}}},function(t,e,i){var n,r,o,a,s,u,c;Object.defineProperties(e,{__esModule:{value:!0}}),e.RCa=void 0,t=i(2),n=i(16),r=t.__importDefault(i(35)).default.tH,o=t.__importDefault(i(144)),a=t.__importDefault(i(6)),s=i(176),u=i(25),c=i(5),i=function(){function t(t,e,i,n,r){this.config=t,this.TYb=e,this.navigator=i,this.events=n,this.console=r,t=s.eN(this.config),this.X5a=[t.SD,t.O9]}return t.prototype.aXb=function(t,e,i,r,o,a,s){var c,h,f,l,d,p,b;return h=[],this.s5a(o.track)?(d=(l=(f=o.kl).ug).ou,0===(p=a?a.wn(o.track.$d,t):o.track.$d).length&&null!=a&&a.Utb?{stream:void 0,vP:h,reason:"allStreamsFiltered"}:(d&&!d.track.equals(o.track)&&(d=this.hDb(d,p)),0===o.mediaType&&d&&!this.yYb(l,d)?{stream:d,vP:h}:(t=this.nyb(t===n.Jc.xd?n.ma.xd:t===n.Jc.Of?n.ma.Of:t===n.Jc.VR?n.ma.xd:t===n.Jc.ej?n.ma.Kc:n.ma.zh,e,r,o,!!s),(f=f.Gva(t,p,void 0,this.X5a[o.mediaType],!0,o.track.P.aq))?(f.reason&&(b={reason:f.reason,Fva:f.fu,Jz:f.Jz,Lo:f.Lo,Mo:f.Mo},this.wja(o.mediaType,p,i)),this.kBb(o.mediaType,f,p),d=p[f.Je],l.Z8a(d),null!==(c=f.ez)&&void 0!==c&&c.length&&(h=f.ez.map((function(t){return u.ig(p,(function(e){return e.id===t}))})).filter(u.Z8)),i=f.xu,void 0!==b?{stream:d,vP:h,cXb:b,xu:i}:{stream:d,vP:h,xu:i}):{stream:d,vP:h,reason:"streamSelectionFailure"}))):{stream:d,vP:h,reason:"locationSelectionFailure"}},t.prototype.yja=function(t,e,i,r,o,a,s){var u,h,f;return n.No(e)?a.c6a?a.CRb?(c.assert(a.K4a),a.K4a):(h=(u=a.kl).ug,i=this.bXa(a,i),f=h.ou,(h=i.lm-i.Mc)<this.config.tj||void 0===f?{complete:!1,sC:h,reason:"preBuf"}:0===a.mediaType?{complete:!0,sC:h,reason:"audio"}:(t=t.$Ra(a.mediaType))?{complete:!0,sC:h,reason:t}:(this.s5a(a.track),u.Jta([f],!1,i,this.X5a[a.mediaType]),!(e=u.Qy(i,e,o,f,{It:s})).complete&&r?{complete:!0,reason:"prebufferTimeLimit",sC:h}:(e.sC=h,e))):{complete:!1,reason:"unknown"}:{complete:!0,reason:"playing"}},t.prototype.kBb=function(t,e,i){this.events.emit("streamSelection",{type:"streamSelection",mediaType:t,result:e,streamList:i})},t.prototype.jBb=function(t,e,i,n){t={type:"maxVideoBitrateChanged",time:a.default.time.ea(),streaming:n,maxvb_old:t,maxvb:e,reason:i},this.events.emit(t.type,t)},t.prototype.hDb=function(t,e){var i;return i=e[0],e.filter((function(t){return t.lu})).every((function(e){return e.bitrate<=t.bitrate&&(i=e)})),i},t.prototype.yYb=function(t,e){return 0<this.config.FP.length||(!(t=t.FN)||t!==e.location)},t.prototype.s5a=function(t){return t.P.ym.LZ(t.P.W,t.$d)},t.prototype.bXa=function(t,e){for(var i,n,r,o,s=e.Qa(this.TYb),u=[],c=t,h=e,f=0,l=!0;c&&(i=c.TXa(s),l||c.wl);)0<i.U.length&&(h=i.U[0].xj,void 0===r&&(r=i.U[i.U.length-1].xe,o=i.x9>=i.U.length?r:i.U[i.x9].xj),u=i.U.concat(u),f+=i.cl),c=this.navigator.parent(c),l=!1;return{ew:a.default.Io()[t.mediaType],Z:Math.floor(h.Y),Mc:e.Y,Ic:Math.floor(null!==(n=null==r?void 0:r.Y)&&void 0!==n?n:e.Y),lm:Math.floor(o?o.Y:e.Y),bh:u.reduce((function(t,e){return t+e.fa}),0),cl:f,FWa:u.length,U:u}},t.prototype.nyb=function(t,e,i,r,a){var s,u,c;return s=this.bXa(r,e),u=1===r.mediaType?this.config.RZ:this.config.ET,c=o.default.instance(),{state:t,sq:t===n.ma.Kc,Qd:r.Jn,playbackRate:i,buffer:s,kla:u,K1a:!1,wM:a,Jp:null==c?void 0:c.Jp,mediaType:r.mediaType,Mc:e.Y,Wr:!1,zpa:!1,b$:0}},t.prototype.wja=function(t,e,i){var n,o;if(1===t){t="manifest";for(var a=0,s=e.length-1;0<=s;--s){if(o=(n=e[s]).bitrate,r(n)){a=Math.max(a,o);break}this.config.bZ&&!n.St?t="bc":n.ju?n.Ez&&(t="hf"):t="av"}this.H2a!==a&&(this.jBb(this.H2a,a,t,i),this.H2a=a)}},t}(),e.RCa=i},function(t,e,i){var n,r;function o(t,e,i,o,a){var s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P;if(d=t.console,p=t.S0b,b=t.Ni,v=t.aWb,y=t.vAb,g=t.Ora,m=t.Mia,t=t.zRb,w=(_=a||{complete:!0,Rq:0}).root,E=_.complete,k=_.kqb,O=void 0===(O=_.B7a)?0:O,_=_.Rq,S=O<v.length&&v[O]===e.id,T=o&&b.get(o.id),A=((b=(A=a&&o&&T!==e.id?void 0!==T?{Ue:0}:o.Etb(e.id):{Ue:1}).Ue)+(P=void 0===(A=A.dD)?0:A))*(null!==(s=null==a?void 0:a.KTb)&&void 0!==s?s:1),r&&d.trace("reevaluateBranches: visiting "+e.id+", distance: "+i+", probability: "+A+", predecessor: "+(null==o?void 0:o.id)+", decision: "+T+", predecessorComplete: "+E+", isOnRequiredPath: "+S+", requiredPathIndex: "+O+", activeDistance: "+k+", seamless "+b+", immediate "+P+", predecessor sum of: successor weights="+(null==o?void 0:o.Vwa)+", immediate weights= "+(null==o?void 0:o.aaa)),s=null!==(c=null===(u=p[e.id])||void 0===u?void 0:u.shift())&&void 0!==c?c:e.duration.Y,u=0===s,!S){if(0===A)return{Raa:!1};if(!E&&0===P&&_>m)return t.JC=Math.min(t.JC||1/0,_-m),{Raa:!1};if(!u&&i>=y&&1>A||!1===w&&A<g)return{Raa:!1}}return O<v.length&&n.assert(v[O]===e.id,""),a=null!==(h=null==a?void 0:a.$g)&&void 0!==h?h:[],o&&1>b&&(0===P?a=a.concat([{Ue:b}]):(h=(null===(l=null===(f=o.O.hq)||void 0===f?void 0:f[0])||void 0===l?void 0:l[0])||0,f=Math.max(0,o.duration.Y-h),r&&d.trace("reevaluateBranches: immediate: "+o.duration.Y+", "+h+", "+f),a=a.concat([{Ue:b,dD:P,duration:f}]))),t.A7a.push({O:e,Fu:null==o?void 0:o.id,$g:a}),i=E?i+e.duration.Y:k,r&&d.trace("reevaluateBranches: added "+e.id+", visiting successors, active distance: "+i+" probabilities: "+JSON.stringify(a)),{Raa:!0,state:{root:!o,complete:u,KTb:A,$g:a,kqb:i,B7a:O+1,Rq:_+s}}}function a(t,e,i,n){n("reevaluateBranches: "+Array(i+1).join(" ")+t.O.id+" ("+JSON.stringify(t.$g)+")"),e.filter((function(e){return e.Fu===t.O.id})).forEach((function(t){return a(t,e,i+1,n)}))}Object.defineProperties(e,{__esModule:{value:!0}}),e.e0b=e.C2b=e.d$=void 0,n=i(5),r=i(20).ga&&!1,e.d$=function(t,e,i,a,s,u,c,h,f){var l,d,p,b;return d={A7a:[]},p=(null===(l=i.Uk)||void 0===l?void 0:l.Qa(i.Mg).Y)||0,0<u.length&&n.assert(i.id===u[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment."),r&&t.trace("reevaluateBranches: starting at "+i.id+" requiredPath: "+JSON.stringify(u)),b={console:t,S0b:a,Ni:s,aWb:u,vAb:c.Y+p,Ora:h,Mia:f.Y,zRb:d},e.B2b(i,(function(t,e,i,n){return o(b,t,e,i,n)})),d},e.C2b=o,e.e0b=function(t,e){a(t[0],t,0,e)}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.$Ia=void 0,n=i(2),r=i(409),t=function(){function t(t){this.Ca=t,this.qa={}}return t.prototype.ue=function(t){var e;if(void 0===(e=this.qa[t])){if(void 0===(e=this.Ca.qa[t]))throw Error("Segment not found ("+t+")");e=new r.eJa(t,e,this.Ca.ae),this.qa[t]=e}return e},t.prototype.hFb=function(t){var e;return e=this,t.O.next?Object.keys(t.O.next).map((function(t){return e.ue(t)})):[]},t.prototype.xLb=function(t){var e;return n.__generator(this,(function(i){switch(i.label){case 0:return[4,t];case 1:i.bd(),e=t,i.label=2;case 2:return e.O.Qe?[4,e=this.ue(e.O.Qe)]:[3,4];case 3:return i.bd(),[3,2];case 4:return[2]}}))},t.prototype.yIb=function(t,e){return r.e0a(t.kN(e))},t.prototype.Ai=function(t){var e;e=this,Object.keys(t).forEach((function(i){var n;return null===(n=e.ue(i))||void 0===n?void 0:n.Ai(t[i])}))},t}(),e.$Ia=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.IRa=e.QSa=void 0,n=i(2),r=i(25),o=i(911),e.QSa=function(t){return new o.rBa((function(e){return Object.keys(e.O.next||{}).map((function(i){var n,r;return{m2b:i=t.ue(i),weight:null!==(r=null===(n=e.Uk)||void 0===n?void 0:n.Qa(e.Mg).Y)&&void 0!==r?r:1/0}}))}))},e.IRa=function(t,e){var i,o,a,s,u;return i=Object.keys(t.qa),a=(o=Object.keys(e.qa)).filter((function(t){return-1===i.indexOf(t)})),s=i.filter((function(t){return-1===o.indexOf(t)})),u=i.filter((function(i){var a,s,u,c,h;return-1===o.indexOf(i)?a=!1:(a=t.qa[i],i=e.qa[i],a=!(a.Qe===i.Qe&&a.Ob===i.Ob&&a.Jb===i.Jb&&a.ae===i.ae&&a.W===i.W&&!function(t,e){return!(!t.some((function(t,i){var n;return 0!==r.vt(t,null!==(n=e[i])&&void 0!==n?n:[]).length}))&&t.length===e.length)}(null!==(s=a.hq)&&void 0!==s?s:[],null!==(u=i.hq)&&void 0!==u?u:[])&&!function(t,e){var i,o;return!!(i=Object.keys(t)).some((function(i){var n,r,o,a;return(null===(n=t[i])||void 0===n?void 0:n.ae)!==(null===(r=e[i])||void 0===r?void 0:r.ae)||(null===(o=t[i])||void 0===o?void 0:o.weight)!==(null===(a=e[i])||void 0===a?void 0:a.weight)}))||(o=Object.keys(e),0!==n.__spread(r.vt(i,o),r.vt(o,i)).length)}(null!==(c=a.next)&&void 0!==c?c:{},null!==(h=i.next)&&void 0!==h?h:{}))),a})),{Uqb:a,MO:s,mub:u,L0b:r.vt(i,n.__spread(u,a,s))}}},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.rBa=void 0,n=i(5),r=i(237),o=i(912),a=i(411),t=function(){function t(t){this.bBb=t,this.kya=!1,this.Saa=new o.sea,this.Ww=new o.sea,this.hQa=new a.rea}return t.prototype.B2b=function(t,e){var i,o,a;function s(){var t,n,r,s,h,f;t=u.pop(),r=(n=a.get(t)).Fu,s=n.rM,n=n.state,c.Saa.has(t)||(c.Saa.add(t),r=e(t,s,r,n),h=r.Raa,f=r.state,o(t).forEach((function(e){var n,r;n=e.m2b,!i.Saa.has(n)&&(e=s+e.weight,h)&&(i.Ww.has(n)?e<(r=i.hQa.get(n)).rM&&(r.rM=e,r.Fu=t,r.state=f,u.JTb(n)):(i.Ww.add(n),a.set(n,{rM:e,Fu:t,state:f}),u.push(n)))})))}i=this,o=this.bBb,a=this.hQa,n.assert(!this.kya),this.kya=!0,this.Saa.clear(),this.Ww.clear(),a.set(t,{rM:0,state:{root:!1,complete:!0,B7a:0,Rq:0}});for(var u=new r.C0([t],(function(t,e){return a.get(t).rM-a.get(e).rM})),c=this;!u.empty;)s();this.kya=!1},t}(),e.rBa=t},function(t,e){var i,n,r;function o(t){return void 0!==(null==t?void 0:t.qMa)}function a(t){return(o(t)?t:Object.defineProperties(t,{qMa:{value:{},configurable:!1,enumerable:!1}})).qMa}Object.defineProperties(e,{__esModule:{value:!0}}),e.sea=void 0,n=null!==(i=Number.MAX_SAFE_INTEGER)&&void 0!==i?i:1e9,r=Date.now()%n,t=function(){function t(){this.F$=0,this.id=r=(r+1)%n}return t.prototype.add=function(t){return a(t)[this.id]=this.F$,this},t.prototype.has=function(t){return o(t)&&a(t)[this.id]===this.F$},t.prototype.delete=function(t){return!!this.has(t)&&(a(t)[this.id]=void 0,!0)},t.prototype.clear=function(){return this.F$=(this.F$+1)%n,this},t}(),e.sea=t},function(t,e,i){var n,r,o,a;function s(t){return{value:t.gb,parent:t.Fu}}Object.defineProperties(e,{__esModule:{value:!0}}),e.RIa=void 0,n=i(9),r=i(25),o=i(5),a=i(914),t=function(){function t(){this.Kb=new n.AGa,this.Gs=new a.ALa}return Object.defineProperties(t.prototype,{empty:{get:function(){return this.Kb.empty},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{size:{get:function(){return this.Kb.size},enumerable:!1,configurable:!0}}),t.prototype.reset=function(){var t;t=this.Kb.values(),this.Kb.clear(),this.Gs.clear(),t.forEach((function(t){return t.Df()}))},t.prototype.rz=function(t){return this.Kb.get(t)},t.prototype.has=function(t){return this.Kb.has(t)},t.prototype.hV=function(t){this.Gs.hV(t)},t.prototype.Ina=function(t){return this.Gs.parent(t)},t.prototype.UEb=function(t){return this.Gs.children(t)},t.prototype.voa=function(t){return this.Gs.voa(t)},t.prototype.Hua=function(t){var e;this.Kb.delete(t.O.id,t)&&(e=this.Gs.children(t),this.Gs.root===t?0===e.length?this.Gs.clear():(o.assert(1===e.length,"cannot remove the root branch with multiple successors"),this.Gs.HVb(e[0])):(o.assert(0===e.length,"cannot remove non-root branch with successors"),this.Gs.remove(t)))},t.prototype.forEach=function(t){var e;e=this,this.Kb.forEach((function(i,n){return t(i,n,e)}))},t.prototype.reduce=function(t,e){var i;return i=this,this.Kb.reduce((function(e,n,r){return t(e,n,r,i)}),e)},t.prototype.map=function(t){var e;return e=this,this.Kb.map((function(i,n){return t(i,n,e)}))},t.prototype.filter=function(t){var e;return e=this,this.Kb.filter((function(i,n){return t(i,n,e)}))},t.prototype.JHb=function(){var t;return t={},this.forEach((function(e,i){var n;(e=e.Rq)&&(null!==(n=t[i])&&void 0!==n?n:t[i]=[]).push(e.Y)})),t},t.prototype.Y0b=function(t,e){var i;return i=this,t=this.FNb(t,e).target,e=this.Gs.CUb(t.map(s)),t=e.MO,e=e.n7a,t.forEach((function(t){return i.Kb.delete(t.O.id,t)})),{MO:t,n7a:e.map((function(t){return t.value}))}},t.prototype.FNb=function(t,e){var i,n;return i=this,n=[],{target:t.reduce((function(t,a,s){var u,c;return o.assert(0===s||a.Fu),a.Fu&&!(c=null===(u=r.yQa(t,(function(t){return t.gb.O.id===a.Fu})))||void 0===u?void 0:u.gb)?(o.assert(void 0!==r.ig(n,(function(t){return t.O.id===a.Fu})),"predecessorSegmentId "+a.Fu+" specified without previously specifying predecessor requiredBranch."),n.push(a),t):(u=null!=(u=r.ig(i.rz(a.O.id),(function(t){return i.Gs.parent(t)===c||0===s})))?u:function(t,n){return(t=e(t.O.id,n))&&i.Kb.set(t.O.id,t),t}(a,c),u.$g=a.$g,t.push({gb:u,Fu:c}),null!=u&&u.VV&&u.update(a.O),t)}),[])}},t}(),e.RIa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.ALa=void 0,n=i(411),r=i(5),o=i(25),t=function(){function t(){this.K=new n.rea}return Object.defineProperties(t.prototype,{empty:{get:function(){return!this.IA},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{root:{get:function(){var t;return null===(t=this.IA)||void 0===t?void 0:t.value},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{values:{get:function(){var t;return t=[],this.hV((function(e){return!!t.push(e)})),t},enumerable:!1,configurable:!0}}),t.prototype.has=function(t){return!!this.K.get(t)},t.prototype.parent=function(t){var e;return t=this.K.get(t),r.assert(t,"Attempted to find the parent of a node not in the tree"),null===(e=t.parent)||void 0===e?void 0:e.value},t.prototype.children=function(t){return t=this.K.get(t),r.assert(t,"Attempted to find the children of a node not in the tree"),t.children?t.children.map((function(t){return t.value})):[]},t.prototype.voa=function(t){return t=this.K.get(t),r.assert(t,"Attempted to find the children of a node not in the tree"),void 0!==t.children&&0<t.children.length},t.prototype.add=function(t,e){var i;return r.assert(!this.K.get(t),"Attempted to add a value to tree that is already present"),i={value:t},void 0===this.IA?(r.assert(void 0===e,"a parent cannot be specified when the tree is empty"),this.IA=i):(r.assert(void 0!==e,"a parent must be specified when the tree is non-empty"),e=this.K.get(e),r.assert(e,"Parent value does not exist in tree"),this.LQa(i,e)),this.K.set(t,i),this},t.prototype.remove=function(t){return t=this.K.get(t),r.assert(t,"Attempted to remove a node not in the tree"),this.removeNode(t),this},t.prototype.removeNode=function(t){var e;e=this,this.xma((function(t){return e.K.delete(t)}),t.value),void 0===t.parent?this.IA=void 0:this.detach(t)},t.prototype.move=function(t,e){return t=this.K.get(t),e=this.K.get(e),r.assert(t,"cannot move a value that is not in the tree"),r.assert(e,"cannot move a value to a parent value not in the tree"),r.assert(t.parent,"cannot move the root node"),r.assert(!this.uKb(t,e),"cannot move a node below itself or one of its decendants"),t.parent!==e&&(this.detach(t),this.LQa(t,e)),this},t.prototype.HVb=function(t){var e,i;e=this,t=this.K.get(t),r.assert(t,"cannot replant at a value that is not in the tree"),i=[],this.detach(t),this.xma((function(t){return e.K.delete(t),i.unshift(t),!0})),this.IA=t},t.prototype.clear=function(){return this.IA&&this.remove(this.IA.value),this},t.prototype.vWa=function(t,e){var i,n;i=this,t=this.K.get(t),r.assert(t,"cannot iterate children of a value not in the tree"),null===(n=t.children)||void 0===n||n.forEach((function(t){return e(t.value,i)}))},t.prototype.hV=function(t,e){var i;i=this,r.assert(!this.empty||void 0===e,"cannot iterate from a value on an empty tree"),this.empty||(e=null!=e?e:this.IA.value,t(e,this)&&this.vWa(e,(function(e){return i.hV(t,e)})))},t.prototype.xma=function(t,e){var i;i=this,r.assert(!this.empty||void 0===e,"cannot iterate from a value on an empty tree"),this.empty||(e=null!=e?e:this.IA.value,this.vWa(e,(function(e){return i.xma(t,e)})),t(e,this))},t.prototype.CUb=function(t){var e,i,n;return e=this,r.assert(function(t){return 0===t.length||void 0===t[0].parent&&t.every((function(e,i){return 0===i||o.Mp(t,(function(t){return t.value===e.parent}))<i}))}(t),"entries must be in topological order"),0===t.length?(i=this.values,n=[],this.clear()):(n=t.filter((function(t){return e.has(t.value)&&t.parent!==e.parent(t.value)})),i=this.values.filter((function(e){return-1===o.Mp(t,(function(t){return t.value===e}))})),this.clear(),t.forEach((function(t){return e.add(t.value,t.parent)}))),{MO:i,n7a:n}},t.prototype.LQa=function(t,e){var i;t.parent=e,(null!==(i=e.children)&&void 0!==i?i:e.children=[]).push(t)},t.prototype.detach=function(t){var e;r.assert(t.parent,"cannot detach the root"),r.assert(void 0!==t.parent.children,"logic error: parent node does not have children"),e=t.parent.children.indexOf(t),r.assert(0<=e,"logic error: node does not appear in the children of its parent"),t.parent.children.splice(e,1),t.parent=void 0},t.prototype.uKb=function(t,e){for(;void 0!==e;){if(e===t)return!0;e=e.parent}return!1},t}(),e.ALa=t},function(t,e,i){var n,r,o,a,s,u,c,h;Object.defineProperties(e,{__esModule:{value:!0}}),e.Kza=void 0,n=i(2),r=n.__importDefault(i(6)),o=i(16),a=i(9),s=i(22),u=i(5),c=i(118),h=i(72),t=function(){function t(t,e,i,n,r,s,u){var h;h=this,void 0===u&&(u=500),this.H=t,this.config=e,this.Qb=i,this.events=n,this.Lla=r,this.Yf=s,this.gtb=u,this.Pta=this.yl=0,this.t8=[],this.a5={It:0},this.state=new a.er(o.Jc.dj),this.tf=new a.er(o.ma.zh),this.zi=new c.IB({xD:10,wu:this,source:"BufferStateTracker",Sha:function(){return{isBuffering:h.pg,alwaysRunUnderflowTimer:h.config.BL}}})}return Object.defineProperties(t.prototype,{It:{get:function(){return this.a5.It},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{pg:{get:function(){return o.No(this.state.value)},enumerable:!1,configurable:!0}}),t.prototype.Gaa=function(t){var e;e=this,Array.isArray(t)||(t=[t]),t.forEach((function(t){0===t.mediaType&&(e.vRa=n.__assign(n.__assign({},e.vRa),{audio:{trackId:t.trackId,trackIndex:t.oE}}))}))},t.prototype.x4a=function(t){this.set(o.Jc.dj),this.SI(t,o.Jc.xd)},t.prototype.f9=function(){this.a5.It++},t.prototype.rX=function(t){this.config.BL||void 0===this.Uz&&this.pg&&this.tka(),this.Uz={cD:t.httpCode,ph:t.errorCode,uj:t.nativeCode}},t.prototype.o9=function(){this.Uz=void 0,this.config.BL||this.D4()},t.prototype.sk=function(t){this.pg||(this.SI(t,o.Jc.Of),this.pg&&(this.Uz||this.config.BL)&&this.tka())},t.prototype.fRb=function(t,e){this.state.value!==o.Jc.xd&&this.SI(t,o.Jc.VR),this.Gaa(e)},t.prototype.DQb=function(t,e){var i;i=this,this.config.ftb&&this.pg&&(-1===this.t8.indexOf(t)&&this.t8.push(t),2===this.t8.length&&Promise.resolve().then((function(){i.pg&&void 0!==i.dx&&i.Pe("memoryLimit",e.zZ,e.AZ)})))},t.prototype.vXb=function(t,e){u.assert(this.state.value===o.Jc.xd&&void 0===this.dx),this.dx=t,e&&(this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:e.trackId,trackIndex:e.oE}),this.Gaa(e))},t.prototype.IXb=function(t,e,i){u.assert(this.pg),this.kpa=null!=t?t:this.kpa,this.eW=null!=e?e:this.eW,void 0===this.c7?this.c7=i:void 0!==(null==i?void 0:i.reason)&&(this.c7.reason=i.reason)},t.prototype.Pe=function(t,e,i){var n;u.assert(this.pg&&void 0!==this.dx&&void 0===this.iG&&void 0===this.Maa&&void 0===this.X2),this.iG=t,this.Maa=e,this.X2=i,this.Rp=100,this.iSa(),this.D4(),null===(n=this.Aja)||void 0===n||n.Nb(),this.state.value===o.Jc.Of&&(this.Pta=r.default.time.ea()),this.Q4(),this.set(o.Jc.ej),this.X2=this.Maa=this.iG=this.c7=this.eW=this.kpa=this.dx=void 0},t.prototype.stop=function(){var t;this.set(o.Jc.dj),this.iSa(),this.D4(),null===(t=this.Aja)||void 0===t||t.Nb()},t.prototype.zja=function(t,e,i,n){var a,c,f,l,d,p,b,v,y,g;a=this,u.assert(this.pg),null===(c=this.Aja)||void 0===c||c.Nb(),this.state.value===o.Jc.Of&&r.default.time.ea()<this.Pta+this.config.Nra?(d=this.config.Nra-(r.default.time.ea()-this.Pta),this.Aja=this.Yf.nU(h.Jk.tJ(s.T.Eb(d)),(function(){a.zja(t,e,i,n)}))):(c=i.aN(0),p=i.aN(1),b=r.default.time.ea()-this.yl,(c||p)&&(y=(v=function(i){return i?i.mD()||i.Ur()?n.yja(a.state.value,t,b>=a.config.vA,e,i,a.It):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"}})(c),v=v(p),g=function(t){var e;return{reason:t.reason,complete:t.complete,bl:null!==(e=t.sC)&&void 0!==e?e:0}},this.zi.wy({as:g(y),vs:g(v),bt:b}),(g=p?v:y).q2b=p&&v.sC||0,g.Yrb=c&&y.sC||0,y.complete&&v.complete?(g.complete=!0,this.Pe(null!==(d=g.reason)&&void 0!==d?d:"unknown",null!==(f=g.q2b)&&void 0!==f?f:0,null!==(l=g.Yrb)&&void 0!==l?l:0)):(g.complete=!1,this.wtb(g),this.zi.wy({bp:this.Rp}))))},t.prototype.wtb=function(t){var e,i,n;n=t.progress,t.tD?n=(r.default.time.ea()-this.yl)/this.config.vA:n||(n=(null!==(e=t.sC)&&void 0!==e?e:0)/this.config.tj),(t=Math.min(Math.max(Math.round(100*n),null!==(i=this.Rp)&&void 0!==i?i:0),99))!=this.Rp&&(this.Rp=t)},t.prototype.SI=function(t,e){u.assert(e===o.Jc.xd||void 0!==t),this.dx=t,this.Rp=0,this.b9=void 0,this.a5.It=0,this.t8=[],t=this.state.value===o.Jc.xd||this.state.value===o.Jc.Of,this.yl=r.default.time.ea(),this.set(e),t||(this.iBb(),this.eYb())},t.prototype.set=function(t){switch(this.state.set(t),t){case o.Jc.dj:this.tf.set(o.ma.dj);break;case o.Jc.xd:case o.Jc.VR:this.tf.set(o.ma.xd);break;case o.Jc.Of:this.tf.set(o.ma.Of);break;case o.Jc.ej:this.tf.set(o.ma.Kc)}},t.prototype.iBb=function(){u.assert(this.events&&void 0!==this.Rp),this.b9=this.Rp,this.events.emit("bufferingStarted",{type:"bufferingStarted",time:r.default.time.ea(),percentage:this.Rp})},t.prototype.eYb=function(){var t;t=this,this.isa=setInterval((function(){return t.hBb()}),this.gtb)},t.prototype.iSa=function(){this.isa&&(clearInterval(this.isa),this.isa=void 0)},t.prototype.hBb=function(){this.pg&&this.events&&void 0!==this.Rp&&this.Rp!==this.b9&&this.events.emit("buffering",{type:"buffering",time:r.default.time.ea(),percentage:this.Rp})&&(this.b9=this.Rp)},t.prototype.Q4=function(){var t;u.assert(this.events&&this.dx&&void 0!==this.iG&&void 0!==this.X2&&void 0!==this.Maa),this.b9=this.Rp,this.events.emit("bufferingComplete",n.__assign({type:"bufferingComplete",time:r.default.time.ea(),actualStartPosition:this.dx,reason:this.iG,aBufferLevelMs:this.X2,vBufferLevelMs:this.Maa,selector:this.kpa,initBitrate:this.eW,initSelReason:null===(t=this.c7)||void 0===t?void 0:t.reason,skipbackBufferSizeBytes:this.occ},this.vRa))},t.prototype.tka=function(){var t;t=this,this.config.kbb&&(!this.$A||this.$A.state!==h.Ym.complete&&this.$A.state!==h.Ym.pM?void 0===this.$A&&(this.$A=this.Yf.AG((function(){return t.Cab()}),"underflow")):this.$A.Hm())},t.prototype.D4=function(){this.$A&&(this.$A.state!==h.Ym.pM&&this.$A.Nb(),this.$A=void 0)},t.prototype.Cab=function(){var t,e,i;return n.__generator(this,(function(n){switch(n.label){case 0:return t=this.config.c8,this.H.trace("BufferingStateTracker: starting underflow timer: "+t+"ms"),[4,h.Jk.tJ(s.T.Eb(t))];case 1:n.bd(),n.label=2;case 2:return this.pg?(e=this.Qb.X0a||0,(i=r.default.time.ea()-e)>=t?(this.H.trace("Forcing streaming failure, "+i+"ms since data received"),this.Lla.hRb(this.Uz),[2]):(this.H.trace("BufferingStateTracker: network activity, wait "+(t-i)+"ms"),[4,h.Jk.tJ(s.T.Eb(t-i))])):[3,4];case 3:return n.bd(),[3,2];case 4:return[2]}}))},n.__decorate([c.bc({methodName:"onTemporaryNetworkError",pm:!0})],t.prototype,"rX",null),n.__decorate([c.bc({methodName:"onUnderflow",pm:!0})],t.prototype,"sk",null),n.__decorate([c.bc({methodName:"bufferingComplete",pm:!0})],t.prototype,"Pe",null),n.__decorate([c.bc({methodName:"stop",pm:!0})],t.prototype,"stop",null),n.__decorate([c.bc({methodName:"checkStreamingBufferingComplete",pm:!0})],t.prototype,"zja",null),n.__decorate([c.bc({methodName:"createUnderflowTask",pm:!0})],t.prototype,"tka",null),n.__decorate([c.bc({methodName:"destroyUnderflowTask",pm:!0})],t.prototype,"D4",null),n.__decorate([c.bc({methodName:"onUnderflowTimeout",pm:!0})],t.prototype,"Cab",null),t}(),e.Kza=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.IVa=void 0,n=i(25),e.IVa=function(t,e){var i;return i=[],t=t.filter((function(t){return t.VV})).map((function(t){var r,o;return r=e(t.P),o=n.vt(r,t.vg).map((function(t){return t.mediaType})),i=n.m3(i,o),{gb:t,vg:r}})),{nub:i,Zsb:t}}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.oKa=void 0,n=i(2),r=i(22),o=i(5),e.oKa=function(){function t(){}return t.QHb=function(t){var e,i,a;if(t.ri)return a=(t=n.__read(t.vg,2))[1],t=null===(e=t[0].gp)||void 0===e?void 0:e.Uk,e=null===(i=null==a?void 0:a.gp)||void 0===i?void 0:i.Uk,o.assert(t),{y2b:t,A2b:i=e?r.T.min(t,e):t}},t}()},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.Dza=void 0,n=i(17),r=i(9),o=i(72),a=i(20),s=i(16),t=function(){function t(t,e,i,r,o,a){this.Yf=t,this.Ls=e,this.config=i,this.qQb=r,this.Cf=o,this.console=a,this.Pfa=new n.Wh}return t.HEb=function(t){var e;return null!==(e=t.xe)&&void 0!==e?e:t.xO},t.BFb=function(t){var e,i;return e=t.O,i=t.eO,e.Qe?e.Qe:i.length?i[0]:t.oA[0]},t.prototype.oxa=function(t,e){var i,n,r,o;i=this,r=t.O,this.reset(),r.bv||1>=r.oA.length&&(null===(n=r.Zw)||void 0===n||!n.length)||(n=(o=this.xtb(t)).wva,e=e.lessThan(o.AJb),this.KWb(r,e?n:void 0),e&&this.Pfa.on(t.events,"branchEdited",(function(){i.oxa(t,i.Yf.za.currentTime)})))},t.prototype.hSa=function(){var t;null===(t=this.UTa)||void 0===t||t.Nb(),this.UTa=void 0},t.prototype.reset=function(){this.hSa(),this.Pfa.clear()},t.prototype.xtb=function(e){var i,n;return e=t.HEb(e),i=r.T.Eb(this.config.BD),n=r.T.Eb(this.config.UOb+this.config.YW),i=e.Qa(i),{AJb:s.No(this.Cf.value)?e.Qa(n):i,wva:i}},t.prototype.KWb=function(t,e){var i;i=this,this.hSa(),this.UTa=e?this.Yf.nU(o.Jk.XP(e),(function(){return i.U1a(t)}),"scheduled branch decision"):this.Ls.nU(o.Jk.F2b,(function(){return i.U1a(t)}),"immediate branch decision")},t.prototype.U1a=function(e){var i;this.Pfa.clear(),i=t.BFb(e),a.ga&&this.console.trace("BranchDecisionMaker making decision for "+e.id+", decision is "+i),this.qQb(e.id,i,!0)},t}(),e.Dza=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.$Wa=void 0,n=i(920),e.$Wa=function(t,e){return t.reduce((function(t,i){var n;return n=e(i),i.lq().forEach((function(e){return t.Kha(e.mediaType,e.ut,!n)})),t}),new n.ZIa)}},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.ZIa=void 0,n=i(412),t=function(){function t(){this.Dr=new n.wR,this.DU=new n.wR}return Object.defineProperties(t.prototype,{total:{get:function(){var t;return(t=new n.wR).add(this.Dr),t.add(this.DU),t},enumerable:!1,configurable:!0}}),t.prototype.add=function(t){this.Dr.add(t.Dr),this.DU.add(t.DU)},t.prototype.Kha=function(t,e,i){(i?this.DU:this.Dr).Kha(t,e)},t}(),e.ZIa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.eZa=void 0,e.eZa=function(t,e){return t.reduce((function(t,i){return t+i.P5(e).Y}),0)}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.fTa=void 0,n=i(2),r=i(16),e.fTa=function(t){var e,i;function o(t){r.No(t.newValue)&&!r.No(t.oldValue)?(null==i||i.Nb(),i=e.nU.apply(e,n.__spread(a))):null==i||i.Nb()}for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];s=t.Qf,e=t.Ls,s.state.addListener(o),o({oldValue:r.Jc.dj,newValue:s.state.value})}},function(t,e,i){var n,r;function o(t,e){return Object.keys(t.OD).map((function(e){return t.OD[e]})).filter((function(t){return void 0===t.gH||1===t.gH})).reduce((function(t,i){return t+i.Dr[e]}),0)}Object.defineProperties(e,{__esModule:{value:!0}}),e.SKa=void 0,n=i(16),r=i(20),t=function(){function t(t,e,i){this.Ca=t,this.console=e,this.nna=i}return t.prototype.Vtb=function(t,e,i){var a,s,u,c;return a=i&&this.Ca.config.U1b,s=this.Ca.config.Wxa||a,u=this.nna(),a&&(a=t.global,(c={})[0]=a[0]-o(t,0),c[1]=a[1]-o(t,1),a=c),c=a,u=this.$Ra(e)||this.yub(t)||this.wub(t,u,c)||this.xub(t,u,c,e),c=n.tua(u),!u||c&&!s?(r.ga&&this.console.log("canIssueRequest "+this.Ca.id+" ["+e+"] static limit: "+i+", usage: "+JSON.stringify(t)+", success "+u),{result:!0,reason:u}):(r.ga&&this.console.log("canIssueRequest "+this.Ca.id+" ["+e+"] static limit: "+i+", usage: "+JSON.stringify(t)+", failed "+u),{result:!1,reason:u})},t.prototype.$Ra=function(t){var e;if(e=this.Ca.config.gA,this.Ca.qFb(t)>=(e||1/0))return"mediaDurationLimit"},t.prototype.yub=function(t){return t.OD[this.Ca.id].total.total>(this.Ca.f6()||1/0)?"playgraphMemoryLimit":void 0},t.prototype.wub=function(t,e,i){return t=t.global,i?i[0]+i[1]>(e.Gwa.total||1/0)?"staticMemoryLimit":void 0:t.total>(e.total.total||1/0)?"globalMemoryLimit":void 0},t.prototype.xub=function(t,e,i,n){var a;return a=t.global,i?(r.ga&&this.console.log("checkRequestByMediaTypeMemory ["+n+"]: using static limit "+e.Gwa[n]+", usage: "+i+" (global: "+a[n]+"  - certain contiguous: "+o(t,n)+")"),i[n]>(e.Gwa[n]||1/0)?1===n?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):a[n]>(e.total[n]||1/0)?1===n?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0},t}(),e.SKa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.TIa=void 0,t=function(){function t(t){this.console=t,this.Eja()}return t.prototype.get=function(t){return this.w4[t]||this.Ni[t]},t.prototype.set=function(t,e){void 0===this.Ni[t]&&(this.Ni[t]=e)},t.prototype.AXb=function(t,e){void 0===this.get(t)&&(this.w4[t]=e)},t.prototype.clear=function(t){this.w4[t]=void 0,this.Ni[t]=void 0},t.prototype.Tub=function(t){var e;this.Ni=((e={})[t]=this.Ni[t],e),this.w4={}},t.prototype.Eja=function(){this.Ni={},this.w4={}},t}(),e.TIa=t},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.VIa=e.OE=void 0,n=i(2),r=i(5),(a=o=e.OE||(e.OE={}))[a.Lba=0]="CREATED",a[a.Aea=1]="STARTED",a[a.PR=2]="REQUEST_ISSUED",a[a.Bx=3]="EVALUATED",t=function(){function t(t){this.ax=t,this.$c=o.Lba,this.hE={},this.ZY={}}return Object.defineProperties(t.prototype,{state:{get:function(){return this.$c},enumerable:!1,configurable:!0}}),t.prototype.start=function(){var t;t=this,this.$c!==o.Aea&&(this.RW(o.Aea),[o.Bx,o.PR].forEach((function(e){var i;i=new Promise((function(n){r.assert(t.ZY&&t.hE,"state promises should be defined"),t.ZY[e]=n,t.hE[e]=i}))})),this.ax(),this.RW(o.Bx))},t.prototype.RW=function(t){this.$c=t,this.ZY&&(null==(t=this.ZY[t])||t())},t.prototype.Nb=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return this.$c!==o.Aea?[3,2]:(r.assert(this.hE,"state resolves should be defined"),[4,this.hE[o.Bx]]);case 1:t.bd(),t.label=2;case 2:return this.ZY=this.hE=void 0,[2]}}))}))},t.prototype.Uaa=function(t,e){n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(i){switch(i.label){case 0:if(this.$c===o.Bx)return[3,6];switch(r.assert(this.hE,"state promises should be defined"),t){case o.Bx:return[3,1];case o.PR:return[3,3]}return[3,5];case 1:return[4,this.hE[o.Bx]];case 2:case 4:return i.bd(),[3,6];case 3:return[4,this.hE[o.PR]];case 5:return[3,6];case 6:return null==e||e(),[2]}}))}))},t}(),e.VIa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.zRa=void 0,n=i(254),r=i(928),e.zRa=function(){return function(t){var e,i,o;function a(t){e[t]=function(e){return i({rules:[{xWb:t,config:e}]})}}for(o in e={},i=n.map(t.i2a),t.$7a)a(o);return e.qbc=i({rules:[],irb:!0}),e.$u=i({rules:[],$u:!0}),{qzb:e,Zbc:t,fUb:function(e,i,n){return r.uTa(e,i,n,t.$7a,t.i2a)}}}}},function(t,e,i){(function(t,e){var i,n;n=i||(i={}),function(i){var r,o;function a(t,e){return function(i,n){"function"!=typeof t[i]&&Object.defineProperty(t,i,{configurable:!0,writable:!0,value:n}),e&&e(i,n)}}r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(n),void 0===r.Reflect?r.Reflect=n:o=a(r.Reflect,o),function(e){var i,n,r,o,a,s,u,c,h,f,l;function d(t,e,i){var n;if(w(n=l.get(t))){if(!i)return;n=new h,l.set(t,n)}if(w(t=n.get(e))){if(!i)return;t=new h,n.set(e,t)}return t}function p(t,e,i){return!!b(t,e,i)||null!==(e=P(e))&&p(t,e,i)}function b(t,e,i){return!w(e=d(e,i,!1))&&!!e.has(t)}function v(t,e,i){return b(t,e,i)?y(t,e,i):null!==(e=P(e))?v(t,e,i):void 0}function y(t,e,i){if(!w(e=d(e,i,!1)))return e.get(t)}function g(t,e){var i,n;if(i=m(t,e),null===(t=P(t)))return i;if(0>=(e=g(t,e)).length)return i;if(0>=i.length)return e;t=new f;for(var r=[],o=0;o<i.length;o++)n=i[o],t.has(n)||(t.add(n),r.push(n));for(i=0;i<e.length;i++)n=e[i],t.has(n)||(t.add(n),r.push(n));return r}function m(t,e){var i,n;if(i=[],w(t=d(t,e,!1)))return i;if(!T(e=A(t=t.keys(),o)))throw new TypeError;if(!E(t=e.call(t)))throw new TypeError;for(e=0;;){if(!(n=!(n=t.next()).done&&n))return i.length=e,i;n=n.value;try{i[e]=n}catch(e){var r;try{(r=t.return)&&r.call(t)}finally{throw e}}e++}}function _(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function w(t){return void 0===t}function E(t){return"object"==typeof t?null!==t:"function"==typeof t}function k(t,e){var i;switch(_(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}if(e=3===e?"string":5===e?"number":"default",void 0!==(i=A(t,r))){if(E(t=i.call(t,e)))throw new TypeError;return t}t:{if("string"===("default"===e?"number":e)){if(T(e=t.toString)&&!E(e=e.call(t)))break t;e=t.valueOf}else{if(T(e=t.valueOf)&&!E(e=e.call(t)))break t;e=t.toString}if(!T(e)||E(e=e.call(t)))throw new TypeError}return e}function O(t){return"symbol"==typeof(t=k(t,3))?t:""+t}function S(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function T(t){return"function"==typeof t}function A(t,e){if(null!=(t=t[e])){if(!T(t))throw new TypeError;return t}}function P(t){var e,i;return e=Object.getPrototypeOf(t),"function"!=typeof t||t===c||e!==c||null==(i=(i=t.prototype)&&Object.getPrototypeOf(i))||i===Object.prototype||"function"!=typeof(i=i.constructor)||i===t?e:i}function j(){var t,e,i;function n(t){return t}function r(t,e){return e}function a(t,e){return[t,e]}return t={},e=[],i=function(){function t(t,e,i){this.Me=0,this.bf=t,this.Bf=e,this.mpb=i}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t,i;return 0<=(t=this.Me)&&t<this.bf.length?(i=this.mpb(this.bf[t],this.Bf[t]),t+1>=this.bf.length?(this.Me=-1,this.Bf=this.bf=e):this.Me++,{value:i,done:!1}):{value:void 0,done:!0}},t.prototype.throw=function(t){throw 0<=this.Me&&(this.Me=-1,this.Bf=this.bf=e),t},t.prototype.return=function(t){return 0<=this.Me&&(this.Me=-1,this.Bf=this.bf=e),{value:t,done:!0}},t}(),function(){function e(){this.bf=[],this.Bf=[],this.Dv=t,this.$s=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this.bf.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return 0<=this.gy(t,!1)},e.prototype.get=function(t){return 0<=(t=this.gy(t,!1))?this.Bf[t]:void 0},e.prototype.set=function(t,e){return t=this.gy(t,!0),this.Bf[t]=e,this},e.prototype.delete=function(e){var i,n;if(0<=(i=this.gy(e,!1))){for(n=this.bf.length,i+=1;i<n;i++)this.bf[i-1]=this.bf[i],this.Bf[i-1]=this.Bf[i];return this.bf.length--,this.Bf.length--,e===this.Dv&&(this.Dv=t,this.$s=-2),!0}return!1},e.prototype.clear=function(){this.bf.length=0,this.Bf.length=0,this.Dv=t,this.$s=-2},e.prototype.keys=function(){return new i(this.bf,this.Bf,n)},e.prototype.values=function(){return new i(this.bf,this.Bf,r)},e.prototype.entries=function(){return new i(this.bf,this.Bf,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype.gy=function(t,e){return this.Dv!==t&&(this.$s=this.bf.indexOf(this.Dv=t)),0>this.$s&&e&&(this.$s=this.bf.length,this.bf.push(t),this.Bf.push(void 0)),this.$s},e}()}function I(){return function(){function t(){this.Rg=new h}return Object.defineProperty(t.prototype,"size",{get:function(){return this.Rg.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this.Rg.has(t)},t.prototype.add=function(t){return this.Rg.set(t,t),this},t.prototype.delete=function(t){return this.Rg.delete(t)},t.prototype.clear=function(){this.Rg.clear()},t.prototype.keys=function(){return this.Rg.keys()},t.prototype.values=function(){return this.Rg.values()},t.prototype.entries=function(){return this.Rg.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}()}function x(){var t,e;function n(){var e,i;do{(e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):o(new Uint8Array(16),16):o(Array(16),16))[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;16>r;++r)4!==r&&6!==r&&8!==r||(n+="-"),16>(i=e[r])&&(n+="0"),n+=i.toString(16).toLowerCase();e="@@WeakMap@@"+n}while(u.has(t,e));return t[e]=!0,e}function r(t,n){if(!i.call(t,e)){if(!n)return;Object.defineProperty(t,e,{value:u.create()})}return t[e]}function o(t,e){for(var i=0;i<e;++i)t[i]=255*Math.random()|0;return t}return t=u.create(),e=n(),function(){function t(){this.jt=n()}return t.prototype.has=function(t){return void 0!==(t=r(t,!1))&&u.has(t,this.jt)},t.prototype.get=function(t){return void 0!==(t=r(t,!1))?u.get(t,this.jt):void 0},t.prototype.set=function(t,e){return r(t,!0)[this.jt]=e,this},t.prototype.delete=function(t){return void 0!==(t=r(t,!1))&&delete t[this.jt]},t.prototype.clear=function(){this.jt=n()},t}()}function M(t){return t.Jkb=void 0,delete t.Jkb,t}i=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",n="function"==typeof Object.create,a={__proto__:[]}instanceof Array,u={create:n?function(){return M(Object.create(null))}:a?function(){return M({__proto__:null})}:function(){return M({})},has:(s=!n&&!a)?function(t,e){return i.call(t,e)}:function(t,e){return e in t},get:s?function(t,e){return i.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),h=(n="object"==typeof t&&t.CVa&&"true"===t.CVa.REFLECT_METADATA_USE_MAP_POLYFILL)||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?j():Map,f=n||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?I():Set,l=new(n||"function"!=typeof WeakMap?x():WeakMap),e("decorate",(function(t,e,i,n){var r;if(w(i)){if(!S(t))throw new TypeError;if("function"!=typeof e)throw new TypeError;for(i=t.length-1;0<=i;--i)if(!w(n=(0,t[i])(e))&&null!==n){if("function"!=typeof n)throw new TypeError;e=n}return e}if(!S(t))throw new TypeError;if(!E(e))throw new TypeError;if(!E(n)&&!w(n)&&null!==n)throw new TypeError;null===n&&(n=void 0),i=O(i);for(var o=t.length-1;0<=o;--o)if(!w(r=(0,t[o])(e,i,n))&&null!==r){if(!E(r))throw new TypeError;n=r}return n})),e("metadata",(function(t,e){return function(i,n){var r;if(!E(i))throw new TypeError;if(r=!w(n)){t:switch(_(n)){case 3:case 4:r=!0;break t;default:r=!1}r=!r}if(r)throw new TypeError;d(i,n,!0).set(t,e)}})),e("defineMetadata",(function(t,e,i,n){if(!E(i))throw new TypeError;w(n)||(n=O(n)),d(i,n,!0).set(t,e)})),e("hasMetadata",(function(t,e,i){if(!E(e))throw new TypeError;return w(i)||(i=O(i)),p(t,e,i)})),e("hasOwnMetadata",(function(t,e,i){if(!E(e))throw new TypeError;return w(i)||(i=O(i)),b(t,e,i)})),e("getMetadata",(function(t,e,i){if(!E(e))throw new TypeError;return w(i)||(i=O(i)),v(t,e,i)})),e("getOwnMetadata",(function(t,e,i){if(!E(e))throw new TypeError;return w(i)||(i=O(i)),y(t,e,i)})),e("getMetadataKeys",(function(t,e){if(!E(t))throw new TypeError;return w(e)||(e=O(e)),g(t,e)})),e("getOwnMetadataKeys",(function(t,e){if(!E(t))throw new TypeError;return w(e)||(e=O(e)),m(t,e)})),e("deleteMetadata",(function(t,e,i){var n;if(!E(e))throw new TypeError;return w(i)||(i=O(i)),!(w(n=d(e,i,!1))||!n.delete(t))&&(0<n.size||((t=l.get(e)).delete(i),0<t.size||l.delete(e),!0))}))}(o)}()}).call(this,i(248),i(194))},function(t,e,i){var n,r,o,a;function s(t,e,i){for(var r,s,u=[],c=3;c<arguments.length;c++)u[c-3]=arguments[c];return(r=i())&&(u=u.map((function(i,n){return n=a.V2a(r.Era,r.Fb[n]),o.b8a(t,i,e,n)}))),(s=t.ZDb).call.apply(s,n.__spread([void 0],u))}Object.defineProperties(e,{__esModule:{value:!0}}),e.$Db=e.uTa=void 0,n=i(2),r=i(254),o=i(929),a=i(930),e.uTa=function(t,e,i,o,a){var u,c;return u={},c=r.jYa(a),new Proxy(t,{get:function(t,r){var a,h;return r in e?e[r]:u[r]?u[r]:"function"==typeof(a=t[r])?(h=c.bind(null,t,r),t=s.bind(t,n.__assign({ZDb:a.bind(t)},i),o,h),u[r]=t):a},set:function(t,i,n){return i in e?(e[i]=n,!0):(t[i]=n,delete u[i],!0)}})},e.$Db=s},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.b8a=void 0,n=i(2),r=i(5),o=i(414),e.b8a=function(t,e,i,a){var s,u;return a&&(s=a.irb,u=a.$u,a=a.rules.map((function(t){return[i[t.xWb],t.config]})),s||r.assert(e,"Param is null"),s=a.filter((function(t){return(t=n.__read(t,2))[0].lLb(e,t[1])})),u&&r.assert(s.length,"No rules matched for "+e),s.length)?s.reduce((function(e,i){return(i=n.__read(i,2))[0].xNb(e,o.A0.CAb,t,i[1])}),e):e}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.V2a=void 0,n=i(2),r=i(25),e.V2a=function(t,e){var i;if(t||e)return i=null!=t&&t.rules&&null!=e&&e.rules?r.m3(t.rules,e.rules):(null==t?void 0:t.rules)||(null==e?void 0:e.rules),n.__assign(n.__assign(n.__assign({},t),e),{rules:i})}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.GIb=e.o0a=e.vm=void 0,e.vm=function(t){return!(null==t||!t.position)},e.o0a=function(t){return!(null==t||!t.xa||null==t||!t.offset)},e.GIb=function(t){return!(null==t||!t.xa)}},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.TJa=void 0,n=i(2),r=i(5),o=n.__importDefault(i(6)),a=i(118),s=i(9),t=function(){function t(t,e){var i,n;for(i=2;14!==i;)switch(i){case 3:"IYbZ","rN","JC","p9";"ej","s";"ST_","PACER",this.console=new o.default.Console("ASEJS_REQUEST_PACER","media|asejs"),this.uva=!1,i=7;break;case 2:n=this,this.C7=t,this.config=e,this.GF=0,i=3;break;case 7:"equ","est","Pac","er",this.tq=new a.IB({wu:this,source:"RequestPacer",Sha:function(){for(2;;)return{numOutstanding:n.GF}},xD:10}),this.v7a=new s.l1,i=14}}var e;for(e=2;13!==e;)switch(e){case 5:t.prototype.yy=function(t){var e;for(e=2;4!==e;)if(2===e){" than ma","xAllowedOu","tstandingReques","ts are outstanding",this.tq.wy({mediaType:t.mediaType,contentStartPts:t.fd,contentEndPts:t.Lc}),this.GF++,r.assert(this.GF<=this.config.b8,"More than maxAllowedOutstandingRequests are outstanding"),e=4}},t.prototype.qI=function(t){var e;for(e=2;3!==e;)if(2===e){"s","t";"o requests outstan","ding",this.tq.wy({mediaType:t.mediaType,contentStartPts:t.fd,contentEndPts:t.Lc}),this.GF--,r.assert(0<=this.GF,"Received remove request when there are no requests outstanding"),this.Pk("removeRequest"),e=3}},t.prototype.aSa=function(t){var e,i,n,r;for(e=2;9!==e;)switch(e){case 1:this.v7a.push(n),e=5;break;case 4:r++,e=5;break;case 6:this.v7a.push(n),e=4;break;case 5:e=this.GF<i&&this.C7()?4:3;break;case 2:i=this.config.b8,n=o.default.time.ea()-t,r=0,e=1;break;case 3:"tyRun","n","erComplet","e",this.tq.xT("requestOpportunityRunnerComplete",{requestsIssued:r,scheduledMs:t,timeSinceScheduled:n},!0),e=9}},e=9;break;case 2:Object.defineProperties(t.prototype,{aQb:{get:function(){for(2;;)return this.GF},enumerable:!1,configurable:!0}}),t.prototype.Pk=function(){var t,e,i;for(t=2;9!==t;)switch(t){case 2:e=this,t=1;break;case 6:t=~this.uva?3:1;break;case 1:t=this.uva?9:5;break;case 5:this.uva=!0,i=o.default.time.ea(),Promise.resolve().then((function(){var t;for(t=2;5!==t;)if(2===t)e.uva=!1,e.aSa(i),t=5})),t=9}},e=5;break;case 9:"I";"ove","R","eque","st";"y";"Req","uest";"k";"e","ckRequestOp","p","ortunity",n.__decorate([a.bc({methodName:"checkRequestOpportunity",pm:!0,xr:!0})],t.prototype,"Pk",null),n.__decorate([a.bc({methodName:"addRequest",pm:!0})],t.prototype,"yy",null),n.__decorate([a.bc({methodName:"removeRequest",pm:!0})],t.prototype,"qI",null),e=6;break;case 6:"S","a";return"RequestOpp","ortunityRun","ner",n.__decorate([a.bc({methodName:"checkRequestOpportunityRunner",pm:!0})],t.prototype,"aSa",null),t}}(),e.TJa=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.gCa=void 0,n=i(54),t=function(){function t(t){this.Qb=t}return Object.defineProperties(t.prototype,{mj:{get:function(){return"EndplayFieldsReporter"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return!0},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){var e;if(t.Qi===n.de.$p&&this.Qb){if(t={},(e=this.Qb.get())&&e.avtp&&e.avtp.Ga&&(t.avtp=e.avtp.Ga,t.dltm=e.avtp.GC),e&&e.cdnavtp&&(t.cdnavtp=e.cdnavtp,t.activecdnavtp=e.activecdnavtp),(e=this.Qb.i6())&&(e.bytesRequestedPacingVideo&&(t.bytesRequestedPacingVideo=e.bytesRequestedPacingVideo,t.estimatedBytesPacedVideo=e.estimatedBytesPacedVideo,t.bytestotalVideo=e.bytestotalVideo,t.pacedAvtpVideo=e.pacedAvtpVideo),e.bytesRequestedPacingAudio&&(t.bytesRequestedPacingAudio=e.bytesRequestedPacingAudio,t.estimatedBytesPacedAudio=e.estimatedBytesPacedAudio,t.bytestotalAudio=e.bytestotalAudio,t.pacedAvtpAudio=e.pacedAvtpAudio),e.pacedAvtp&&(t.pacedAvtp=e.pacedAvtp)),(e=this.Qb.Z5())&&(t.initial_avtp=e.pH,t.initial_dltime=e.GC,t.initial_responses_audio=e.H_a,t.initial_responses_video=e.I_a,t.initial_tput_samples=e.jO,t.initial_1sec_tput_samples=e.hO),this.Qb.flush(),e=this.Qb.MXa())for(var i in e)e.hasOwnProperty(i)&&(t["ne"+i]=Number(e[i]).toFixed(6));return t}},t}(),e.gCa=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.KKa=void 0,n=i(54),t=function(){function t(t){t.events.on("streamSelection",this.Lsa.bind(this))}return t.prototype.Lsa=function(t){0===t.mediaType&&void 0===this.G_a?this.G_a=t:1===t.mediaType&&void 0===this.J_a&&(this.J_a=t)},Object.defineProperties(t.prototype,{mj:{get:function(){return"StartplayFieldsReporter"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return!0},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){var e;if(t.Qi===n.de.ap)return{histdiscbw:null==(t=null!==(e=this.J_a)&&void 0!==e?e:this.G_a)?void 0:t.result.fu,histage:null==t?void 0:t.result.Lo}},t}(),e.KKa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.dLa=void 0,t=i(2),n=i(17),r=i(20),o=t.__importDefault(i(6)),i=function(){function t(t){this.Yf=t,this.B1=[],this.reset()}return Object.defineProperties(t.prototype,{mj:{get:function(){return"task-audit"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{ED:{get:function(){return"tsched"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return r.ga},enumerable:!1,configurable:!0}}),t.prototype.reset=function(){var t,e;t=this,null===(e=this.PK)||void 0===e||e.clear(),this.PK=new n.Wh,this.PK.on(this.Yf,"clockChanged",(function(){t.reset(),t.nV("initial")})),this.PK.on(this.Yf,"stopping",(function(){t.nV("stopping")})),this.PK.on(this.Yf.za,"clockAdjusted",(function(){t.nV("clockAdjusted")})),this.PK.on(this.Yf.za,"stopStart",(function(){t.nV("stopStart")})),this.PK.on(this.Yf.za,"speedChanged",(function(){t.nV("speedChanged")}))},t.prototype.nV=function(t){this.B1.push({reason:t,audit:this.Yf.vEb(),time:o.default.time.ea()}),5<this.B1.length&&this.B1.shift()},t.prototype.Ho=function(){return this.B1},t}(),e.dLa=i},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.VJa=void 0,n=i(54),t=function(){function t(t,e){this.Qb=t,this.w7a=e}return Object.defineProperties(t.prototype,{mj:{get:function(){return"RequestsReporter"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return!0},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){var e;if((t=t.Qi)===n.de.$p||t===n.de.Zn||void 0===t)return t={numOutstandingRequests:this.w7a.aQb,requestOpportunityDelayStats:this.w7a.v7a},(e=this.Qb.tPa)&&e.length&&(t.activeRequests=JSON.stringify(e)),t},t}(),e.VJa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.kCa=void 0,t=function(){function t(t){this.W4=t,this.ED="engine",this.enabled=!0}return Object.defineProperties(t.prototype,{mj:{get:function(){return this.ED},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(){var t;return t=this.W4.PSb.map((function(t){var e;return{id:(e=t.Ca).id,weight:e.weight,relativeWeight:t.hY}})),{prefetcher:this.W4.Gu.getStats(),playgraphs:t,viewables:this.W4.z2b,players:this.W4.L5a.length}},t}(),e.kCa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.PCa=void 0,n=i(5),r=i(412),t=function(){function t(){this.global=new r.wR,this.OD={}}return t.prototype.add=function(t,e){n.assert(void 0===this.OD[t],"Cannot add new memory object for playgraph"),this.OD[t]=e,this.global.add(e.Dr),this.global.add(e.DU)},t}(),e.PCa=t},function(t,e,i){var n,r,o,a;Object.defineProperties(e,{__esModule:{value:!0}}),e.mGa=void 0,n=i(2),r=i(20),o=i(405),a=i(118),t=function(){function t(t,e,i){this.nna=t,this.EFb=e,this.H=i,this.zi=new a.IB({wu:this,console:i,source:"MemoryDeadlockProtector",xD:5})}return t.prototype.QDb=function(t){var e,i,n,o;return o=(n=t.config).tj+(null!==(i=null===(e=n.rP)||void 0===e?void 0:e.Y)&&void 0!==i?i:0),e=this.uIb(o,t),r.ga&&this.H.debug("MDP: has prebuf: "+e),e?{F4:!0}:(e=(i=this.Htb(n)).BRb,i=i.c2b,e&&i?(r.ga&&this.H.debug("MDP: utilizing "+Math.round(100*i)+"%"),i>=n.rOb?this.I7a(t,e):{F4:!0}):{F4:!1})},t.prototype.I7a=function(t,e){var i,a,s,u,c,h,f,l;this.zi.wy({o:e}),u=t.V,t=t.Kb,c=u.Kb,u=u.wH;for(var d=0;d<c.length;d++)if(!c[d].wl){u=c[d],c=c.slice(0,d+1);break}if(d=!1,h=[{mediaType:0,tC:0},{mediaType:1,tC:0}],null==u||!u.wl){t=t.map((function(t){return t})).filter((function(t){return-1===c.indexOf(t)})).sort((function(t,e){return o.ija(t)-o.ija(e)}));try{for(var p=n.__values(t),b=p.next();!b.done&&(l=(f=b.value).OC(),h[0].tC+=null!==(a=l.kC)&&void 0!==a?a:0,h[1].tC+=null!==(s=l.Ks)&&void 0!==s?s:0,r.ga&&this.H.debug("Resetting discontiguous branch "+f.O.id,l),f.reset(),!(d=h.every((function(t){return t.tC>=e[t.mediaType].tC}))));b=p.next());}catch(t){var v;v={error:t}}finally{try{b&&!b.done&&(i=p.return)&&i.call(p)}finally{if(v)throw v.error}}}return{F4:d,p$b:h}},t.prototype.Htb=function(t){var e,i,n,r;return t.sOb?(e=this.EFb(),i=this.nna().total,n=t.qOb,r=0,t=[0,1].map((function(t){var o;return o=e[t]-i[t]*n,r=Math.max(0<i[t]?e[t]/i[t]:0,r),{tC:Math.max(0,o),mediaType:t}})),{c2b:r,BRb:t}):{}},t.prototype.uIb=function(t,e){var i,n;return i=!1,null!=(e=e.E6?e.V:void 0)&&e.YJb&&(i=e.si.lq().map((function(t){return t.mediaType})),n=e.XEb(),i=i.every((function(e){var i,r;if(0===e)e=null!==(i=n.vr)&&void 0!==i?i:0;else{if(1!==e)throw Error("Unsupported media type:"+e);e=null!==(r=n.$n)&&void 0!==r?r:0}return e>=t}))),i},n.__decorate([a.bc({methodName:"resetDiscontiguousBranches",return:!0,pm:!0})],t.prototype,"I7a",null),t}(),e.mGa=t},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.aza=void 0,t=i(2),n=i(9),r=t.__importDefault(i(28)),o=i(25),a=t.__importDefault(i(383)),s=i(54),i=function(){function t(t){var e,i;e=this,this.Ca=t,this.ow="aseReport",this.FRa=n.T.fD,this.qo=!1,(0==Math.floor(1e6*Math.random())%t.config.GL||t.config.DDb)&&(this.FRa=n.T.Eb(t.config.n3),this.Ca.HL=!0,(i=[])[r.default.Ta.Mb]=new a.default(t.config,r.default.Ta.Mb),i[r.default.Ta.Wb]=new a.default(t.config,r.default.Ta.Wb),this.iha=i,this.Ca.events.on("openComplete",(function(){return e.open()})))}return t.prototype.open=function(){this.Ca.HL&&!this.qo&&(this.qo=!0,this.Ca.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.Ca.events.on("streamSelection",this.Lsa.bind(this)))},t.prototype.Lsa=function(t){this.iha[t.mediaType].add(t.result,t.streamList)},t.prototype.Yna=function(){var t;return t=o.flatten(this.iha.map((function(t){return t.get()})).filter((function(t){return void 0!==t}))),this.iha.forEach((function(t){return t.reset(!0)})),t},t.prototype.og=function(t){var e;return e=t.Qi,t=t.zKb,this.Ca.HL&&this.qo&&(t||e===s.de.$p)&&(e=this.Yna())&&e.length?{o9a:!0,event:{type:"asereport",strmsel:e}}:{o9a:!1,event:{type:"asereport",strmsel:[]}}},t}(),e.aza=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_;Object.defineProperties(e,{__esModule:{value:!0}}),e.nJa=void 0,n=i(2),r=i(17),o=i(16),a=i(9),s=i(942),u=i(25),c=i(5),h=i(943),f=i(20),l=i(99),d=i(944),p=n.__importDefault(i(6)),b=i(945),v=i(946),y=i(947),g=i(255),m=i(949),_=i(950),t=function(){function t(t,e,i,n,o){void 0===n&&(n=new v.hBa),void 0===o&&(o=new b.gBa),this.yVa=t,this.config=e,this.U6a=n,this.Fm=[],this.Z5a=[],this.px=[],this.ec={O0a:0,P0a:0,L0a:0,aja:0,M0a:0,N0a:0,bja:0},this.events=new r.EventEmitter,this.H=a.wq(p.default,i,"PREFETCH"),this.KPa(new y.KAa(e)),this.KPa(new _.sKa(e)),this.H8a({mH:e.jTb}),this.Zva(o),this.UJb()}return Object.defineProperties(t.prototype,{kTb:{get:function(){return this.Fm.map((function(t){return t.context}))},enumerable:!1,configurable:!0}}),t.prototype.TXb=function(t){f.ga&&c.assert(t,"Reconciliation strategy is undefined"),this.U6a=t},t.prototype.KPa=function(t){this.Z5a.unshift(t)},t.prototype.f9a=function(t){f.ga&&this.H.debug("Wish list changed",{hbc:t.length}),this.px=t,this.Wta()},t.prototype.reset=function(){var t,e,i,r,o,a;if(this.config.sTb)try{for(var s=n.__values(this.Fm),u=s.next();!u.done;u=s.next())i=(e=u.value).Ca,r=e.H7,o=e.context,i&&(i.Df(),r.Iua((function(t){return"segmentNormalized"!==t.ow})),a=g.n6(o.Nd,i.Ca),i.ZD(a))}catch(t){var c;c={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}else this.f9a([])},t.prototype.H8a=function(t){f.ga&&this.H.debug("Budget changed",{rbc:this.TT,gbc:t}),this.TT=t,this.Wta()},t.prototype.Nub=function(t,e){var i,n,r,o,s;return(e=this.U6a.iDb(this.Fm,{Ca:t,Vi:e}))&&(r=this.px.indexOf(e.context.Nd),f.ga&&this.H.debug("Claiming item: "+g.oq(e.context.Nd.key),{em:p.default.time.ea()-e.jaa,buffer:null===(i=e.Ca)||void 0===i?void 0:i.Gh(a.T.Gb)}),this.tM(e.context,{Zpa:!!e.Ca}),e.Ca&&(i=e.Ca,o=e.context,s=e.ns,m.lJa.IVb(i,e.H7,this.H),t=g.n6(o.Nd,t),s.EWb(null!==(n=i.OV(t))&&void 0!==n?n:a.T.Gb,r),i.Mab({mH:this.config.ru||1/0}),this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:e.context.Nd,videoBytesBuffered:e.Ca.tw().Ks,audioBytesBuffered:e.Ca.tw().kC}))),this.config.jrb||this.reset(),null==e?void 0:e.Ca},t.prototype.Mub=function(){},t.prototype.getStats=function(){var t;return t=p.default.time.ea(),{wishListLength:this.px.length,prefetchList:this.kTb.length,contents:this.Fm.map((function(e){var i,n,r,s,u;return{id:g.oq(e.context.Nd.key),buffer:null===(i=e.Ca)||void 0===i?void 0:i.Gh(a.T.Gb),pId:null===(n=e.Ca)||void 0===n?void 0:n.id,budget:{inMemoryBytes:e.context.K0a.mH},weight:e.context.M9,age:t-e.jaa,timeOpened:t-(null!==(r=e.J_b)&&void 0!==r?r:0),state:o.Jc[null!==(u=null===(s=e.Ca)||void 0===s?void 0:s.Cf.value)&&void 0!==u?u:o.Jc.dj]}})),aggregated:{itemsRequested:this.ec.O0a,itemsStarted:this.ec.P0a,itemsClaimed:this.ec.L0a,bytesClaimed:this.ec.aja,itemsCompleted:this.ec.M0a,itemsDiscarded:this.ec.N0a,bytesDiscarded:this.ec.bja}}},t.prototype.tM=function(t,e){var i;void 0===e&&(e={}),n.__awaiter(this,void 0,void 0,(function(){var r,o,s,c,h,l;return n.__generator(this,(function(d){switch(d.label){case 0:return r=n.__assign({Zpa:!1,T0a:!1},e),o=r.Zpa,s=r.T0a,(c=u.ig(this.Fm,(function(e){return e.context===t})))?(this.Fm.splice(this.Fm.indexOf(c),1),s||(h=this.px.length,this.px=this.px.filter((function(e){return e!==t.Nd})),f.ga&&this.H.info("Dropping items from wishlist",h-this.px.length),this.px.length>=h&&f.ga&&this.H.warn("Unable to filter out wishlist item",this.px.map((function(t){return t.key})),t.Nd.key)),f.ga&&this.H.debug("Dropping playgraph",{em:p.default.time.ea()-c.jaa,buffer:null===(i=c.Ca)||void 0===i?void 0:i.Gh(a.T.Gb),W:g.oq(t.Nd.key),Obc:!o,d$b:!s}),o?[3,2]:(l=this.Qu(c),c.Ca?[4,l]:[3,2])):[3,3];case 1:d.bd(),d.label=2;case 2:this.Wta(),d.label=3;case 3:return[2]}}))}))},t.prototype.Zva=function(t){return c.assert(t,"Playgraph resolver is undefined"),this.Ata=t,this},t.prototype.UJb=function(){var t;t=this,this.events.on("prefetchComplete",(function(){return t.ec.M0a++})),this.events.on("prefetchStarted",(function(){return t.ec.P0a++})),this.events.on("itemQueued",(function(){return t.ec.O0a++})),this.events.on("itemClaimed",(function(e){var i,n;t.ec.L0a++,t.ec.aja+=(null!==(i=e.s2b)&&void 0!==i?i:0)+(null!==(n=e.$rb)&&void 0!==n?n:0)})),this.events.on("itemDropped",(function(e){var i,n;t.ec.N0a++,t.ec.bja+=(null!==(i=e.s2b)&&void 0!==i?i:0)+(null!==(n=e.$rb)&&void 0!==n?n:0)}))},t.prototype.Wta=function(){var t,e,i,r,o,a;t=this,e=s.qAa.pKb({R2b:this.px,UHb:this.TT},this.Z5a.map((function(t){return t.JRa.bind(t)}))).Fm,i=u.vt(e,this.Fm,(function(t,e){return g.isEqual(t.Nd.key,e.context.Nd.key)})),r=u.vt(this.Fm,e,(function(t,e){return g.isEqual(t.context.Nd.key,e.Nd.key)})),o=u.vt(this.Fm,r),f.ga&&this.H.debug("Re-evaluated prefetch items. new:"+i.length+", evict: "+r.length+", update: "+i.length),r=r.map((function(e){var i;return i=e.context.Nd.key,f.ga&&t.H.debug("Releasing playgraph",g.oq(i)),t.Qu(e).then((function(){t.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:e.context.Nd})}))})),a=o.map((function(i){return n.__awaiter(t,void 0,void 0,(function(){var t,r;return n.__generator(this,(function(n){switch(n.label){case 0:return t=u.ig(e,(function(t){return g.isEqual(t.Nd.key,i.context.Nd.key)})),c.assert(t,"Couldn't find the requested item context"),i.context=t,[4,i.zta];case 1:return r=n.bd(),u.ig(this.Fm,(function(t){return t===i}))&&(this.tQa(i.context,r),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:i.context.Nd})),[2]}}))}))})),i=i.map((function(e){var i;return i=t.ryb(e),t.events.emit("itemQueued",{type:"itemQueued",wishListItem:e.Nd}),i})),this.Fm=n.__spread(o,i),o=i.map((function(t){return t.zta})),o=r.concat(a).concat(o),Promise.all(o)},t.prototype.Qu=function(t){var e;return e=this,t.zta.then((function(i){return n.__awaiter(e,void 0,void 0,(function(){return n.__generator(this,(function(e){switch(e.label){case 0:return f.ga&&this.H.debug("Removing prefetch playgraph",{size:i.Gh(a.T.Gb)}),t.d5.clear(),[4,this.yVa()];case 1:return e.bd().Qu(i),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:t.context.Nd,videoBytesBuffered:i.tw().Ks,audioBytesBuffered:i.tw().kC}),[2]}}))}))}))},t.prototype.oyb=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,i,r,o,a,s,u;return u=this,n.__generator(this,(function(n){switch(n.label){case 0:return e=t.context,i=g.oq(e.Nd.key),f.ga&&this.H.debug("Creating playgraph",i),[4,this.Ata.g2a(e)];case 1:return r=n.bd(),[4,e.Nd.Gj.Cn(i).hv];case 2:return(o=n.bd()).oa.Ovb?(this.tM(e,{Zpa:!0}),[2,Promise.reject("contentPlaygraph viewable:\n                "+o.oa.J+" is not supported with prefetching")]):[4,this.yVa()];case 3:return a=n.bd(),s=a.aG(r,e.M9,e.Vi,e.Nd.Gj,!1),t.d5.addListener(s.events,"error",(function(t){f.ga&&u.H.debug("Prefetch playgraph resulted in error",t.b$b),u.tM(e)})),[2,s]}}))}))},t.prototype.lRb=function(t,e){var i,n,r;function o(e){f.ga&&i.H.debug("Viewable "+(e?"superseded":"expired"),g.oq(t.context.Nd.key)),t.tac=!0,i.tM(t.context,{T0a:!e})}i=this,n=t.context,r=g.oq(n.Nd.key),this.tQa(n,e),e.open(),e.bE({us:function(t,e){var i;return(i=t.recommendedMedia)?u.Mp(e,(function(t){return t.new_track_id===i.pn})):u.Mp(e,(function(e){return e.track_id===t.defaultTrackOrderList[0].audioTrackId}))}},{us:function(t,e){var i;return(i=t.recommendedMedia)?u.Mp(e,(function(t){return t.new_track_id===i.VP})):u.Mp(e,(function(e){return e.track_id===t.defaultTrackOrderList[0].videoTrackId}))}}),e.ZD(g.n6(n.Nd,e.Ca)),(e=n.Nd.Gj.Cn(r)).events&&(t.d5.addListener(e.events,"viewableEvicted",(function(){o(!0)})),t.d5.addListener(e.events,"viewableExpired",(function(){o(!1)}))),e.Ot&&(f.ga&&this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",r),this.tM(t.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:t.context.Nd})},t.prototype.tQa=function(t,e){var i;e.cbb(t.M9),e.Mab(t.K0a),i=(t=t.vZb).video,e.M$(new l.mF(t.audio,!0),new l.mF(i,!0))},t.prototype.ryb=function(t){var e,i,o;return e=this,i=new h.mJa,(o={context:t,jaa:p.default.time.ea(),d5:new r.Wh,ns:i}).zta=this.oyb(o).then((function(r){return n.__awaiter(e,void 0,void 0,(function(){var e;return e=this,n.__generator(this,(function(){try{return o.Ca=r,r.Ji(i),i.Trb(r),o.H7=new d.sCa(r.events,{AYb:function(t){var e;switch(e=t.ow){case"buffering":return!1;case"bufferingStarted":o.H7.Iua((function(t){return"bufferingComplete"===t.ow||"updateStreamingPts"===t.ow}));case"openComplete":case"updateStreamingPts":case"bufferingComplete":o.H7.Iua((function(t){return t.ow===e}));default:return!0}}}),r.events.on("bufferingComplete",(function(){e.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:t.Nd})})),this.lRb(o,r),o.J_b=p.default.time.ea(),[2,r]}catch(t){throw f.ga&&this.H.error("Exception occurred creating playgraph",t),this.tM(o.context),t}}))}))})).catch((function(t){return f.ga&&e.H.error("Rejection ocurred while creating playgraph",t),t})),o},t}(),e.nJa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.qAa=void 0,e.qAa=function(){function t(){}return t.pKb=function(t,e){var i;return i=0,function t(n){return function(t){return t>=e.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex "+t)}:e[t]}(i++)(n,t)}(t)},t}()},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.mJa=void 0,n=i(2).__importDefault(i(6)),r=i(54),t=function(){function t(){this.creationTime=n.default.time.ea(),this.ic={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0}}return t.prototype.Trb=function(t){this.Ca=t},t.prototype.EWb=function(t,e){var i;t=null===(i=this.Ca)||void 0===i?void 0:i.Gh(t),this.ic={isPrefetchItem:!0,prefetchedVideoMs:t.AZ,prefetchedAudioMs:t.zZ,prefetchClaimDurationMs:n.default.time.ea()-this.creationTime,prefetchRank:e}},Object.defineProperties(t.prototype,{mj:{get:function(){return"PrefetchReporter"},enumerable:!1,configurable:!0}}),Object.defineProperties(t.prototype,{enabled:{get:function(){return!0},enumerable:!1,configurable:!0}}),t.prototype.Ho=function(t){if(t.Qi===r.de.ap)return this.ic},t}(),e.mJa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.sCa=void 0,n=i(2),t=function(){function t(t,e){void 0===e&&(e={}),this.cq=t,this.options=e,this.OG=[],this.gW=new r(t,this.yqb.bind(this))}return t.prototype.yqb=function(t){for(var e,i,n,r,o,a,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return s={ow:t,xr:s},(null===(n=null===(i=(e=this.options).AYb)||void 0===i?void 0:i.call(e,s,this.OG))||void 0===n||n)&&this.OG.push(s),null===(a=null===(o=(r=this.options).kcc)||void 0===o?void 0:o.call(r,s))||void 0===a||a},t.prototype.Iua=function(t){this.OG=this.OG.filter((function(e,i){return!t(e,i)}))},t.prototype.Rua=function(){var t;t=this,this.gW.Eab(),this.OG.forEach((function(e){var i;(i=t.cq).emit.apply(i,n.__spread([e.ow],e.xr))})),this.gW.S_a()},Object.defineProperties(t.prototype,{length:{get:function(){return this.OG.length},enumerable:!1,configurable:!0}}),t.prototype.clear=function(){this.OG=[]},t.prototype.Nb=function(){this.gW.Eab()},t}(),e.sCa=t,r=function(){function t(t,e){var i;i=this,this.cq=t,this.YT=e,this.gW=function(t){for(var e,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return!!i.YT.apply(i,n.__spread([t],r))&&(e=i.E4a).call.apply(e,n.__spread([i.cq,t],r))},this.E4a=this.cq.emit,this.S_a()}return t.prototype.S_a=function(){this.cq.emit=this.gW},t.prototype.Eab=function(){this.cq.emit=this.E4a},t}()},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.gBa=void 0,n=i(2),r=i(67),o=i(255),t=function(){function t(){}return t.prototype.g2a=function(t){return n.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u;return n.__generator(this,(function(n){switch(n.label){case 0:return e=t.Nd.key,o.nW(e)?(i=e.W,a=t.Nd.Gj.Cn(i),[4,Promise.resolve(a.hv)]):[3,2];case 1:return s=n.bd(),(u=s.oa).Bo?[2,r.xC(u.Bo,{config:s.config})]:[2,r.NI(i,"ps0")];case 2:return[2,e.Ca]}}))}))},t}(),e.gBa=t},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.hBa=void 0,n=i(2),r=i(5),o=i(255),t=function(){function t(){}return t.oq=function(t){var e,i;return e=t.qa,t=t.Yd,i=e[t].W,Object.keys(e).forEach((function(t){return r.assert(e[t].W===i)})),e[t].W},t.prototype.iDb=function(e,i){var r;return r=Object.keys(i.Ca.qa).length,n.__read(e.filter((function(e){var n,a;return t.oq(i.Ca)===o.oq(e.context.Nd.key)&&(1===r||r===Object.keys(null!==(a=null===(n=e.Ca)||void 0===n?void 0:n.Ca.qa)&&void 0!==a?a:{}).length)})),1)[0]},t}(),e.hBa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.KAa=e.OAa=void 0,n=i(99),r=i(948),e.OAa=625e3,t=function(){function t(t){this.config=t}return t.prototype.JRa=function(t){var i,o,a;return i=this.config.y4,o=(this.config.O2a||this.config.x4)*e.OAa/1e3,a=Math.floor(t.UHb.mH/o),{Fm:t.R2b.sort((function(t,e){return t.priority-e.priority})).slice(0,i).map((function(t,e){var i;return i=t.key.config,{K0a:{mH:e>a-1?0:o},Nd:t,M9:1,Vi:i,vZb:{audio:[n.BC(i),new r.Hea],video:[n.CC(i),new r.Hea]}}}))}},t}(),e.KAa=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.Hea=void 0,n=i(16),t=function(){function t(){}return t.prototype.wn=function(t,e){return e===n.Jc.ej?[]:t},t}(),e.Hea=t},function(t,e,i){var n;Object.defineProperties(e,{__esModule:{value:!0}}),e.lJa=void 0,n=i(20),e.lJa=function(){function t(){}return t.IVb=function(t,e,i){t.events.once("opening",(function(){n.ga&&i.log("Replaying "+e.length+" events from prefetched playgraph"),e.Rua(),e.Nb()}))},t}()},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.sKa=void 0,t=function(){function t(t){this.config=t}return t.prototype.JRa=function(t,e){var i,n;return i=this,t=e(t),n=t.Fm.map((function(t){return t.Nd.priority})).sort(),t.Fm.forEach((function(t){t.M9=i.config.mTb/(2<<n.lastIndexOf(t.Nd.priority))})),t},t}(),e.sKa=t},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.cJa=void 0,t=function(){function t(t){var e;e=this,t=t.Pk,this.hH=function(){e.Pk()},this.Pk=t}return t.prototype.aG=function(t){t.events.on("requestsPruned",this.hH)},t.prototype.Qu=function(t){t.events.removeListener("requestsPruned",this.hH)},t}(),e.cJa=t},function(t,e){function i(t,e,i,n){return t&&e?Math.min(t-e*i,t-n):(t||1/0)-n}Object.defineProperties(e,{__esModule:{value:!0}}),e.LRa=void 0,e.LRa=function(t,e){var n,r,o;return r=i(e.audio,e.ria,t.ZSa,t.XSa),o=i(e.video,e.hya,t.ZSa,t.YSa),(n={})[0]=r,n[1]=o,n.total=(e.total||1/0)-t.XSa-t.YSa,n}},function(t,e,i){var n,r,o,a,s;Object.defineProperties(e,{__esModule:{value:!0}}),e.hTa=void 0,n=i(2),r=i(407),o=i(954),a=i(955),s=i(413),e.hTa=function(t){for(var e,i,u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];return e=(c=n.__assign({qjb:r.w_,Nfb:o.QCa},t)).qjb,i=c.Nfb,c=a.v4a(u[5]),u[5]=c.WO,u=new(e.bind.apply(e,n.__spread([void 0],u))),e={Jla:new i,mvb:u},c=new a.DAa(e,c.PZb),s.yta.fUb(u,c,e)}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.QCa=void 0,t=function(){function t(){}return t.prototype.DAb=function(t){return t},t.prototype.Iab=function(t){return t},t}(),e.QCa=t},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.v4a=e.DAa=void 0,n=i(2),r=i(956),t=function(t,e){var i;i=this,this.iRb=e,this.events=r.rTa(t),this.iRb((function(t){var e;return e=t.tE,n.__awaiter(i,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,e];case 1:return t.bd(),[2]}}))}))}))},e.DAa=t,e.v4a=function(t){var e;return e=[],{WO:function(i){var n;return n=t(i),e.forEach((function(t){return t({W:i,tE:n.tE})})),n},PZb:function(t){e.push(t)}}}},function(t,e,i){var n,r;Object.defineProperties(e,{__esModule:{value:!0}}),e.rTa=void 0,n=i(2),r=i(17),e.rTa=function(t){var e;return e=t.mvb,new(function(i){function r(){var t;return(t=null!==i&&i.apply(this,arguments)||this).Sfa={},t}return n.__extends(r,i),r.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.Jla.Iab,i.prototype.emit.call(this,e,n[0])},r.prototype.subscribe=function(t){var i,r;i=this,this.listeners(t).length||(r=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return i.emit.apply(i,n.__spread([t],e))},this.Sfa[t]=r,e.events.addListener(t,r))},r.prototype.addListener=function(t,e){return this.subscribe(t),i.prototype.addListener.call(this,t,e),this},r.prototype.removeListener=function(t,n){return i.prototype.removeListener.call(this,t,n),this.listeners(t)||(e.events.removeListener(t,this.Sfa[t]),delete this.Sfa[t]),this},r.prototype.on=function(t,e){return this.addListener(t,e),this},r.prototype.once=function(t,e){var i;return i=this,this.addListener(t,(function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];i.removeListener(t,r),e.apply(void 0,n.__spread(o))})),this},r.prototype.OX=function(t,e){return this.subscribe(t),i.prototype.OX.call(this,t,e),this},r.prototype.b6a=function(t,e){var i;return i=this,this.OX(t,(function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];i.removeListener(t,r),e.apply(void 0,n.__spread(o))})),this},r}(r.EventEmitter))}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_;Object.defineProperties(e,{__esModule:{value:!0}}),e.vKa=void 0,n=i(2),r=i(17),o=n.__importStar(i(10)),a=i(16),s=i(216),u=i(16),c=i(9),h=i(5),f=i(22),l=i(217),d=i(54),p=i(99),b=i(118),v=i(253),y=n.__importDefault(i(6)),g=i(958),m=i(959),_=0,t=function(t){function e(e,i,o,a,s,f,l,y,w,E,k){var O,S,T,A,P;return(A=t.call(this)||this).console=e,A.Ro=i,A.PS=o,A.tL=s,A.WY=f,A.hw=y,A.V=E,A.config=k,A.nr=!1,A.gS=!1,A.kt=void 0,A.Pe=function(){var t,e,i,n,r;null===(t=A.FK)||void 0===t||t.clear(),t=A.klb,r=A.oob,h.assert(t),A.Ig&&h.assert(r),A.ul.value!==u.ma.gr&&A.ul.value!==u.ma.dj&&(null!==(e=A.Fa)&&void 0!==e&&e.vm?(e=null===(n=null===(i=A.Ro.Ka.Qb.get())||void 0===i?void 0:i.Ra)||void 0===n?void 0:n.Ga,A.pa.FZ("startplay",d.de.ap),A.qaa.xT("emitBufferingComplete",{}),g.Q4(A,t,A.Fa.Ug,e,r,A.pa.HL)):A.console.error("Shim received buffering complete but player has no position (player "+(A.Fa?"":"un")+"defined, state "+A.ul.value+")"))},A.JT=function(){var t,e,i;A.qaa.xT("audioTrackSwitchComplete",{}),h.assert(void 0!==A.hn),e=A.PS.audio_tracks[A.hn],i=A.hn,A.hn=void 0,g.$Ua(A,e,i),null===(t=A.lX)||void 0===t||t.call(A),A.lX=void 0},h.assert(2>=a.length,"Ase session shim suports a maximum of 1 parallel graph."),e=(o=n.__read(a,2))[0],o=o[1],A.Gi=new r.Wh,A.W=e.Ca.qa[f[0].xa].W,A.ul=new c.er(u.ma.zh),A.dB=new p.rF(A.console),A.pa=e,A.Ig=o,a.forEach((function(t){var e,i;e=t.CC(A.dB),i=t.BC(),t.M$(i,e)})),A.I9b=!1,A.qUa=!1,g.h2a(A.console,i,A,e,o),P=_++,A.qaa=new b.IB({wu:A,source:"ShimSession",console:A.console,xD:50,Sha:function(){return{shimId:P}}}),A.pa.Ji(new v.HB(A.qaa)),A.xbb=void 0!==(null===(T=null===(S=(O=A.V).BV)||void 0===S?void 0:S.call(O))||void 0===T?void 0:T.X),A.Cd=m.RQa(E),i=A.dTa({Bd:A.e2a(A.pa.Ca.Bd),CV:A.h6.bind(A)}),A.Fa=i,A.Ig&&(A.vj=A.dTa({Bd:A.e2a(A.Ig.Ca.Bd),CV:A.h6.bind(A)})),A.Fa.events.on("segmentPresenting",(function(){A.kt=A.oNa()})),A.on("streamerend",(function(){return A.BZb()})),A.X8a(),A}return n.__extends(e,t),Object.defineProperties(e.prototype,{J:{get:function(){return this.W},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{ba:{get:function(){return this.hw.ba},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{mediaSourceId:{get:function(){return 0},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Xg:{get:function(){return this.Gi},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{Ge:{get:function(){return{X$b:{1:{U:{Ha:1/0}}}}},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{addEventListener:{get:function(){return this.addListener.bind(this)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this)},enumerable:!1,configurable:!0}}),Object.defineProperties(e.prototype,{iJ:{get:function(){return void 0!==this.hn},enumerable:!1,configurable:!0}}),e.prototype.DMb=function(){var t,e,i,n,r;t=this,r=null===(n=null===(i=(e=this.V).BV)||void 0===i?void 0:i.call(e))||void 0===n?void 0:n.X,h.assert(r,"video element is not defined"),r.addEventListener("play",(function(){return t.jPa()})),r.addEventListener("pause",(function(){return t.Xj()}))},e.prototype.BZb=function(){this.Ro.Lp(!0,this.hw.sessionId)},e.prototype.QP=function(t,e){var i;this.pa.Ai(((i={})[t]=e,i))},e.prototype.open=function(){var t,e,i,n;t=this,this.nr||(this.nr=!0,this.Ro.Lp(this.config.wr,this.hw.sessionId),n=new Promise((function(t){setTimeout(t,0)})).then((function(){t.emit("openComplete",{type:"openComplete"})})),this.pa.open(),null===(e=this.Ig)||void 0===e||e.open(),this.pa.ZD(this.WY[0]),h.assert(this.Fa,"asePlayer should be defined on session.open"),this.WY[1]&&(e=this.pa.ZC(this.WY[0]),h.assert(e,"ShimSession.open(): Graph position did not map a valid content timestamp"),null===(i=this.Ig)||void 0===i||i.ZD(this.WY[1],e.wG)),g.f2a(this.Ro,this,this.Fa,this.console),this.ul.set(u.ma.xd),n.then((function(){t.Sq(t.Pe)})),this.pa.nia(this.Fa),this.Ig&&(h.assert(this.vj,"parallelPlayer should be defined on session.open"),this.Ig.nia(this.vj)),this.xbb&&this.DMb())},e.prototype.h6=function(){return this.sj||(this.sj=new y.default.MediaSource(this.Cd),this.sj.pc||(this.sj.pc=y.default.MediaSource.pc)),this.sj},e.prototype.dTa=function(t){return void 0===t&&(t={}),t=n.__assign({BD:this.config.BD,vta:this.config.vta},t),this.Ro.Ka.JPa(this.Cd,t)},e.prototype.e2a=function(t){return t?null==t?void 0:t.map((function(t){return"video"===t?1:0})):[0,1]},e.prototype.close=function(){this.nr&&(this.nr=!1),this.Ro.Lp(!0,this.hw.sessionId,!0)},Object.defineProperties(e.prototype,{dG:{get:function(){return"1.5"},enumerable:!1,configurable:!0}}),e.prototype.flush=function(){var t;this.nr&&this.ul.value!==u.ma.dj&&this.ul.value!==u.ma.gr&&this.stop(),this.pa.FZ("endplay",d.de.$p),this.pa.Df(),null===(t=this.Ig)||void 0===t||t.Df(),this.Ro.Kh.save(),this.Ro.In.save()},e.prototype.paused=function(){this.xbb||this.Xj()},e.prototype.Xj=function(){this.ul.value===u.ma.Kc&&(this.ul.set(u.ma.hh),this.Cd.emit("paused",{type:"paused",Ed:this.Cd.Mc}))},e.prototype.jPa=function(){this.ul.value===u.ma.hh&&(this.ul.set(u.ma.Kc),this.Cd.emit("playing",{type:"playing",Ed:this.Cd.Mc}))},e.prototype.ed=function(){var t,e;this.nr&&this.ul.value!==u.ma.dj&&this.ul.value!==u.ma.gr&&this.stop(),this.Ro.zVb(this),this.nr&&this.close(),this.$x&&(clearInterval(this.$x),this.$x=void 0),null===(t=this.FK)||void 0===t||t.clear(),this.Fa&&this.Ro.Ka.LO(this.Fa),this.vj&&this.Ro.Ka.LO(this.vj),null===(e=this.sj)||void 0===e||e.Yp()},e.prototype.suspend=function(){},e.prototype.resume=function(){},e.prototype.play=function(){var t;t=this,this.pa.state!==s.Jj.CLOSED&&(h.assert(this.Fa,"ShimSession.play(), expected asePlayer to exist."),this.Fa.resume(this.gS?[1]:void 0),this.Ig&&(h.assert(this.vj,"ShimSession.play(), expected parallelPlayer to exist."),this.vj.resume(this.gS?[1]:void 0)),this.ul.set(u.ma.Kc),this.Cd.emit("playing",{type:"playing",Ed:this.Cd.Mc}),this.emit("play"),this.$x||(this.$x=setInterval((function(){return t.HPb()}),this.config.ML)))},e.prototype.stop=function(){this.ul.set(u.ma.gr),h.assert(this.Fa,"ShimSession.stop(), expected asePlayer to exist."),this.Fa.pause(),this.Ig&&(h.assert(this.vj,"ShimSession.stop(), expected parallelPlayer to exist."),this.vj.pause()),this.Cd.emit("paused",{type:"paused",Ed:this.Cd.Mc}),this.emit("stop")},e.prototype.gz=function(t){var e,i,n;void 0===e&&(e=!0),this.Fa?(t=parseInt(t),o.isFinite(t)&&(e?(this.Fa.LY(t),null===(i=this.vj)||void 0===i||i.LY(t)):(this.Fa.Uva(t),null===(n=this.vj)||void 0===n||n.Uva(t)))):this.fail("Must call open prior to drmReady")},e.prototype.D6=function(){var t;return!(!this.Fa||!this.Fa.vm)&&((t=this.Fa.Oo(this.pa.Ca.qa[this.Fa.nj.xa].W))&&this.Ig&&this.vj?this.vj.Oo(this.Ig.Ca.qa[this.vj.nj.xa].W):t)},e.prototype.Zn=function(){this.ul.set(u.ma.Of),this.Cd.emit("underflow",{type:"underflow",Ed:this.Cd.Mc}),this.Sq(this.Pe)},e.prototype.c6=function(t){var e;switch(e=d.de.ap,t){case"intrplay":e=d.de.Zn;break;case"endplay":e=d.de.$p}return t=this.pa.c6(e),n.__assign(n.__assign({},t),{aseApiVersion:this.dG})},e.prototype.sta=function(){this.Cd.emit("playbackRateChanged",{type:"playbackRateChanged",Ed:this.Cd.Mc})},e.prototype.Vn=function(){var t;return t=this.Cd.Re(),t={type:"skipped",pts:f.T.Eb(t)},this.Cd.emit(t.type,t),new l.pF(Promise.resolve()).iva},e.prototype.jja=function(t,e){var i;return e=this.Qna(e||0,t),null===(i=this.pa.yn(e,t))||void 0===i?void 0:i.fd},e.prototype.Dt=function(t,e){var i;return i=new f.T(e,1e3),(i=this.pa.js(i,{C9a:!0,B9a:!0}))?this.pa.Ca.qa[i.xa].Jb+Number(i.offset.Y.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex "+t+", playerPts: "+e)},e.prototype.cM=function(t,e){return t={xa:t=this.Qna(t||0,e),offset:new f.T(e-this.pa.Ca.qa[t].Jb,1e3)},(t=this.pa.OV(t))?t.Y:e},e.prototype.f7=function(){var t,e,i;return e={},i=null===(t=this.pa)||void 0===t?void 0:t.tw(),t=this.Ig?this.Ig.tw():i,i&&(e.vbuflmsec=i.totalvbuflmsecs,e.vbuflbytes=i.vbuflbytes),t&&(e.abuflmsec=t.totalabuflmsecs,e.abuflbytes=t.abuflbytes),e},e.prototype.M5=function(){return{Fe:0}},e.prototype.Ko=function(){var t,e;return null!==(t=this.kt)&&void 0!==t?t:null!==(e=this.Fa)&&void 0!==e&&e.F6()?this.oNa():{id:this.WY[0].xa,Fe:0,fd:0,Lc:1/0,me:1/0,zd:0}},e.prototype.oNa=function(){var t,e,i,n,r,o,a,s,u;return h.assert(this.Fa,"attempted to get presenting branch information with no player"),h.assert(this.Fa.F6(),"attempted to get presenting branch information but player has no branches"),a=(o=this.Fa.Ko()||{}).O,s=o.jg,u=o.xO,o=o.gI,{id:a.id,Fe:null!==(t=null==s?void 0:s.Y)&&void 0!==t?t:0,fd:null!==(e=null==a?void 0:a.Mg.Y)&&void 0!==e?e:0,Lc:null!==(i=null==a?void 0:a.Uk.Y)&&void 0!==i?i:1/0,me:null!==(n=null==u?void 0:u.Y)&&void 0!==n?n:1/0,zd:null!==(r=null==o?void 0:o.Y)&&void 0!==r?r:0}},e.prototype.h7a=function(){this.IH("removeSession")},e.prototype.ss=function(t,e){return void 0===e&&(e=0),h.assert(!this.Ig,"Seeking with dual playgraphs not supported."),e=this.Qna(e,t),this.Ro.Lp(this.config.wr,this.hw.sessionId),t={xa:e,offset:f.T.Eb(t-this.pa.Ca.qa[e].Jb)},this.kt=void 0,this.pa.ZD(t),h.assert(this.Fa),this.Fa.resume(),this.ul.set(u.ma.xd),this.Sq(this.Pe),t=this.pa.rva(t),h.assert(t,"Valid position must be provided for seek"),t.offset.Y},e.prototype.seek=function(t,e){return t=this.Dt(e,t),this.ss(t,e)},e.prototype.Cr=function(t,e,i){var n,r;return n=this.Ko().id,r=this.pa.bN(n,t),e?r.zbb?void 0!==r.cO?(this.pa.wi(n,t,!1,e),r.cO===t):(this.pa.wi(n,t,!1,e),!0):(this.console.warn("chooseNextSegment, seamless transition, invalid destination: "+t+" for current segment: "+n),!1):void 0!==r.cO?(i||this.ss(r.fd,0),!1):(r.NL?(h.assert(this.Fa),this.Fa.reset(),this.pa.wi(n,t,!1,e),this.Fa.resume(),this.ul.set(u.ma.xd),this.Sq(this.Pe)):i||this.ss(r.fd,0),!!r.NL)},e.prototype.AL=function(){this.IH("addManifest")},e.prototype.tT=function(){return this.IH("activateManifest")},e.prototype.l4a=function(){this.HMa()},e.prototype.eaa=function(t){var e,i,n,r,o;return e=this.Ig?this.vj:this.Fa,i=t.pn,h.assert(!this.Ig,"ShimSesssion: Parallel graph does not support track switches."),void 0===this.hn&&(!!(t=this.PS.audio_tracks).some((function(t,e){if(t.track_id===i)return n=t,r=e,!0}))&&(t=t[this.tL[0]],this.hn=r,(o=null==e?void 0:e.TA)?this.HMa():(this.gS=!0,null==e||e.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:t.language,oldNumChannels:t.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:o})),!0))},e.prototype.Lq=function(t,e){this.dB.Lq(t,e)},e.prototype.Li=function(t){return!!this.Fa&&this.Fa.Li(f.T.Eb(t))},e.prototype.c5=function(){this.IH("evaluateQoE")},e.prototype.Hwa=function(){this.IH("stopBuffering")},e.prototype.SI=function(){return this.IH("startBuffering")},e.prototype.bZa=function(){return this.IH("getStreamingStatistics")},e.prototype.fail=function(t){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:t,manifestIndex:0})},e.prototype.Qna=function(t,e){return 0!==t?this.fail("Unexpected manifestIndex: "+t+", single viewable playback only supports manifestIndex: 0"):this.dV(e)},e.prototype.dV=function(t){var e,i,n,r,o,a,s;for(var u in e=this.pa.Ca,i=[],h.assert(0<=t,"contentPts must be 0 or greater for segmentId lookup"),e.qa)r=(n=e.qa[u]).Jb,n=n.Ob,o=t<Number(null!=n?n:1/0),r<=t&&o?i.push(u):(r=Math.min(Math.abs(t-r),Math.abs(t-n)),(void 0===a||r<a)&&(a=r,s=u));return h.assert(1>=i.length,"Overlapped segments detected in branching, this is not supported"),t=i[0]||s,h.assert(void 0!==t,"segmentId from contentPts lookup failed"),t},e.prototype.HPb=function(){var t,e;e=null===(t=this.pa)||void 0===t?void 0:t.tw(),t=this.Ig?this.Ig.tw():e,e&&t&&this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:t.abuflbytes,vbuflbytes:e.vbuflbytes,totalabuflmsecs:t.totalabuflmsecs,totalvbuflmsecs:e.totalvbuflmsecs,currentBandwidth:e.currentBandwidth})},e.prototype.IH=function(t){return this.fail("Method not implemented "+t)},e.prototype.HMa=function(){h.assert(void 0!==this.hn),this.tL[0]=this.hn,this.X8a(),this.Sq(this.JT)},e.prototype.X8a=function(){var t;t=this,this.Ig?(this.pa.bE({us:function(){}},{us:function(){return t.tL[1]}}),this.Ig.bE({us:function(){return t.tL[0]}},{us:function(){}})):this.pa.bE({us:function(){return t.tL[0]}},{us:function(){return t.tL[1]}}),this.gS&&((this.Ig?this.vj:this.Fa).resume([0]),this.gS=!1)},e.prototype.uXb=function(t){this.klb=t},e.prototype.PXb=function(t){this.oob=t},e.prototype.Sq=function(t){var e,i;e=this,t!==this.JT&&void 0!==this.hn?this.lX=t:(null===(i=this.FK)||void 0===i||i.clear(),!this.Ig&&this.Fa?this.FK=c.er.oya([this.pa.Cf,this.Fa.qW],(function(t){var i,r;return r=(t=n.__read(t,2))[1],t[0]===a.Jc.ej&&(null===(i=e.Fa)||void 0===i?void 0:i.vm)&&r.greaterThan(e.Fa.Ug)}),this.eTa(t)):this.Fa&&(this.FK=c.er.oya([this.pa.Cf,this.Fa.qW,this.Ig.Cf,this.vj.qW],(function(t){var i,r,o,s,u;return o=(t=n.__read(t,4))[1],s=t[2],u=t[3],t[0]===a.Jc.ej&&(null===(i=e.Fa)||void 0===i?void 0:i.vm)&&o.greaterThan(e.Fa.Ug)&&s===a.Jc.ej&&(null===(r=e.vj)||void 0===r?void 0:r.vm)&&u.greaterThan(e.vj.Ug)}),this.eTa(t))))},e.prototype.eTa=function(t){var e;return e=this,function(i){var n;i&&(null===(n=e.FK)||void 0===n||n.clear(),e.FK=void 0,Promise.resolve().then(t))}},n.__decorate([b.bc({methodName:"updateChoiceMapEntry",xr:!0})],e.prototype,"QP",null),n.__decorate([b.bc({methodName:"open"})],e.prototype,"open",null),n.__decorate([b.bc({methodName:"close"})],e.prototype,"close",null),n.__decorate([b.bc({methodName:"paused"})],e.prototype,"Xj",null),n.__decorate([b.bc({methodName:"unpaused"})],e.prototype,"jPa",null),n.__decorate([b.bc({methodName:"cleanup"})],e.prototype,"ed",null),n.__decorate([b.bc({methodName:"suspend"})],e.prototype,"suspend",null),n.__decorate([b.bc({methodName:"resume"})],e.prototype,"resume",null),n.__decorate([b.bc({methodName:"play"})],e.prototype,"play",null),n.__decorate([b.bc({methodName:"stop"})],e.prototype,"stop",null),n.__decorate([b.bc({xr:!0,methodName:"drmReady"})],e.prototype,"gz",null),n.__decorate([b.bc({methodName:"underflow"})],e.prototype,"Zn",null),n.__decorate([b.bc({methodName:"getLogdataReport"})],e.prototype,"c6",null),n.__decorate([b.bc({methodName:"skipped"})],e.prototype,"Vn",null),n.__decorate([b.bc({methodName:"seekByContentPts"})],e.prototype,"ss",null),n.__decorate([b.bc({methodName:"seek"})],e.prototype,"seek",null),n.__decorate([b.bc({methodName:"chooseNextSegment",xr:!0})],e.prototype,"Cr",null),n.__decorate([b.bc({methodName:"onAudioTrackSwitchStarted"})],e.prototype,"l4a",null),n.__decorate([b.bc({methodName:"switchTracks"})],e.prototype,"eaa",null),e}(r.EventEmitter),e.vKa=t},function(t,e,i){var n,r;function o(t,e,i){var r,o;r=Array.isArray(i)?i[0]:i,o=Array.isArray(i)?i[1]:i,e.on(r,(function(e){t.emit(o,n.__assign(n.__assign({},e),{type:o}))}))}Object.defineProperties(e,{__esModule:{value:!0}}),e.$Ua=e.Q4=e.f2a=e.h2a=void 0,n=i(2),r=i(20),e.h2a=function(t,e,i,a,s){var u;function c(t,e){o(i,t,e)}e=s?[a,s]:[a],[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach((function(t){return c(a.events,t)})),s?(c(s.events,"initialAudioTrack"),function(t,e,i,n){var r,o;e.events.once(t,(function(t){(r=t)&&o&&n(r,o)})),i.events.once(t,(function(t){o=t,r&&o&&n(r,o)}))}("streamerEnd",a,s,(function(t){i.emit("streamerend",n.__assign(n.__assign({},t),{type:"streamerend"}))}))):(c(a.events,["streamerEnd","streamerend"]),c(a.events,"initialAudioTrack")),a.events.on("logdata",(function(t){i.emit("logdata",n.__assign(n.__assign({},t),{fields:n.__assign(n.__assign({},t.fields),{aseApiVersion:i.dG})}))})),u=!0,a.events.on("bufferingStarted",(function(t){i.iJ&&u?u=!1:(i.qaa.xT("bufferingStarted",{}),i.emit("bufferingStarted",t))})),a.events.on("bufferingComplete",(function(t){i.iJ?u=!0:i.uXb(t)})),null==s||s.events.on("bufferingComplete",(function(t){i.iJ||i.PXb(t)})),a.events.on("maxVideoBitrateChanged",(function(t){i.emit("maxvideobitratechanged",n.__assign(n.__assign({},t),{type:"maxvideobitratechanged",tcc:t.streaming.Y}))})),a.events.on("error",(function(t){t=n.__assign(n.__assign({},t),{manifestIndex:0}),i.emit("error",t)})),i.on("error",(function(){})),a.events.on("segmentComplete",(function(t){i.emit("segmentComplete",{type:"segmentComplete",mediaType:t.mediaType,manifestIndex:0,segmentId:t.segmentId})})),a.events.on("segmentNormalized",(function(t){var e;e=Math.floor(t.viewableContentEnd.Y),i.emit("maxPosition",{type:"maxPosition",index:0,endPts:e,maxPts:e,maxSeekPts:Math.floor(t.viewableEarliestContentEnd.Y)}),i.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:e,maxPts:e})})),a.events.on("segmentStarting",(function(t){i.emit("maxBitrates",{type:"maxBitrates",audio:t.maxBitrates.audio,video:t.maxBitrates.video}),i.emit("segmentStarting",t)})),e.forEach((function(e){e.events.on("serverSwitch",(function(t){i.emit("serverSwitch",{type:"serverSwitch",segmentId:t.segmentId,mediatype:t.mediatype,server:t.server,reason:t.reason,location:t.location,bitrate:t.bitrate,confidence:t.confidence,throughput:t.throughput,oldserver:t.oldserver})})),e.events.on("streamSelected",(function(t){var n;n=e.ZC(t.position),i.emit("streamSelected",{type:"streamSelected",nativetime:t.nativetime,mediaType:t.mediaType,streamId:t.streamId,manifestIndex:0,trackIndex:t.trackIndex,streamIndex:t.streamIndex,movieTime:n.wG.Y,bandwidth:t.bandwidth,longtermBw:t.longtermBw,rebuffer:t.rebuffer})})),e.events.on("updateStreamingPts",(function(e){var n;n=i.J,r.ga&&t.trace("converting updateStreamingPts, movieId:",n),i.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:e.mediaType,manifestIndex:0,trackIndex:e.trackIndex,segmentId:e.position.xa,movieTime:Math.floor(e.completePlayerStreamingTimestamp.Y)})}))}))},e.f2a=function(t,e,i,n){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach((function(t){return o(e,i.events,t)})),i.events.on("streamPresenting",(function(t){var i,r;i=t.playerTimestamp.Y,void 0===(r=e.pa.ZC(t.position))?n.warn("ShimSession cannot map streamPresenting: "+JSON.stringify(t)):e.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(i),contentStartPts:Math.floor(r.wG.Y),mediaType:t.mediaType,manifestIndex:0,trackIndex:t.trackIndex,streamIndex:t.streamIndex})})),i.events.on("segmentPresenting",(function(t){var i,n,r;i=e.pa.ZC(t.position),n=t.playerTimestamp.Qa(i.wG),r=t.position.xa,e.qUa||(e.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:t.playerTimestamp.Y,movieId:i.W.toString(),replace:!1,contentOffset:n.Y}),e.qUa=!0),e.emit("segmentPresenting",{type:"segmentPresenting",segmentId:r,contentOffset:n.Y,metrics:t.metrics})})),i.events.on("ptsChanged",(function(t){e.emit("ptschanged",t.initialTimestamp.Y),e.Cd.emit("skipped")}))},e.Q4=function(t,e,i,n,r,o){var a;i=i.Y,r=null!=r?r:e,t.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!!o,hashindsight:!1,buffCompleteReason:e.reason,actualbw:n,initSelReason:null!==(a=e.initSelReason)&&void 0!==a?a:"unknown",bcVBufferLevelMs:e.vBufferLevelMs,bcABufferLevelMs:r.aBufferLevelMs}}),t.emit("ptschanged",i),t.emit("bufferingComplete",{type:"bufferingComplete",time:e.time,actualStartPts:i,aBufferLevelMs:r.aBufferLevelMs,vBufferLevelMs:e.vBufferLevelMs,selector:e.selector,initBitrate:e.initBitrate,skipbackBufferSizeBytes:e.skipbackBufferSizeBytes})},e.$Ua=function(t,e,i){t.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:e.track_id,trackIndex:i})}},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.RQa=void 0,t=i(2),n=i(17),r=t.__importDefault(i(124)),o=i(9),e.RQa=function(t){return t.Kkb||(r.default(n.EventEmitter.prototype,t),Object.defineProperties(t,{Kkb:{value:!0},Mc:{get:function(){return new o.T(this.Re(),1e3)}},playbackRate:{get:function(){return Math.max("function"==typeof this.Jo?this.Jo():1,.01)}}})),t}},function(t,e){Object.defineProperties(e,{__esModule:{value:!0}}),e.Hvb={Lw:["minInitVideoBitrate",-1/0],Kra:["minHCInitVideoBitrate",-1/0],fA:["maxInitVideoBitrate",1/0],WW:["minInitAudioBitrate",-1/0],VW:["minHCInitAudioBitrate",-1/0],HW:["maxInitAudioBitrate",1/0],w8:["minAcceptableVideoBitrate",-1/0],SW:["minAcceptableVMAF",0],HOb:["minAcceptableVMAFRebufferScalingFactor",0],Jra:["minAllowedVideoBitrate",-1/0],HNb:["maxAllowedVideoBitrate",1/0],KH:["minAllowedVmaf",-1/0],n2a:["maxAllowedVmaf",1/0],CP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],U4:["enableResolutionVMAFStreamFilter",!1],hta:["percentCapTitlesForResolutionVMAFStreamFilter",100],o$:["resolutionVMAFCappingRuleList",[]],h_a:["ignoreUserFilterOnEmptyResult",!0],XW:["minRequiredBuffer",2e4],D8:["minRequiredAudioBuffer",0],tj:["minPrebufSize",5800],z8:["minCheckBufferingCompleteInterval",200],T4:["enableMoreFrequentBufferingCompleteCheck",!1],Nra:["minimumBufferingCompleteInterval",1e4],j$:["requireDownloadDataAtBuffering",!1],y_a:["indicatorForDownloadDataAtBuffering","oncomplete"],k$:["requireSetupConnectionDuringBuffering",!1],vua:["rebufferingFactor",1],$r:["maxBufferingTime",2e3],Zxa:["useMaxPrebufSize",!0],wD:["maxPrebufSize",4e4],nra:["maxRebufSize",1/0],ICb:["fastRebufferRecoveryThreshold",1/0],HCb:["fastRebufferRecoverBwThrehold",3e3],Y6:["initialBitrateSelectionCurve",null],D_a:["initSelectionLowerBound",-1/0],E_a:["initSelectionUpperBound",1/0],haa:["throughputPercentForAudio",15],Eia:["bandwidthMargin",0],Gia:["bandwidthMarginCurve",[{m:20,b:15e3},{m:17,b:3e4},{m:10,b:6e4},{m:5,b:12e4}]],Asb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Py:76376,scale:18862.4,gamma:3.0569}],Fia:["bandwidthMarginContinuous",!1],Bsb:["bandwidthMarginForAudio",!0],$wa:["switchConfigBasedOnInSessionTput",!0],$ja:["conservBandwidthMargin",20],hU:["conservBandwidthMarginTputThreshold",6e3],aka:["conservBandwidthMarginCurve",[{m:25,b:15e3},{m:20,b:3e4},{m:15,b:6e4},{m:10,b:12e4},{m:5,b:24e4}]],w$a:["switchAlgoBasedOnHistIQR",!1],kE:["switchConfigBasedOnThroughputHistory","iqr"],mra:["maxPlayerStateToSwitchConfig",-1],Mqa:["lowEndMarkingCriteria","iqr"],Ica:["IQRThreshold",.5],Moa:["histIQRCalcToUse","simple"],xt:["bandwidthManifold",{curves:[{min:.05,max:.82,Py:7e4,scale:178e3,gamma:1.16},{min:0,max:.03,Py:15e4,scale:16e4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],ru:["maxTotalBufferLevelPerSession",0],VZa:["highWatermarkLevel",3e4],cab:["toStableThreshold",3e4],naa:["toUnstableThreshold",0],swa:["skipBitrateInUpswitch",!1],qya:["watermarkLevelForSkipStart",8e3],Goa:["highStreamRetentionWindow",9e4],Nqa:["lowStreamTransitionWindow",51e4],Ioa:["highStreamRetentionWindowUp",5e5],Pqa:["lowStreamTransitionWindowUp",1e5],Hoa:["highStreamRetentionWindowDown",6e5],Oqa:["lowStreamTransitionWindowDown",0],Foa:["highStreamInfeasibleBitrateFactor",.5],Zz:["lowestBufForUpswitch",9e3],V7:["lockPeriodAfterDownswitch",15e3],Rqa:["lowWatermarkLevel",15e3],$z:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3e4],Sqa:["lowestWaterMarkLevelBufferRelaxed",!1],xra:["mediaRate",1.5],i8:["maxTrailingBufferLen",15e3],ET:["audioBufferTargetAvailableSize",262144],RZ:["videoBufferTargetAvailableSize",1048576],I2a:["maxVideoTrailingBufferSize",8388608],p2a:["maxAudioTrailingBufferSize",393216],l5:["fastUpswitchFactor",3],VVa:["fastUpswitchFactorWithoutHeaders",3],Yla:["fastDownswitchFactor",3],gA:["maxMediaBufferAllowed",27e4],Zac:["minMediaBufferLen",1e4],qwa:["simulatePartialBlocks",!0],u9a:["simulateBufferFull",!0],bka:["considerConnectTime",!0],Zja:["connectTimeMultiplier",1],M1a:["lowGradeModeEnterThreshold",12e4],N1a:["lowGradeModeExitThreshold",9e4],s2a:["maxDomainFailureWaitDuration",3e4],o2a:["maxAttemptsOnFailure",18],LVa:["exhaustAllLocationsForFailure",!0],y2a:["maxNetworkErrorsDuringBuffering",20],c8:["maxBufferingTimeAllowedWithNetworkError",6e4],BL:["alwaysRunUnderflowTimer",!0],TVa:["fastDomainSelectionBwThreshold",2e3],I$a:["throughputProbingEnterThreshold",4e4],J$a:["throughputProbingExitThreshold",34e3],z1a:["locationProbingTimeout",1e4],aWa:["finalLocationSelectionBwThreshold",1e4],G$a:["throughputHighConfidenceLevel",.75],H$a:["throughputLowConfidenceLevel",.4],zqa:["locationStatisticsUpdateInterval",6e4],SMb:["locationSelectorPersistFailures",!0],mVa:["enablePerfBasedLocationSwitch",!1],Cac:["maxRateMaxFragmentGroups",4500],nta:["pipelineScheduleTimeoutMs",2],hA:["maxPartialBuffersAtBufferingStart",2],NOb:["minPendingBufferLen",3e3],g8:["maxPendingBufferLen",6e3],FBb:["enableNginxRateLimit",!1],X8:["nginxSendingRate",4e4],JBb:["enableRequestPacingToken",!1],nOb:["mediaRequestPacingSpeed",2],ipa:["initialMediaRequestToken",2e4],a8:["maxActiveRequestsSABCell100",2],A2a:["maxPendingBufferLenSABCell100",500],G7a:["resetActiveRequestsAtSessionInit",!0],xla:["enableCprAudio",!1],yla:["enableCprVideo",!1],Lja:["clientPacingParams",{enableAdaptiveInitialThroughput:!1,minRequiredBuffer:6e3,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],mZb:["staticPacingRateKbps",0],FRb:["paceRateSelectorAlgorithm","default"],lVa:["enablePaceReportLogging",!1],P0b:["unpacedFragmentInterval",0],wJb:["ignorePacedRequestsThroughput",!1],vJb:["ignoreInferredPacedRequestsThroughput",!1],t9:["pacedThresholdPct",.1],Eua:["regressionAlgoPacingCoefficients",[{bufferLevelMs:0,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:0,upswitchAverageBitrate:0,maxAverageBitrate:2,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}},{bufferLevelMs:3e4,coefficients:{selectedFragmentBitrate:0,upswitchFragmentBitrate:0,maxFragmentBitrate:0,selectedAverageBitrate:1,upswitchAverageBitrate:0,maxAverageBitrate:0,selectedPeakBitrate:0,upswitchPeakBitrate:0,maxPeakBitrate:0,bufferLevelMs:0,observedThroughput:0,predictedThroughput:0,offset:0}}]],S4:["enableInitialTputLogging",!1],ora:["maxResponsesInitialTput",6],pra:["maxStreamingSkew",2e3],KNb:["maxBufferOccupancyForSkewCheck",1/0],H1b:["useBufferOccupancySkipBack",!0],kra:["maxPendingBufferPercentage",10],D2a:["maxRequestsInBuffer",120],G6:["headerRequestSize",4096],Ola:["estimateHeaderSize",!0],J$b:["headerCacheEstimateHeaderSize",!1],RH:["neverWipeHeaderCache",!1],T1b:["useSidxInfoFromManifestForHeaderRequestSize",!1],UVa:["fastPlayHeaderRequestSize",0],SN:["maxRequestSize",0],YN:["minRequestSize",65536],TW:["minBufferLenForHeaderDownloading",1e4],A9a:["smartHeaderPreDownloading",!1],pBb:["enableAllHeadersPreDownloading",!1],vbc:["onlyAllowPtsUpdatePolling",!1],OOb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],XO:["reserveForSkipbackBufferMs",15e3],psa:["numExtraFragmentsAllowed",2],zq:["pipelineEnabled",!0],RN:["maxParallelConnections",3],Q1b:["usePipelineForAudio",!1],P1b:["usePipelineDetectionForAudio",!1],D9a:["socketReceiveBufferSize",0],s3:["audioSocketReceiveBufferSize",32768],UP:["videoSocketReceiveBufferSize",65536],tbb:["usePipelineDetectionForVideo",!1],SOb:["minVideoSocketReceiveBufferSize",65536],Doa:["headersSocketReceiveBufferSize",32768],pYb:["shareDownloadTracks",!0],qYb:["shareOpenRangeTracks",!1],kAb:["disableHeaderDownloadTracks",!1],Mra:["minTimeBetweenHeaderRequests",void 0],Faa:["updatePtsIntervalMs",1e3],Ria:["bufferTraceDenominator",0],ML:["bufferLevelNotifyIntervalMs",2e3],Rwa:["streamingStatusIntervalMs",2e3],vA:["prebufferTimeLimit",6e4],y8:["minBufferLevelForTrackSwitch",2e3],HBb:["enablePenaltyForLongConnectTime",!1],fta:["penaltyFactorForLongConnectTime",2],Kqa:["longConnectTimeThreshold",200],Qha:["additionalBufferingLongConnectTime",2e3],Rha:["additionalBufferingPerFailure",8e3],eY:["rebufferCheckDuration",6e4],jVa:["enableLookaheadHints",!1],J1a:["lookaheadFragments",2],jz:["enableOCSideChannel",!0],Sta:["probeRequestTimeoutMilliseconds",3e4],Jbc:["probeRequestConnectTimeoutMilliseconds",8e3],M0:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],KBb:["enableSCByteRangeHints",!1],Pab:["updateDrmRequestOnNetworkFailure",!0],r2a:["maxDiffAudioVideoEndPtsMs",1e3],Fzb:["deferAseHeaderCache",!1],dUa:["deferAseScheduling",!1],O$a:["timeBeforeEndOfStreamBufferMark",6e3],ira:["maxFastPlayBufferInMs",2e4],hra:["maxFastPlayBitThreshold",2e8],gra:["maxBufferingCompleteBufferInMs",1/0],ftb:["bufferingCompleteOnMemoryLimit",!1],x8:["minAudioMediaRequestSizeBytes",0],F8:["minVideoMediaRequestSizeBytes",0],JNb:["maxAudioMediaRequestSizeBytes",1/0],ZNb:["maxVideoMediaRequestSizeBytes",1/0],QNb:["maxMediaRequestSizeBytesInFraction",1],Kw:["minAudioMediaRequestDuration",0],lA:["minVideoMediaRequestDuration",0],B8:["minMediaRequestDuration",0],INb:["maxAudioMediaRequestDuration",1/0],YNb:["maxVideoMediaRequestDuration",1/0],e8:["maxMediaRequestDuration",1/0],Wha:["allowFirstRequestAggregation",!1],KOb:["minAudioMediaRequestDurationCache",0],ROb:["minVideoMediaRequestDurationCache",0],EBb:["enableMultiFragmentRequest",!1],obb:[["useHeaderCache","usehc"],!0],Yxa:[["useHeaderCacheData","usehcd"],!0],y4:["defaultHeaderCacheSize",4],$Ta:["defaultHeaderCacheDataCount",4],x4:["defaultHeaderCacheDataPrefetchMs",0],JIb:["headerCacheMaxPendingData",6],K$b:["headerCachePriorityLimit",5],PZa:["headerCacheAdoptBothAV",!1],R1b:["usePipelineForBranchedAudio",!0],Hub:["childBranchBatchedAmount",1e4],BD:["minimumTimeBeforeBranchDecision",2e3],UOb:["minimumAppendedMediaBeforePlayback",5e3],Bbc:["parallelBranchesDuringBuffering",!1],TNb:["maxRequestsToAttachOnBranchActivation",void 0],YW:["minimumJustInTimeBufferLevel",3e3],yBb:["enableJustInTimeAppends",!1],fVa:["enableDelayedSeamless",!1],g9b:["branchEndPtsIntervalMs",250],xJb:["ignorePtsJustBeforeCurrentSegment",!1],u2a:["maxFragsForFittableOnBranching",300],XRb:["pausePlaylistAtEnd",!0],mqb:["adaptiveParallelTimeoutMs",1e3],yM:["enableAdaptiveParallelStreaming",!1],Qia:["bufferThresholdToSwitchToSingleConnMs",45e3],Pia:["bufferThresholdToSwitchToParallelConnMs",35e3],mBb:["enableAPSForBranching",!1],Waa:["waitForPendingConnAdaptation",!1],Yra:["networkFailureResetWaitMs",2e3],Xra:["networkFailureAbandonMs",6e4],h8:["maxThrottledNetworkFailures",5],gaa:["throttledNetworkFailureThresholdMs",200],Qqa:["lowThroughputThreshold",400],Sla:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],H_b:["timeAtEachBitrateRoundRobin",1e4],uWb:["roundRobinDirection","forward"],hJb:["httpsConnectErrorAsPerm",!1],s3a:["mp4ParsingInNative",!1],ji:["enableManagerDebugTraces",!1],$1a:["managerDebugMessageInterval",1e3],Z1a:["managerDebugMessageCount",20],X3a:["notifyManifestCacheEom",!0],PBb:["enableUsingHeaderCount",!1],F9a:["sourceBufferInOrderAppend",!0],WD:["requireAudioStreamToEncompassVideo",!1],ZPa:["allowAudioToStreamPastVideo",!1],cTa:["countGapInBuffer",!1],$Pa:["allowCallToStreamSelector",!1],rRa:["bufferThresholdForAbort",2e4],Mwa:["ase_stream_selector","optimized"],NQa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],gpa:["initBitrateSelectorAlgorithm","default"],Wia:["bufferingSelectorAlgorithm","default"],yZb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],oVa:["enableThroughputTraceResearchData",!1],K$a:["throughputTraceParam",{numB:3600,bSizeMs:2e3,fillS:"last",fillHl:1e3}],$w:["researchEnvironmentEnabled",!1],MBb:["enableStreamSelectionAugmentData",!1],msb:["augmentDataNumOfChunks",30],RTa:["ase_ls_failure_simulation",""],Gka:["ase_dump_fragments",!1],Ika:["ase_location_history",0],Jka:["ase_throughput",0],TTa:["ase_simulate_verbose",!1],ah:["stallAtFrameCount",void 0],J9a:["stallAtFrameCountAudio",void 0],cra:["marginPredictor","simple"],kbb:["useBackupUnderflowTimer",!0],zPb:["noDuplicateUnderflowTimer",!1],Xcc:["useManifestDrmHeader",!0],Ycc:["useOnlyManifestDrmHeader",!0],Zra:["networkMeasurementGranularity","video_location"],qPb:["netIntrStoreWindow",36e3],fbc:["minNetIntrDuration",8e3],hmb:["fastHistoricBandwidthExpirationTime",10368e3],Gmb:["bandwidthExpirationTime",5184e3],gmb:["failureExpirationTime",86400],rOa:["historyTimeOfDayGranularity",4],dmb:["expandDownloadTime",!0],qnb:["minimumMeasurementTime",500],pnb:["minimumMeasurementBytes",131072],Dob:["throughputMeasurementTimeout",2e3],Cob:["initThroughputMeasureDataSize",262144],$mb:["historicBandwidthUpdateInterval",2e3],onb:["minimumBufferToStopProbing",1e4],O8b:["throughputPredictor","ewma"],zva:["secondThroughputEstimator","slidingwindow"],k8a:["secondThroughputMeasureWindowInMs",3e5],N8b:["throughputMeasureWindow",5e3],P8b:["throughputWarmupTime",5e3],M8b:["throughputIQRMeasureWindow",1e3],y8b:["IQRBucketizerWindow",15e3],v2a:["maxIQRSamples",100],g3a:["minIQRSamples",5],J8b:["connectTimeHalflife",10],D8b:["responseTimeHalflife",10],ANa:["historicThroughputHalflife",14400],zNa:["historicResponseTimeHalflife",100],yNa:["historicHttpResponseTimeHalflife",100],xDa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],dOa:["minReportedNetIntrDuration",4e3],L8b:["throughputBucketMs",500],B8b:["bucketHoltWintersWindow",2e3],Wlb:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")],emb:["experimentalFilter",["throughput-wssl"]],Ufa:["filterDefinitionOverrides",{}],Llb:["defaultFilter","throughput-ewma"],kpb:["secondaryFilter","throughput-sw"],OK:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5e3},"throughput-sw":{type:"slidingwindow",mw:3e5},"throughput-wssl":{type:"wssl",mw:5e3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15e3,iv:1e3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1e3,w:15e3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2e3,sw:6e4,mins:1,in:"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25e3]}}],Bla:["enableWsslEstimate",!1],Fac:["maxWsslRequestSize",131072],Eac:["maxWsslRequestRatio",.2],acb:["wsslAggregationMethod","max"],UU:["enableSessionHistoryReport",!0],ula:["earlyStageEstimatePeriod",1e4],i1a:["lateStageEstimatePeriod",3e4],f8:["maxNumSessionHistoryStored",10],E8:["minSessionHistoryDuration",3e5],QIb:["highAndStableModelName","baseline"],Ala:["enableHighAndStablePredictor",!1],C8:["minNumSessionHistory",5],c9b:["baselineHighAndStableThreshold",{bwThreshold:2e4,nethreshold:.15}],I6:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],RIb:["highAndStableParams",{minRequiredBuffer:1e4,bandwidthMarginCurve:[{m:10,b:15e3},{m:5,b:3e4},{m:0,b:12e4}]}],Jha:["addHeaderDataToNetworkMonitor",!0],Bwa:["startMonitorOnLoadStart",!1],Tua:["reportFailedRequestsToNetworkMonitor",!1],B9:["periodicHistoryPersistMs",0],t$:["saveVideoBitrateMs",0],bX:["needMinimumNetworkConfidence",!0],Jia:["biasTowardHistoricalThroughput",!1],WMb:["logMemoryUsage",!1],Ju:["probeServerWhenError",!0],Ay:["allowSwitchback",!0],mI:["probeDetailDenominator",100],d8:["maxDelayToReportFailure",300],wr:["allowParallelStreaming",!1],Qac:["mediaPrefetchDisabled",!1],d3a:["minBufferLevelToAllowPrefetch",5e3],v$:["seamlessAudio",!1],ccc:["seamlessAudioProfiles",[]],dcc:["seamlessAudioProfilesAndTitles",{}],xva:["seamlessAudioMaximumSyncError",void 0],yva:["seamlessAudioMinimumSyncError",void 0],P_a:["insertSilentFrames",0],opa:["insertSilentFramesOnSeek",!1],Q_a:["insertSilentFramesOnSeekForTitles",[]],dKb:["insertSilentFramesOnSeekCount",3],m$b:["forceDiscontinuityAtTransition",!0],Xwa:["supportAudioResetOnDiscontinuity",void 0],YZb:["supportAudioEasingOnDiscontinuity",void 0],cBb:["editCompleteFragments",!0],VOb:["minimumAudioFramesPerFragment",1],fG:["applyProfileTimestampOffset",!1],fm:["applyProfileStreamingOffset",!0],l6a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48e3},96:{ticks:-3352,timescale:48e3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48e3}}}],gsb:["audioProfilesNonSyncSamples",["xheaac-dash"]],A0b:["truncateEndOfStreamAudio",!1],J1b:["useDpiAssumedAacEncoderDelay",!0],zra:["mediaSourceSupportsNegativePts",!1],XN:["minAudioPtsGap",void 0],esb:["audioOverlapGuardSampleCount",2],nVa:["enableRecordJSBridgePerf",!1],Nca:["JSBridgeTDigestConfig",{maxc:25,c:.5}],E_b:["throughputThresholdSelectorParam",0],E1b:["upswitchDuringBufferingFactor",2],orb:["allowUpswitchDuringBuffering",!1],TSa:["contentOverrides",void 0],fka:["contentProfileOverrides",void 0],Loa:["hindsightDenominator",0],Koa:["hindsightDebugDenominator",0],J6:["hindsightAlgorithmsEnabled",[]],K6:["hindsightParam",{numB:1/0,bSizeMs:1e3,fillS:"last",fillHl:1e3}],pQa:["appendMediaRequestOnComplete",!1],Vaa:["waitForDrmToAppendMedia",!1],u5:["forceAppendHeadersAfterDrm",!1],Kka:["declareBufferingCompleteAtSegmentEnd",!1],Fw:["maxActiveRequestsPerSession",void 0],uqa:["limitAudioDiscountByMaxAudioBitrate",!1],$ha:["appendFirstHeaderOnComplete",!0],bZ:["strictBufferCapacityCheck",!1],GL:["aseReportDenominator",0],n3:["aseReportIntervalMs",3e5],waa:["translateToVp9Draft",!1],FP:["switchableAudioProfiles",[]],hsb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],x$a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],jsb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16e3,lockPeriodAfterDownswitch:16e3}],G2a:["maxStartingVideoVMAF",110],uu:["minStartingVideoVMAF",1],uT:["activateSelectStartingVMAF",!1],B$:["selectStartingVMAFTDigest",-1],cP:["selectStartingVMAFMethod","fallback"],p8a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],tA:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],lAb:["disablePtsStartsEvent",!0],yua:["recordFirstFragmentOnSubBranchCreate",!0],N2a:["mediaCacheConvertToBinaryData",!1],sra:["mediaCacheSaveOneObject",!1],l2a:["markRequestActiveOnFirstByte",!1],P4:["earlyAppendSingleChildBranch",!0],aB:["useNativeDataViewMethods",!0],I1b:["useCorrectDrainingAmounts",!0],TU:["enableNewAse",!1],Iaa:["useNewApi",!1],E4:["aseDiagnostics",[{mj:"queue-audit",enabled:!0},{mj:"task-audit",enabled:!0},{mj:"trace-ShimSession",enabled:!0},{mj:"trace-engine",enabled:!0},{mj:"trace-RequestPacer",enabled:!0},{mj:"trace-BufferStateTracker",enabled:!0},{mj:"trace-GraphStreamingProcess",enabled:!0},{mj:"trace-AsePlaygraph",enabled:!0},{mj:"playgraph-branch-audit",enabled:!0}]],Xsb:["branchDistanceThreshold",6e4],b8:["maxAllowedOutstandingRequests",4],Lra:["minStreamableConcurrencyWindow",3e3],XNb:["maxStreamableConcurrencyWindow",1/0],Nwa:["streamableConcurrencyFactor",.3],VT:["bufferingConcurrencyWindow",7800],Mia:["branchCreationThreshold",12e4],R4:["enableDiscontiguousBuffering",!1],Ama:["forceImmediateTransitionTypeForTitles",[]],zma:["forceImmediateTransitionExitZone",0],ZSa:["contiguousBufferMultiplier",3],XSa:["contiguousBufferMinimumAudio",1048576],YSa:["contiguousBufferMinimumVideo",8388608],jTb:["prefetchBudgetInBytes",0],N6a:["rebufferRiskHalfLife",1e4],Wxa:["useBufferSizeLimiter",1],U1b:["useStaticBufferSizeLimiter",1],mTb:["prefetchWeightBudget",32],Ora:["minimumDownstreamBranchProbability",.075],Xxa:["useExitZones",!0],nTb:["prefetchWhilePlaying",!0],sTb:["prefetcherSoftReset",!0],M5a:["playgraphDefaultWeight",65520],Gzb:["delayNotificationOfEoS",!1],sOb:["memDeadlockShouldCheckMemory",!0],rOb:["memDeadlockOverageThreshold",.9],qOb:["memDeadlockMaxUtilizationPercentage",.5],vta:["playerPtsPadding",1],UW:["minFragmentVmaf",void 0],wla:["enableCombinedPlaygraphs",!1]},e.oj=e.Hvb},function(t,e,i){var n,r,o;Object.defineProperties(e,{__esModule:{value:!0}}),e.cr=e.ar=e.dr=e.bA=e.j1=void 0,n=i(2),r=i(116),Object.defineProperties(e,{ar:{enumerable:!0,get:function(){return r.ar}}}),Object.defineProperties(e,{cr:{enumerable:!0,get:function(){return r.cr}}}),Object.defineProperties(e,{bA:{enumerable:!0,get:function(){return r.bA}}}),Object.defineProperties(e,{j1:{enumerable:!0,get:function(){return r.j1}}}),o=n.__importDefault(i(6)),t=function(t){function e(i,n,r,o,a){return t.call(this,e.console,i,n,r,o,a)||this}return n.__extends(e,t),Object.defineProperties(e,{console:{get:function(){return this.H||(this.H=new o.default.Console("MP4","media|asejs"))},enumerable:!1,configurable:!0}}),e}(r.dr),e.dr=t},function(t,e,i){var n;e=i(177),n=i(963),i=e((function(t,e,i){return n((function(e,i,n){return t(i,n)}),e,i)})),t.exports=i},function(t,e,i){var n,r;e=i(177),n=i(416),r=i(964),i=e((function t(e,i,o){return r((function(i,r,o){return n(r)&&n(o)?t(e,r,o):e(i,r,o)}),i,o)})),t.exports=i},function(t,e,i){var n;e=i(177),n=i(256),i=e((function(t,e,i){var r,o;for(o in r={},e)n(o,e)&&(r[o]=n(o,i)?t(o,e[o],i[o]):e[o]);for(o in i)n(o,i)&&!n(o,r)&&(r[o]=i[o]);return r})),t.exports=i},function(t,e,i){var n;e=i(417),n=i(974),i=n([e,i=i(984)]),t.exports=i},function(t){t.exports=function(t){return"function"==typeof t["@@transducer/step"]}},function(t){t.exports=function(t,e){for(var i=0,n=e.length,r=[];i<n;)t(e[i])&&(r[r.length]=e[i]),i+=1;return r}},function(t,e,i){var n,r;e=i(130),n=i(419),r=i(969),i=e((function(t){return!!n(t)||!(!t||"object"!=typeof t||r(t))&&(1===t.nodeType?!!t.length:0===t.length||0<t.length&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))})),t.exports=i},function(t){t.exports=function(t){return"[object String]"===Object.prototype.toString.call(t)}},function(t){var e;e=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}(),t.exports=function(t){return new e(t)}},function(t,e,i){var n;n=i(258),e=i(59)((function(t,e){return n(t.length,(function(){return t.apply(e,arguments)}))})),t.exports=e},function(t,e,i){var n,r;e=i(59),n=i(420),r=function(){function t(t,e){this.e_=e,this.f=t}return t.prototype["@@transducer/init"]=n.xb,t.prototype["@@transducer/result"]=n.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.e_["@@transducer/step"](t,e):t},t}(),i=e((function(t,e){return new r(t,e)})),t.exports=i},function(t,e,i){var n,r;n=i(256),r=Object.prototype.toString,t.exports=function(){return"[object Arguments]"===r.call(arguments)?function(t){return"[object Arguments]"===r.call(t)}:function(t){return n("callee",t)}}},function(t,e,i){var n;e=i(130),n=i(975),i=e((function(t){return n((function(){return Array.prototype.slice.call(arguments,0)}),t)})),t.exports=i},function(t,e,i){var n,r,o,a,s;e=i(59),n=i(422),r=i(423),o=i(977),a=i(978),s=i(983),i=e((function(t,e){return r(s(o,0,a("length",e)),(function(){var i,r;return i=arguments,r=this,t.apply(r,n((function(t){return t.apply(r,i)}),e))}))})),t.exports=i},function(t,e,i){var n,r;n=i(258),r=i(178),t.exports=function t(e,i,o){return function(){for(var a,s=[],u=0,c=e,h=0;h<i.length||u<arguments.length;)h<i.length&&(!r(i[h])||u>=arguments.length)?a=i[h]:(a=arguments[u],u+=1),s[h]=a,r(a)||--c,h+=1;return 0>=c?o.apply(this,s):n(c,t(e,s,o))}}},function(t,e,i){e=i(59)((function(t,e){return e>t?e:t})),t.exports=e},function(t,e,i){var n,r;e=i(59),n=i(979),r=i(981),i=e((function(t,e){return n(r(t),e)})),t.exports=i},function(t,e,i){var n,r,o,a,s,u;e=i(59),n=i(418),r=i(422),o=i(257),a=i(980),s=i(423),u=i(421),i=e(n(["fantasy-land/map","map"],a,(function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return s(e.length,(function(){return t.call(this,e.apply(this,arguments))}));case"[object Object]":return o((function(i,n){return i[n]=t(e[n]),i}),{},u(e));default:return r(t,e)}}))),t.exports=i},function(t,e,i){var n,r;e=i(59),n=i(420),r=function(){function t(t,e){this.e_=e,this.f=t}return t.prototype["@@transducer/init"]=n.xb,t.prototype["@@transducer/result"]=n.result,t.prototype["@@transducer/step"]=function(t,e){return this.e_["@@transducer/step"](t,this.f(e))},t}(),i=e((function(t,e){return new r(t,e)})),t.exports=i},function(t,e,i){var n;e=i(59),n=i(982),i=e((function(t,e){return n([t],e)})),t.exports=i},function(t,e,i){e=i(59)((function(t,e){for(var i=0;i<t.length;){if(null==e)return;e=e[t[i]],i+=1}return e})),t.exports=e},function(t,e,i){e=i(177),i=e(i=i(257)),t.exports=i},function(t,e,i){var n,r;n=i(985),e=i(59),r=i(417),i=e((function(t,e){return r(n(t),e)})),t.exports=i},function(t){t.exports=function(t){return function(){return!t.apply(this,arguments)}}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E;Object.defineProperty(e,"__esModule",{value:!0}),e.YZa=void 0,t=i(0),n=i(428),r=i(987),o=i(430),a=i(988),s=i(424),u=i(1013),c=i(438),h=i(1015),f=i(425),l=i(1016),d=i(426),p=i(1017),b=i(442),v=i(261),y=i(1018),g=i(439),m=i(1019),_=i(1020),w=i(427),E=i(1022),e.YZa=new t.rd((function(t){t(n.rDa).to(r.qDa).aa(),t(o.vDa).to(a.uDa).aa(),t(s.dDa).to(u.cDa).aa(),t(c.fDa).to(h.eDa).aa(),t(g.pAa).to(m.oAa).aa(),t(f.OIa).to(l.NIa).aa(),t(d.Jea).to(p.PKa),t(b.nR).to(_.mR),t(w.qR).to(E.pR),t(v.xca).to(y.yDa)}))},function(t,e,i){var n,r,o,a;function s(t,e){this.gJb=t,this.log=e.ib("HeaderFetcherImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.qDa=void 0,t=i(1),n=i(0),r=i(7),o=i(429),a=i(87),s.prototype.download=function(t){var e,i,n,r,o;return e=this,i=t.urls,n=t.offset,r=t.length,o=0,this.IUa(i[o].url,n,r).catch((function t(a){if(o<i.length-1)return o++,e.IUa(i[o].url,n,r).catch(t);throw a}))},s.prototype.IUa=function(t,e,i){return this.gJb.download({url:t,withCredentials:!1,responseType:a.ResponseType.ddb,EC:"hls_headers",Js:!0,offset:e,length:i},{F2a:1})},i=s,i=t.__decorate([n.R(),t.__param(0,n.l(o.BDa)),t.__param(1,n.l(r.qb))],i),e.qDa=i},function(t,e,i){var n,r,o;function a(t){this.ta=t.ib("HeaderParserImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.uDa=void 0,t=i(1),n=i(0),r=i(262),i=i(7),a.prototype.parse=function(t,e,i){if((t=new r.dr(this.ta,{mediaType:t},e,["sidx"]).parse()).Cm&&t.U)return this.f3(t.U,i)},a.prototype.f3=function(t,e){var i,n,r,o,a;return i=0,n=0,r=0,o=t.offset,a=[],t.vd.forEach((function(s,u){n+=s,r+=t.sizes[u],(1e3*n/t.S>=e||u===t.vd.length-1)&&(a.push({duration:n/t.S,Z:i/t.S,byteOffset:o,otb:r}),i+=n,n=0,o+=r,r=0)})),a},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.qb))],o),e.uDa=o},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=1===this.version?this.Wi([{creationTime:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.Wi([{creationTime:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]),!0},e.Xb="mvhd",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.Xb="trak",e.Na=!0,e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;return this.Ac(),t=(t=1===this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}]).concat({offset:64,type:"offset"},{cMb:"int16"},{prb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"}),this.ic=this.Wi(t),this.ic.f0b=!!(1&this.flags),this.ic.g0b=!!(2&this.flags),this.ic.h0b=!!(4&this.flags),this.ic.i0b=!!(8&this.flags),this.u.console.trace("Finished parsing track box"),!0},e.Xb="tkhd",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=this.Wi(1===this.version?[{A5:"int64"}]:[{A5:"int32"}]),!0},e.Xb="mehd",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.ic=this.Wi([{$Ib:"int32"},{o2b:"int32"}]),!0},e.Xb="pasp",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.ic=this.Wi([{dtb:"int32"},{maxBitrate:"int32"},{Bia:"int32"}]),!0},e.Xb="btrt",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){for(this.u.Ml(),this.u.Ml(),this.rG=[];this.u.offset<=this.byteOffset+this.byteLength-4;)this.rG.push(this.u.Ml());return!0},e.Xb="ftyp",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(88),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=this.Wi([{dTb:"int32"},{RV:"int32"},{offset:96,type:"offset"},{name:"string"}]),this.ic.RV=r.ko(this.ic.RV),!0},e.Xb="hdlr",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(104),o=i(264),a=i(179),t=i(33),s=i(105),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.sm=this.u.ya(),!0},e.prototype.Qt=function(t){var e;return(e=Object.keys(this.Ua)).length&&(e=e[0],this.Ua[e].length&&((e=this.Ua[e][0])instanceof a.default?this.sa=new o.T(e.qz,e.samplerate):e instanceof s.default&&(e=e.Ua[r.XE])&&e.length&&(1e3!==(e=e[0].ic).cz&&1001!==e.cz||0!=e.VH%1e3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: "+e.VH+"/"+e.cz):this.sa=new o.T(e.cz,e.VH)),this.sa&&(t.sa=this.sa))),!0},e.prototype.mY=function(t){void 0!==this.Ua[t]&&0!==this.Ua[t].length&&(this.la.dh(this.sm-1,this.byteOffset+12),t=this.Ua[t][0],this.Ie(t.byteLength,t.byteOffset))},e.Xb="stsd",e.Na=!0,e}(t.Dc),e.default=i},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Kma=this.u.zc(2),this.Nia=this.u.zc(5),this.Oia=this.u.zc(3),this.zha=this.u.zc(3),this.u.zc(1),this.u.zc(5),this.u.zc(5),!0},e.Xb="dac3",e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;this.ssa=7&this.u.Yc(),this.Uwa=[];for(var e=0;e<this.ssa;e++)0<(t={Kma:this.u.zc(2),Nia:this.u.zc(5),Oia:this.u.zc(5),zha:this.u.zc(3),fMb:this.u.zc(1),rsa:this.u.zc(4)}).rsa?t.jub=this.u.zc(9):this.u.zc(1),this.Uwa.push(t);return!0},e.Xb="dec3",e}(i(33).Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.zY=this.u.Ml(),r.ga&&this.u.console.trace("SchemeTypeBoxTranslator: "+this.zY),"cenc"===this.zY&&(this.u.offset-=4,r.ga&&this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset "+this.u.offset),this.la.b_("piff")),this.u.ya(),!0},e.Xb="schm",e.Na=!1,e}((r=i(33)).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t;return this.u.mb(),this.qba=this.u.mb(),this.u.mb(),this.u.mb(),this.u.mb(),this.VY=this.LF(31&this.u.mb()),this.LF(this.u.mb()),this.yA=this.VY.length?this.VY[0][0]:this.qba,this.YS=this.u.offset,this.startOffset+this.length<this.u.offset&&(100===this.yA||110===this.yA||122===this.yA||144===this.yA)&&(this.u.mb(),this.u.mb(),this.LF(this.u.mb())),0<(t=this.startOffset+this.length-this.YS)&&this.Ie(t,this.YS),!0},e.prototype.LF=function(t){for(var e,i=[],n=0;n<t;++n)e=this.u.Yc(),i.push(this.u.CA(e));return i},e.Xb="avcC",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.Qt=function(){var t;return(t=(t=this.Cl("esds"))&&t.jca.Cl(5))&&(this.qz=t.qz),!0},e.Xb="mp4a",e.Na=!0,e}(i(179).default),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(266),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.jca=r.IQ.bY(this.u),!0},e.Xb="esds",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=i(104),i=i(33),r=t.XE,i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){return this.Ac(),this.ic=this.Wi([{VH:"int32"},{cz:"int16"}]),!0},e.Xb=r,e.Na=!1,e}(i.Dc),e.default=i},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.parse=function(){var t,e,i,n,r;return this.Ac(),e=(t=this.Wi([{kJ:"int32"},{zU:"int32"},{$y:"int32"},{bz:"int32"},{az:"int32"}])).kJ,i=t.zU,n=t.$y,r=t.az,t=t.bz,this.ic={trackId:e,yzb:i,Zy:n,zzb:r,Azb:t},this.kJ=e,this.zU=i,this.$y=n,this.bz=t,this.az=r,!0},e.Xb="trex",e.Na=!1,e}(i(33).Dc),e.default=t},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(1007),o=i(270),a=i(150),s=i(264),u=i(33),t=i(433),c=i(434),h=i(436),f=i(151),l=i(263),d=i(104),p=i(437),i=function(){function t(t,e,i,n,r,o){this.console=t,this.stream=e,this.Oh=n,this.Pha=r,this.view=i instanceof ArrayBuffer?new DataView(i):new DataView(i.data,i.offset,i.length),this.config=o||{},this.FZa=f.fna()}return t.path=function(t,e){return e.reduce((function(t,e){return t&&t.Ua[e]&&t.Ua[e][0]}),t)},t.vna=function(t){return t&&t.rG&&-1!==t.rG.indexOf("mcl0")?"mcl0":void 0},t.fma=function(t,e){var i,n;for(a.assert("mcl0"===t,"Unsupported McClearen brand"),t=(i=e.U).vd,e=new s.T(120,1).Zf(i.S).vc,n=0,i=i.jl;n<t.length&&i<e;)i+=t[n++];return n},t.prototype.parse=function(t){var e;return(e=this.sva()).done?(e=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+e.offset),this.view=new DataView(e),(t=this.Ssa(t)).done?this.dka():(this.console.error("Parse error: "+t.error),{Cm:!1,parseError:t.error||"unknown mp4 parse error"})):e.cX?{Cm:!1,SPa:e.cX}:(this.console.error("Scan error: "+e.error),{Cm:!1,parseError:e.error||"unknown mp4 scan error"})},t.prototype.xn=function(t){return u.Dc.xn(this,t)},t.prototype.Cl=function(t){return u.Dc.Cl(this,t)},t.prototype.sva=function(){var e,i;return e=new p.Dca(this.Oh,this.Pha?[d.Nx,d.Mx]:[],this.config&&this.config.w_b||["moof",d.zR],this.config&&this.config.AX),i=n.__assign(n.__assign({},this.config),{bI:!1}),new h.zE(t.CI,e,this.view,this.console,i).parse()},t.prototype.Ssa=function(t){var e,i,o;return e=new p.DQ(this.view.byteLength),i=Object.create(l.xq.Ua),this.config&&((this.config.w9||this.config.vaa||this.config.eE)&&r(l.xq.AI,i),this.config.waa&&r(l.xq.sxa,i),this.config.vaa&&r(l.xq.CZ,i)),o=n.__assign(n.__assign({},this.config),{bI:!0}),this.tc=new h.zE(i,e,this.view,this.console,o),(t=this.tc.parse(t)).done&&(this.Ua=this.tc.Ua),t},t.prototype.dka=function(){var e,i,n,r,a,u;if(e={Cm:!0},i=t.path(this,["moov"]),n=t.path(i,["trak","mdia","minf","stbl","stsd"]),this.config.w9){if(!n)return{Cm:!1,parseError:"Missing sample descriptions"};e.sa=n.sa,e.CWb=n.Ua}if((r=t.path(n,["encv","sinf","schi"]))&&(r=t.path(r,["tenc"])||t.path(r,[d.ER]))&&(e.sVa={Nvb:r.pj,vH:r.vH,FLb:!1}),(r=t.path(i,["trak","mdia","mdhd"]))&&(e.S=r.S),(r=t.path(i,["mvex","trex"]))&&(e.Zy=r&&r.ic.Zy),e.Zy&&e.S&&(e.sa=new s.T(e.Zy,e.S)),(r=t.path(this,["sidx"]))&&(a=(a=t.path(this,[d.Nx]))&&a.qra,u=(u=t.path(this,[d.Mx]))&&u.di,e.U=r.U,e.NH=a,e.di=u),(a=this.Ua.vmaf&&this.Ua.vmaf[0])&&(e.Th=a.Th),this.config.T7a){if(!i)return{Cm:!1,parseError:"Missing movie box"};this.trim(i.byteOffset+i.byteLength),this.config.eE&&n&&1<n.sm&&r&&(e.Wg=this.eE(n,r)),void 0===e.Wg&&(i=this.tc.hz?o.concat(this.tc.wa()):this.view.buffer,e.Wg=[{Qd:0,data:i}])}return e.Cm=!0,e.BX=this.tc.offset,e},t.prototype.trim=function(t){var e;e=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset+Math.min(t,this.view.byteLength)),this.tc.trim(t),this.view=new DataView(e)},t.prototype.eE=function(e,i){var n,r,a;if(r=(n=Object.keys(e.Ua)).filter((function(t){return"encv"!==t})),!(2>n.length||r.length===n.length||0===r.length)&&(n=t.path(this,["ftyp"]),a=t.vna(n)))return n=[],this.tc.eua(),e.mY("encv"),n.push({Qd:0,Tk:!1,data:o.concat(this.tc.wa())}),this.tc.Dta(),e.mY(r[0]),e=t.fma(a,i),n.push({Qd:e,Tk:!0,data:o.concat(this.tc.wa())}),n},t.CI={},t}(),e.dr=i,i.CI[d.YE]=t.default,i.CI[d.ZE]=c.default},function(t){t.exports=function t(e,i){var n;e.__proto__&&e.__proto__!==Object.prototype&&t(e.__proto__,i),Object.getOwnPropertyNames(e).forEach((function(t){void 0!==(n=Object.getOwnPropertyDescriptor(e,t))&&Object.defineProperty(i,t,n)}))}},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),r=i(150),o=i(270),a=i(88),t=i(1009),s=function(){function t(t){t?(this.Jf=t.Jf.slice(),this.eh=t.eh.slice(),this.Sd=t.Sd.slice(),this.trim=t.trim):(this.Jf=[],this.eh=[],this.Sd=[])}return Object.defineProperties(t.prototype,{empty:{get:function(){return 0===this.Jf.length&&0===this.eh.length&&0===this.Sd.length},enumerable:!0,configurable:!0}}),t}(),t=function(t){function e(e,i,n){return(e=t.call(this,e,i,n)||this).NU=[],e.lb=new s,e}return n.__extends(e,t),e.fia=function(t,e){if(e.offset+e.size<=t.byteLength)switch(e.size){case 1:t.setUint8(e.offset,e.value);break;case 2:e.Zu?t.setInt16(e.offset,e.value):t.setUint16(e.offset,e.value);break;case 4:e.Zu?t.setInt32(e.offset,e.value):t.setUint32(e.offset,e.value);break;case 8:r.assert(!e.Zu),t.setUint32(e.offset,Math.floor(e.value/4294967296)),t.setUint32(e.offset+4,4294967295&e.value);break;default:r.assert(!1)}},Object.defineProperties(e.prototype,{hz:{get:function(){return!this.lb.empty},enumerable:!0,configurable:!0}}),e.prototype.fB=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:1}),void 0===e&&(this.offset+=1)},e.prototype.sya=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:2,Zu:!1}),void 0===e&&(this.offset+=2)},e.prototype.dh=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:4,Zu:!1}),void 0===e&&(this.offset+=4)},e.prototype.tya=function(t,e){this.lb.eh.push({offset:void 0!==e?e:this.offset,value:t,size:8,Zu:!1}),void 0===e&&(this.offset+=8)},e.prototype.b_=function(t){this.dh(a.pS(t))},e.prototype.vJ=function(t,e){this.lb.Sd.push({offset:this.offset,xl:t,value:e}),this.offset+=4},e.prototype.Ie=function(t,e,i){this.lb.Jf.push({offset:e,remove:t,$a:i})},e.prototype.Ru=function(t,e,i,n){this.lb.Jf.push({offset:i,remove:t,replace:e,$a:n})},e.prototype.trim=function(t){this.lb.trim=t},e.prototype.eua=function(){this.NU.push(new s(this.lb))},e.prototype.Dta=function(){this.lb=this.NU.pop()||new s},e.prototype.wa=function(){var t,i,n,r,o,a,s;return t=this,0===this.lb.Jf.length&&0===this.lb.eh.length&&0===this.lb.Sd.length?[void 0===this.lb.trim?this.view.buffer:this.view.buffer.slice(0,this.lb.trim)]:(this.lb.Jf.sort((function(t,e){return t.offset-e.offset})),this.lb.eh.sort((function(t,e){return t.offset-e.offset})),this.eva(),i=this.cma(),n=this.view.buffer.slice(0,i),r=new DataView(n),this.lb.eh.forEach(e.fia.bind(void 0,r)),this.Nxa(r),this.Lxa(r),o=[],a=void 0!==this.lb.trim?Math.min(this.lb.trim,this.view.byteLength):this.view.byteLength,s=0,this.lb.Jf.filter((function(t){return t.offset<=a})).forEach((function(e){e.offset>s&&(o.push(r.buffer.slice(s,e.offset)),e.offset>r.byteLength&&r!==t.view&&(r=t.view,o.push(r.buffer.slice(i,e.offset)))),e.replace&&o.push(e.replace),s=e.offset+e.remove})),s<i&&o.push(n.slice(s)),s<a&&o.push(this.view.buffer.slice(Math.max(n.byteLength,s),a)),o)},e.prototype.cma=function(){var t,e,i;return t=[],e=this.lb.eh[this.lb.eh.length-1],i=this.lb.Sd[this.lb.Sd.length-1],e&&t.push(e.offset+e.size),i&&t.push(i.offset+4),this.lb.Jf.filter((function(t){return t.$a})).forEach((function(e){return t.push(e.$a.byteOffset+4)})),e=Math.max.apply(void 0,t),void 0!==this.lb.trim?Math.min(e,this.lb.trim):e},e.prototype.eva=function(){this.lb.Jf=this.lb.Jf.reduce((function(t,e){var i,n;return 0===t.length?(t.push(e),t):(n=(i=t[t.length-1]).offset+i.remove,e.offset>=n?t.push(e):e.offset+e.remove>n&&(r.assert(i.$a===e.$a),i.remove+=e.offset+e.remove-n,e.replace&&(i.replace=i.replace?o.concat(i.replace,e.replace):e.replace)),t)}),[])},e.prototype.Nxa=function(t){var e;e=this,this.lb.Sd.forEach((function(i){var n,r,o,a;n=t,r=i.offset,e.lb.Jf.some((function(t){return!!(t.offset<=i.offset&&t.replace&&t.offset+t.replace.byteLength>=i.offset+4)&&(n=new DataView(t.replace),r=i.offset-t.offset,!0)})),o=i.xl+(void 0!==i.value?i.value:n.getInt32(r)),a=e.lb.Jf.reduce((function(t,e){return e.offset>i.xl&&e.offset<o?t+(e.remove-(e.replace?e.replace.byteLength:0)):t}),0),n.setInt32(r,o-i.xl-a)}))},e.prototype.Lxa=function(t){this.lb.Jf.forEach((function(e){var i;if(0!==(i=(e.remove||0)-(e.replace?e.replace.byteLength:0)))for(e=e.$a;e;)t.setUint32(e.byteOffset,t.getUint32(e.byteOffset)-i),e=e.parent}))},e}(t.Zea),e.Yea=t},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(151),i(151),r=i(88),t=function(){function t(t,e,i){this.view=t,this.console=e,this.config=i,this.view=t,this.console=e,this.Hn=this.Hy=this.offset=0}return t.prototype.cna=function(t){return new DataView(this.view.buffer,this.view.byteOffset+this.offset,t)},t.prototype.zc=function(t){for(;this.Hn<t;)this.Hy=(this.Hy<<8)+this.mb(),this.Hn+=8;return this.Hn-=t,this.Hy>>>this.Hn&(1<<t)-1},t.prototype.mb=function(){var t;return t=this.view.getUint8(this.offset),this.offset+=1,t},t.prototype.Yc=function(t){return t=this.view.getUint16(this.offset,t),this.offset+=2,t},t.prototype.ya=function(t){return t=this.view.getUint32(this.offset,t),this.offset+=4,t},t.prototype.pI=function(){var t;return t=this.view.getInt32(this.offset,void 0),this.offset+=4,t},t.prototype.cta=function(t,e){var i;return i=this.view.getUint32(this.offset+(t?4:0),t),t=this.view.getUint32(this.offset+(t?0:4),t),e||0==(4278190080&i)||this.console.warn("Warning: read unsigned value > 56 bits"),4294967296*i+t},t.prototype.Td=function(t,e){return t=this.cta(t,e),this.offset+=8,t},t.prototype.dta=function(t,e){var i;return i=this.view.getInt32(this.offset+(t?4:0),t),t=this.view.getUint32(this.offset+(t?0:4),t),e||0==(4278190080&(0<i?i:-i))||this.console.warn("Warning: read signed value > 56 bits"),4294967296*i+t},t.prototype.rua=function(){var t;return t=this.dta(void 0,void 0),this.offset+=8,t},t.prototype.Ml=function(){return r.ko(this.ya())},t.prototype.EA=function(){var t,e,i,n,r,o;function a(t,e){return("000000"+t.toString(16)).slice(2*-e)}return t=this.ya(!0),e=this.Yc(!0),i=this.Yc(!0),n=this.Yc(),r=this.Yc(),o=this.ya(),[a(t,4),a(e,2),a(i,2),a(n,2),a(r,2)+a(o,4)].join("-")},t.prototype.oua=function(t){var e;return e=this.view.byteOffset+this.offset,this.view.buffer.slice(e,e+t)},t.prototype.mua=function(t){var e;if(e=[],0===t)return"";t=t||Number.MAX_SAFE_INTEGER;for(var i=this.mb();0!==i&&0<=--t;)e.push(i),i=this.mb();return String.fromCharCode.apply(null,e)},t.prototype.CA=function(t){var e,i;return void 0===e&&(e=1),void 0===i&&(i=!0),this.Mh(this.config.aB&&n.moa||n.nq,1,t,e,i)},t.prototype.kua=function(t,e,i){var r;return void 0===e&&(e=2),void 0===i&&(i=!0),void 0===r&&(r=!1),this.Mh(this.config.aB&&n.koa||n.zz,2,t,e,i,r)},t.prototype.BA=function(t,e,i){var r;return void 0===e&&(e=4),void 0===i&&(i=!0),void 0===r&&(r=!1),this.Mh(this.config.aB&&n.loa||n.$t,4,t,e,i,r)},t.prototype.pua=function(){for(var t=this.mb(),e=127&t;128&t;)e=e<<7|127&(t=this.mb());return e},t.prototype.Mh=function(t,e,i,n,r,o){return void 0===r&&(r=!0),void 0===o&&(o=!1),t=t(this.view,this.offset,i,n,o),this.offset=r||!n||n===e?this.offset+i*(n||e):this.offset+e,t},t}(),e.Zea=t},function(t,e,i){var n,r,o,a;function s(t,e,i,n){r.call(this,t,e,i,n)}function u(t,e,i){r.call(this,t,e,i,void 0)}n=i(104),r=i(271).ar,o=i(435),a=i(88).pS,s.prototype=Object.create(r.prototype),u.prototype=Object.create(s.prototype),u.prototype.aga=function(t,e){return"string"==typeof e?o[e]:e&&o.reset[t]||o.xwa[t]},u.prototype.Jua=function(t,e,i){return this.wa(t,e,!1,i,void 0)},u.prototype.Nua=function(t,e,i){return this.wa(t,e,!0,i,void 0)},u.prototype.wa=function(t,e,i,r,o){var a,s,u,c,h,f,l,d,p,b,v,y,g,m;function _(t){return s=a[t],void 0!==(u=s.Rh("traf"))&&void 0!==u.ck&&(void 0!==(l=u.Rh("tfdt"))&&void 0!==(c=u.Rh("trun")))}if(!this.parse().done)return!1;if(!(a=this.Ua.moof)||0===a.length)return!1;if(void 0!==t)for(h=t,t=0;t<a.length;++t){if(!_(t,this.tc.console.trace))return!1;if(c.Lb>h||i&&c.Lb===h)break;h-=c.Lb}else if(!_(t=i?a.length-1:0,this.tc.console.trace))return!1;if(i&&t<a.length-1?(f=a[t+1],this.tc.Ie(this.Uyb-f.startOffset,f.startOffset)):!i&&0<t&&this.tc.Ie(s.startOffset,0),void 0===(f=u.Rh("tfhd")))return!1;if(l=u.Rh("tfdt"),d=c.Lb,p=u.Rh("saiz"),b=u.Rh("saio"),v=u.Rh(n.DR),y=u.Rh("sbgp"),!(!p&&!b||p&&b))return!1;if(g=u.Rh("sdtp"),this.Ua.mdat&&t<this.Ua.mdat.length)m=this.Ua.mdat[t];else if(t!==a.length-1)return!1;if(void 0===h&&(h=i?c.Lb:0),c.wa(u,f,m||this.tc,e,h,u.ck,i))c.hz&&(!i&&l&&l.wa(c.vwa),p&&b&&(p.wa(c.Nq,i),b.wa(v?0:p.zI,u.ck,i)),v&&v.wa(c.Nq,i),g&&g.wa(c.Nq,d,i),y&&y.wa(c.Nq,i));else if(i){if(0===c.Nq)return!1}else{if(t===a.length-1)return!1;this.tc.Ie(a[t+1].startOffset-s.startOffset,s.startOffset)}return r&&(e=this.aga(this.stream.profile,o))&&c.Qua(u,f,m,i,r,e),r=(i=this.tc.wa()).reduce((function(t,e){return t+e.byteLength}),0),i={Ld:i,length:r,Qn:this.tc.view.byteLength},c.hz&&!m&&(i.Hq=u.ck+c.Hq,i.Yi=c.Yi),i},t.exports={cr:u,bA:function(t){var e,i;return e=new ArrayBuffer(8),(i=new DataView(e)).setUint32(0,t+8),i.setUint32(4,a("mdat")),e}}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),n=i(23),t=i(271),r=i(270),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.wa=function(t){var e,i,n,o;return e=this,!!this.parse().done&&(!(!(i=this.Ua.moov)||0===i.length)&&(!!(n=i[0].Cl("tenc"))&&(o=new Uint8Array(n.pj),t.forEach((function(t){for(var i=t.from,r=!0,a=0;a<i.length;a++)if(o[a]!==i[a]){r=!1;break}r&&e.tc.Ru(t.from.length,t.to,n.vH)})),r.concat(this.tc.wa()))))},e}(t.ar),e.WJ=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),(t=e.Pj||(e.Pj={}))[t.Wb=0]="AUDIO",t[t.Mb=1]="VIDEO"},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e,i){this.yU=e,this.Gc=t.filter((function(t){return t.Bxa[c.Zm.u1]})).map((function(t){return{track:t,stream:t.Bxa[c.Zm.u1],id:t.MUa[c.Zm.u1]}})),i||(this.Gc=this.Gc.filter((function(t){return t.track.sg===e})))}function y(t,e,i){var n;this.$I=e,this.uu=i,n=t[0],this.jJ=n.streams.map((function(t){return{track:n,qN:t.K9a,stream:t}}))}function g(t,e,i,n,r){function o(t,e){return t.bitrate>e.bitrate?t:e}this.log=t,this.$I=i,this.yU=n,this.jJ=e.map((function(t){var e;return e=t.streams.reduce(o),{track:t,qN:e.PA?e.PA.offset+e.PA.size:void 0,stream:e}})),r||(this.jJ=this.jJ.filter((function(t){return t.track.sg===n})))}function m(t,e,i,n,r,o){this.LIb=t,this.MIb=e,this.USb=i,this.dub=n,this.jH=r,this.Wf=o,this.ta=o.ib("HLSPlaylistBuilderImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.mkb=e.ykb=e.Kcb=e.cDa=void 0,t=i(1),n=i(0),r=i(262),o=i(428),a=i(430),s=i(3),u=i(41),c=i(44),h=i(438),f=i(439),l=i(261),d=i(7),p=i(1014),m.prototype.gi=function(t,e){var i,n,r,o,a,s;return i=this,o=t.$b,t=this.sEb(o,e),a=this.OHb(o,e),s=null!==(r=null===(n=o.fY)||void 0===n?void 0:n.KP)&&void 0!==r?r:o.tZ.find((function(t){var e;return t.id===(null===(e=o.z4)||void 0===e?void 0:e[0].m$a)})).sg,n=new b(o.tZ,s,this.jH.Xha),Promise.all([t,a,n]).then((function(t){var n,r;return t=(n=v(t)).next().value,r=n.next().value,n=n.next().value,t={audio:t.getMetadata(),video:r.getMetadata(),text:n.getMetadata(),YTa:t.dna(),Czb:n.dna(),duration:o.duration,Pl:o.Pl},r=i.dub.REb(t),e("h_s"),{vNb:i.USb.transform(t,r),gub:r,wZb:t}}))},m.prototype.OHb=function(t,e){var i;return i=new y(t.eB,this.jH.ZZa,this.jH.uu),this.GUa(i.jJ,r.Pj.Mb,e).then((function(t){return i.Vva(t),i}))},m.prototype.sEb=function(t,e){var i,n,o,a;return o=null!==(n=null===(i=t.fY)||void 0===i?void 0:i.pn)&&void 0!==n?n:t.gG.find((function(e){var i;return e.id===(null===(i=t.z4)||void 0===i?void 0:i[0].pn)})).sg,a=new g(this.ta,t.gG,this.jH.Kw,o,this.jH.Xha),this.GUa(a.jJ,r.Pj.Wb,e).then((function(t){return a.Vva(t),a}))},m.prototype.Vsa=function(t,e,i,n){if(t=this.MIb.parse(e,t,i))return t;this.ta.error("Failed to parse headers",{type:e===r.Pj.Wb?"audio":"video",downloadableId:n.stream.Gr})},m.prototype.GUa=function(t,e,i){var n;return n=this,Promise.all(t.map((function(t,o){if(t.qN)return n.LIb.download({urls:t.stream.urls,offset:0,length:t.qN}).then((function(a){return i("h_"+(0===e?"A":"V")+"_"+o+"_s"),n.Vsa(a,e,e==r.Pj.Wb?n.jH.Kw:n.jH.lA,t)})).catch((function(){i("h_"+t.track.ml[0]+"_"+o+"_f"),n.ta.warn("Failed to download and parse headers for "+t.stream.Gr)}));n.ta.warn("Stream data offset is missing",{downloadableId:t.stream.Gr})})))},i=m,i=t.__decorate([n.R(),t.__param(0,n.l(o.rDa)),t.__param(1,n.l(a.vDa)),t.__param(2,n.l(h.fDa)),t.__param(3,n.l(f.pAa)),t.__param(4,n.l(l.xca)),t.__param(5,n.l(d.qb))],i),e.cDa=i,g.prototype.Vva=function(t){var e;if(e=this,!t.find((function(t){return void 0!==t})))throw u.qd.Wbb(s.M.ZDa,s.L.hda);this.Gc=this.jJ.map((function(i,n){if(n=t[n])return{track:i.track,stream:i.stream,U:n,$I:e.$I}})).filter(p.Mpa)},g.prototype.getMetadata=function(){return this.Gc},g.prototype.dna=function(){var t,e;return t=this,!this.Gc.find((function(e){return e.track.sg===t.yU}))&&0<this.Gc.length?(e=this.Gc[0].track.sg,this.log.warn("Did not find metadata for audio track "+this.yU+", falling back to "+e),e):this.yU},e.Kcb=g,y.prototype.Vva=function(t){var e,i;if(e=this,!t.find((function(t){return void 0!==t})))throw u.qd.Wbb(s.M.ZDa,s.L.ida);i=this.jJ.map((function(i,n){if(n=t[n])return{track:i.track,stream:i.stream,U:n,$I:e.$I}})).filter(p.Mpa),this.Gc=this.DGb(i)},y.prototype.getMetadata=function(){return this.Gc},y.prototype.DGb=function(t){var e,i,n;return e=this,t.sort((function(t){return t.stream.bitrate})),-1!==(i=t.findIndex((function(t){var i;return(null!==(i=t.stream.sb)&&void 0!==i?i:0)>=e.uu})))&&i!==t.length-1&&(n=t[i],t.splice(i,1),t.push(n)),t.reverse(),t},e.ykb=y,b.prototype.dna=function(){return this.yU},b.prototype.getMetadata=function(){return this.Gc},e.mkb=b},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Mpa=void 0,e.Mpa=function(t){return null!=t}},function(t,e,i){var n,r,o,a,s,u;function c(t){this.ta=t.ib("HLSPlaylistTransformerImpl"),this.x2b=a.eca.Up(),this.fsb=s.dca.Up()}Object.defineProperty(e,"__esModule",{value:!0}),e.eDa=void 0,t=i(1),n=i(0),r=i(7),o=i(131),a=i(440),s=i(441),u=[0,1],c.prototype.transform=function(t,e){var i,n,r,a,s,c,h,f,l;return i=this,n=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"],r=t.text,a=t.audio,s=t.video,c=t.duration,h=t.YTa,f=t.Czb,r.forEach((function(t){u.forEach((function(r){var a,s,u,h;a=0===r,s=t.stream,u=t.track,h=e.get(t.id),a=a?h.DO:h.w$,s=i.AHb({url:a.url,duration:c/1e3,size:s.size,km:"Manifest for subtitles "+u.language+' stream "'+u.qD+'", '+u.sg+", cdn "+a.Sp}),i.ta.trace("Text variant manifest",s.join("\n")),r=i.BHb({groupId:r,name:u.qD,tpa:u.sg===f,rq:u.q7,wKb:u.ml===o.vp.fba,language:u.language,uri:i.Z7(s)}),n.push(r)}))})),a.forEach((function(t){u.forEach((function(r){var o,a,s,u,c,f;o=0===r,a=t.stream,s=t.track,u=t.U,c=t.$I,f=e.get(a.Gr),o=o?f.DO:f.w$,a=i.tYa({url:o.url,qN:a.PA.offset+a.PA.size,U:u,A$a:Math.floor(c/1e3),km:"Manifest for audio "+s.language+' stream "'+s.qD+'", '+s.sg+", cdn "+o.Sp}),i.ta.trace("Audio variant manifest",a.join("\n")),r=i.tEb({groupId:r,language:s.language,name:s.qD,tpa:s.sg===h,uri:i.Z7(a)}),n.push(r)}))})),l=this.fsb[a[0].track.profile],s.forEach((function(t){u.forEach((function(o){var a,s,u,c,h,f;a=0===o,s=t.stream,u=t.track,c=t.U,h=t.$I,f=e.get(s.Gr),f=a?f.DO:f.w$,a=0<r.length,u=i.tYa({url:f.url,qN:s.PA?s.PA.offset+s.PA.size:s.K9a,U:c,A$a:Math.floor(h/1e3),km:"Manifest for video bitrate "+s.bitrate+", stream "+u.sg+", cdn "+f.Sp}),i.ta.trace("Video variant manifest",u.join("\n")),o=i.PHb({groupId:o,NT:1e3*s.bitrate,ssb:1e3*s.bitrate,XKb:0<=s.xG.indexOf("-hdr-")||0<=s.xG.indexOf("-dv5-"),framerate:(s.JWa/s.IWa).toFixed(3),xI:s.D7a+"x"+s.E7a,t2b:i.x2b[s.xG],bsb:l,y_b:a}),n.push(o),o=i.Z7(u),n.push(""+o)}))})),this.ta.trace("Primary manifest",n.join("\n")),this.Z7(n)},c.prototype.tEb=function(t){var e;return e=t.tpa,["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_'+t.groupId+'"','CHANNELS="2"','LANGUAGE="'+t.language+'"','NAME="'+t.name+'"',"DEFAULT="+(e?"YES":"NO"),"AUTOSELECT="+(e?"YES":"NO"),'URI="'+t.uri+'"'].join(", ")},c.prototype.tYa=function(t){var e;return e=["#EXTM3U","# "+t.km,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:"+t.A$a,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="'+t.url+'"','#EXT-X-MAP:URI="{$U}",BYTERANGE="'+t.qN+'@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"],t.U.forEach((function(t,i){e.push("#EXTINF:"+t.duration.toFixed(3)+","+t.Z.toFixed(3)),e.push("#EXT-X-BYTERANGE:"+t.otb+"@"+t.byteOffset),e.push("{$U}&fi="+i)})),e.push("#EXT-X-ENDLIST"),e},c.prototype.PHb=function(t){var e,i;return e=t.groupId,i=["#EXT-X-STREAM-INF:BANDWIDTH="+t.NT,"AVERAGE-BANDWIDTH="+t.ssb,"VIDEO-RANGE="+(t.XKb?"PQ":"SDR"),"FRAME-RATE="+t.framerate,'AUDIO="group_'+e+'"',"RESOLUTION="+t.xI,'CODECS="'+t.t2b+","+t.bsb+'"'],t.y_b&&i.push('SUBTITLES="subs_'+e+'"'),i.join(", ")},c.prototype.AHb=function(t){var e;return e=t.duration,["#EXTM3U","# "+t.km,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:"+Math.floor(e),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="'+t.url+'"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:"+e.toFixed(3),"#EXT-X-BYTERANGE:"+t.size+"@0","{$U}","#EXT-X-ENDLIST"]},c.prototype.BHb=function(t){var e,i,n;return e=t.tpa,i=t.language,n=t.uri,e=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_'+t.groupId+'"','NAME="'+t.name+'"',"DEFAULT="+(e?"YES":"NO"),"AUTOSELECT="+(e?"YES":"NO"),"FORCED="+(t.rq?"YES":"NO")],t.wKb&&e.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"'),e.push('LANGUAGE="'+i+'"'),e.push('URI="'+n+'"'),e.join(", ")},c.prototype.Z7=function(t){return"data:application/vnd.apple.mpegurl;charset=utf-8,"+encodeURIComponent(t.join("\n"))},i=c,i=t.__decorate([n.R(),t.__param(0,n.l(r.qb))],i),e.eDa=i},function(t,e,i){var n,r,o,a,s;function u(t,e){var i;i=this,this.p5a=e,this.ata=e(),this.ta=t.ib("PlayerPlaydataMonitorImpl"),a.ve.addListener(a.El,(function t(){i.ata.then((function(t){i.ta.trace("Unloading PBO Playdata Services"),t.close()})),a.ve.removeListener(a.El,t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.NIa=void 0,t=i(1),n=i(0),r=i(7),o=i(153),a=i(60),s=i(15),u.prototype.ap=function(t,e){this.ata.then((function(i){i.ap(e,!0,(function(e){return t.close(e)})),i.Dwa(e),t.addEventListener(s.Da.Bta,(function(){t.sq()&&i.t8a(e).catch((function(e){(e=e.wO)&&t.close(e)}))})),t.addEventListener(s.Da.Rl,(function(){i.E$(e).catch((function(e){(e=e.wO)&&t.close(e)}))})),t.addEventListener(s.Da.gm,(function(){i.E$(e).catch((function(e){(e=e.wO)&&t.close(e)}))}))}))},u.prototype.$Y=function(t){return this.ata.then((function(e){return e.V9a(),e.$Y(t).catch()}))},i=u,i=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.IR))],i),e.NIa=i},function(t,e,i){var n,r,o,a;function s(t){this.Dra={},this.V6={},this.K7=-1,this.Swa=new o.dc(null),this.Mta=new o.dc(null),this.ta=t.ib("StreamChangeDetector")}Object.defineProperty(e,"__esModule",{value:!0}),e.PKa=void 0,t=i(1),n=i(0),r=i(47),o=i(80),i=i(7),s.prototype.xb=function(t,e,i){var n;n=this,t.forEach((function(t){t.stream.urls.forEach((function(e){n.Dra[e.url]=[t,e.Sp]}))})),this.Pka=e,this.uzb=i,new PerformanceObserver((function(t){n.b1b(t.getEntries())})).observe({entryTypes:["resource"],buffered:!1})},s.prototype.J8a=function(t){var e,i,n;if(this.Pka&&(i=this.W5(t))!==this.K7){for(this.K7=i;0<=i&&!this.V6[i];)i--;n=v(null!==(e=this.V6[i])&&void 0!==e?e:[this.Pka,this.uzb]),e=n.next().value,n=n.next().value,this.ta.debug("Setting time to "+t+", using metadata from fragment "+i+" for "+r.T2a(e.track.type)+" track with bitrate "+e.stream.bitrate+" from cdn "+n),i=(t=e.U[this.K7]).Z,this.Mta.set({stream:e,im:{startTime:Math.floor(1e3*i),endTime:Math.floor(1e3*(i+t.duration))},wC:n})}},s.prototype.W5=function(t){var e,i,n,r,o;if(i=0,(t/=1e3)>=(e=this.Pka.U)[n=e.length-1].Z)return n;for(;n>=i;)if(t<(o=e[r=i+Math.floor((n-i)/2)]).Z)n=r-1;else{if(!(t>=o.Z+o.duration))return r;i=r+1}return e.length-1},s.prototype.b1b=function(t){var e;e=this,t.filter((function(t){return"video"===t.initiatorType})).forEach((function(t){var i,n,r;0<(i=t.name.indexOf("&fi="))&&(n=t.name.substring(0,i),i=Number(t.name.substring(i+4)),e.Dra[n]&&(t=(r=v(e.Dra[n])).next().value,r=r.next().value,n&&!Number.isNaN(i)&&t&&(e.V6[i]&&(e.K7=-1),e.V6[i]=[t,r],n=t.U[i].Z,e.Swa.set(t,{nG:Math.floor(1e3*n),wC:r}))))}))},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(i.qb))],a),e.PKa=a},function(t,e,i){var n,o,a,s;function u(t){return o.Ze.call(this,t,"HlsConfigImpl")||this}Object.defineProperty(e,"__esModule",{value:!0}),e.yDa=void 0,t=i(1),n=i(0),o=i(46),a=i(37),i=i(45),g(u,o.Ze),r.Object.defineProperties(u.prototype,{R5a:{configurable:!0,enumerable:!0,get:function(){return!0}},Kw:{configurable:!0,enumerable:!0,get:function(){return 16e3}},lA:{configurable:!0,enumerable:!0,get:function(){return 4e3}},ZZa:{configurable:!0,enumerable:!0,get:function(){return 1e4}},uu:{configurable:!0,enumerable:!0,get:function(){return 80}},Xha:{configurable:!0,enumerable:!0,get:function(){return!1}}}),s=u,t.__decorate([i.config(i.dd,"playsInline")],s.prototype,"R5a",null),t.__decorate([i.config(i.hD,"minAudioMediaRequestDuration")],s.prototype,"Kw",null),t.__decorate([i.config(i.hD,"minVideoMediaRequestDuration")],s.prototype,"lA",null),t.__decorate([i.config(i.hD,"hlsVideoMediaRequestTargetDuration")],s.prototype,"ZZa",null),t.__decorate([i.config(i.hD,"minStartingVideoVMAF")],s.prototype,"uu",null),t.__decorate([i.config(i.dd,"allowMultipleAudioTextTracks")],s.prototype,"Xha",null),s=t.__decorate([n.R(),t.__param(0,n.l(a.Wl))],s),e.yDa=s},function(t,e,i){var n,r;function o(t){this.ta=t.ib("CdnPartitionerImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.oAa=void 0,t=i(1),n=i(0),i=i(7),o.prototype.REb=function(t){var e,i,n,r,o,a,s;function u(t,r,o){var a,s,u;(a=t.map((function(t){return t.Sp}))).sort((function(t,e){return r[t]-r[e]})),1===a.length?n.set(o,{DO:t[0],w$:t[0]}):((s=a.find((function(t){return e.has(t)})))||((s=a.find((function(t){return!i.has(t)})))?e.add(s):s=a[0]),(u=a.find((function(t){return i.has(t)&&t!==s})))||((u=a.find((function(t){return!e.has(t)&&t!==s})))?i.add(u):u=a.find((function(t){return t!==s}))),n.set(o,{DO:t.find((function(t){return t.Sp===s})),w$:t.find((function(t){return t.Sp===u}))}))}return e=new Set,i=new Set,n=new Map,r=t.video,o=t.audio,a=t.text,s=t.Pl.reduce((function(t,e){return t[e.id]=e.uc,t}),{}),r.forEach((function(t){u((t=t.stream).urls,s,t.Gr)})),o.forEach((function(t){u((t=t.stream).urls,s,t.Gr)})),a.forEach((function(t){var e,i;t.track.lD&&!t.track.q7||(e=t.track,i=t.id,u(t=Object.entries(t.stream.jw).map((function(t){var e;return t=(e=v(t)).next().value,e=e.next().value,{Sp:Number(t),url:e}})),e=e.QRa.reduce((function(t,e){return t[e.id]=e.uc,t}),{}),i))})),n},r=o,r=t.__decorate([n.R(),t.__param(0,n.l(i.qb))],r),e.oAa=r},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,n,r){this.Wf=t,this.Yz=e,this.Vf=i,this.yc=n,this.Aa=r}Object.defineProperty(e,"__esModule",{value:!0}),e.mR=void 0,t=i(1),n=i(0),r=i(18),o=i(7),a=i(49),s=i(180),u=i(89),c=i(1021),h.prototype.create=function(t){return new c.oR(this.Wf,this.Yz,this.Vf,this.Aa,this.yc,t)},i=h,i=t.__decorate([n.R(),t.__param(0,n.l(o.qb)),t.__param(1,n.l(u.Ix)),t.__param(2,n.l(a.Um)),t.__param(3,n.l(s.Yca)),t.__param(4,n.l(r.jd))],i),e.mR=i},function(e,i,n){var r,o,a,s,u,c,h,f;function l(e,i,n,c,f,l){var d;d=this,this.Yz=i,this.Vf=n,this.Aa=c,this.yc=f,this.Gra=this.iD=this.qY=0,this.yH=!1,this.zD=function(){var t;(t=d.IX()).prstate=d.xz(),t.paustate=d.j.lW(),t.midplayseq=d.Gra++,d.yc.sN(t),d.Hc(r.cd.zD,void 0,h.Ae|h.Ys,t)},this.ei=function(){d.Hc(r.cd.iRa,void 0,h.Ae|h.kp,{})},this.Rl=function(t){d.nqa=d.getTime(),d.oqa=t.oldValue},this.HT=function(t){d.aqa=t.oldValue},this.y9=function(t){t!=d.yH&&(d.Fwa(d.yH,t),d.yH=t)},this.Fwa=function(t,e){var i;i=d.j.va,t={newstate:e?"Paused":"Playing",oldstate:t?"Paused":"Playing"},d.yc.pq(t,i.oe.value&&i.oe.value.stream,i.jf.value&&i.jf.value.stream),d.Hc(r.cd.T9a,void 0,h.Ae,t)},this.UY=function(t){d.Hc(r.cd.I9a,void 0,h.Ae,{speedold:Math.floor(1e3*t.oldValue),speed:Math.floor(1e3*t.newValue)})},this.UA=function(t){var e,i,n,a;n=(i=d.j.va).jc.value,(t.newValue||n&&n.Vr()&&!n.rq())&&(a={},t=null!==(e=t.newValue)&&void 0!==e?e:n,a.newtrackinfo=t?{trackId:t.trackId,bcp47:t.Wd,lang:t.Wd,downloadableId:t.Bc,rank:t.uc,isImageBased:t.kk}:{},e=d.oqa,a.oldtrackinfo=e?{trackId:e.trackId,bcp47:e.Wd,lang:e.Wd,downloadableId:e.Bc,rank:e.uc,isImageBased:e.kk}:{},a.switchDelay=o.Sf(d.getTime()-d.nqa),d.yc.pq(a,i.oe.value&&i.oe.value.stream,i.jf.value&&i.jf.value.stream),d.Hc(r.cd.W$a,void 0,h.Ae,a))},this.ota=function(t,e){var i;i=d.j.va,t={waittime:o.Sf(t),abortedevent:"resumeplay",resumeplayreason:e},d.yc.pq(t,i.We.value,i.jh.value),d.Hc(r.cd.H9,void 0,h.Ae|h.kp,t)},this.$O=function(t,e,i){t={playdelay:o.Sf(t),reason:i,intrplayseq:d.iD-1,skipped:e},"repos"===i&&(t.prstate=!0===d.j.yj.value?"playing":"paused"),d.Hc(r.cd.$O,void 0,h.Ae|h.Ws,t)},this.uia=function(){var t,e,i,n,a;e=d.j.va.oc.value,i=d.j.va.jh.value.Bc,e=e?{trackId:e.trackId,bcp47:e.Wd,lang:e.Wd,downloadableId:i,rank:e.uc}:{},n=d.Tz,a=null===(t=d.aqa)||void 0===t?void 0:t.Bc,t=n?{trackId:n.trackId,bcp47:n.Wd,lang:n.Wd,downloadableId:a,rank:n.uc}:{},d.Hc(r.cd.PQa,void 0,h.Ae,{switchdelay:o.Sf(d.getTime()-d.bqa),newtrackinfo:e,oldtrackinfo:t,oldAudioDownloadableId:a,newAudioDownloadableId:i})},this.gm=function(t){d.bqa=d.getTime(),d.Tz=t.oldValue},this.pta=function(){var t,e,i;e={abortedevent:"startplay",trackid:(t=d.j.va).Fj,prstate:d.xz(),paustate:d.j.lW()};try{(i=a.dH())&&(e.pdltime=i),o.Zb(e,t.pd,{prefix:"sm_"})}catch(t){}d.yc.U6(e,t),d.yc.tN(e,t.xg.value),d.yc.pq(e,t.We.value,t.jh.value),d.nH(e),d.Hc(r.cd.H9,void 0,h.Ae|h.Ys|h.kp,e)},this.WL=function(t,e,i,n){t={moff:o.Go(i),moffms:o.Sf(i),vbitrate:e.bitrate,vbitrateold:t.bitrate,vdlid:e.Bc,vdlidold:t.Bc,vheight:e.height,vheightold:t.height,vwidth:e.width,vwidthold:t.width,bw:n},d.Hc(r.cd.WL,void 0,0,t)},this.QO=function(t,e,i){t={moffold:o.Go(t),reposseq:d.qY++,prstate:d.xz(),paustate:d.j.lW()},d.yc.pq(t,i&&i.stream,e&&e.stream),d.Hc(r.cd.QO,void 0,h.Ae,t)},this.gE=function(e){var i,n,s,u,c;u=e.va,c={playdelaysdk:o.Sf(d.j.XT()),applicationPlaydelay:o.Sf(d.j.eja()),playdelay:o.Sf(d.j.gja()),trackid:u.Fj,bookmark:o.Sf(u.aw||0),pbnum:u.index},d.j.ei&&(c.blocked=d.j.ei),c.initvbitrate=d.j.eW,d.yc.apa(c),d.yc.n_a(c),c.esnSource=null===(i=t._cad_global.device)||void 0===i?void 0:i.b5,d.x_a(c,u),c.pdltime=a.dH(),o.Zb(c,u.pd,{prefix:"sm_"}),c.ttTrackFields=null===(n=u.jc.value)||void 0===n?void 0:n.Ri,d.yc.j_a(c,u.oc.value),d.yc.tN(c,u.xg.value),c.packageId=null===(s=u.oa)||void 0===s?void 0:s.$b.Vo,d.yc.sN(c),d.yc.U6(c,u),d.nH(c),d.Hc(r.cd.gE,e.li,h.Ae|h.Ws|h.Ys|h.DE|h.kp,c)},this.MG=function(){var t,e,i,n;e=(t=d.j).va,t=t.li,(i=d.IX()).paustate=!d.j.sq(),i.muted=d.j.Dpa(),i.endreason=t?"error":d.j.vpa()?"ended":"stopped",t&&t&&s.kca(t.errorCode)&&(n="info"),d.yc.tN(i,e.xg.value),d.yc.sN(i),d.nH(i),d.Hc(r.cd.MG,t,h.Ae|h.Ws|h.Ys|h.DE|h.kp,i,n)},this.Oua=function(t,e,i){var n;n=d.j.va.jf,t={moff:o.Go(i),moffms:o.Sf(i),vdlidold:t.Bc,vbitrateold:t.bitrate},d.yc.pq(t,e,n.value&&n.value.stream),d.Hc(r.cd.k7a,void 0,0,t)},this.xz=function(){var t;return(t=d.j.yb.value)===u.cb.Kc?"playing":t===u.cb.hh?"paused":t===u.cb.Wq?"ended":"waiting"},this.ta=e.ib("LogblobBuilderImpl"),this.j=l}Object.defineProperty(i,"__esModule",{value:!0}),i.oR=void 0,r=n(272),o=n(24),a=n(50),s=n(3),u=n(15),c=n(4),l.prototype.getTime=function(){return this.Aa.Yb().da(c.ja)},l.prototype.x_a=function(t,e){var i;(e=null===(i=e.xg.value)||void 0===i?void 0:i.streams)&&(t.maxbitrate=a.iQ(e.map((function(t){return t.bitrate}))),t.maxresheight=a.iQ(e.map((function(t){return t.height}))))},l.prototype.nH=function(t){t.cachedManifest="notcached",t.cachedLicense="notcached",t.usedldl="false"},l.prototype.IX=function(){var t,e,i,n;return e=(t=this.j.va).Ll,(i={totaltime:o.Go(e.jN()),totalcontenttime:o.Go(e.hoa()),reposcount:this.qY,intrplaycount:this.iD}).playqualvideo=JSON.stringify({numskip:0,numlowqual:0}),(n=t.We.value)&&(i.videofr=n.framerate.toFixed(3)),(n=e.Tma())&&(i.abrdel=n),(n=e.JZa()&&e.YWa())&&(i.tw_vmaf=n),(e=e.WWa())&&o.Zb(i,e),i.rbfrs=this.iD,this.x_a(i,t),i},l.prototype.Hc=function(t,e,i,n,o){var a,s;a=this,s=this.j.va,this.Fha(n,e,i),e=o||(e?"error":"info"),n=this.Yz.Gt(t,e,n,s),this.Vf.Hc(n),"error"!==e&&t!==r.cd.MG||this.Vf.flush(!1).catch((function(){a.ta.debug("Failed to flush the logblobs")}))},l.prototype.Fha=function(t,e,i){var n;n=this.j.va,this.yc.m_a(t,n),i&h.Ae&&this.yc.t_a(t,n),i&h.Ws&&this.yc.v_a(t,n),i&h.Ys&&this.yc.w_a(t,this.j.Dn()),e&&i&h.DE&&this.yc.p_a(t,n,e),i&h.kp&&this.yc.apa(t)},i.oR=l,(f=h||(h={}))[f.Ae=1]="MOFF",f[f.Ws=2]="PRESENTEDSTREAMS",f[f.Ys=4]="SCREEN",f[f.DE=8]="FATALERROR",f[f.kp=16]="BROWSERINFO"},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,n,r){this.Vf=t,this.config=e,this.za=i,this.Aa=n,this.Iqa=r}Object.defineProperty(e,"__esModule",{value:!0}),e.pR=void 0,t=i(1),n=i(0),r=i(18),o=i(38),a=i(13),s=i(49),u=i(442),c=i(1023),h.prototype.create=function(t){return new c.rR(t,this.Vf,this.config,this.Aa,this.Iqa.create(t))},i=h,i=t.__decorate([n.R(),t.__param(0,n.l(s.Um)),t.__param(1,n.l(a.Zc)),t.__param(2,n.l(o.Uh)),t.__param(3,n.l(r.jd)),t.__param(4,n.l(u.nR))],i),e.pR=i},function(e,i,n){var r,o,a;function s(e,i,n,r,s){var u;u=this,this.j=e,this.Vf=i,this.config=n,this.Aa=r,this.kb=s,this.bU=function(){u.kg(),u.j.va.ci.removeListener(u.UA),u.j.va.jc.removeListener(u.kb.Rl),u.j.va.oc.removeListener(u.gm),u.j.va.jh.removeListener(u.kb.HT),u.j.yj.removeListener(u.Q5a),u.j.RO.removeListener(u.wk),u.j.va.oe.removeListener(u.PX),u.j.yb.removeListener(u.fw),u.j.yb.removeListener(u.UL),u.j.va.We.removeListener(u.VZ),u.j.va.playbackRate.removeListener(u.kb.UY),u.j.removeEventListener(a.Da.closed,u.bU),u.j.removeEventListener(a.Da.x3,u.kb.ei)},this.UL=function(){u.j.yb.value===a.cb.Kc&&(u.j.yb.removeListener(u.UL),u.Cq())},this.UA=function(t){u.uA&&u.kb.UA(t)},this.wk=function(t){u.uA&&void 0!==t.newValue&&(u.qs&&u.jp&&u.kb.ota(u.getTime()-u.jp,u.qs),u.qs="repos",u.kb.QO(t.newValue,u.j.va.jf.value,u.j.va.oe.value),u.jp=u.getTime(),o.Rf(u.fw))},this.Q5a=function(t){u.uA&&u.kb.y9(!t.newValue)},this.gm=function(t){t.oldValue&&(u.Tz=t.oldValue,u.kb.gm(t),u.qs="repos",u.jp=u.getTime(),o.Rf(u.fw))},this.fw=function(){var t;u.jp&&u.j.yb.value!==a.cb.Pf&&(t=u.getTime()-u.jp,u.kb.$O(t,!1,u.qs),u.Tz&&u.Tz!=u.j.va.oc.value&&u.kb.uia(),u.jp=void 0,u.qs=void 0)},this.Cq=function(){u.uA||(u.uA=!0,u.kb.gE(u.j),u.hpa(),u.config().b7&&(u.Mz=t.setTimeout((function(){u.Vf.flush(!1).catch((function(){return u.log.warn("failed to flush log batcher on initialLogFlushTimeout")})),u.Mz=void 0}),u.config().b7)))},this.kg=function(){u.Mz&&(t.clearTimeout(u.Mz),u.Mz=void 0),u.JZ&&u.JZ(),u.uA?u.kb.MG():u.j.li?u.kb.gE(u.j):u.kb.pta()},this.VZ=function(t){t.oldValue&&t.om&&t.om.nG&&u.kb.WL(t.oldValue,t.newValue,t.om.nG,t.om.NT)},this.PX=function(t){var e;t.newValue&&(e=t.newValue.stream,u.zH!=e&&(u.zH&&u.kb.Oua(u.zH,e,t.newValue.im.startTime),u.zH=e))},this.T$()}Object.defineProperty(i,"__esModule",{value:!0}),i.rR=void 0,r=n(4),o=n(61),a=n(15),s.prototype.T$=function(){this.j.addEventListener(a.Da.closed,this.bU),this.j.addEventListener(a.Da.x3,this.kb.ei),this.j.va.ci.addListener(this.UA),this.j.va.jc.addListener(this.kb.Rl),this.j.va.oc.addListener(this.gm),this.j.va.jh.addListener(this.kb.HT),this.j.yj.addListener(this.Q5a),this.j.RO.addListener(this.wk),this.j.va.oe.addListener(this.PX),this.j.yb.addListener(this.fw),this.j.yb.addListener(this.UL),this.j.va.We.addListener(this.VZ),this.j.va.playbackRate.addListener(this.kb.UY)},s.prototype.getTime=function(){return this.Aa.Yb().da(r.ja)},s.prototype.hpa=function(){var e,i,n;e=this,n=[],this.config().Z2a&&(this.config().$2a.forEach((function(i){n.push(t.setTimeout(e.kb.zD,i))})),this.config().v8&&(i=t.setInterval(this.kb.zD,this.config().v8)),this.JZ=function(){n.forEach((function(e){t.clearTimeout(e)})),i&&t.clearInterval(i)})},i.rR=s},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.bJ=void 0,t=i(0),n=i(1025),r=i(1026),o=i(443),a=i(444),e.bJ=new t.rd((function(t){t(a.mLa).to(n.lLa),t(o.jLa).$i(new r.iLa),t(a.kLa).wf((function(t){return function(){return t.$a.get(a.mLa)}}))}))},function(t,e,i){var n,r,o,a;function s(t){this.config=t,this.rwa=r.Gb,this.tP=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.lLa=void 0,t=i(1),n=i(0),r=i(52),o=i(4),i=i(443),s.prototype.Zt=function(){for(var t,e;0<this.tP.length;)e=this.tP.shift(),this.xPa(e);return t=(e=void 0===this.HU||void 0===this.HG?o.Gb:this.HG.Qa(this.HU)).G0a()?0:this.rwa.da(r.yE)/e.da(o.ja),{hxa:Math.floor(t),P9b:e.da(o.ja)}},s.prototype.qqb=function(t){for(this.rwa=this.rwa.add(t.size),this.tP.push(t.LAb),this.tP.sort((function(t,e){return t.start.Al(e.start)}));this.tP.length>this.config.MAb;)t=this.tP.shift(),this.xPa(t)},s.prototype.xPa=function(t){void 0===this.HU&&(this.HU=t.start),void 0!==this.HG&&0>this.HG.Al(t.start)&&(this.HU=this.HU.add(t.start.Qa(this.HG))),(void 0===this.HG||0>this.HG.Al(t.end))&&(this.HG=t.end)},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(i.jLa))],a),e.lLa=a},function(t,e,i){function n(t){this.MAb=void 0===t?10:t}Object.defineProperty(e,"__esModule",{value:!0}),e.iLa=void 0,t=i(1),i=i(0),n=t.__decorate([i.R()],n),e.iLa=n},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T;Object.defineProperty(i,"__esModule",{value:!0}),i.sn=void 0,e=n(0),r=n(26),o=n(13),a=n(1028),s=n(154),u=n(155),c=n(1029),h=n(273),f=n(1030),l=n(445),d=n(446),p=n(1031),b=n(274),v=n(11),y=n(451),g=n(1035),m=n(452),_=n(1036),w=n(276),E=n(1037),k=n(453),O=n(39),S=n(450),T=n(1038),i.sn=new e.rd((function(e){e(u.TR).to(c.CKa).aa(),e(r.yx).to(a.iBa).aa(),e(h.sEa).to(f.rEa).aa(),e(d.iAa).to(p.hAa).aa(),e(h.mIa).$i({isTypeSupported:v.$E&&v.$E.isTypeSupported}),e(b.D_).$i(t.cast||null),e(b.jAa).$i(t.castReceiverEme||null),e(l.xCa).nE((function(t){return{vFb:function(){return t.$a.get(O.KR)}}})),e(s.IJ).nE((function(t){return t.$a.get(o.Zc)})),e(y.WFa).to(g.TFa).aa(),e(S.SFa).to(T.RFa).aa(),e(m.VFa).to(_.UFa).aa(),e(w.oca).to(E.wCa).aa(),e(k.tJa).$i(t)}))},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i){this.config=t,this.PRa=e,this.vSb=i,this.ZTb=this.tyb()}Object.defineProperty(e,"__esModule",{value:!0}),e.iBa=void 0,t=i(1),n=i(26),r=i(154),o=i(0),a=i(44),s=i(445),i=i(446),c.prototype.gZa=function(t){return this.TWa().hZa(t)},c.prototype.iZa=function(t){return this.au().hZa(t)},c.prototype.TWa=function(){return this.pia&&this.pia.type==this.config().qia||(this.pia=this.PRa.Dxb(this.config().qia)),this.pia},c.prototype.au=function(){return this.Oaa&&this.Oaa.type==this.config().Paa||(this.Oaa=this.PRa.Iyb(this.config().Paa),this.Oaa.Hha(this.vSb.vFb())),this.Oaa},c.prototype.JFb=function(t){var e;if(!t||!t.length)return n.se.g0;t=this.lDb(t);for(var i=[n.se.RR,n.se.g0,n.se.pK,n.se.Ex,n.se.Qs,n.se.iB,n.se.Xx,n.se.Hj],r=i.length;r--;)if(e=i[r],(0,this.ZTb[e])(t))return e;return n.se.RR},c.prototype.fx=function(t){return this.au().fx(t)},c.prototype.Ny=function(t){return this.au().Ny(t)},c.prototype.Wt=function(){return this.au().Wt()},c.prototype.T5=function(){return this.au().T5()},c.prototype.fZ=function(){return this.au().fZ()},c.prototype.dZ=function(){return this.TWa().dZ()},c.prototype.caa=function(){return this.au().caa()},c.prototype.gZ=function(){return this.au().gZ()},c.prototype.SM=function(t){return this.au().SM(t)},c.prototype.cN=function(){return this.au().cN()},c.prototype.j6=function(){return this.au().j6()},c.prototype.lDb=function(t){var e;return e={},t.filter((function(t){return"video"===t.type})).forEach((function(t){e[t.kh]=""})),Object.keys(e)},c.prototype.tyb=function(){var t;return(t={})[n.se.Hj]=function(t){return t.some((function(t){return-1<t.indexOf("av1")}))},t[n.se.iB]=function(t){return t.some((function(t){return-1<t.indexOf("hpl")}))},t[n.se.Xx]=function(t){return t.some((function(t){return-1<t.indexOf("vp9")}))},t[n.se.Qs]=function(t){return t.some((function(t){return-1<t.indexOf("hevc-dv")}))},t[n.se.Ex]=function(t){return t.some((function(t){return-1<t.indexOf("hevc-hdr")}))},t[n.se.pK]=function(t){return t.some((function(t){return-1<t.indexOf("hevc-main10-L")||-1<t.indexOf("hevc-main-L")}))},t[n.se.g0]=function(t,e){var i;for(i={},t.forEach((function(t){return i[t]=1})),e=(t=v(e)).next();!e.done;e=t.next())if(i[e.value])return!0;return!1}.bind(null,[a.N.FE]),t[n.se.RR]=function(){return!0},t},u=c,u=t.__decorate([o.R(),t.__param(0,o.l(r.IJ)),t.__param(1,o.l(i.iAa)),t.__param(2,o.l(s.xCa))],u),e.iBa=u},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i){this.sn=t,this.jb=e,this.i$a=i,this.Vpb="video/mp4;codecs={0}",this.dlb="audio/mp4;codecs={0}",t=this.sn.SM(r.se.Qs),this.Upb=a.Gd.DTa(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.CKa=void 0,t=i(1),r=i(26),o=i(0),a=i(110),s=i(27),u=i(201),c=i(447),h=i(12),f.prototype.l4=function(t){return t=this.sn.JFb(t),t=this.jb.EG(t)?t:r.se.RR,this.i$a.format(this.Vpb,this.Upb[t])},f.prototype.i4=function(t){return 0===t.length?this.i$a.format(this.dlb,a.Gd.g_):(t=c.lza[t[0].kh]||n.zya)===n.zya?h.$J:t===n.zcb?h.vFa:h.uFa},(i=n=f).zya="AAC",i.zcb="XHEAAC",i=n=t.__decorate([o.R(),t.__param(0,o.l(r.yx)),t.__param(1,o.l(s.bg)),t.__param(2,o.l(u.Mea))],i),e.CKa=i},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i){this.config=t,this.bUa=e,this.cast=i}Object.defineProperty(e,"__esModule",{value:!0}),e.rEa=void 0,t=i(1),n=i(0),r=i(273),o=i(154),a=i(26),s=i(274),u=i(275),c.prototype.tTa=function(){switch(this.config().Paa){case a.gj.Oba:return s.Pba.kka(this.bUa,this.cast);case a.gj.Lx:return u.uB.kka(this.config);default:return this.bUa}},i=c,i=t.__decorate([n.R(),t.__param(0,n.l(o.IJ)),t.__param(1,n.l(r.mIa)),t.__param(2,n.l(s.D_))],i),e.rEa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_;function w(t,e,i,n,r,o,a,s,u,c,h){this.A0a=t,this.cast=e,this.config=i,this.Oc=n,this.za=r,this.is=o,this.pk=a,this.Yr=s,this.platform=u,this.Uc=c,this.Iw=h}Object.defineProperty(e,"__esModule",{value:!0}),e.hAa=void 0,t=i(1),n=i(0),r=i(26),o=i(273),a=i(154),s=i(274),u=i(1032),c=i(1033),h=i(181),f=i(449),l=i(48),d=i(38),p=i(27),b=i(1034),v=i(70),y=i(7),g=i(34),m=i(36),i=i(450),w.prototype.Dxb=function(t){var e;return e=this.A0a.tTa(),t===r.nv.Lx?new u.rGa(this.config,e,this.is,this.platform,this.Iw):new f.V_(this.config,e,this.Iw)},w.prototype.Iyb=function(t){var e;switch(e=this.A0a.tTa(),t){case r.gj.Oba:t=new s.Pba(this.config,e,this.is,this.cast,this.Iw);break;case r.gj.FJ:t=new b.sAa(this.config,e,this.is,this.pk,this.Yr,this.za,this.Iw);break;case r.gj.Lx:t=new c.AFa(this.config,e,this.is,this.Oc,this.za,this.Yr,this.Uc,this.Iw,this.pk);break;default:t=new h.ao(this.config,e,this.is,this.Iw)}return t},_=w,_=t.__decorate([n.R(),t.__param(0,n.l(o.sEa)),t.__param(1,n.l(s.D_)),t.__param(2,n.l(a.IJ)),t.__param(3,n.l(l.Qj)),t.__param(4,n.l(d.Uh)),t.__param(5,n.l(p.bg)),t.__param(6,n.l(v.Vs)),t.__param(7,n.l(y.qb)),t.__param(8,n.l(g.Hk)),t.__param(9,n.l(m.Ci)),t.__param(10,n.l(i.SFa))],_),e.hAa=_},function(t,e,i){var n,r,o,a,s;function u(t,e,i,r,o){return(t=a.V_.call(this,t,e,o)||this).is=i,t.platform=r,t.type=n.nv.Lx,t}Object.defineProperty(e,"__esModule",{value:!0}),e.rGa=void 0,n=i(26),r=i(44),o=i(109),a=i(449),s=i(275),g(u,a.V_),u.prototype.dZ=function(){return Promise.resolve(this.config().PU&&this.My(o.Hb.Qx,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]))},u.prototype.Up=function(){var t;return(t={})[r.ze.GE]="mp4a.40.2",t[r.ze.HE]="mp4a.40.2","browser"===this.platform.bla?this.config().PU&&(t[r.ze.xQ]={Ef:"avc1",keySystem:o.Hb.Qx,features:["audio-endpoint-codec=DD+JOC"]},t[r.ze.yQ]={Ef:"avc1",keySystem:o.Hb.Qx,features:["audio-endpoint-codec=DD+JOC"]}):(this.config().eVa&&(t[r.ze.xQ]="ec-3"),this.config().dVa&&(t[r.ze.Rba]="ec-3"),this.config().PU&&(t[r.ze.yQ]={Ef:"avc1",keySystem:o.Hb.Qx,features:["audio-endpoint-codec=DD+JOC"]})),t},u.prototype.$Va=function(t){var e;return e=this,t=t.filter((function(t){for(var i,n=v(e.Ku),r=n.next();!r.done;r=n.next())if(r.value.test(t))return!0;for(r=(n=v(e.Rn)).next();!r.done;r=n.next())if(r.value.test(t))return!1;if(t=e.Zta[t],n=[],i=o.Hb.Qx,t)return e.is.Ip(t)?r=t:(n=t.features,r=t.Ef,i=t.keySystem),e.My(i,r,n)})),Promise.resolve(t)},u.prototype.My=function(t,e,i){return t=s.uB.j4(t,e,i),this.Ny(t)},e.rGa=u},function(e,i,n){var o,a,s,u,c,h,f,l,d,p,b,y,m,_,w,E,k,O,S,T,A;function P(t,e,i,n,r,o,u,c,h){return(t=a.ao.call(this,t,e,i,c)||this).Oc=n,t.za=r,t.Yr=o,t.Uc=u,t.Iw=c,t.pk=h,t.type=s.gj.Lx,t.vQ="hvc1",t.Hdb="avc1",t.B5a={},t.log=t.Yr.ib("MicrosoftVideoCapabilityDetector"),t.gZb(),t.eZ&&t.config().zOb?t.OUa=t.Uxb():(t.OUa=Promise.resolve(""),t.config().BOb?t.Zxb():t.config().AOb&&t.Yxb()),t}Object.defineProperty(i,"__esModule",{value:!0}),i.AFa=void 0,o=n(44),a=n(181),s=n(26),e=n(111),u=n(109),c=n(4),h=n(328),f=n(110),l=n(275),d=n(63),p=n(182),b="decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8".split(" "),y="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" "),m="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" "),_="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" "),w="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" "),E="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" "),k="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" "),O=["hdcp=1"],S=["hdcp=2"],T=new e.FB,A=new h.Fba,g(P,a.ao),P.prototype.SM=function(t){return t===s.se.Qs&&this.config().K1b?f.Gd.NQ:a.ao.prototype.SM.call(this,t)},P.prototype.fx=function(t){switch(t){case s.Mj.NE:return this.t$a();case s.Mj.uv:return this.VX;default:return Promise.resolve(!1)}},P.prototype.Wt=function(){var t;return t=this,this.keySystem||(this.keySystem=this.config().hp?this.pk.vw().then((function(t){return t.keySystem})):t.eZ?t.kJb?t.t$a().then((function(t){return Promise.resolve(t?u.Hb.Ud:u.Hb.gF)})):Promise.resolve(u.Hb.gF):t.d_b?Promise.resolve(u.Hb.gF):Promise.resolve(u.Hb.Qx)),this.keySystem},P.prototype.T5=function(){return this.OUa},P.prototype.fZ=function(){return Promise.resolve({result:this.s$a(),reason:"is-type-supported"})},P.prototype.gZ=function(){return this.eZ&&this.v$a()?this.VX:Promise.resolve(!1)},P.prototype.caa=function(){return Promise.resolve(this.r$a()).then((function(t){return{result:t,reason:"isTypeSupportedWithFeatures"}}))},P.prototype.Hha=function(t){this.Aq=t,Object.assign(this.Aq,this.B5a),t.itshwdrm=this.eZ,t.itsqhd=this.u$a(),t.itshevc=this.v$a(),t.itshdr=this.s$a(),t.itsdv=this.r$a(),t.itsav1=this.a_b(),this.Qxa()},P.prototype.wT=function(t,e){(this.Aq?this.Aq:this.B5a)[t]=e},P.prototype.cN=function(){var t;return t=this,this.fx(s.Mj.uv).then((function(e){return e?t.lU(s.Mj.uv):t.fx(s.Mj.NE).then((function(e){return e?t.lU(s.Mj.NE):t.lU(void 0)}))}))},P.prototype.j6=function(){return this.config().hp?Promise.resolve(void 0):this.Wt().then((function(t){return t===u.Hb.Ud?{DEVICE_SECURITY_LEVEL:"3000"}:void 0}))},P.prototype.mz=function(t){var e;return e=this,this.Wt().then((function(i){var n,r,o;return!e.Npa(i,t)&&(!!(n=e.Zta[t])&&(r=[],e.is.Ip(n)?o=n:(r=n.features,o=n.Ef,i=n.keySystem),e.My(i,o,r)))}))},P.prototype.Up=function(){var t;return(t=a.ao.prototype.Up.call(this))[o.N.bS]=t[o.N.rK]=t[o.N.qK]=t[o.N.s1]={Ef:"vp09.00.11.08.02",keySystem:u.Hb.Ud,features:b},t[o.N.j0]=t[o.N.i0]={Ef:"hev1.2.6.L90.B0",keySystem:u.Hb.Ud,features:y},t[o.N.l0]=t[o.N.k0]={Ef:"hev1.2.6.L93.B0",keySystem:u.Hb.Ud,features:y},t[o.N.n0]=t[o.N.m0]={Ef:"hev1.2.6.L120.B0",keySystem:u.Hb.Ud,features:y},t[o.N.p0]=t[o.N.o0]={Ef:"hev1.2.6.L123.B0",keySystem:u.Hb.Ud,features:y},t[o.N.$Q]=t[o.N.ZQ]={Ef:"hev1.2.6.L150.B0",keySystem:u.Hb.Ud,features:y},t[o.N.bR]=t[o.N.aR]={Ef:"hev1.2.6.L153.B0",keySystem:u.Hb.Ud,features:y},t[o.N.PQ]=t[o.N.OQ]={Ef:"hev1.2.6.L90.B0",keySystem:u.Hb.Ud,features:_},t[o.N.RQ]=t[o.N.QQ]={Ef:"hev1.2.6.L93.B0",keySystem:u.Hb.Ud,features:_},t[o.N.SQ]=t[o.N.SJ]={Ef:"hev1.2.6.L120.B0",keySystem:u.Hb.Ud,features:_},t[o.N.UQ]=t[o.N.TQ]={Ef:"hev1.2.6.L123.B0",keySystem:u.Hb.Ud,features:w},t[o.N.WQ]=t[o.N.VQ]={Ef:"hev1.2.6.L150.B0",keySystem:u.Hb.Ud,features:w},t[o.N.YQ]=t[o.N.XQ]={Ef:"hev1.2.6.L153.B0",keySystem:u.Hb.Ud,features:w},t[o.N.K_]=t[o.N.J_]={Ef:"hev1.2.6.L90.B0",keySystem:u.Hb.Ud,features:E},t[o.N.M_]=t[o.N.L_]={Ef:"hev1.2.6.L93.B0",keySystem:u.Hb.Ud,features:E},t[o.N.N_]=t[o.N.AQ]={Ef:"hev1.2.6.L120.B0",keySystem:u.Hb.Ud,features:E},t[o.N.P_]=t[o.N.O_]={Ef:"hev1.2.6.L123.B0",keySystem:u.Hb.Ud,features:k},t[o.N.R_]=t[o.N.Q_]={Ef:"hev1.2.6.L150.B0",keySystem:u.Hb.Ud,features:k},t[o.N.T_]=t[o.N.S_]={Ef:"hev1.2.6.L153.B0",keySystem:u.Hb.Ud,features:k},t[o.N.l_]={Ef:"av01.0.04M.10",keySystem:u.Hb.Ud,features:b},t[o.N.m_]={Ef:"av01.0.05M.10",keySystem:u.Hb.Ud,features:b},t[o.N.n_]={Ef:"av01.0.08M.10",keySystem:u.Hb.Ud,features:b},t[o.N.o_]={Ef:"av01.0.09M.10",keySystem:u.Hb.Ud,features:b},t[o.N.p_]={Ef:"av01.0.12M.10",keySystem:u.Hb.Ud,features:m},t[o.N.q_]={Ef:"av01.0.13M.10",keySystem:u.Hb.Ud,features:m},t},P.prototype.My=function(t,e,i){return t=l.uB.j4(t,e,i),this.Ny(t)},P.prototype.u$a=function(){return this.My(u.Hb.Ud,this.vQ,y)},P.prototype.s$a=function(){return this.My(u.Hb.Ud,this.vQ,_)},P.prototype.r$a=function(){return this.My(u.Hb.Ud,this.vQ,E)},P.prototype.a_b=function(){return this.My(u.Hb.Ud,f.Gd.Hj,b)},P.prototype.v$a=function(){return this.My(u.Hb.Ud,this.vQ,m)},P.prototype.t$a=function(){var t;return t=this,this.VX.then((function(e){return e?Promise.resolve(e):t.n6a}))},P.prototype.Qxa=function(){this.Aq&&(this.Aq.itshdcp=JSON.stringify({hdcp1:this.KZa,time1:this.M$a-this.N9a,hdcp2:this.LZa,time2:this.N$a-this.O9a}))},P.prototype.gZb=function(){var t;t=this,this.eZ?(this.VX=this.LYa(this.config().Y2a,this.config().DOb,(function(){var e;return["maybe"!==(e=t.HFb()),e]})).then((function(t){return"probably"===t})),this.n6a=this.VX.then((function(e){return!!e||t.LYa(t.config().Y2a,t.config().COb,(function(){var e;return["maybe"!==(e=t.GFb()),e]})).then((function(t){return"probably"===t}))}))):(this.n6a=Promise.resolve(!0),this.VX=Promise.resolve(!1))},P.prototype.LYa=function(t,e,i){var n;return n=this,new Promise((function(r){var o,a,s,u;if(a=(o=v(i())).next().value,o=o.next().value,a)return r(o);s=n.Oc.u$(c.Nc(t),(function(){var t,e;e=(t=v(i())).next().value,t=t.next().value,e&&(s.cancel(),u.cancel(),r(t))})),u=n.Oc.zk(c.Nc(e),(function(){s.cancel(),u.cancel(),r("timeout")}))}))},P.prototype.GFb=function(){var t;return t=l.uB.j4(u.Hb.gF,this.Hdb,O).split("|"),this.KZa=l.uB.Ywa(t[0],t[1]),this.M$a=this.za.ff.da(c.ja),this.N9a=this.N9a||this.M$a,this.Qxa(),this.KZa},P.prototype.HFb=function(){var t;return t=l.uB.j4(u.Hb.Ud,this.vQ,S).split("|"),this.LZa=l.uB.Ywa(t[0],t[1]),this.N$a=this.za.ff.da(c.ja),this.O9a=this.O9a||this.N$a,this.Qxa(),this.LZa},P.prototype.Uxb=function(){var t;return t=this,this.nka(u.Hb.Ud,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>'+d.Fda+"</ServerCert></DriverInfo></PlayReadyCDMData>").then((function(e){return t.log.debug("DriverInfo: "+e),e})).catch((function(e){throw t.wT("itsDriverInfo","exception"),t.log.error("DriverInfo exception",e),e}))},P.prototype.Yxb=function(){var t;t=this,this.nka(u.Hb.Qx,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then((function(e){var i;return i=String.fromCharCode.apply(void 0,t.Uc.decode(e)),t.wT("itsHardwareInfo",i),t.log.debug("HardwareInfo: "+i),e})).catch((function(e){throw t.wT("itsHardwareInfo","exception"),t.log.error("HardwareInfo exception",e),e}))},P.prototype.Zxb=function(){var t;t=this,this.nka(u.Hb.Qx,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then((function(e){var i;return i=String.fromCharCode.apply(void 0,t.Uc.decode(e)),t.wT("itsHardwareReset",i),t.log.debug("ResetHardwareDRMDisabled: "+i),e})).catch((function(e){throw t.wT("itsHardwareReset","exception"),t.log.error("ResetHardwareDRMDisabled exception",e),e}))},P.prototype.nka=function(e,i){var n;return n=this,new Promise((function(r,o){var a,s,u;function h(t){try{d(t.target,"Unexpectedly got an mskeyerror event: 0x"+A.UG(t&&t.target&&t.target.error&&t.target.error.Dcc||0,4))}catch(e){d(t.target,e)}}function f(t){d(t.target,"Unexpectedly got an mskeyadded event")}function l(t){var e;try{e=n.Wla(t.message,"PlayReadyKeyMessage","Challenge"),p(t.target),r(e)}catch(e){d(t.target,e)}}function d(t,e){n.log.error("PlayReadyChallenge error",{cdmData:i}),p(t),o(e)}function p(t){t.removeEventListener("mskeymessage",l),t.removeEventListener("mskeyadded",f),t.removeEventListener("mskeyerror",h),u&&u.cancel()}try{a=new Uint8Array(T.g$a(i)),(s=new t.MSMediaKeys(e).createSession("video/mp4",new Uint8Array(0),a)).addEventListener("mskeymessage",l),s.addEventListener("mskeyadded",f),s.addEventListener("mskeyerror",h),u=n.Oc.zk(c.Nc(1e3),(function(){d(s,Error("timeout"))}))}catch(t){o(t)}}))},P.prototype.Wla=function(t,e){for(var i,n,r,o=1;o<arguments.length;++o);for(o="",n=t.length,i=0;i<n;i++)0<(r=t[i])&&(o+=String.fromCharCode(r));for(n="\\s*(.*)\\s*",i=arguments.length-1;0<i;i--){if(r=arguments[i],0>o.search(r))return;n="[\\s\\S]*<"+(r="(?:[^:].*:|)"+r)+"[^>]*>"+n+"</"+r+">[\\s\\S]*"}if(o=o.match(new RegExp(n)))return o[1]},P.prototype.Npa=function(t,e){return[p.Xe.iB,p.Xe.Xx].some((function(t){return t.test(e)}))&&this.config().Fra&&![u.Hb.gF,u.Hb.rIa].some((function(e){return e===t}))},r.Object.defineProperties(P.prototype,{kJb:{configurable:!0,enumerable:!0,get:function(){return this.config().uBb&&(!this.config().EOb||this.u$a())}},eZ:{configurable:!0,enumerable:!0,get:function(){try{return this.Ny(u.Hb.Ud+"|"+f.Gd.Ira)}catch(t){return!1}}},d_b:{configurable:!0,enumerable:!0,get:function(){try{return this.Ny(u.Hb.gF)}catch(t){return!1}}}}),i.AFa=P},function(t,e,i){var n,o,a,s,u;function c(t,e,i,r,a,s,u){return(t=n.ao.call(this,t,e,i,u)||this).pk=r,t.Yr=a,t.za=s,t.Iw=u,t.type=o.gj.FJ,t.log=t.Yr.ib("ChromeVideoCapabilityDetector"),t}Object.defineProperty(e,"__esModule",{value:!0}),e.sAa=void 0,n=i(181),o=i(26),a=i(4),s=i(63),u=i(182),g(c,n.ao),c.prototype.fx=function(t){return t===o.Mj.uv?this.b_b:Promise.resolve(!1)},c.prototype.cN=function(){var t;return t=this,this.fx(o.Mj.uv).then((function(t){return t?o.Mj.uv:void 0})).then((function(e){return t.lU(e)}))},c.prototype.Hha=function(t){this.Aq=t},c.prototype.mz=function(t){var e;return e=this,this.config().Fra?this.pk.vw().then((function(i){return!e.Npa(s.d6(i),t)&&n.ao.prototype.mz.call(e,t)})):n.ao.prototype.mz.call(this,t)},c.prototype.sLb=function(t){var e;return!(null===(e=t.getConfiguration().videoCapabilities)||void 0===e||!e.some((function(t){return(null==t?void 0:t.robustness)===s.TJ})))},c.prototype.Wab=function(){var t;this.Aq&&(t=this.MZa&&this.OZa&&this.MZa.Qa(this.OZa).da(a.ja),this.Aq.itshdcp=JSON.stringify({hdcp2:this.cu,time2:t}))},c.prototype.Npa=function(t,e){return[u.Xe.iB,u.Xe.Xx].some((function(t){return t.test(e)}))&&this.config().Fra&&t===s.TJ},r.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){return this.R2a||(this.R2a=this.pk.vw().then((function(t){return t.createMediaKeys()}))),this.R2a}},b_b:{configurable:!0,enumerable:!0,get:function(){var t;return t=this,this.Zwa||(this.config().vBb?this.Zwa=Promise.all([this.pk.vw(),this.mediaKeys]).then((function(e){var i;return e=(i=v(e)).next().value,i=i.next().value,t.sLb(e)?i&&i.getStatusForPolicy?(t.OZa=t.za.ff,i.getStatusForPolicy({minHdcpVersion:"2.2"}).then((function(e){return t.MZa=t.za.ff,t.cu=e,t.log.trace("hdcpStatus: "+t.cu),"usable"===t.cu}))):(t.cu="not available",t.log.trace("hdcpStatus: "+t.cu),!1):(t.cu="not HW_SECURE_DECODE",t.log.trace("hdcpStatus: "+t.cu),!1)})).catch((function(e){return t.cu="exception",t.log.error("Exception in supportsHdcpLevel",{hdcpStatus:t.cu},e),!1})).then((function(e){return t.Wab(),e})):(this.cu="not enabled",this.log.trace("hdcpStatus: "+this.cu),this.Wab(),this.Zwa=Promise.resolve(!1))),this.Zwa}}}),e.sAa=c},function(t,e,i){var n,r;function o(t){this.navigator=t,this.P2a="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities}Object.defineProperty(e,"__esModule",{value:!0}),e.TFa=void 0,t=i(1),n=i(0),i=i(39),o.prototype.$la=function(t){return this.P2a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:t.contentType,width:t.width,height:t.height,bitrate:t.bitrate,framerate:t.framerate}}).then((function(t){return{supported:t.supported,smooth:t.smooth,powerEfficient:t.powerEfficient}})):Promise.reject("MediaCapabilities not supported")},r=o,r=t.__decorate([n.R(),t.__param(0,n.l(i.eK))],r),e.TFa=r},function(t,e,i){var n,r,o;function a(t,e){this.mediaCapabilities=t,this.log=e.ib("MediaCapabilities")}Object.defineProperty(e,"__esModule",{value:!0}),e.UFa=void 0,t=i(1),n=i(451),r=i(7),i=i(0),a.prototype.$la=function(t){var e,i,n;return e=this,i={pc:void 0},this.mediaCapabilities.P2a&&(n={contentType:'video/mp4;codecs="avc1.640028"',width:t.width,height:t.height,bitrate:1e3*t.bitrate,framerate:24},this.mediaCapabilities.$la(n).then((function(t){return i.pc=Object.assign(Object.assign({},t),n)})).catch((function(t){return e.log.error("Error calling MediaCapabilities API",t)}))),i},o=a,o=t.__decorate([i.R(),t.__param(0,i.l(n.WFa)),t.__param(1,i.l(r.qb))],o),e.UFa=o},function(t,e,i){var n,r,o;function a(t){this.BTb=t}Object.defineProperty(e,"__esModule",{value:!0}),e.wCa=void 0,t=i(1),n=i(0),r=i(276),i=i(453),a.prototype.NCb=function(){var t,e;return t={YU:r.oB.vkb},(e=this.BTb.PresentationRequest)&&(new e("https://netflix.com").getAvailability()||Promise.reject()).then((function(e){var i;t.YU=e.value?r.oB.sJa:r.oB.Cya,t.YU===r.oB.Cya&&(i=function(){e.value&&(t.YU=r.oB.sJa),e.removeEventListener("change",i)},e.addEventListener("change",i))})).catch((function(){t.YU=r.oB.Error})),t},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.tJa))],o),e.wCa=o},function(e,i,n){var r,o,a,s,u,c,h,f;function l(t,e,i,n){this.config=t,this.navigator=e,this.Yr=i,this.yD=n,this.type=o.gj.qv,this.MQa={},this.Dbb={},this.log=this.Yr.ib("MediaCapabilityDetector"),this.MQa=this.Cxb(),this.Dbb=this.Hyb()}Object.defineProperty(i,"__esModule",{value:!0}),i.RFa=void 0,e=n(1),r=n(0),o=n(26),a=n(44),s=n(7),u=n(39),c=n(70),h=n(154),f=n(63),l.prototype.mz=function(t){var e;return e=this,this.yD.vw().then((function(i){return e.ZCb(t,i)})).catch((function(){return!1}))},l.prototype.NKb=function(t){return!!t.colorGamut||!!t.hdrMetadataType||!!t.transferFunction},l.prototype.ypa=function(){return t.matchMedia("(dynamic-range: high)").matches},l.prototype.ZCb=function(t,e){var i,n,r,o;i=this;try{if(n={type:"media-source"},r=this.MQa[t],o=this.Dbb[t],r)n.audio=r;else{if(!o)return Promise.resolve(!1);if(n.video=o,this.NKb(o)&&!this.ypa())return Promise.resolve(!1);e&&(n.keySystemConfiguration=this.ZFb(e))}return this.navigator.mediaCapabilities.decodingInfo(n).then((function(t){var e;return t.configuration||(t.configuration=n),(e=i.kLb(n,t))?i.log.trace("mediaCapabilities.decodingInfo: "+JSON.stringify(t)):i.log.warn("mediaCapabilities.decodingInfo: "+JSON.stringify(t)),e})).catch((function(t){return i.log.error("mediaCapabilities.decodingInfo failed",t),!1}))}catch(t){return this.log.error("mediaCapabilitiesIsTypeSupported failed",t),Promise.resolve(!1)}},l.prototype.ZFb=function(t){return this.keySystemConfiguration||(this.keySystemConfiguration={keySystem:t.keySystem},(t=f.d6(t))&&(this.keySystemConfiguration.video={robustness:t})),this.keySystemConfiguration},l.prototype.Cxb=function(){var t,e;return e={contentType:"audio/mp4;codecs=mp4a.40.2"},(t={})[a.ze.GE]=e,t[a.ze.aDa]=e,t[a.ze.HE]=e,t[a.ze.tF]=e,e={contentType:"audio/mp4;codecs=ec-3"},t[a.ze.xQ]=e,t[a.ze.Rba]=e,t[a.ze.yQ]=e,t},l.prototype.Hyb=function(){var t,e,i,n,r,o,s,u,c,h,f,l,d;return t={},e={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'},i={contentType:'video/mp4; codecs="dvh1.05.04"'},n={width:1920,height:1080},r={width:3840,height:2160},o=Object.assign(Object.assign({},n),{bitrate:12e6,framerate:30}),s=Object.assign(Object.assign({},n),{bitrate:2e7,framerate:60}),n=Object.assign(Object.assign({},r),{bitrate:25e6,framerate:30}),r=Object.assign(Object.assign({},r),{bitrate:4e7,framerate:60}),u={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"},c={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"},h=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),o),t[a.N.TCa]=h,t[a.N.LQ]=h,t[a.N.MQ]=h,t[a.N.sca]=h,h=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),o),t[a.N.s1]=h,t[a.N.qK]=h,t[a.N.rK]=h,t[a.N.bS]=h,h=Object.assign(Object.assign({},e),o),f=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),s),l=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),n),d=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),r),t[a.N.i0]=h,t[a.N.k0]=h,t[a.N.m0]=h,t[a.N.o0]=f,t[a.N.ZQ]=l,t[a.N.aR]=d,t[a.N.j0]=h,t[a.N.l0]=h,t[a.N.n0]=h,t[a.N.p0]=f,t[a.N.$Q]=l,t[a.N.bR]=d,h=Object.assign(Object.assign(Object.assign({},e),o),u),f=Object.assign(Object.assign(Object.assign({},e),s),u),l=Object.assign(Object.assign(Object.assign({},e),n),u),e=Object.assign(Object.assign(Object.assign({},e),r),u),t[a.N.OQ]=h,t[a.N.QQ]=h,t[a.N.SJ]=h,t[a.N.TQ]=f,t[a.N.VQ]=l,t[a.N.XQ]=e,t[a.N.PQ]=h,t[a.N.RQ]=h,t[a.N.SQ]=h,t[a.N.UQ]=f,t[a.N.WQ]=l,t[a.N.YQ]=e,e=Object.assign(Object.assign(Object.assign({},i),o),c),u=Object.assign(Object.assign(Object.assign({},i),s),c),h=Object.assign(Object.assign(Object.assign({},i),n),c),i=Object.assign(Object.assign(Object.assign({},i),r),c),t[a.N.J_]=e,t[a.N.L_]=e,t[a.N.AQ]=e,t[a.N.O_]=u,t[a.N.Q_]=h,t[a.N.S_]=i,t[a.N.K_]=e,t[a.N.M_]=e,t[a.N.N_]=e,t[a.N.P_]=u,t[a.N.R_]=h,t[a.N.T_]=i,o=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),o),s=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),s),n=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),n),r=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),r),t[a.N.Aya]=o,t[a.N.Bya]=o,t[a.N.l_]=o,t[a.N.m_]=o,t[a.N.n_]=o,t[a.N.o_]=s,t[a.N.p_]=n,t[a.N.q_]=r,t},l.prototype.kLb=function(t,e){return t.video&&this.config().aTb?e.supported&&e.powerEfficient:e.supported},n=l,n=e.__decorate([r.R(),e.__param(0,r.l(h.IJ)),e.__param(1,r.l(u.eK)),e.__param(2,r.l(s.qb)),e.__param(3,r.l(c.Vs))],n),i.RFa=n},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g;Object.defineProperty(i,"__esModule",{value:!0}),i.storage=void 0,e=n(0),r=n(454),o=n(79),a=n(183),s=n(1040),u=n(457),c=n(1041),h=n(456),f=n(184),l=n(1042),d=n(1044),p=n(1045),b=n(1046),v=n(79),y=n(458),g=n(1048),i.storage=new e.rd((function(e){e(a.CGa).wf((function(){return function(){return t.localStorage}})),e(a.HDa).wf((function(){return function(){return t.indexedDB}})),e(y.oGa).to(g.nGa).aa(),e(v.jB).to(b.Kya).aa(),e(u.TEa).to(c.SEa).aa(),e(r.w0).to(d.hEa).aa(),e(f.jEa).to(l.iEa).aa(),e(o.OKa).to(s.HAa).aa(),e(f.GDa).to(l.FDa).aa(),e(f.Kca).to(l.kEa).aa(),e(h.JAa).to(p.IAa).aa()}))},function(t,e,i){var n,r,o,a,s;function u(t,e,i){this.Xo=e,this.config=i,this.ta=t.ib(a.Iea)}Object.defineProperty(e,"__esModule",{value:!0}),e.HAa=void 0,t=i(1),n=i(0),r=i(7),o=i(64),a=i(455),i=i(456),u.prototype.validate=function(t){return this.config.enabled?this.config.timeout?this.Xo.Jq(this.config.timeout,this.CUa(t)):this.CUa(t):Promise.resolve()},u.prototype.CUa=function(t){var e;return e=this,new Promise((function(i,n){return t.save("indexdb-test","true",!0).then((function(){return t.load("indexdb-test").then((function(r){"true"!==r.value&&n(),e.ta.debug("save/load test passed"),t.remove("indexdb-test").then((function(){i()})).catch((function(){e.ta.error("Failed to remove testValue"),i()}))}))})).catch((function(t){return n(t)}))}))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.Rx)),t.__param(2,n.l(i.JAa))],s),e.HAa=s},function(t,e,i){var n,r,o;function a(t){this.ND=t}Object.defineProperty(e,"__esModule",{value:!0}),e.SEa=void 0,t=i(1),n=i(0),r=i(3),i=i(183),a.prototype.load=function(t){var e;return e=this,new Promise((function(i,n){var o,a;try{if(o=e.ND.getItem(t)){if(a=o,"{"===o[0])try{a=JSON.parse(o)||o}catch(t){}i({key:t,value:a})}else n({na:r.L.EB})}catch(t){n({na:r.L.dKa,cause:t})}}))},a.prototype.save=function(t,e,i){var n;return n=this,new Promise((function(o,a){if(i&&n.ND.getItem(t))o(!1);else try{"string"==typeof e?n.ND.setItem(t,e):n.ND.setItem(t,JSON.stringify(e)),o(!0)}catch(t){a({na:r.L.eKa,cause:t})}}))},a.prototype.remove=function(t){var e;return e=this,new Promise((function(i,n){try{e.ND.removeItem(t),i()}catch(t){n({na:r.L.Bea,cause:t})}}))},a.prototype.loadAll=function(){return Promise.reject("Not supported")},a.prototype.removeAll=function(){return Promise.reject("Not supported")},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.aib))],o),e.SEa=o},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e,i,n,r,o){this.config=e,this.sU=i,this.Wn=n,this.j2b=r,this.ll=o,this.ta=t.ib(u.Iea)}function v(t,e){this.config=t,this.uZ=e}function y(t,e,i,n,r){this.config=e,this.uZ=i,this.ll=r,this.ta=t.ib(u.Iea),this.sU=new Promise((function(t,e){var i;try{(i=n())?t(i):e({na:s.L.IDa})}catch(t){e({na:s.L.v0,cause:t})}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.kEa=e.iEa=e.FDa=void 0,t=i(1),n=i(0),r=i(7),o=i(1043),a=i(183),s=i(3),u=i(455),c=i(454),h=i(64),f=i(79),l=i(71),d=i(184),p=i(62),y.prototype.create=function(){return this.Eka||(this.Eka=this.dM()),this.Eka},y.prototype.Yp=function(t){var e;return e=this,this.Eka=null,this.uZ.Jq(this.config.timeout,new Promise((function(i,n){t.close(),e.delete(t.name).then((function(){i()})).catch((function(t){n(t)}))}))).catch((function(t){return t instanceof h.hr?Promise.reject({na:s.L.v0}):t.na?Promise.reject(t):Promise.reject({na:s.L.v0,cause:t})}))},y.prototype.delete=function(t){var e;return e=this,this.uZ.Jq(this.config.timeout,new Promise((function(i,n){e.sU.then((function(e){var r;(r=e.deleteDatabase(t)).onsuccess=function(){i()},r.onerror=function(){n({na:s.L.v0,cause:r.error})}})).catch((function(t){n(t)}))})))},y.prototype.dM=function(){var t,e;return t=this,this.uZ.Jq(this.config.timeout,new Promise((function(i,n){if(t.config.pwa)return n({na:t.config.pwa});t.sU.then((function(r){if(t.ll.mark(p.Rj.igb),!(e=r.open(t.config.name,t.config.version)))return n({na:s.L.JDa});e.onblocked=function(){t.ll.mark(p.Rj.fgb),n({na:s.L.bgb})},e.onupgradeneeded=function(){var i;t.ll.mark(p.Rj.pgb),i=e.result;try{i.createObjectStore(t.config.kX,{keyPath:"name"})}catch(e){t.ta.error("Exception while creating object store",e)}},e.onsuccess=function(o){var a,u;t.ll.mark(p.Rj.ogb);try{if(u=(a=o.target.result).objectStoreNames.length,t.ta.trace("objectstorenames length ",u),0===u){t.ta.error("invalid indexedDb state, deleting"),t.ll.mark(p.Rj.hgb);try{a.close()}catch(t){}return r.deleteDatabase(t.config.name),void setTimeout((function(){n({na:s.L.agb})}),1)}}catch(e){t.ta.error("Exception while inspecting indexedDb objectstorenames",e)}i(e.result)},e.onerror=function(){t.ll.mark(p.Rj.ggb),t.ta.error("IndexedDB open error",e.error),n({na:s.L.cgb,cause:e.error})}})).catch((function(t){n(t)}))}))).catch((function(i){if(i instanceof h.hr){try{e&&e.readyState&&t.ll.mark("readyState-"+e.readyState)}catch(t){}if(t.config.l3&&e&&"done"===e.readyState){if(t.e2b(e))return t.ll.mark(p.Rj.mgb),Promise.resolve(e.result);t.ll.mark(p.Rj.lgb)}return t.ll.mark(p.Rj.kgb),Promise.reject({na:s.L.egb})}return i.na?Promise.reject(i):(t.ll.mark(p.Rj.jgb),t.ta.error("IndexedDB open exception occurred",i),Promise.reject({na:s.L.dgb,cause:i}))}))},y.prototype.e2b=function(t){try{return 0<t.result.objectStoreNames.length}catch(t){this.ll.mark(p.Rj.ngb),this.ta.error("failed to check open request state",t)}return!1},i=y,i=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(c.w0)),t.__param(2,n.l(h.Rx)),t.__param(3,n.l(a.HDa)),t.__param(4,n.l(l.oF))],i),e.FDa=i,v.prototype.create=function(t){return Promise.resolve(new o.gEa(this.config,this.uZ,t))},i=v,i=t.__decorate([n.R(),t.__param(0,n.l(c.w0)),t.__param(1,n.l(h.Rx))],i),e.iEa=i,b.prototype.create=function(){return this.storage?Promise.resolve(this.storage):(this.mU||(this.mU=this.dM(this.j2b)),this.mU)},b.prototype.dM=function(t){var e;return e=this,t=void 0===t?[]:t,new Promise((function(i,n){e.ll.mark(p.Rj.Ujb),e.sU.create().then((function(r){e.Wn.create(r).then((function(o){Promise.all(t.map((function(t){return t.validate(o)}))).then((function(){e.storage=o,i(e.storage)})).catch((function(t){e.ta.debug("DB validation failed, cause: "+t),e.config.sWa?(e.ta.debug("Fixing corrupt DB"),e.sU.Yp(r).then((function(){e.ta.error("Invalid database deleted, creating new database."),e.dM().then((function(t){e.ta.error("Invalid database successfully recreated."),e.storage=t,i(e.storage)}))})).catch((function(t){e.ta.error("Couldn't delete invalid database."),n(t)}))):(e.ta.debug("Ignoring invalid DB due to config"),e.storage=o,i(e.storage))}))})).catch((function(t){n(t)}))})).catch((function(t){n(t)}))}))},i=b,i=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(c.w0)),t.__param(2,n.l(d.GDa)),t.__param(3,n.l(d.jEa)),t.__param(4,n.OH(f.OKa)),t.__param(5,n.l(l.oF))],i),e.kEa=i},function(t,e,i){var n,r,o,a;function s(t,e,i){this.config=t,this.Xo=e,this.ND=i}function u(t,e){this.reason=t,this.cause=e}Object.defineProperty(e,"__esModule",{value:!0}),e.gEa=e.FJa=void 0,n=i(3),r=i(64),(a=o=e.FJa||(e.FJa={}))[a.vda=0]="NoData",a[a.Error=1]="Error",a[a.oK=2]="Timeout",s.prototype.load=function(t){var e;return e=this,new Promise((function(i,r){e.g5("get",!1,t).then((function(e){i({key:t,value:e})})).catch((function(t){var e;switch(e=n.L.dKa,t.reason){case o.vda:e=n.L.EB;break;case o.oK:e=n.L.Vjb}r({na:e,cause:t.cause})}))}))},s.prototype.save=function(t,e,i){var r;return r=this,new Promise((function(a,s){r.g5(i?"add":"put",!0,{name:t,data:e}).then((function(){a(!i)})).catch((function(t){var e;if(e=n.L.eKa,t.reason===o.oK)e=n.L.Yjb;s({na:e,cause:t.cause})}))}))},s.prototype.remove=function(t){var e;return e=this,new Promise((function(i,r){e.g5("delete",!0,t).then((function(){i()})).catch((function(t){var e;if(e=n.L.Bea,t.reason===o.oK)e=n.L.cKa;r({na:e,cause:t.cause})}))}))},s.prototype.removeAll=function(){var t;return t=this,new Promise((function(e,i){t.g5("clear",!0,"").then((function(){e()})).catch((function(t){var e;if(e=n.L.Bea,t.reason===o.oK)e=n.L.cKa;i({na:e,cause:t.cause})}))}))},s.prototype.loadAll=function(){var t;return t=this,this.Xo.Jq(this.config.timeout,new Promise((function(e,i){var n,r,a;t.config.owa?i(new u(t.config.owa)):(n=[],r=t.ND.transaction(t.config.kX,"readonly"),a=r.objectStore(t.config.kX).openCursor(),r.onerror=function(){i(new u(o.Error,a.error))},a.onsuccess=function(t){if(t=t.target.result)try{n.push({key:t.value.name,value:t.value.data}),t.continue()}catch(t){i(new u(o.Error,t))}else e(n)},a.onerror=function(){i(new u(o.Error,a.error))})}))).catch((function(t){return t instanceof r.hr?Promise.reject(new u(o.oK,t)):t instanceof u?Promise.reject(t):Promise.reject(new u(o.Error,t))}))},s.prototype.g5=function(t,e,i){var n;return n=this,this.Xo.Jq(this.config.timeout,new Promise((function(r,a){var s,c;s=n.ND.transaction(n.config.kX,e?"readwrite":"readonly"),c=s.objectStore(n.config.kX)[t](i),s.onerror=function(){a(new u(o.Error,c.error))},c.onsuccess=function(e){var i;if("get"==t)try{(i=e.target.result)?r(i.data):a(new u(o.vda))}catch(t){a(new u(o.vda,t))}else r(void 0)},c.onerror=function(){a(new u(o.Error,c.error))}}))).catch((function(t){return t instanceof r.hr?Promise.reject(new u(o.oK,t)):t instanceof u?Promise.reject(t):Promise.reject(new u(o.Error,t))}))},e.gEa=s},function(t,e,i){var n,o,a,s,u;function c(t,e){return(t=a.Ze.call(this,t,"IndexedDBConfigImpl")||this).config=e,t.version=1,t.kX="namedatapairs",t}Object.defineProperty(e,"__esModule",{value:!0}),e.hEa=void 0,t=i(1),n=i(0),o=i(45),a=i(46),s=i(40),i=i(37),g(c,a.Ze),r.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.nw?"Test":"")}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Jwa}},l3:{configurable:!0,enumerable:!0,get:function(){return this.config.l3}},pwa:{configurable:!0,enumerable:!0,get:function(){return 0}},owa:{configurable:!0,enumerable:!0,get:function(){return 0}},sWa:{configurable:!0,enumerable:!0,get:function(){return!0}}}),u=c,t.__decorate([o.config(o.ZA,"simulateIdbOpenError")],u.prototype,"pwa",null),t.__decorate([o.config(o.ZA,"simulateIdbLoadAllError")],u.prototype,"owa",null),t.__decorate([o.config(o.dd,"fixInvalidDatabase")],u.prototype,"sWa",null),u=t.__decorate([n.R(),t.__param(0,n.l(i.Wl)),t.__param(1,n.l(s.Tm))],u),e.hEa=u},function(t,e,i){var n,o;function a(t){this.config=t}Object.defineProperty(e,"__esModule",{value:!0}),e.IAa=void 0,t=i(1),n=i(0),i=i(40),r.Object.defineProperties(a.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Jwa}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.D$a}}}),o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.Tm))],o),e.IAa=o},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,n){this.ta=t,this.config=e,this.pJb=i,this.Bra=n,this.tG={mem:{storage:this.Bra,key:"mem"}},this.iE=this.config.iE}function f(t,e,i,n){this.Wf=t,this.Wn=e,this.Bra=i,this.config=n}Object.defineProperty(e,"__esModule",{value:!0}),e.rba=e.Kya=void 0,t=i(1),n=i(0),r=i(3),o=i(184),a=i(7),s=i(458),u=i(1047),i=i(40),f.prototype.create=function(){return this.mU||(this.mU=this.dM()),this.mU},f.prototype.dM=function(){return this.trb=new h(this.Wf.ib("AppStorage"),this.config,this.Wn,this.Bra),this.trb.create()},c=f,c=t.__decorate([n.R(),t.__param(0,n.l(a.qb)),t.__param(1,n.l(o.Kca)),t.__param(2,n.l(s.oGa)),t.__param(3,n.l(i.Tm))],c),e.Kya=c,h.prototype.create=function(){var t;return t=this,this.$xb().then((function(e){if(!t.Wtb(e,t.config.$V))throw t.BPb(e);return t}))},h.prototype.load=function(t){var e;return e=this,new Promise((function(i,n){e.rV(t).storage.load(t).then((function(t){i(t)})).catch((function(t){n(t)}))}))},h.prototype.save=function(t,e,i){var n;return n=this,new Promise((function(r,o){n.rV(t).storage.save(t,e,i).then((function(t){r(t)})).catch((function(t){o(t)}))}))},h.prototype.remove=function(t){var e;return e=this,new Promise((function(i,n){e.rV(t).storage.remove(t).then((function(){i()})).catch((function(t){n(t)}))}))},h.prototype.removeAll=function(){var t;return t=this,new Promise((function(e,i){t.a7a("mem").then((function(){return t.a7a("idb")})).catch((function(t){return Promise.reject(t)})).then((function(){e()})).catch((function(e){t.ta.error("remove all failed"),i(e)}))}))},h.prototype.loadAll=function(){var t,e;return t=this,e=[],this.r1a("mem").then((function(i){return e=e.concat(i),t.r1a("idb")})).catch((function(e){return t.hLb(e)||t.ta.error("IndexedDb.LoadAll exception",e),[]})).then((function(t){return e=e.concat(t)})).catch((function(e){throw t.ta.error("load all failed",e),e}))},h.prototype.$xb=function(){var t;return t=this,this.pJb.create().then((function(e){t.tG.idb={storage:e,key:"idb"}})).catch((function(e){return t.ta.error("idb failed to load",e),e||{na:r.L.Vl}}))},h.prototype.Wtb=function(t,e){return!!(!t||t&&e)},h.prototype.BPb=function(t){var e;return e="",t&&(e+=t.na),{na:e}},h.prototype.a7a=function(t){return(t=this.tG[t])?t.storage.removeAll():Promise.resolve()},h.prototype.r1a=function(t){return(t=this.tG[t])?t.storage.loadAll():Promise.resolve([])},h.prototype.fDb=function(t){for(var e in this.iE)if(t.startsWith(e))return this.iE[e];return this.iE[u.veb]},h.prototype.rV=function(t){var e,i;return e=this,this.fDb(t).every((function(t){return!e.tG[t]||(i=e.tG[t],!1)})),i||(this.ta.error("component not found for storageKey",{rZb:t,Z8b:Object.keys(this.tG),rules:this.iE}),i=this.tG.mem),this.ta.trace("component found for key",{storageKey:t,componentKey:i.key}),i},h.prototype.hLb=function(t){return(t&&(t.na||t.errorSubCode))===r.L.EB},e.rba=h},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.veb="__default_rule_key__"},function(t,e,i){var n,r,o;function a(t){this.Wf=t,this.QH={},this.ta=this.Wf.ib("MemoryStorage")}Object.defineProperty(e,"__esModule",{value:!0}),e.nGa=void 0,t=i(1),n=i(0),r=i(3),i=i(7),a.prototype.load=function(t){var e;return this.QH.hasOwnProperty(t)?(e=this.QH[t],this.ta.debug("Storage entry loaded",{key:t}),Promise.resolve({key:t,value:e})):(this.ta.debug("Storage entry not found",{key:t}),Promise.reject({na:r.L.EB}))},a.prototype.save=function(t,e,i){return i&&this.QH.hasOwnProperty(t)?Promise.resolve(!1):(this.QH[t]=e,Promise.resolve(!0))},a.prototype.remove=function(t){return delete this.QH[t],Promise.resolve()},a.prototype.loadAll=function(){var t;return t=Object.entries(this.QH).map((function(t){var e;return{key:t=(e=v(t)).next().value,value:e=e.next().value}})),Promise.resolve(t)},a.prototype.removeAll=function(){return this.QH={},Promise.resolve()},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.qb))],o),e.nGa=o},function(t,e,i){var n,r,o,a,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.KL=void 0,t=i(0),n=i(459),r=i(460),o=i(461),a=i(1050),s=i(1051),u=i(1052),e.KL=new t.rd((function(t){t(n.zza).to(a.yza).aa(),t(r.xza).to(s.uza).aa(),t(o.wza).to(u.vza).aa()}))},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,n,r){this.A3=e,this.jb=i,this.Rsb=n,this.config=r,this.ta=t.ib("Bookmark")}Object.defineProperty(e,"__esModule",{value:!0}),e.yza=void 0,t=i(1),n=i(0),r=i(460),o=i(461),a=i(7),s=i(27),u=i(4),i=i(13),h.prototype.Yqb=function(t){var e,i;if(e=t.bb.playbackState&&t.bb.playbackState.currentTime,i=this.WEb(t.J),e=this.jb.EG(e)?u.Nc(e):i,this.jb.Gg(e))this.ta.info("Overriding bookmark",{From:t.oJ.da(u.ja),To:e.da(u.ja)}),t=Object.assign({},t,{oJ:e});else if(this.tJb(t))return this.ta.trace("Ignoring bookmark because it's too close to beginning"),u.vh(0);return t.oJ.Fpa()?(this.ta.trace("Ignoring bookmark because it's negative"),u.vh(0)):this.sJb(t)?(this.ta.trace("Ignoring bookmark because it's too close to end"),u.vh(0)):this.rJb(t)?(this.ta.trace("Ignoring bookmark because it's too close to the end to start decoding"),u.vh(0)):t.oJ},h.prototype.tJb=function(t){return 0>t.oJ.Al(this.ona(t))},h.prototype.ona=function(t){return this.kRa(this.A3.ona(),t.D9)},h.prototype.sJb=function(t){return 0<t.oJ.Al(this.pna(t))},h.prototype.pna=function(t){var e;return e=t.bb.Fl?this.A3.LFb():this.A3.pna(),t.D9.Qa(this.kRa(e,t.D9))},h.prototype.rJb=function(t){return 0<t.oJ.Al(this.tFb(t))},h.prototype.tFb=function(t){var e;return e=t.bb.Fl?this.config().A4a:this.config().$H,t.D9.Qa(u.Nc(e))},h.prototype.WEb=function(t){var e;if(t=this.A3.Uma()[t],e=-1,this.jb.Ip(t)?e=parseInt(t):this.jb.Ii(t)&&(e=t),this.jb.yT(e))return u.Nc(e)},h.prototype.kRa=function(t,e){return this.Rsb.FZb(t,e)},c=h,c=t.__decorate([n.R(),t.__param(0,n.l(a.qb)),t.__param(1,n.l(r.xza)),t.__param(2,n.l(s.bg)),t.__param(3,n.l(o.wza)),t.__param(4,n.l(i.Zc))],c),e.yza=c},function(t,e,i){var n,r;function o(t){this.config=t}Object.defineProperty(e,"__esModule",{value:!0}),e.uza=void 0,t=i(1),n=i(0),i=i(13),o.prototype.ona=function(){return this.PC().Ssb},o.prototype.pna=function(){return this.PC().Tsb},o.prototype.LFb=function(){return this.PC().Usb},o.prototype.Uma=function(){return this.PC().jRa},o.prototype.PC=function(){return this.config()},r=o,r=t.__decorate([n.R(),t.__param(0,n.l(i.Zc))],r),e.uza=r},function(t,e,i){var n,r,o;function a(t){this.jb=t}Object.defineProperty(e,"__esModule",{value:!0}),e.vza=void 0,t=i(1),n=i(0),r=i(27),o=i(4),a.prototype.FZb=function(t,e){var i,n;return i=parseFloat(t),n=0,"%"===t[t.length-1]&&this.jb.Ii(i)?n=Math.round(i*e.da(o.ja)/100):(t=parseInt(t),this.jb.yT(t)&&(n=t)),o.Nc(Math.min(n,e.da(o.ja)))},i=a,i=t.__decorate([n.R(),t.__param(0,n.l(r.bg))],i),e.vza=i},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.ERa=void 0,t=i(0),n=i(462),r=i(1054),e.ERa=new t.rd((function(t){t(n.Qza).to(r.Pza).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e,i,n,r,o){this.config=t,this.DD=i,this.profile=n,this.xaa=r,this.ZT=o,this.log=e.ib("CDMAttestedDescriptor"),this.jXa(h.wv.MR)}Object.defineProperty(e,"__esModule",{value:!0}),e.Pza=void 0,t=i(1),n=i(0),r=i(13),o=i(7),a=i(156),s=i(277),u=i(94),c=i(166),h=i(40),f=i(57),l.prototype.jXa=function(t){var e;return e=this,this.xaa.O$(t)?this.config().qBb?this.hXa().then((function(t){return t?Promise.resolve(void 0):(e.l1a||(e.l1a=e.ZT.Tna(f.Xh.eo)),e.l1a)})).catch((function(t){e.log.error("Failed to generate challenge",t)})).then((function(t){return null==t||t.ac.close(),null==t?void 0:t.rja})).then((function(t){return Promise.all([Promise.resolve(t),e.hXa()])})).then((function(t){var e;if(e=(t=v(t)).next().value,!t.next().value)return e})):this.DD().then((function(t){t.$W.removeServiceToken("cad")})):Promise.resolve(void 0)},l.prototype.hXa=function(){var t;return t=this,this.DD().then((function(e){return(e=e.$W.getServiceTokens(t.profile))&&e.find((function(t){return"cad"===t.name}))}))},i=l,i=t.__decorate([n.R(),t.__param(0,n.l(r.Zc)),t.__param(1,n.l(o.qb)),t.__param(2,n.l(a.yR)),t.__param(3,n.l(u.OR)),t.__param(4,n.l(s.r1)),t.__param(5,n.l(c.C_))],i),e.Pza=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;Object.defineProperty(e,"__esModule",{value:!0}),e.b2a=void 0,t=i(0),n=i(260),r=i(1056),o=i(463),a=i(1063),s=i(466),u=i(467),c=i(469),h=i(1064),f=i(157),l=i(1065),d=i(471),p=i(1066),e.b2a=new t.rd((function(t){t(o.HFa).to(a.GFa).aa(),t(n.kda).to(r.IFa).aa(),t(s.PIa).$i((function(t){for(var e=[],n=0;n<arguments.length;++n)e[n-0]=arguments[n];return n=i(279).nF,new(Function.prototype.bind.apply(n,[null].concat(y(e))))})),t(u.uLa).$i((function(t){for(var e=[],n=0;n<arguments.length;++n)e[n-0]=arguments[n];return n=i(475).fAa,new(Function.prototype.bind.apply(n,[null].concat(y(e))))})),t(c.LFa).wf((function(){return function(t){return new h.MFa(t)}})),t(f.tR).to(l.EFa).aa(),t(d.DFa).to(p.CFa).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e,i,n,r){this.Wf=t,this.config=e,this.xta=i,this.txa=n,this.taa=r}Object.defineProperty(e,"__esModule",{value:!0}),e.IFa=void 0,t=i(1),n=i(0),r=i(7),o=i(463),a=i(1057),s=i(1058),u=i(1059),c=i(1060),h=i(1061),f=i(1062),l=i(466),d=i(467),i=i(468),b.prototype.create=function(t){var e,i;return e=this.Wf.ib("ManifestParser",t),i=new a.nAa(e,this.config),new u.JFa(i,new s.gLa(e,this.config,t,i,this.xta),new c.ELa(e,t,this.txa),new h.kza(e,this.config,t,this.taa),new f.dMa(e,this.taa))},p=b,p=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.HFa)),t.__param(2,n.l(l.PIa)),t.__param(3,n.l(i.CLa)),t.__param(4,n.l(d.uLa))],p),e.IFa=p},function(t,e,i){var n,r,o;function a(t,e){this.log=t,this.config=e}Object.defineProperty(e,"__esModule",{value:!0}),e.nAa=void 0,n=i(129),r=i(278),o=i(21),a.prototype.Tsa=function(t,e,i){var r,o,a,s,u;if(r=this,o=this.config.pja,a=this.config.oja,s=(t=v(n.yu((function(t){return(!o.length||0<=o.indexOf(t.id))&&0>a.indexOf(t.id)}),t||[]))).next().value,t.next().value.forEach((function(t){return r.log.warn("Cdn is not allowed",{Id:t.id})})),(u=s.map((function(t){var i;return i=(e?e.find((function(e){return e.key===t.key})):void 0)||{},{id:t.id,name:t.name,uc:t.uc,type:t.type,yqa:t.key,cac:t.Q1a,location:{id:i.key,uc:i.uc,level:i.level,weight:i.weight,hi:[]}}}))).sort((function(t,e){return t.uc-e.uc})),u.forEach((function(t){return t.location.hi=u.filter((function(e){return e.yqa===t.yqa}))})),this.log.trace("Transformed cdns",{Count:u.length}),i&&!u.length)throw Error("no valid cdns");return u},a.prototype.lJb=function(t,e,i,n){var a;return a=t.filter((function(t){return-1!==i.findIndex((function(e){return e.id===t.id}))})).map((function(t){return{D4a:!0,Pc:t}})).concat(i.map((function(t){return{D4a:!1,Pc:t}}))).sort((function(t,e){return t.Pc.uc===e.Pc.uc?t.D4a?-1:1:t.Pc.uc-e.Pc.uc})).map((function(t,e){return r.PN(t.Pc).uc=e+1,t.Pc})),t=e.filter((function(t){return-1!==n.findIndex((function(e){return e.key===t.key}))})).concat(n).map((function(t){var e;return e=a.findIndex((function(e){return e.key===t.key})),o.hb(-1!==e),e=a[e],r.PN(t).uc=e.uc,t})),e=this.Tsa(a,t,!0),{mXb:a,RMb:t,hi:e}},e.nAa=a},function(t,e,i){var n,r,o,a;function s(t,e,i,n,r){this.log=t,this.config=e,this.j=i,this.R3=n,this.xta=r}Object.defineProperty(e,"__esModule",{value:!0}),e.gLa=void 0,n=i(44),r=i(11),o=i(131),a=i(464),s.prototype.h5a=function(t,e){var i;return i=this,e=e.map((function(e){var r,a,s,u,c;return s=i.n0b(e),e.lD||!e.oi||s&&0<s.length||i.log.error("track without downloadables",i.eGb(e)),u={},c=[],0<s.length&&((u=s[0]).profile==n.Zm.cK&&(u=i.$Wb(s)),c=i.R3.Tsa(e.QRa,void 0,!1)),e=i.xta(i.j,e.sg,e.id,null!==(r=e.uc)&&void 0!==r?r:-1,null===(a=e.oi)||void 0===a||a,t,u.Bc,u.urls||{},c,e.language,e.qD,o.p1[e.ml.toLowerCase()]||o.vp.gK,e.XI,e.variant,e.oI.toUpperCase(),u.profile,i.kGb(u)||{},e.lD,e.q7,e.t7,e.du),i.log.trace("Transformed timed text track",e),e})),this.log.trace("Transformed timed text tracks",{Count:e.length}),e},s.prototype.M_b=function(t){var e,i;if(e=this,i=this.config.Cma){if(t=v(t.filter((function(t){return t.Wd==i||t.trackId==i}))).next().value)return t}else if(this.j.w5&&(t=v(t.filter((function(t){return t.trackId==e.j.w5}))).next().value))return t},s.prototype.n0b=function(t){var e,i;return e=this,i=t.MUa,(t=Object.entries(t.Bxa||{}).map((function(t){var n;return t=(n=v(t)).next().value,n=n.next().value,{Bc:i[t],profile:t,size:n.size||0,priority:e.mFb(t,n),offset:n.Hra||0,nSb:n.width,w5a:n.height,urls:n.jw}}))).sort((function(t,e){return t.priority-e.priority})),t},s.prototype.mFb=function(t,e){var i,r;return i=this.config.dv.indexOf(t),e=e.size,r=this.config.JP,t===n.Zm.Uba&&0<r&&e>r?this.config.dv.length+1:0<=i?i:this.config.dv.length},s.prototype.kGb=function(t){if(t.profile===n.Zm.cK)return{offset:t.offset,length:t.size,xI:{width:t.nSb,height:t.w5a}}},s.prototype.$Wb=function(t){var e,i;return e=this.config.Voa||a.Nea.NYa(),(i=v(t.filter((function(t){return t.profile===n.Zm.cK})).filter((function(t){return t.w5a===e}))).next().value)?i:(this.log.warn("none of the downloadables match the intended resolution",{screenHeight:r.yv.height,intendedResolution:e}),t[0])},s.prototype.eGb=function(t){return{isNone:t.lD,isForced:t.q7,bcp47:t.language,id:t.sg}},e.gLa=s},function(t,e,i){var n;function r(t,e,i,n,r){this.R3=t,this.dxa=e,this.w0b=i,this.v3=n,this.Ibb=r}Object.defineProperty(e,"__esModule",{value:!0}),e.JFa=void 0,n=i(278),r.prototype.f5a=function(t){var e,i,n,r,o,a,s,u,c;return r=null!==(i=null===(e=(n=t.$b).S3)||void 0===e?void 0:e.ds)&&void 0!==i?i:"",o=!!n.fY,e=this.R3.Tsa(n.Pl,n.Hl,!0),i=this.dxa.h5a(r,n.tZ),t=this.w0b.TRb(n.z0b),a=o?this.v3.W4a(r,n.gG,i):this.v3.ORb(r,n.gG,n.media,i),r=this.Ibb.URb(r,n.eB),s=r[0],u=this.v3.ksb(a)||a.find((function(t){return o?t.trackId===n.fY.pn:t.Nz===n.z4[0].pn}))||a[0],c=this.dxa.M_b(u.Qh)||i.find((function(t){return o?t.trackId===n.fY.KP:t.Nz===n.z4[0].m$a}))||u.Qh[0],{Lu:this.Ibb.QRb(n.eB),hi:e,Ki:a,ip:r,Qh:i,XA:t,Ti:n.Ti,qXb:n.avb,oD:n.UV,rm:n.rm,tzb:n.gG.findIndex((function(t){return t.sg==u.trackId})),Dzb:n.eB.findIndex((function(t){return t.sg==s.trackId})),A4:s,vU:u,xU:c}},r.prototype.mJb=function(t,e,i){var r,o,a,s,u,c,h;return r=this,u=(s=this.R3.lJb(t.$b.Pl,t.$b.Hl,i.$b.Pl,i.$b.Hl)).mXb,c=s.RMb,s=s.hi,n.PN(t.$b).Pl=u,n.PN(t.$b).Hl=c,e.hi=s,h=null!==(a=null===(o=i.$b.S3)||void 0===o?void 0:o.ds)&&void 0!==a?a:"",o=(i=i.$b).gG,i.tZ.forEach((function(i){var n;i.oi&&(n=r.o7a(t.$b.tZ,e.Qh,i,(function(t){return r.dxa.h5a(h,[t])[0]})))&&e.Ki.forEach((function(t){var e;-1!==(e=(t=t.Qh).findIndex((function(t){return t.trackId===n.trackId})))&&(t[e]=n)}))})),o.forEach((function(i){i.oi&&r.o7a(t.$b.gG,e.Ki,i,(function(t){return r.v3.W4a(h,[t],e.Qh)[0]}))})),{oa:t,Rc:e}},r.prototype.o7a=function(t,e,i,n){var r,o,a,s;if(o=-1!==(r=t.findIndex((function(t){return t.sg===i.sg})))?t[r]:void 0,s=-1!==(a=e.findIndex((function(t){return t.trackId===i.sg})))?e[a]:void 0,o&&!o.oi&&s&&!s.oi)return n=n(i),t[r]=i,e[a]=n},e.JFa=r},function(t,e){function i(t,e,i){this.log=t,this.j=e,this.txa=i}Object.defineProperty(e,"__esModule",{value:!0}),e.ELa=void 0,i.prototype.TRb=function(t){var e;return e=this,0===(t=(t||[]).filter((function(t){return t.urls&&0<t.urls.length})).map((function(t){return e.txa(e.j,t.id,t.height,t.width,t.sSb,t.tSb,t.size,t.du,{unknown:t.urls[0]})}))).length&&this.log.warn("There are no trickplay tracks"),t.sort((function(t,e){return t.size-e.size})),this.log.trace("Transformed trick play tracks",{Count:t.length}),t},e.ELa=i},function(t,e,i){var n,r,o,a,s;function u(t,e,i,n){return(t=r.vR.call(this,t,n)||this).config=e,t.j=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.kza=void 0,n=i(447),r=i(465),o=i(129),a=i(90),s=i(131),g(u,r.vR),u.prototype.W4a=function(t,e,i){var n,r;if(n=this,r=this.config.baa,!(e=e.filter((function(t){var e,i;return(e=t.lD||!t.oi||t.streams&&0<t.streams.length)||n.log.warn("Audio track is missing streams",n.q6(t)),(i=0===r.length||0<=r.indexOf(t.ml))||n.log.warn("Audio track is not supported",n.q6(t)),e&&i}))).length)throw Error("no valid audio tracks");return e=e.map((function(e){return n.V4a(t,e,n.oEb(e,i))})),this.log.trace("Parsed audio tracks",{Count:e.length}),e},u.prototype.ORb=function(t,e,i,n){var r,a,s,u;if(r=this,e=(a=v(o.yu((function(t){return t.lD}),e))).next().value,a=a.next().value,s=(a=v(o.yu((function(t){return t.streams&&0<t.streams.length}),a))).next().value,a.next().value.forEach((function(t){return r.log.warn("Audio track is missing streams",r.q6(t))})),u=this.config.baa,s=(a=v(o.yu((function(t){return 0===u.length||0<=u.indexOf(t.ml)}),s))).next().value,a.next().value.forEach((function(t){return r.log.warn("Audio track is not supported",r.q6(t))})),!(e=[].concat(y(s),y(e)).map((function(e){return r.V4a(t,e,r.aGb(e.sg,i,n))}))).length)throw Error("no valid audio tracks");return this.log.trace("Transformed audio tracks",{Count:e.length}),e},u.prototype.ksb=function(t){var e,i;if(e=this,i=this.config.yma){if(t=v(t.filter((function(t){return t.Wd==i||t.trackId==i}))).next().value)return t}else if(this.j.v5&&(t=v(t.filter((function(t){return t.trackId==e.j.v5}))).next().value))return t},u.prototype.V4a=function(t,e,i){var r,o,u,c;return c=e.ml,(t={type:a.Ei.audio,XI:e.XI,variant:e.variant,trackId:e.sg,Nz:e.NP,ml:s.p1[c.toLowerCase()]||s.vp.gK,oI:c,Fg:t,Wd:e.language,displayName:e.qD,uc:null!==(r=e.uc)&&void 0!==r?r:-1,oi:null===(o=e.oi)||void 0===o||o,channels:e.channels,q9b:e.channels,Qh:i,Ri:{Bcp47:e.language,TrackId:e.sg},streams:[],isNative:e.isNative,Vr:e.lD,hZ:e.hZ}).streams=this.nab(e.streams,t),this.log.trace("Transformed audio track",t,{StreamCount:t.streams.length,AllowedTimedTextTracks:t.Qh.length}),t.hvb=n.lza[null===(u=t.streams[0])||void 0===u?void 0:u.kh],t},u.prototype.q6=function(t){return{language:t.qD,bcp47:t.language,type:t.ml}},u.prototype.oEb=function(t,e){return e.filter((function(e){if(0<=t.pAb.indexOf(e.Nz))return!1;if(t.cUa){if(t.cUa!==e.Nz&&(e.Vr()||e.rq()))return!1}else if(t.oQb){if(e.Vr()||e.rq())return!1}else if(e.rq())return!1;return!0}))},u.prototype.aGb=function(t,e,i){return e.filter((function(e){return e.vg.Wb===t})).map((function(t){return t.vg.Xm})).map((function(t){return i.find((function(e){return e.trackId===t}))})).filter(Boolean)},e.kza=u},function(t,e,i){var n,r,o,a;function s(t,e){return r.vR.call(this,t,e)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.dMa=void 0,n=i(129),r=i(465),o=i(90),a=i(131),g(s,r.vR),s.prototype.URb=function(t,e){var i,r;if(i=this,r=(e=v(n.yu((function(t){return t.streams&&0<t.streams.length}),e))).next().value,e.next().value.forEach((function(t){return i.log.warn("Video track is missing streams",{trackId:t.sg})})),!(e=r.map((function(e){var n;return n=e.ml,(n={type:o.Ei.video,trackId:e.sg,Nz:e.NP,ml:a.p1[n.toLowerCase()]||a.vp.gK,oI:n,Fg:t,streams:[],Ri:{},Iu:e.Iu}).streams=i.nab(e.streams,n),i.log.trace("Transformed video track",{StreamCount:n.streams.length}),n}))).length)throw Error("No valid video tracks");return this.log.trace("Transformed video tracks",{Count:e.length}),e},s.prototype.QRb=function(t){var e;return e=t.map((function(t){return t.Iu})).filter(Boolean),e=[].concat.apply([],y(e)).map((function(t){return t.fa})),t=t.map((function(t){return t.nla})).filter(Boolean).map((function(t){return t.fa})),0<e.length?e:t},e.dMa=s},function(t,e,i){var n,o,a,s,u,c;function h(t,e){return(t=o.Ze.call(this,t,"ManifestParserConfigImpl")||this).oj=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.GFa=void 0,t=i(1),n=i(0),o=i(46),a=i(37),s=i(45),u=i(108),c=i(52),g(h,o.Ze),r.Object.defineProperties(h.prototype,{baa:{configurable:!0,enumerable:!0,get:function(){return[]}},yma:{configurable:!0,enumerable:!0,get:function(){return""}},pja:{configurable:!0,enumerable:!0,get:function(){return[]}},oja:{configurable:!0,enumerable:!0,get:function(){return[]}},Cma:{configurable:!0,enumerable:!0,get:function(){return""}},Voa:{configurable:!0,enumerable:!0,get:function(){return 0}},JP:{configurable:!0,enumerable:!0,get:function(){return this.oj.JP.da(c.ov)}},dv:{configurable:!0,enumerable:!0,get:function(){return this.oj.dv}}}),i=h,t.__decorate([s.config(s.cZ,"supportedAudioTrackTypes")],i.prototype,"baa",null),t.__decorate([s.config(s.string,"forceAudioTrack")],i.prototype,"yma",null),t.__decorate([s.config(s.Exa,"cdnIdWhiteList")],i.prototype,"pja",null),t.__decorate([s.config(s.Exa,"cdnIdBlackList")],i.prototype,"oja",null),t.__decorate([s.config(s.string,"forceTimedTextTrack")],i.prototype,"Cma",null),t.__decorate([s.config(s.ZA,"imageSubsResolution")],i.prototype,"Voa",null),t.__decorate([s.config(s.ZA,"timedTextSimpleFallbackThreshold")],i.prototype,"JP",null),t.__decorate([s.config(s.cZ,"timedTextProfiles")],i.prototype,"dv",null),i=t.__decorate([n.R(),t.__param(0,n.l(a.Wl)),t.__param(1,n.l(u.fF))],i),e.GFa=i},function(t,e){function i(t){this.Rc=t,this.ub=JSON.stringify(this.hGb())}Object.defineProperty(e,"__esModule",{value:!0}),e.MFa=void 0,i.prototype.hGb=function(){var t;return t=[],(!this.Rc.hi||0>=this.Rc.hi.length)&&t.push({error:"No CDN."}),this.Rc.vU||t.push({error:"No default audio track.",foundTracks:this.mna(this.Rc.Ki)}),this.Rc.A4||t.push({error:"No default video track.",foundTracks:this.mna(this.Rc.ip)}),this.Rc.xU||t.push({error:"No default subtitle track.",foundTracks:this.mna(this.Rc.Qh)}),t},i.prototype.mna=function(t){return t&&0<t.length?t.map((function(t){return t.trackId})):"No tracks found."},e.MFa=i},function(t,e,i){var n,r,o,a,s;function u(t,e){this.kMb=t,this.sNb=e}Object.defineProperty(e,"__esModule",{value:!0}),e.EFa=void 0,t=i(1),n=i(0),r=i(470),o=i(471),a=i(41),s=i(3),u.prototype.create=function(t){var e;if(t&&!this.QKb(t)){if(this.UKb(t))throw a.qd.T2b(s.M.sR,s.L.Zjb,t);return(e=this.kMb()).EPa(t.links),this.sNb.BM(t),{$b:t,lk:e,i0a:!1,h0a:!1}}},u.prototype.UKb=function(t){return"type"in t&&"muxed"===t.type},u.prototype.QKb=function(t){return"runtime"in t&&!!t.runtime},i=u,i=t.__decorate([n.R(),t.__param(0,n.l(r.IHa)),t.__param(1,n.l(o.DFa))],i),e.EFa=i},function(t,e,i){var n,r;function o(t){this.bCb=t,this.tNb={Eo:"drmType",T9b:"drmVersion",expiration:"expiration",J:"movieId",Vo:"packageId",duration:"duration",Ti:"playbackContextId",z4:["defaultTrackOrderList",{TN:"mediaId",VP:"videoTrackId",m$a:"subtitleTrackId",pn:"audioTrackId",Hbc:"preferenceOrder"}],X9b:["eligibleABTestMap",{$m:r.$m}],b9b:["badgingInfo",{M9b:"dolbyDigitalAudio",I$b:"hdrVideo",N9b:"dolbyVisionVideo",Qcc:"ultraHdVideo","3dVideo":"3dVideo",L9b:"dolbyAtmosAudio",V8b:"assistiveAudio",bcc:"sdVideo",H$b:"hdVideo"}],type:"type",Y8b:["audioTextShortcuts",{id:"id",pn:"audioTrackId",Fcc:"textTrackId"}],Cbc:"partiallyHydrated",B2a:"maxRecommendedAudioRank",C2a:"maxRecommendedTextRank",rm:"drmContextId",tIb:"hasDrmProfile",sIb:"hasClearProfile",UV:"hasDrmStreams",woa:"hasClearStreams",Hl:["locations",{uc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Pl:["servers",{id:"id",name:"name",type:"type",uc:"rank",Q1a:"lowgrade",zAb:["dns",{host:"host",qKb:"ipv4",rKb:"ipv6",FDb:"forceLookup"}],key:"key"}],gG:["audio_tracks",{type:"type",XI:"subType",variant:"variant",ml:"trackType",sg:"new_track_id",NP:"track_id",$Tb:"profileType",oZb:"stereo",profile:"profile",channels:"channels",language:"language",oub:"channelsFormat",hZ:"surroundFormatLabel",qD:"languageDescription",pAb:"disallowedSubtitleTracks",cUa:"defaultTimedText",isNative:"isNative",lD:"isNoneTrack",streams:["streams",{Gr:"downloadable_id",size:"size",xG:"content_profile",ml:"trackType",bitrate:"bitrate",Qz:"isDrm",urls:["urls",{Sp:"cdn_id",url:"url"}],sPb:"new_stream_id",type:"type",channels:"channels",oub:"channelsFormat",hZ:"surroundFormatLabel",language:"language",X8b:"audioKey",cPb:["moov",{size:"size",offset:"offset"}],zs:["sidx",{size:"size",offset:"offset"}],PA:["ssix",{size:"size",offset:"offset"}],Xn:"tags"}],hvb:"codecName",oI:"rawTrackType",id:"id",uc:"rank",oi:"hydrated",oQb:"offTrackDisallowed"}],eB:["video_tracks",{ml:"trackType",sg:"new_track_id",type:"type",NP:"track_id",tIb:"hasDrmProfile",sIb:"hasClearProfile",UV:"hasDrmStreams",woa:"hasClearStreams",Cz:"groupName",streams:["streams",{Gr:"downloadable_id",size:"size",xG:"content_profile",ml:"trackType",PUa:"drmHeaderId",bitrate:"bitrate",Qz:"isDrm",urls:["urls",{Sp:"cdn_id",url:"url"}],sPb:"new_stream_id",type:"type",Ebc:"peakBitrate",hAb:"dimensionsCount",iAb:"dimensionsLabel",y5a:"pix_w",x5a:"pix_h",E7a:"res_w",D7a:"res_h",Pyb:"crop_x",Qyb:"crop_y",Oyb:"crop_w",Nyb:"crop_h",JWa:"framerate_value",IWa:"framerate_scale",K9a:"startByteOffset",sb:"vmaf",cPb:["moov",{size:"size",offset:"offset"}],zs:["sidx",{size:"size",offset:"offset"}],PA:["ssix",{size:"size",offset:"offset"}],GI:["segmentVmaf",{offset:"offset",sb:"vmaf"}],Xn:"tags"}],$Tb:"profileType",oZb:"stereo",profile:"profile",hAb:"dimensionsCount",iAb:"dimensionsLabel",rcc:["snippets",{$m:[r.$m,{qcc:"snippetSpec",Jb:"startTimeMs",Ob:"endTimeMs"}]}],nla:["drmHeader",{fa:"bytes",Gub:"checksum",PUa:"drmHeaderId",pj:"keyId",xI:["resolution",{height:"height",width:"width"}]}],Iu:["prkDrmHeaders",{fa:"bytes",Gub:"checksum",PUa:"drmHeaderId",pj:"keyId",xI:["resolution",{height:"height",width:"width"}]}],Tt:"flavor",R$b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",qSb:"pixelAspectX",rSb:"pixelAspectY",yac:"maxCroppedWidth",xac:"maxCroppedHeight",zac:"maxCroppedX",Aac:"maxCroppedY",Hac:"max_framerate_value",Gac:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Wac:"minCroppedWidth",Vac:"minCroppedHeight",Xac:"minCroppedX",Yac:"minCroppedY",Hg:["license",{hMb:"licenseResponseBase64",Kbc:"providerSessionToken",fcc:"secureStopExpected",S9b:"drmSessionId",links:["links",{}]}]}],S3:["cdnResponseData",{II:"sessionABTestCell",ds:"pbcid"}],Bo:["choiceMap",{Yd:"initialSegment",type:"type",W:"viewableId",qa:["segments",{$m:[r.$m,{Jb:"startTimeMs",Ob:"endTimeMs",next:["next",{$m:[r.$m,{weight:"weight"}]}],Qe:"defaultNext",hq:"exitZones"}]}]}],Ovb:["contentPlaygraph",{Ca:["playgraph",{Yd:"initialSegment",qa:["segments",{$m:[r.$m,{W:"viewableId",Jb:"startTimeMs",Ob:"endTimeMs",next:["next",{$m:[r.$m,{weight:"weight"}]}],Qe:"defaultNext"}]}]}],vcc:["startIdent",{S$b:"identToken",W:"viewableId"}]}],media:["media",{id:"id",vg:["tracks",{Wb:"AUDIO",Xm:"TEXT",Mb:"VIDEO"}]}],fY:["recommendedMedia",{VP:"videoTrackId",pn:"audioTrackId",KP:"timedTextTrackId"}],tZ:["timedtexttracks",{ml:"trackType",sg:"new_track_id",type:"type",XI:"subType",variant:"variant",oI:"rawTrackType",qD:"languageDescription",language:"language",id:"id",lD:"isNoneTrack",q7:"isForcedNarrative",MUa:["downloadableIds",{}],QRa:["cdnlist",{id:"id",name:"name",type:"type",uc:"rank",Q1a:"lowgrade",zAb:["dns",{host:"host",qKb:"ipv4",rKb:"ipv6",FDb:"forceLookup"}],key:"key"}],Bxa:["ttDownloadables",{$m:[r.$m,{id:"id",size:"size",Ecc:"textKey",G$b:"hashValue",F$b:"hashAlgo",bac:"isImage",Hra:"midxOffset",a3a:"midxSize",height:"height",width:"width",jw:["downloadUrls",{}],urls:["urls",{url:"url",Sp:"cdn_id"}]}]}],t7:"isLanguageLeftToRight",du:"headIdentDuration",uc:"rank",oi:"hydrated"}],z0b:["trickplays",{Gr:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",tSb:"pixelsAspectY",sSb:"pixelsAspectX",width:"width",height:"height",du:"headIdentDuration"}],Tbb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],R9b:"dpsid",Fl:"isBranching",adc:"viewableType",nD:"isSupplemental",avb:"clientIpAddress",Vcc:"urlExpirationDuration",sac:"manifestExpirationDuration",wcc:["steeringAdditionalInfo",{xcc:"steeringId",S8b:"additionalGroupNames",zcc:["streamingClientConfig",{}]}]}}Object.defineProperty(e,"__esModule",{value:!0}),e.CFa=void 0,t=i(1),n=i(0),r=i(209),o.prototype.BM=function(t){this.bCb.BM(t,this.tNb)},i=o,i=t.__decorate([n.R(),t.__param(0,n.l(r.mCa))],i),e.CFa=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BTa=void 0,e.BTa=function(t,e,i,n){return{TGb:function(){var e;return e=t.Fna(),n.du&&(e+=n.du),e},ta:e,request:i,qf:!1}}},function(t,e,i){var n,r,o,a,s;function u(t,e){var i;return(t=n.EventEmitter.call(this)||this).content="",t.entries=[],r.hb("videoSize"in e&&"xml"in e&&!!e.xml,"Subtitle options didn't contain XML data"),"videoSize"in e&&"xml"in e&&(t.content=null!==(i=e.xml)&&void 0!==i?i:"",t.cB=e.videoSize),t}Object.defineProperty(e,"__esModule",{value:!0}),e.LEa=void 0,n=i(17),r=i(21),o=i(14),a=i(30),s=i(1069),g(u,n.EventEmitter),u.prototype.WG=function(t){var e;if(a.Xc(t)&&a.Xc(this.duration)&&t<this.duration&&this.entries&&(e=this.tPb||this.entries[Math.floor(t*this.K_b)]||this.entries[0]),e){for(;e&&e.endTime<t;)e=e.next;for(;e&&e.previous&&e.previous.endTime>=t;)e=e.previous;this.tPb=e}return e?[e]:[]},u.prototype.iN=function(t,e){var i;i=[];try{i=this.entries.filter((function(i){var n;return i=(n=v([i.startTime,i.endTime])).next().value,n=n.next().value,i>=t&&i<=e||i<=t&&t<=n}))}catch(t){}return i},u.prototype.Mr=function(t,e){return this.iN(t,e).reduce((function(t,e){return t+e.blocks.length}),0)},u.prototype.start=function(){var t,e;t=this,this.content?s.e5a(this.content,this.cB.width/this.cB.height,o.config.kxa,o.config.kaa).then((function(e){t.duration=e&&Math.max.apply(Math,y(e.map((function(t){return t.endTime}))))||0,t.K_b=e&&e.length/t.duration||0,t.entries=e,t.emit("ready")})).catch((function(e){t.emit("error",e)})):((e=Error("Subtitle content was empty")).errorDetails="Subtitle content was empty",this.emit("error",e))},u.prototype.pause=function(){},u.prototype.stop=function(){},u.prototype.cua=function(){throw Error("Method not implemented.")},u.prototype.Is=function(){throw Error("Method not implemented.")},u.prototype.NA=function(){throw Error("Method not implemented.")},u.prototype.wi=function(){throw Error("Method not implemented.")},u.prototype.Ai=function(){throw Error("Method not implemented.")},e.LEa=u},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.e5a=void 0,n=i(1070),r=i(280),e.e5a=function(t,e,i,o){return new Promise((function(a,s){r.vya(t,(function(t){t.$?n.X4a(t.object,e,i,o,(function(t){t.$?a(t.entries):s(t)})):s(t)}))}))}},function(t,e,i){var n,r,o,a,s,u,c;Object.defineProperty(e,"__esModule",{value:!0}),e.Z4a=e.Y4a=e.Usa=e.a5a=e.JRb=e.KRb=e.$4a=e.b5a=e.v9=e.c5a=e.d5a=e.X4a=void 0,n=i(21),r=i(30),o=i(12),a=i(158),s=i(11),u=i(19),c=i(24),e.X4a=function(){var t,i,h,f,l,d,p,b,v,y,g,m;function _(t){if(r.Sz(t)){if("#"==(t=t.toLowerCase())[0]){if(7==t.length)return t;if(4==t.length)return"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]}return e.b5a[t]}}function w(t,e,i){if(0<=(e=e[t])||(e=parseFloat(t)),0<=e)return s.np(e,i)}function E(t,e){var i,n;if("t"===(n=t[(i=t.length)-1]))return parseFloat(t)*e|0;if("s"===n)return"m"===t[i-2]?0|parseFloat(t):parseFloat(t)*o.pl|0;if((t=t.match(v))&&4<=t.length)return(3600*parseInt(t[1],10)+60*parseInt(t[2],10)+parseFloat(t[3]))*o.pl|0;throw Error("dfxp-badtime")}function k(t,e,i,n,r){var o,a,s,u,c,h,f,l;if(o=void 0,t)for(i=(a=t.style)?i[a]:void 0,n=(a=t.region)?n[a]:void 0,a=r.length,s=0;s<a;s++)if(void 0===(h=t[c=r[s]])&&i&&(h=i[c]),void 0===h&&n&&(h=n[c]),void 0!==h&&h!==e[c]){if(!o)for(o={},u=0;u<a;u++)void 0!==(l=e[f=r[u]])&&(o[f]=l);o[c]=h}return o||e}function O(t,e,i,n,o,s,u,c,h){var f,l;return f=[],l=0,function t(b,v,g){var m,_,w,E,O,S;if(_=(m=b[a.Fk]).style||v.style||"",w=m.region||v.region||"",_||w?O=i[E=_+"/"+w]:O=e,O||(O=e,S=r.pP(n),r.Zb(S,o[_]),O=P(O,S,u,c,h),i[_+"/"]=O,w&&(r.Zb(S,s[w]),r.Zb(S,o[_]),O=P(O,S,u,c,h),i[E]=O)),!g)t:{for(g=d.length;g--;)if(void 0!==m[d[g]]){g=!0;break t}g=void 0}for(g&&(O=P(O,m=k(m,v,o,s,p),u,c,h)),v=(b=b[a.bQ])&&b.length,_=0;_<v;_++)w=b[_],r.Jh(w)?y.test(w[a.cQ])?l++:t(w,m,g):(f.push({text:w,lineBreaks:l,style:O}),l=0)}(t,n,!1),0<l&&f.push({text:"",lineBreaks:l,style:e}),f}function S(t,e,n,r,o,a,s,u){var c,f;n&&(n=i[n]||"top",t.verticalAlignment!==n&&(t.verticalAlignment=n)),r&&(n=h[r]||"left",t.horizontalAlignment!==n&&(t.horizontalAlignment=n)),o?((c=u[o])?(r=c.marginLeft,n=c.marginTop):(c={sm:0,marginLeft:r=I((f=o.split(" "))[0],s.x)||0,marginTop:n=I(f[1],s.y)||0,arb:r*e.soa+e.QV,crb:n*e.fya+e.Naa},30>u.sm&&(u.sm++,u[o]=c)),t.marginLeft=c.arb,t.marginTop=c.crb):(n=r=0,(c=u.default)||(u.default=c={sm:0})),a&&((o=c[a])||(o={brb:(1-(r+(I((f=a.split(" "))[0],s.x)||0)))*e.soa+e.QV,$qb:(1-(n+(I(f[1],s.y)||0)))*e.fya+e.Naa},30>c.sm&&(c.sm++,c[a]=o)),t.marginRight=o.brb,t.marginBottom=o.$qb)}function T(e,i,n,o,a){var s,u,c;return s=e.displayAlign,u=e.textAlign,c=e.origin,e=e.extent,S(n=r.pP(n),i,s,u,c,e,o,a),n.id=t++,n}function A(t,i,n,o){var a,s,u,c,h,f;return a=w(n.characterSize||i.characterSize,e.c5a,2)||1,a*=(s=(s=t.fontSize)&&g.test(s)?r.op(r.He(s),25,200):void 0)/100||1,(s=t.textOutline)&&"none"!=s&&(u=s.split(" "),m.test(u)?(c=0,h=t.color):(c=1,h=_(u[0])),f=j(u[c]),u=j(u[c+1])),{characterStyle:n.characterStyle||e.d5a[t.fontFamily]||i.characterStyle,characterSize:a*o,characterColor:_(n.characterColor||t.color||i.characterColor),characterOpacity:w(r.X3(n.characterOpacity,t.opacity,i.characterOpacity),e.v9,1),characterEdgeAttributes:n.characterEdgeAttributes||s&&("none"===s?e.$4a:u?e.Usa:e.a5a)||i.characterEdgeAttributes,characterEdgeColor:_(n.characterEdgeColor||h||i.characterEdgeColor),characterEdgeWidth:f,characterEdgeBlur:u,characterItalic:"italic"===t.fontStyle,characterUnderline:"underline"===t.textDecoration,backgroundColor:_(n.backgroundColor||t.backgroundColor||i.backgroundColor),backgroundOpacity:w(r.X3(n.backgroundOpacity,t.opacity,i.backgroundOpacity),e.v9,1)}}function P(t,e,i,n,r){var o;return e=A(e,i,n,r),c.te(e,(function(e,i){i!==t[e]&&(o||(o=s.dF(t)),o[e]=i)})),o||t}function j(t){return t=r.He(t),u.Rz(t,0,100)?t:0}function I(t,e){var i;return"%"===(i=t[t.length-1])?r.op(.01*parseFloat(t),0,1):"c"===i?r.op(r.He(t)/e,0,1):void 0}function x(t){for(var e=t.length,i=t[--e].endTime;e--;)i=s.np(t[e].endTime,i);return i}function M(t){c.te(t,(function(e,i){0<=e.toLowerCase().indexOf("color")&&(t[e]=_(i))}))}return t=1,i={before:"top",center:"center",after:"bottom"},h={left:"left",start:"left",center:"center",right:"right",end:"right"},f={id:t++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1},l={id:t++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0},d="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" "),p=d.concat(["style","region"]),b=["region","textAlign","displayAlign","extent","origin"],v=/^([0-9]+):([0-9]+):([0-9.]+)$/,y=/^br$/i,g=/^[0-9]{1,3}%$/,m=/^[0-9]/,function(i,u,c,h,d){var v,y,g,m,P,j,I,R,N,C,L,D,U,B,F,q,K,H,V,G,J,z,Y,W,X,Z,Q,$,tt,et;function it(){var e,i,n,o,a,s,u;function c(n,o){for(var a,s,u=[],c={},h=i.length;h--;)c[s=(a=i[h]).region.id]||(c[s]=1,u.unshift(a));(a=e[e.length-1])&&a.endTime==n&&r.Bt(a.blocks,u)?a.endTime=o:e.push({id:t++,startTime:n,endTime:o,blocks:u})}try{if(!W.length)return void nt({$:!0,entries:[]});for(r.AQa(W,"startTime"),e=[],i=[],n=W[0],o=W[0].startTime,a=1;i.length||n;){for(;!i.length||n&&n.startTime==o;)i.push(n),o=n.startTime,n=W[a++];if(u=x(i),!n||u<=n.startTime)for(c(o,u),o=u,s=i.length;s--;)i[s].endTime<=o&&i.splice(s,1);else c(o,n.startTime),o=n.startTime,i.push(n),n=W[a++]}for(a=e.length;a--;)e[a].index=a,e[a].previous=e[a-1],e[a].next=e[a+1]}catch(t){return void nt({na:r.L.d0,ub:r.wd(t)})}nt({$:!0,entries:e})}function nt(t){setTimeout((function(){v.abort=r.ql,d(t)}),1)}v={abort:function(){et&&clearTimeout(et)}};try{if(y=i[a.Fk],g=o.pl/(r.He(y.tickRate)||1),m=function(t,e){var i,r,o,a;return i=t.pixelAspectRatio,r={QV:0,soa:1,Naa:0,fya:1},2<=(t=(t.extent||"640px 480px").split(" ")).length&&(i=(i||"").split(" "),o=parseFloat(t[0])*(parseFloat(i[0])||1),a=parseFloat(t[1])*(parseFloat(i[1])||1)),i=(o=0<o&&0<a?o/a:1280/720)/(e=e||1280/720),.01<s.SE(e-o)&&(e>=o?(r.QV=(1-i)/2,r.soa=i):n.hb(!1,"not implemented")),r}(y,u),P=r.Zb(l,{marginLeft:m.QV,marginTop:m.Naa,marginRight:m.QV,marginBottom:m.Naa}),j={},I={},R={},C=i.head,L=i.body,D=function(t){var i,n,o,a,s;return(i=t.cellResolution)&&2<=(i=i.split(" ")).length&&(n=r.He(i[0]),i=r.He(i[1]),0<n&&0<i)?{x:n,y:i}:(i=t.extent)&&2<=(i=i.split(" ")).length&&(n=r.He(i[0]),o=r.He(i[1]),(t=t.pixelAspectRatio)&&(i=t.split(" "),a=r.He(i[0]),s=r.He(i[1])),n&&o&&1.5<n*(a||1)/(o*(s||1)))?e.Z4a:e.Y4a}(y),U=1/D.y*m.fya,B=r.Zb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:e.Usa,characterEdgeColor:"#000000",characterSize:1},c,{pA:!0}),F=h||{},q={sm:0},C){if(K=C.styling)for(N=K.style;N;)M(H=N[a.Fk]),j[H.id]=H,N=N[a.uE];if(V=C.layout)for(var rt=V.region;rt;){for(G=(H=rt[a.Fk]).id,J=r.pP(j[H.style]),J=r.Zb(J,H),N=rt.style;N;)r.Zb(J,N[a.Fk]),N=N[a.uE];M(J),I[G]=J,R[G]=T(J,m,P,D,q),rt=rt[a.uE]}}z=L.div,Y=z.p,W=[],X={},X=k(L[a.Fk],X,j,I,p),X=k(z[a.Fk],X,j,I,p),Z={},Z=k(L[a.Fk],Z,j,I,b),Z=k(z[a.Fk],Z,j,I,b),Q=A(X,B,F,U),r.Zb(Q,{windowColor:_(F.windowColor||B.windowColor),windowOpacity:w(r.X3(F.windowOpacity,B.windowOpacity),e.v9,1),cellResolution:D},{pA:!0}),$={},z.p=void 0,z[a.bQ]=[]}catch(t){return void nt({na:r.L.d0,ub:r.wd(t)})}return tt=s.HJ(),et=setTimeout((function e(){var i,n,o,u,c,h,d,p,v,y,_,w,T,A,P,x,M;try{for(;Y;)if(H=Y[a.Fk],n=(i=W).push,o=t++,u=E(H.begin,g),c=E(H.end,g),h=void 0,d=R,p=m,v=D,y=q,_=Y[a.Fk],T=(w=k(Y[a.Fk],Z,j,I,b)).region,A=_.displayAlign,P=w.textAlign,x=_.origin,M=_.extent,T||A||P||x||M?((h=d[T])?h=s.dF(h):A||x||M?(h=s.dF(l)).id=t++:h=s.dF(f),S(h,p,A,P,x,M,v,y)):h=f,n.call(i,{id:o,startTime:u,endTime:c,region:h,textNodes:O(Y,Q,$,X,j,I,B,F,U)}),Y=Y[a.uE],100<s.HJ()-tt)return tt=Date.now(),void(et=setTimeout(e,1))}catch(t){return void nt({na:r.L.d0,ub:r.wd(t)})}et=setTimeout(it,1)}),1),v}}(),e.d5a={default:"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"},e.c5a={SMALL:.5,MEDIUM:1,LARGE:2},e.v9={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1},e.b5a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"},e.$4a="NONE",e.KRb="RAISED",e.JRb="DEPRESED",e.a5a="UNIFORM",e.Usa="DROP_SHADOW",e.Y4a={x:40,y:19},e.Z4a={x:52,y:19}},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.ikb=void 0,n=i(1),t=i(114),r=i(1072),o=i(1077),a=i(1084),i=function(t){function e(e,i){var n,s;if((n=t.call(this)||this).Xj=!0,n.HS=[],n.Nv=0,s=e.qf||!1,n.Ja=e.ta||console,n.NF=e.request,n.hy=e.TGb,n.Tg=null,n.Xj=!0,n.HS=[],n.XS=i.profile,n.vl=i.url,n.KF=i.Ed,n.WS=i.preferences,n.sS=i.oj,n.Nv=n.KF||0,e={url:n.vl,request:n.NF,Ed:n.KF,xml:i.xml,preferences:n.WS,oj:n.sS,ta:n.Ja,qf:s,bufferSize:i.bufferSize,tu:i.tu,aua:i.aua||0,sRa:i.sRa},"nflx-cmisc"===n.XS)e.offset=i.Hra,e.size=i.a3a,e.y$=i.y$,e.cVa=i.cVa,n.kd=new o(e);else{if(!(-1<["simplesdh","dfxp-ls-sdh"].indexOf(n.XS)&&"function"==typeof r))throw Error("SubtitleManager: "+n.XS+" is an unsupported profile");n.kd=new r(e)}return n.kd.on("ready",(function(){var t,e;t=!!i.XQa,n.Ja.info("ready event fired by subtitle stream"),n.emit("ready"),e=n.kd.WG.bind(n.kd),n.Tg=new a(n.hy,e,(function(){return n.Xj}),n.Ja,i),"dfxp-ls-sdh"===n.XS&&"function"==typeof r&&n.Tg.on("stagesubtitle",n.bZb.bind(n)),n.Tg.on("showsubtitle",n.lwa.bind(n)),n.Tg.on("removesubtitle",n.Lua.bind(n)),n.Tg.on("underflow",n.Zn.bind(n)),n.Tg.on("bufferingComplete",n.Pe.bind(n)),t&&(n.Ja.info("autostarting subtitles"),setTimeout((function(){n.Is(n.hy())}),10))})),n.kd.on("error",n.emit.bind(n,"error")),n}return n.__extends(e,t),e.prototype.start=function(){this.kd.start()},e.prototype.cua=function(){this.Xj||(this.Xj=!0,this.tVa(this.Nv))},e.prototype.Is=function(t){!this.Xj&&1e4<Math.abs(t-this.Nv)&&(this.Ja.warn("Detected an unexpected pts jump larger than",1e4,"at",t,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.cua()),this.Nv=t,this.Xj&&(this.Xj=!1,this.dZb(t)),null!==this.Tg&&(this.c1b(t),this.Tg.Is(t))},e.prototype.stop=function(){var t;return this.Ja.info("stop called"),this.Xj||this.pause(),this.kd.removeAllListeners(["ready"]),null!==this.Tg&&this.Tg.stop(),t=this.HS.reduce((function(t,e){return t.s9a+=e.QY,t.h5+=e.i5||0,t.lKb.push(e),t}),{s9a:0,h5:0,lKb:[]}),"object"==typeof this.kd&&this.kd.close(),this.Ja.info("metrics: "+JSON.stringify(t)),t},e.prototype.pause=function(){var t;t=this.hy(),this.Xj?this.Ja.warn("pause called on subtitle manager, but it was already paused!"):(this.Ja.info("pause called at "+t),this.Xj=!0,this.tVa(t)),null!==this.Tg&&this.Tg.pause()},e.prototype.iN=function(t,e){return"function"==typeof this.kd.iN?this.kd.iN(t,e):[]},e.prototype.Mr=function(t,e){return this.kd.Mr(t,e)},e.prototype.WG=function(t){return this.kd.WG(t)},e.prototype.NA=function(t){var e;function i(){e.Ja.info("bufferingComplete from setStreamStartPosition"),e.emit("bufferingComplete")}e=this,"function"==typeof this.kd.NA?this.kd.NA(t,i):i()},e.prototype.wi=function(t,e){"function"==typeof this.kd.wi&&this.kd.wi(t,e)},e.prototype.Ai=function(t,e){"function"==typeof this.kd.Ai&&this.kd.Ai(t,e)},e.prototype.bna=function(){return this.HS[this.HS.length-1]},e.prototype.lwa=function(t){var e,i,r,o;if(i=0,this.Ja.info("show subtitle called at "+this.hy()+" for displayTime "+t.displayTime),this.emit("showsubtitle",t),(r=this.bna()).qP||(r.qP={}),"dfxp-ls-sdh"===this.XS)try{for(var a=n.__values(t.blocks),s=a.next();!s.done;s=a.next())o=s.value,r.qP[o.id]||(i++,r.qP[o.id]=!0)}catch(t){var u;u={error:t}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(u)throw u.error}}else r.qP[t.id]||(i++,r.qP[t.id]=!0);r.QY+=i},e.prototype.Lua=function(t){this.Ja.info("remove subtitle called at "+this.hy()+" for remove time "+(t.displayTime+t.duration)),this.emit("removesubtitle",t)},e.prototype.bZb=function(t){this.Ja.info("stage subtitle called at "+this.hy()+" for displayTime "+t.displayTime),this.emit("stagesubtitle",t)},e.prototype.Zn=function(){this.Ja.info("underflow fired by the subtitle timer"),this.emit("underflow")},e.prototype.Pe=function(){this.Ja.info("bufferingComplete fired by the subtitle timer"),this.emit("bufferingComplete")},e.prototype.dZb=function(t){this.Ja.info("creating a new subtitle interval at "+t),this.HS.push({Z:t,QY:0})},e.prototype.c1b=function(t){var e;(e=this.bna())&&(e.hqa=t)},e.prototype.tVa=function(t){var e;this.Ja.info("ending subtitle interval at "+t),(e=this.bna())&&(e.Ha=t,e.Ha<e.Z&&(this.Ja.warn("correcting for interval where endPts is smaller than startPts"),e.Z=0<e.Ha?e.Ha-1:0),e.i5=this.kd.Mr(e.Z,e.Ha),delete e.qP,e.i5>e.QY&&e.hqa&&500>e.Ha-e.hqa&&(e.i5=this.kd.Mr(e.Z,e.hqa)),this.Ja.info("showed "+e.QY+" during this interval"),this.Ja.info("expected "+e.i5+" for this interval"))},e}(t.EventEmitter),e.ikb=i,e.default=i},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t){var e,i,r,o,a;if(e=t.preferences,i=t.oj,r=t.Ed,o=t.xml,a=t.ta,!t.xml&&!t.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");n.call(this),this.Me=this.dga=null,this.WS="object"==typeof e?t.preferences:{},this.sS="object"==typeof i?t.oj:{},this.eC="number"==typeof r?t.Ed:0,this.YF="string"==typeof o?t.xml:"",this.Ja="object"==typeof a?t.ta:f,this.NF=t.request,this.vl=t.url,this.KB=[],this.Nv=this.eC,this.Tg=null,this.Oga=this.COa=!1,this.elb=t.aua||0}function d(t,e){return t&&"object"==typeof t[e]&&null!==t[e]?t[e]:{}}function p(t,e){return t!==e&&!(t&&0===Object.keys(t).length&&e&&0===Object.keys(e).length)}function b(){var t,e,i;-1<(e=(t=this).YF.indexOf("<p"))?function(t,e){var i,n,o,a,s;i=r.tc(!0),n={},o=[],a=null,s=[],i.onerror=function(t){e(t,null)},i.onend=function(){e(null,n)},i.onclosetag=function(){o.pop()},i.onopentag=function(t){var e,i,r,f;e=t.attributes,i=t.name,r=n.regions,f=n.styles,o.push(t),"tt"===i?n=function(t){var e;"string"==typeof(t=y(t,c)).extent?(e=t.extent.split(" ").map((function(t){return parseInt(t,10)})),t.width=e[0],t.height=e[1]):(t.width=1280,t.height=720);return t.aspectRatio=t.width/t.height,"string"==typeof t.cellResolution?(e=t.cellResolution.split(" ").map((function(t){return parseInt(t,10)})),t.cellResolution={},t.cellResolution.x=e[0],t.cellResolution.y=e[1]):t.cellResolution={x:52,y:19},t}(e):"body"===i?void 0!==e.style&&(n.defaultStyle=e.style,s.push(e.style)):"style"===i&&g(o,"styling")?f[e["xml:id"]]=y(e,u):"style"===i&&g(o,"region")?"string"==typeof(t=Object.keys(e)[0])&&(r[a][t.slice(4)]=e[t]):"region"===i&&g(o,"layout")&&(r[a=e["xml:id"]]=y(e,h))},setTimeout((function(){var e;for(i.write(t);0<o.length&&!i.error;)e=m(o).name,i.write("</"+e+">");i.close()}),10)}(i=t.YF.slice(0,e),(function(e,n){null!==e?(e.L$b=i,t.emit("error",e)):(t.dga=n,t.Me=new o(t.YF,n.tickRate),v.call(t,t.eC))})):t.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"))}function v(t){var e,i,n,o,a,s,u;i=(e=this).dga,n=0,o=[],a=i.defaultStyle?[i.defaultStyle]:[],e.Ja.info("parsing the next 5 entries..."),s=e.Me.uGb(t),e.Ja.info(s),(u=r.tc(!0)).onerror=function(t){t.xml=s,e.emit("error",t)},u.onend=function(){var t;t=e.KB.reduce((function(t,e){return e=e.blocks.reduce((function(t,e){return t.concat([e.id])}),[]),t.concat(e)}),[]),o.forEach((function(i){var n;-1===t.indexOf(i.id)&&(n=i&&i.blocks&&i.blocks.filter((function(t){return 0<t.textNodes.length})))&&0<n.length&&(i.blocks=n,e.KB.push(i))})),e.Oga=!1,e.COa||(e.COa=!0,e.emit("ready"))},u.ontext=function(t){(""!==t.trim()||t.match(/ +/))&&m(m(o).blocks).textNodes.push({text:t.match(/ +/)?t:t.trim(),style:m(a),lineBreaks:n}),n=0},u.onclosetag=function(){void 0!==u.tag.attributes.style&&a.pop()},u.onopentag=function(t){var e,r,s,u,c;e=t.attributes,r=t.name,t=i.tickRate,"p"===r?(n=0,r=e["xml:id"],e.style&&a.push(e.style),s=Math.floor(parseInt(e.begin)/t*1e3),0===o.length||m(o).displayTime!==s?(s=o.push,u={},c=parseInt(e.begin)/t,t=parseInt(e.end)/t,u.id=r,u.startTime=Math.floor(1e3*c),u.endTime=Math.floor(1e3*t),u.style=e.style,u.region=e.region,u.displayTime=u.startTime,u.duration=u.endTime-u.startTime,u.extent=e["tts:extent"]||null,u.origin=e["tts:origin"]||null,u.latestEndSoFar=0>u.endTime?0:u.endTime,u.blocks=[{textNodes:[],region:u.region,id:r,extent:u.extent,origin:u.origin}],s.call(o,u)):m(o).blocks.push({textNodes:[],region:e.region,id:r,extent:e["tts:extent"]||null,origin:e["tts:origin"]||null})):"span"===r?a.push(e.style):"br"===r&&n++},u.write("<entries>").write(s).write("</entries>").close()}function y(t,e){var i;return i={},e.forEach((function(e){void 0!==t["tts:"+e]?i[e]=t["tts:"+e]:void 0!==t["ttp:"+e]&&(i[e]=t["ttp:"+e])})),i.styles={},i.regions={},i}function g(t,e){var i;for(i=t.length-1;0<=i;i--)if(t[i].name===e)return!0;return!1}function m(t){if(!Array.isArray(t))throw Error("last called on non-array: "+t);return t[t.length-1]}function _(t,e){return{lineBreaks:e.lineBreaks,text:e.text,style:s.Ayb(t[e.style]||{},this.sS,this.WS),id:e.id}}function w(t,e){var i,n;return i=this,n=t.styles||{},{startTime:e.startTime,id:e.id,endTime:e.endTime,displayTime:e.displayTime,duration:e.duration,blocks:e.blocks.map((function(e){var r;return r=a.vyb(t,e),{textNodes:e.textNodes.map(_.bind(i,n)),region:r,id:e.id}}))}}n=i(114).EventEmitter,r=i(1073),o=i(1074),a=i(1075),s=i(1076),u="color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline".split(" "),c=["cellResolution","pixelAspectRatio","tickRate","timeBase","extent"],h=["backgroundColor","displayAlign","extent","origin"],f={info:function(){}},e=Object.create(n.prototype),l.prototype=e,e.start=function(){var t;(t=this).Ja.info("incremental text stream created, starting at pts "+t.eC),t.YF?b.call(t):t.NF({url:t.vl},(function(e,i){t.YF=i,b.call(t)}))},e.WG=function(t){var e,i,n;for(t<(e=this).Nv-e.elb&&(e.KB=[]),i=e.KB,n=0<i.length?i[i.length-1].startTime:t,e.Nv=t,!e.Tg&&5>e.KB.length&&!e.Oga&&(e.Ja.info("buffer size: "+e.KB.length+"; minimum: 5"),e.Oga=!0,e.Tg=setTimeout((function(){e.Tg=null,v.call(e,n+1)}),10));0<i.length&&i[0].endTime<t;)i.shift();return i=function(t,e){var i;return i=t.filter((function(t){return t.startTime<=e&&e<=t.endTime})),0<(t=t.filter((function(t){return t.startTime>e}))).length?i.concat([t[0]]):i}(i,t).map(w.bind(e,e.dga)),t<e.Me.$Cb()&&0===i.length&&(i=null),i},e.Mr=function(t,e){return this.Me?this.Me.Mr(t,e):0},e.close=function(){},e.Ucc=function(t){var e;return e=d(t,"preferences"),t=d(t,"defaults"),!(!p(e,this.WS)&&!p(t,this.sS))&&(this.WS=e,this.sS=t,!0)},t.exports=l},function(t,e){!function(t){var e,i,n,r,o,a,s,u,c,h,f,l,d,p,b,v;function y(){}function g(i,n){if(!(this instanceof g))return new g(i,n);for(var r=0,o=e.length;r<o;r++)this[e[r]]="";this.q=this.c=this.vn=this.textNode="",this.oRa=t.dda,this.Pn=n||{},this.Pn.O1a=this.Pn.O1a||this.Pn.lac,this.Lqa=this.Pn.O1a?"toLowerCase":"toUpperCase",this.Xn=[],this.closed=this.cU=this.aP=!1,this.tag=this.error=null,this.$u=!!i,this.S3a=!(!i&&!this.Pn.S3a),this.state=v.Bba,this.Ax=(this.f$a=this.Pn.f$a)?Object.create(t.Fkb):Object.create(t.Ax),this.nC=[],this.Pn.f_&&(this.qk=Object.create(d)),(this.saa=!1!==this.Pn.position)&&(this.position=this.line=this.dU=0),this.onready&&this.onready(void 0)}function m(t,e){var n;if(!(this instanceof m))return new m(t,e);y.apply(this),this.ly=new g(t,e),this.readable=this.writable=!0,n=this,this.ly.onend=function(){n.emit("end")},this.ly.onerror=function(t){n.emit("error",t),n.ly.error=null},i.forEach((function(t){Object.defineProperty(n,"on"+t,{get:function(){return n.ly["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n.ly["on"+t]=e;n.on(t,e)},enumerable:!0,configurable:!1})}))}function _(t){return t.split("").reduce((function(t,e){return t[e]=!0,t}),{})}function w(t,e){return"[object RegExp]"===Object.prototype.toString.call(t)?!!e.match(t):t[e]}function E(t,e,i){t.textNode&&k(t),t[e]&&t[e](i)}function k(t){t.textNode=O(t.Pn,t.textNode),t.textNode&&t.ontext&&t.ontext(t.textNode),t.textNode=""}function O(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function S(t,e){return k(t),t.saa&&(e+="\nLine: "+t.line+"\nColumn: "+t.dU+"\nChar: "+t.c),e=Error(e),t.error=e,t.onerror&&t.onerror(e),t}function T(t){return t.aP&&!t.cU&&A(t,"Unclosed root tag"),t.state!==v.Bba&&t.state!==v.Cba&&t.state!==v.Xm&&S(t,"Unexpected end"),k(t),t.c="",t.closed=!0,t.onend&&t.onend(void 0),g.call(t,t.$u,t.Pn),t}function A(t,e){if("object"!=typeof t||!(t instanceof g))throw Error("bad call to strictFail");t.$u&&S(t,e)}function P(t,e){var i,n;return n=(i=0>t.indexOf(":")?["",t]:t.split(":"))[0],i=i[1],e&&"xmlns"===t&&(n="xmlns",i=""),{prefix:n,local:i}}function j(t){var e,i,n;if(t.$u||(t.ij=t.ij[t.Lqa]()),-1!==t.nC.indexOf(t.ij)||t.tag.attributes.hasOwnProperty(t.ij))return t.ij=t.jj="";t.Pn.f_?(i=(e=P(t.ij,!0)).local,"xmlns"===e.prefix&&("xml"===i&&t.jj!==f?A(t,"xml: prefix must be bound to "+f+"\nActual: "+t.jj):"xmlns"===i&&t.jj!==l?A(t,"xmlns: prefix must be bound to "+l+"\nActual: "+t.jj):(e=t.tag,n=t.Xn[t.Xn.length-1]||t,e.qk===n.qk&&(e.qk=Object.create(n.qk)),e.qk[i]=t.jj)),t.nC.push([t.ij,t.jj])):(t.tag.attributes[t.ij]=t.jj,E(t,"onattribute",{name:t.ij,value:t.jj})),t.ij=t.jj=""}function I(t,e){var i,n,r,o,a,s,u;if(t.Pn.f_){i=t.tag,n=P(t.tagName),i.prefix=n.prefix,i.local=n.local,i.uri=i.qk[n.prefix]||"",i.prefix&&!i.uri&&(A(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),i.uri=n.prefix),n=t.Xn[t.Xn.length-1]||t,i.qk&&n.qk!==i.qk&&Object.keys(i.qk).forEach((function(e){E(t,"onopennamespace",{prefix:e,uri:i.qk[e]})})),n=0;for(var c=t.nC.length;n<c;n++)o=(r=t.nC[n])[0],a=r[1],u=""==(r=(s=P(o,!0)).prefix)?"":i.qk[r]||"",a={name:o,value:a,prefix:r,local:s.local,uri:u},r&&"xmlns"!=r&&!u&&(A(t,"Unbound namespace prefix: "+JSON.stringify(r)),a.uri=r),t.tag.attributes[o]=a,E(t,"onattribute",a);t.nC.length=0}t.tag.fac=!!e,t.aP=!0,t.Xn.push(t.tag),E(t,"onopentag",t.tag),e||(t.state=t.S3a||"script"!==t.tagName.toLowerCase()?v.Xm:v.kK,t.tag=null,t.tagName=""),t.ij=t.jj="",t.nC.length=0}function x(t){var e,i,n;if(t.tagName){if(t.Ak){if("script"!==t.tagName)return t.Ak+="</"+t.tagName+">",t.tagName="",void(t.state=v.kK);E(t,"onscript",t.Ak),t.Ak=""}e=t.Xn.length,i=t.tagName,t.$u||(i=i[t.Lqa]());for(var r=i;e--&&t.Xn[e].name!==r;)A(t,"Unexpected close tag");if(0>e)A(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">";else{for(t.tagName=i,i=t.Xn.length;i-- >e;){for(var o in n=t.tag=t.Xn.pop(),t.tagName=t.tag.name,E(t,"onclosetag",t.tagName),n.qk);r=t.Xn[t.Xn.length-1]||t,t.Pn.f_&&n.qk!==r.qk&&Object.keys(n.qk).forEach((function(e){E(t,"onclosenamespace",{prefix:e,uri:n.qk[e]})}))}0===e&&(t.cU=!0),t.tagName=t.jj=t.ij="",t.nC.length=0}}else A(t,"Weird empty close tag."),t.textNode+="</>";t.state=v.Xm}for(v in t.tc=function(t,e){return new g(t,e)},t.x7b=g,t.y7b=m,t.yTa=function(t){return new m(t,void 0)},t.dda=65536,e="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" "),t.Le="text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" "),Object.create||(Object.create=function(t){function e(){this.__proto__=t}return e.prototype=t,new e}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__}),Object.keys||(Object.keys=function(t){var e,i;for(i in e=[],t)t.hasOwnProperty(i)&&e.push(i);return e}),g.prototype={end:function(){T(this)},write:function(i){var r,o,f,l,d,y;if(this.closed)return S(this,"Cannot write after close. Assign an onready handler.");if(null===i)return T(this);if(this.error)throw this.error;for(var g,m=0;this.c=g=i.charAt(m++);)switch(this.saa&&(this.position++,"\n"===g?(this.line++,this.dU=0):this.dU++),this.state){case v.Bba:if(this.state=v.Cba,"\ufeff"===g)continue;case v.Cba:"<"===g?(this.state=v.yda,this.Ewa=this.position):w(n,g)||(A(this,"Non-whitespace before first tag."),this.textNode=g,this.state=v.Xm);continue;case v.Xm:if(this.aP&&!this.cU){for(var _=m-1;g&&"<"!==g&&"&"!==g;)(g=i.charAt(m++))&&this.saa&&(this.position++,"\n"===g?(this.line++,this.dU=0):this.dU++);this.textNode+=i.substring(_,m-1)}"<"!==g||this.aP&&this.cU&&!this.$u?(w(n,g)||this.aP&&!this.cU||A(this,"Text data outside of root node."),"&"===g?this.state=v.Oea:this.textNode+=g):(this.state=v.yda,this.Ewa=this.position);continue;case v.kK:"<"===g?this.state=v.WJa:this.Ak+=g;continue;case v.WJa:"/"===g?this.state=v.Kba:(this.Ak+="<"+g,this.state=v.kK);continue;case v.yda:"!"===g?(this.state=v.zea,this.ys=""):w(n,g)||(w(p,g)?(this.state=v.QGa,this.tagName=g):"/"===g?(this.state=v.Kba,this.tagName=""):"?"===g?(this.state=v.mHa,this.U9=this.nI=""):(A(this,"Unencoded <"),this.Ewa+1<this.position&&(g=Array(this.position-this.Ewa).join(" ")+g),this.textNode+="<"+g,this.state=v.Xm));continue;case v.zea:(this.ys+g).toUpperCase()===c?(E(this,"onopencdata"),this.state=v.z_,this.hm=this.ys=""):"--"===this.ys+g?(this.state=v.B_,this.ys=this.km=""):(this.ys+g).toUpperCase()===h?(this.state=v.H_,(this.doctype||this.aP)&&A(this,"Inappropriately located doctype declaration"),this.ys=this.doctype=""):">"===g?(E(this,"onsgmldeclaration",this.ys),this.ys="",this.state=v.Xm):(w(a,g)&&(this.state=v.ZJa),this.ys+=g);continue;case v.ZJa:g===this.q&&(this.state=v.zea,this.q=""),this.ys+=g;continue;case v.H_:">"===g?(this.state=v.Xm,E(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=g,"["===g?this.state=v.Vba:w(a,g)&&(this.state=v.WAa,this.q=g));continue;case v.WAa:this.doctype+=g,g===this.q&&(this.q="",this.state=v.H_);continue;case v.Vba:this.doctype+=g,"]"===g?this.state=v.H_:w(a,g)&&(this.state=v.VAa,this.q=g);continue;case v.VAa:this.doctype+=g,g===this.q&&(this.state=v.Vba,this.q="");continue;case v.B_:"-"===g?this.state=v.Uza:this.km+=g;continue;case v.Uza:"-"===g?(this.state=v.Tza,(this.km=O(this.Pn,this.km))&&E(this,"oncomment",this.km),this.km=""):(this.km+="-"+g,this.state=v.B_);continue;case v.Tza:">"!==g?(A(this,"Malformed comment"),this.km+="--"+g,this.state=v.B_):this.state=v.Xm;continue;case v.z_:"]"===g?this.state=v.Nza:this.hm+=g;continue;case v.Nza:"]"===g?this.state=v.Oza:(this.hm+="]"+g,this.state=v.z_);continue;case v.Oza:">"===g?(this.hm&&E(this,"oncdata",this.hm),E(this,"onclosecdata"),this.hm="",this.state=v.Xm):"]"===g?this.hm+="]":(this.hm+="]]"+g,this.state=v.z_);continue;case v.mHa:"?"===g?this.state=v.Kda:w(n,g)?this.state=v.Jda:this.U9+=g;continue;case v.Jda:if(!this.nI&&w(n,g))continue;"?"===g?this.state=v.Kda:this.nI+=g;continue;case v.Kda:">"===g?(E(this,"onprocessinginstruction",{name:this.U9,body:this.nI}),this.U9=this.nI="",this.state=v.Xm):(this.nI+="?"+g,this.state=v.Jda);continue;case v.QGa:w(b,g)?this.tagName+=g:(this.$u||(this.tagName=this.tagName[this.Lqa]()),_=this.Xn[this.Xn.length-1]||this,r=this.tag={name:this.tagName,attributes:{}},this.Pn.f_&&(r.qk=_.qk),this.nC.length=0,">"===g?I(this):"/"===g?this.state=v.N0:(!w(n,g)&&A(this,"Invalid character in tag name"),this.state=v.yJ));continue;case v.N0:">"===g?(I(this,!0),x(this)):(A(this,"Forward-slash in opening tag not followed by >"),this.state=v.yJ);continue;case v.yJ:if(w(n,g))continue;">"===g?I(this):"/"===g?this.state=v.N0:w(p,g)?(this.ij=g,this.jj="",this.state=v.k_):A(this,"Invalid attribute name");continue;case v.k_:"="===g?this.state=v.gba:">"===g?(A(this,"Attribute without value"),this.jj=this.ij,j(this),I(this)):w(n,g)?this.state=v.xya:w(b,g)?this.ij+=g:A(this,"Invalid attribute name");continue;case v.xya:if("="===g)this.state=v.gba;else{if(w(n,g))continue;A(this,"Attribute without value"),this.jj=this.tag.attributes[this.ij]="",E(this,"onattribute",{name:this.ij,value:""}),this.ij="",">"===g?I(this):w(p,g)?(this.ij=g,this.state=v.k_):(A(this,"Invalid attribute name"),this.state=v.yJ)}continue;case v.gba:if(w(n,g))continue;w(a,g)?(this.q=g,this.state=v.jba):(A(this,"Unquoted attribute value"),this.state=v.kba,this.jj=g);continue;case v.jba:if(g!==this.q){"&"===g?this.state=v.hba:this.jj+=g;continue}j(this),this.q="",this.state=v.yya;continue;case v.yya:w(n,g)?this.state=v.yJ:">"===g?I(this):"/"===g?this.state=v.N0:w(p,g)?(A(this,"No whitespace between attributes"),this.ij=g,this.jj="",this.state=v.k_):A(this,"Invalid attribute name");continue;case v.kba:if(!w(u,g)){"&"===g?this.state=v.iba:this.jj+=g;continue}j(this),">"===g?I(this):this.state=v.yJ;continue;case v.Kba:if(this.tagName)">"===g?x(this):w(b,g)?this.tagName+=g:this.Ak?(this.Ak+="</"+this.tagName,this.tagName="",this.state=v.kK):(!w(n,g)&&A(this,"Invalid tagname in closing tag"),this.state=v.Rza);else{if(w(n,g))continue;w(p,g)?this.tagName=g:this.Ak?(this.Ak+="</"+g,this.state=v.kK):A(this,"Invalid tagname in closing tag.")}continue;case v.Rza:if(w(n,g))continue;">"===g?x(this):A(this,"Invalid characters in closing tag");continue;case v.Oea:case v.hba:case v.iba:switch(this.state){case v.Oea:o=v.Xm,f="textNode";break;case v.hba:o=v.jba,f="attribValue";break;case v.iba:o=v.kba,f="attribValue"}";"===g?(_=this[g=f],l=(r=this.vn).toLowerCase(),d="",this.Ax[r]?r=this.Ax[r]:this.Ax[l]?r=this.Ax[l]:("#"===(r=l).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),d=(y=parseInt(r,16)).toString(16)):(r=r.slice(1),d=(y=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),r=d.toLowerCase()!==r?(A(this,"Invalid character entity"),"&"+this.vn+";"):String.fromCodePoint(y)),this[g]=_+r,this.vn="",this.state=o):w(s,g)?this.vn+=g:(A(this,"Invalid character entity"),this[f]+="&"+this.vn+g,this.vn="",this.state=o);continue;default:throw Error(this,"Unknown state: "+this.state)}if(this.position>=this.oRa){for(i=Math.max(t.dda,10),g=m=0,o=e.length;g<o;g++){if((f=this[e[g]].length)>i)switch(e[g]){case"textNode":k(this);break;case"cdata":E(this,"oncdata",this.hm),this.hm="";break;case"script":E(this,"onscript",this.Ak),this.Ak="";break;default:S(this,"Max buffer length exceeded: "+e[g])}m=Math.max(m,f)}this.oRa=t.dda-m+this.position}return this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){k(this),""!==this.hm&&(E(this,"oncdata",this.hm),this.hm=""),""!==this.Ak&&(E(this,"onscript",this.Ak),this.Ak="")}},i=t.Le.filter((function(t){return"error"!==t&&"end"!==t})),m.prototype=Object.create(y.prototype,{constructor:{value:m}}),m.prototype.write=function(t){return this.ly.write(t.toString()),this.emit("data",t),!0},m.prototype.end=function(t){return t&&t.length&&this.write(t),this.ly.end(),!0},m.prototype.on=function(t,e){var n;return(n=this).ly["on"+t]||-1===i.indexOf(t)||(n.ly["on"+t]=function(){var e;(e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments)).splice(0,0,t),n.emit.apply(n,e)}),y.prototype.on.call(n,t,e)},a="'\"",s=(r="0124356789")+(o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ")+"#",u=(n="\r\n\t ")+">",c="[CDATA[",h="DOCTYPE",d={xml:f="http://www.w3.org/XML/1998/namespace",f_:l="http://www.w3.org/2000/xmlns/"},n=_(n),r=_(r),o=_(o),p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,a=_(a),s=_(s),u=_(u),v=0,t.DB={Bba:v++,Cba:v++,Xm:v++,Oea:v++,yda:v++,zea:v++,ZJa:v++,H_:v++,WAa:v++,Vba:v++,VAa:v++,U3b:v++,B_:v++,Uza:v++,Tza:v++,z_:v++,Nza:v++,Oza:v++,mHa:v++,Jda:v++,Kda:v++,QGa:v++,N0:v++,yJ:v++,k_:v++,xya:v++,gba:v++,jba:v++,yya:v++,kba:v++,hba:v++,iba:v++,Kba:v++,Rza:v++,kK:v++,WJa:v++},t.Fkb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.Ax={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.Ax).forEach((function(e){var i;i="number"==typeof(i=t.Ax[e])?String.fromCharCode(i):i,t.Ax[e]=i})),t.DB)t.DB[t.DB[v]]=v;v=t.DB,String.fromCodePoint||function(){var t,e;function i(){var i,n,r,o,a;if(i=[],n=-1,!(r=arguments.length))return"";for(var s="";++n<r;){if(o=Number(arguments[n]),!isFinite(o)||0>o||1114111<o||e(o)!=o)throw RangeError("Invalid code point: "+o);65535>=o?i.push(o):(a=55296+((o-=65536)>>10),o=o%1024+56320,i.push(a,o)),(n+1==r||16384<i.length)&&(s+=t.apply(null,i),i.length=0)}return s}t=String.fromCharCode,e=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:i,configurable:!0,writable:!0}):String.fromCodePoint=i}()}(e)},function(t){function e(t,e){var i,n,r,o,a,s;i=[],n=t.indexOf("<p"),r=-1;do{(o={}).WYb=n,a=t.indexOf("begin=",n)+7,s=t.indexOf("end=",n)+5,a=Math.floor(parseInt(t.substr(a,25),10)/e*1e3),r=(s=Math.floor(parseInt(t.substr(s,25),10)/e*1e3))>r?s:r,o.startTime=a,o.endTime=s,o.latestEndSoFar=r,o.DVa=t.indexOf("/p>",n)+3,n=o.DVa,i.push(o),n=t.indexOf("<p",n)}while(-1!==n);this.V1=i,this.YF=t}e.prototype.$Cb=function(){return this.V1[this.V1.length-1].endTime},e.prototype.Mr=function(t,e){return this.V1.filter((function(i){return i.startTime<=e&&i.endTime>=t})).length},e.prototype.uGb=function(t){for(var e="",i=this.V1.filter((function(e){return e.startTime<=t&&t<e.endTime||e.startTime>=t})),n=4;n+1<i.length&&i[n+1].startTime===i[4].startTime;)n++;return 0<(i=i.slice(0,n+1)).length&&(e=this.YF.slice(i[0].WYb,i[i.length-1].DVa)),e},t.exports=e},function(t,e,i){var n,r,o;function a(t){return"string"!=typeof t?null:r[t]}function s(t){return t.split(" ").map((function(t){return.01*parseFloat(t)}))}n=i(474),t.exports={vyb:function(t,e){var i,r,u,c,h,f;return i=e.textNodes[0]||{},r=t.regions,u=t.styles,t=t.aspectRatio,r=r&&r[e.region]?r[e.region]:{},i=u&&u[i.style]?u[i.style]:{},u=s(n(e.extent,r.extent,"80% 80%")),c=s(n(e.origin,r.origin,"10% 10%")),e=Object,h=(1-(t/=1280/720))/2,f=c[0],c=c[1],u=e.create.call(e,{marginLeft:f*t+h,marginTop:c,marginRight:(1-(f+u[0]))*t+h,marginBottom:1-(c+u[1])}),1<Object.keys(r).length?u.verticalAlignment=a(n(i.displayAlign,r.displayAlign,"before")):u.verticalAlignment=a(n(i.displayAlign,"after")),r=n(i.textAlign,r.textAlign,"center"),u.horizontalAlignment="string"!=typeof r?null:o[r],u}},r={before:"top",center:"center",after:"bottom"},o={left:"left",start:"start",center:"center",right:"right",end:"end"}},function(t,e,i){var n,r,o,a,s,u,c;function h(t){return"string"!=typeof t||"#"===t[0]&&7===t.length?t:"#"===t[0]&&4===t.length?"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]:o[t.toLowerCase()]}function f(t){var e,i,n;return e=(t||"").split(" "),n=(i=/^[0-9]/.test(e))?0:1,{color:t=i?"#000000":h(e[0]),width:0<(i=parseInt(e[n]))?i:0,blur:0<(e=parseInt(e[n+1]))?e:0}}n=i(474),t.exports={Ayb:function(t,e,i){var o,l,d,p,b,v,y,g,m,_,w,E,k,O;return o=n(i.characterSize,e.characterSize,"MEDIUM"),l=t.fontFamily,l=n(i.characterStyle,"string"!=typeof l?null:a[l],e.characterStyle,"PROPORTIONAL_SANS_SERIF"),d=parseInt(t.fontSize,10)/100||1,p="underline"===t.textDecoration,b="italic"===t.fontStyle,v=r[n(i.O2b,e.O2b,"OPAQUE")],y=r[n(i.characterOpacity,e.characterOpacity,"OPAQUE")],g=r[n(i.backgroundOpacity,t.opacity,e.backgroundOpacity,"OPAQUE")],m=h(n(i.characterColor,t.color,e.characterColor,"#ffffff")),_=h(n(i.backgroundColor,t.backgroundColor,e.backgroundColor,null)),w=h(n(i.Vbb,t.Vbb,e.Vbb,null)),E=n(i.characterEdgeAttributes,e.characterEdgeAttributes,null),d*=s[o]||1,k=1,u[o]&&(k=u[o][l]||1),d*=1/19*k,k=0,c[o]&&(k=c[o][l]||0),o=k,k="string"!=typeof(k=t.textOutline)?null:f(k).width,k=n(k,0),O="string"!=typeof(O=t.textOutline)?null:f(O).blur,O=n(O,0),i=i.characterEdgeColor,t="string"!=typeof(t=t.textOutline)?null:f(t).color,{characterUnderline:p,characterItalic:b,characterStyle:l,windowOpacity:v,characterOpacity:y,backgroundOpacity:g,characterColor:m,backgroundColor:_,windowColor:w,characterEdgeAttributes:E,characterSize:d,characterTracking:o,characterEdgeWidth:k,characterEdgeBlur:O,characterEdgeColor:h(n(i,t,e.characterEdgeColor,"#000000"))}}},r={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1},o={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null},a={default:"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"},s={SMALL:.5,MEDIUM:1,LARGE:2},u={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},c={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}}},function(t,e,i){var n,r,o,a,s,u;function c(t){n.call(this),this.vl=t.url,this.NF=t.request,this.KF=t.Ed||0,this.Ja=t.ta,this.Hi=this.pr=null,t.tu?this.pr=t.tu:(this.Ne=t.offset,this.oL=t.size),this.cm,this.Lga=t}n=i(114).EventEmitter,r=i(1078),o=i(1079),a=i(1080),s=i(159),u=c.events={thb:"midxready",Njb:"sidxready",yjb:"ready",Mf:"error"},c.prototype=Object.create(n.prototype),c.prototype.constructor=c,Object.defineProperties(c.prototype,{zp:{get:function(){return this.cm&&this.cm.Cka}}}),c.prototype.start=function(){this.pr?(this.Ja.warn("midx was prefectched and provided"),this.$Ma(this.pr)):this.Qlb(this.Ne,this.oL,this.Fob.bind(this))},c.prototype.close=function(){},c.prototype.iN=function(t,e){return this.cm&&this.cm.Zna(t,e)},c.prototype.Mr=function(t,e){return(t=this.iN(t,e))?t.length:t},c.prototype.NA=function(t,e){this.Ja.debug("setStreamStartPosition: buffering subtitles at pts "+t),this.KF=t,this.cm?this.cm.NA(t,e):e&&e()},c.prototype.WG=function(t){var e,i,n;return!this.cm||t>s.zFb(this.pr)?[]:(this.cm&&this.cm.lla(t),e=this.zp.zs,i=this.zp.index,n=[],(i=s.Xc(i)&&this.Hi[i+1])&&i.entries.length||e&&!(t>e.endTime)?(e&&e.images.length&&(n=this.lNa(e,t,[])),2>n.length&&i&&i.images.length&&(e=this.lNa(i,t,n),n.push.apply(n,e)),this.cm.jwa(t)?null:s.PSa(n)):[])},c.prototype.Ai=function(t,e){this.cm&&this.cm.Ai(t,e)},c.prototype.wi=function(t,e){this.cm&&this.cm.wi(t,e)},c.prototype.Qlb=function(t,e,i){this.Ja.debug("downloading midx..."),this.xNa(t,e,"binary",i)},c.prototype.Rlb=function(t,e,i){this.Ja.debug("downloading sidx..."),this.xNa(t,e,void 0,i)},c.prototype.xNa=function(t,e,i,n){this.NF({url:this.vl,offset:t,size:e,responseType:i},n)},c.prototype.Fob=function(t,e){if(t)this.emit(u.Mf,s.wV(t,"midxdownloaderror"));else try{this.pr=new r(e),this.$Ma(this.pr)}catch(t){this.emit(u.Mf,s.wV(t,"midxparseerror"))}},c.prototype.$Ma=function(t){var e;(e=t.entries.reduce((function(t,e){return t+e.size}),0))?(this.emit(u.thb,t),this.Rlb(t.startOffset,e,this.Iob.bind(this,t))):this.emit(u.Mf,s.wV({},"nosidxfoundinmidx"))},c.prototype.Iob=function(t,e,i){var n,r,c,h;if(n=this,e)n.emit(u.Mf,s.wV(e,"sidxdownloaderror"));else{r=0,c=0,n.Hi=[];try{h=0,t.entries.forEach((function(e){var a;a=new o(i,r,t.fpa,n.Ja,c,c+e.duration,h),n.Hi.push(a),e.LYb=a,c=a.Eq,r+=e.size,h++}))}catch(t){return void n.emit(u.Mf,s.wV(t,"sidxparseerror"))}n.emit(u.Njb,n.Hi),this.cm=new a(n.Lga,t,n.Hi),e=n.KF,n.Lga&&n.Lga.y$||(e=Math.max(n.KF-1e4,0)),this.cm.lla(e,(function(t){t&&n.Ja.error("initial sidx download failed"),n.emit(u.yjb)}))}},c.prototype.lNa=function(t,e,i){for(var n,r,o=t.entries,a=0,u=o.length,c=[],h=this.pr;a<u;){if((r=o[a]).displayTime<=e)r.displayTime+r.duration>=e&&c.push(s.ska(r,t.images[a].data,h));else{if((n=c.length&&c[c.length-1]||i.length&&i[i.length-1])&&n.displayTime>e&&n.displayTime!==r.displayTime)break;n.lH!==r.lH&&c.push(s.ska(r,t.images[a].data,h))}a++}return c},t.exports=c},function(t,e,i){var n,r;function o(t,e){this.duration=t,this.size=e,this.LYb=void 0}n=i(281),r=i(159),t.exports=function(t){var e;t=new n(t),this.identifier=t.nua(4),r.assert("midx"===this.identifier),this.version=t.Fq(4),r.assert(0===this.version),this.fpa=t.Mh(36),this.creationTime=t.IO(),this.Vo=t.IO(),this.J=t.IO(),this.rWb=t.uh(),this.sWb=t.uh(),this.language=t.Mh(16),t.Mh(16),this.startOffset=t.IO(),this.sm=t.uh();for(var i=[],a=0,s=0;s<this.sm;s++)e=new o(t.Fq(4),t.uh()),i.push(e),a+=e.duration;this.entries=i,this.endTime=a}},function(t,e,i){var n,r;function o(t,e,i,n,r,o,a,s){this.displayTime=t,this.duration=e,this.nRb=i,this.oRb=n,this.RYb=r,this.SYb=o,this.lH=a,this.Uoa=s}function a(t,e,i,a,s,u,c){var h;for(h=0,(t=new n(t)).position=e,this.Ja=a,this.identifier=t.nua(4),r.assert("sidx"===this.identifier,a),this.fpa=t.Mh(36),r.ovb(this.fpa,i,a),this.duration=t.Fq(4),this.sm=t.uh(),this.Xw=s,this.Eq=u,this.index=c||0,this.entries=[],this.images=[],this.$ga=0;h<this.sm;)e=new o(t.Fq(4),t.Fq(4),t.uh(),t.uh(),t.uh(),t.uh(),t.IO(),t.Fq(4)),h++,this.entries.push(e);this.entries.length&&(this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length-1].displayTime+this.entries[this.entries.length-1].duration)}n=i(281),r=i(159),a.prototype.NJb=function(){this.$ga++},a.prototype.rzb=function(){var t;return t=0,this.$ga--,1>this.$ga?this.images&&0<this.images.length&&(t+=r.Vna([this]),this.images=[]):this.Ja.debug("Not cleaning up shared sidx with range",this.Xw,"-",this.Eq),t},t.exports=a},function(t,e,i){var n,r;function o(t,e){var i;if(t=t||0,e)for(var n in e.qa)if(t>=((i=e.qa[n]).Jb||0)&&(!i.Ob||t<i.Ob))return n}function a(t,e){return t&&e&&e.qa[t]}function s(t,e,i){var r;this.Ja=t.ta,this.Hi=i,this.bC=this.vlb(t.y$),this.ih=[],r=i&&i[i.length-1],this.Nv=r&&(r.endTime||r.Eq),this.Og=new n(t,e,i),t=o(t.Ed||0,this.bC),this.lo=this.dy(t)}n=i(1081),r=i(1083),Object.defineProperties(s.prototype,{Cka:{get:function(){return this.Og.Cka}}}),s.prototype.Zna=function(t,e){return this.Og&&this.Og.Zna(t,e)},s.prototype.lla=function(t,e){if(this.Og.yXb(t),this.kPa(t),!this.bC&&this.Nv&&t>this.Nv)e&&e();else if(t=this.WMa(t,this.lo,2,e),this.bC&&0<this.lo.I3a.length)e&&e();else if(this.bC&&this.lo.zN&&t){2>this.ih.length&&this.Blb(this.lo),e=Math.ceil(2/(this.ih.length-1));for(var i=0;i<this.ih.length&&t&&3>i;i++)t=this.ih[i],t=this.WMa(t.startTime,t,e)}},s.prototype.jwa=function(t){return!!this.Og.jwa(t)&&(this.Og.frb(),this.lla(t),this.lo.zN=!1,!0)},s.prototype.NA=function(t,e){var i;this.kPa(t),this.ih.forEach((function(t){t.zN=!1})),i=this.lo.Tn&&this.lo.Tn[0],this.Og.NA(t,i&&i.index),(t=this.Og.mHb(t))&&t.length?this.Og.KUa(t,e):e&&e()},s.prototype.wi=function(t,e){var i;this.Ja.debug("Set next segment to",e,"for segment",t),(t=this.dNa(t)||this.dy(t)).q8a=e,i=this,t.gX=t.gX.filter((function(t){return t.id===e||(i.Hfa(t),!1)}))},s.prototype.Ai=function(t,e){var i;i=a(t,this.bC),Object.keys(i.next).forEach((function(t){i.next[t].weight=e[t]||0}))},s.prototype.vlb=function(t){var e,i;if(e={},t=(t||{}).qa)for(var n in e.qa={},t)i=t[n]||{},e.qa[n]={Jb:i.Jb,Ob:i.Ob,Qe:i.Qe,next:this.ulb(i.next)};return e},s.prototype.ulb=function(t){var e,i;for(i in e={},t)e[i]={weight:(t[i]||{}).weight};return e},s.prototype.kPa=function(t){var e,i;(this.bC&&this.lo.startTime>t||this.lo.endTime&&this.lo.endTime<t)&&(e=this.lo,(i=o(t,this.bC))?(this.Ja.debug("Switching segments from",this.lo.id,"to",i,"at pts",t),this.lo=this.dNa(i)||this.dy(i),this.Hfa(e)):this.Ja.debug("The pts is outside of the current segment but not in a new one yet"))},s.prototype.dy=function(t){return this.Ja.debug("SegmentManager: creating segment",t),t=new r(t,a(t,this.bC),this.Hi,this.Ja),this.ih.push(t),this.Ja.debug("SegmentManager: segment contains",t.Tn.length,"sidxes"),t},s.prototype.Hfa=function(t){var e;t&&t!==this.lo&&(this.Ja.debug("SegmentManager: deleting segment",t.id),t.gX.forEach(this.Hfa.bind(this)),this.ih=this.ih.filter((function(e){return e!==t})),e=t.eSa(),this.Og.lVb(e&&e.size||0,e&&e.Tn))},s.prototype.dNa=function(t){for(var e,i=0;t&&i<this.ih.length;i++)if(t===(e=this.ih[i]).id)return e},s.prototype.Blb=function(t){var e,i;if((e=t.q8a)&&""!==e)t.gX.push(this.dy(e));else for(var n in e=t.I3a){if(!(i=e[n])||!i.weight)break;t.gX.push(this.dy(n))}},s.prototype.WMa=function(t,e,i,n){return!e||e.zN?(this.Ja.debug("Done driving segment",e&&e.id),!0):this.Og.Stb?(this.Ja.debug("Drive streaming of segment",e.id,"from pts",t),0===(i=(t=this.Og.nHb(t,e,i))&&t.length||0)?(this.Ja.debug("Segment is fully downloaded",e&&e.id),e.zN=!0,n&&n(),!0):(this.Ja.debug("Downloading",i,"sidxes in segment",e.id),this.Og.KUa(t,(function(t,i){t&&(e.zN=!1),n&&n(t,i)})))):(this.Ja.debug("Throttling buffering in quiet period"),!1)},t.exports=s},function(t,e,i){var n,r;function o(t,e,i){var n;return n=i.displayTime<=t&&t<=i.displayTime+i.duration,t<=i.displayTime&&i.displayTime<=e||n}function a(t,e,i){return e&&(!e.entries.length&&t>e.Xw||t>e.endTime)&&i.entries.length&&t<i.endTime}function s(t,e,i){this.PF=this.Gv=0,this.enb=t.bufferSize||4194304,this.zp=new h,this.JF,this.BF=t.qf,this.Ja=t.ta,this.pr=e,this.Hi=i,this.uo=new n(t),this.ZF=new c(this.Hi.length,t.cVa),this.$S=new u(t.sRa)}function u(t){this.Ylb=0!==t,this.on=!1,this.Tj=t||3e3,this.Tg}function c(t,e){(this.enabled=e)&&(this.Tn=Array.apply(null,Array(t)).map((function(){return"-"})))}function h(t,e){this.zs=t,this.index=e}n=i(1082),r=i(159),h.prototype.reset=function(){this.index=this.zs=void 0},c.prototype.da=function(t){this.enabled&&t<this.Tn.length&&(this.Tn[t]="x")},c.prototype.G4a=function(t){this.enabled&&t<this.Tn.length&&(this.Tn[t]="-")},c.prototype.toString=function(){return this.enabled&&"|"+this.Tn.join("")+"|"},u.prototype.start=function(){var t;this.Ylb&&(t=this,this.on=!0,this.Tg=setTimeout((function(){t.on=!1,t.Tg=void 0}),this.Tj))},u.prototype.stop=function(){this.on=!1,clearTimeout(this.Tg),this.Tg=void 0},Object.defineProperties(s.prototype,{Cka:{get:function(){return this.zp}},Stb:{get:function(){return!this.$S.on}}}),s.prototype.OS=function(){this.ZF.enabled&&this.Ja.debug("Buffer: "+this.ZF.toString())},s.prototype.cpb=function(t){this.PF+=t,this.Ja.debug("Reserved buffer size is",this.Gv+this.PF,"after reserving",t)},s.prototype.Mpb=function(t){this.PF-=t,this.Ja.debug("Reserved buffer size is",this.Gv+this.PF,"after unreserving",t)},s.prototype.tlb=function(t){this.Gv+=t,this.Ja.debug("Buffer size is",this.Gv,"after claiming",t)},s.prototype.GOa=function(t){this.Gv-=t,this.Ja.debug("Buffer size is",this.Gv,"after clearing",t)},s.prototype.lVb=function(t,e){var i;this.GOa(t),i=this,e&&this.ZF.enabled&&(e.forEach((function(t){i.ZF.G4a(t.index)})),this.OS())},s.prototype.jwa=function(t){var e;return e=this.jmb(t),r.i_a(e)&&r.QZb(t,e)},s.prototype.yXb=function(t){var e;(!(e=this.qNa(t))||e.index)!==(!this.zp||this.zp.index)&&(this.JF=this.zp.zs,e?(this.BF&&this.Ja.debug("Current sidx is index",e.index),this.zp=e):(this.BF&&this.Ja.debug("Current sidx is out of range"),this.zp.reset())),this.JF&&"number"==typeof this.JF.index&&(t<this.JF.Xw-35e3||t>this.JF.Eq+35e3)&&(this.yfa(this.JF.index),this.JF=void 0,this.OS())},s.prototype.NA=function(t,e){var i,n;for(i=this.Hi&&this.Hi.length;e<i;e++)(n=this.Hi[e])&&((n.endTime||n.Eq)>=t-1e4&&(n.endTime||n.Eq)<t+3e5||this.yfa(e));this.$S.stop(),this.OS()},s.prototype.frb=function(){var t,e;for(this.Ja.debug("executing aggressive cleanup"),t=this.Hi&&this.Hi.length,e=0;e<t;e++)e===this.zp.index&&(e+=2),this.yfa(e);this.$S.stop(),this.OS()},s.prototype.mHb=function(t){var e,i,n,o;if(e=[],!(i=this.qNa(t)))return this.zp.reset(),e;for(this.zp=i,n=t+1e4,i=i.index,o=this.Hi[i];i<this.Hi.length&&n>o.Xw;i++,o=this.Hi[i])r.i_a(o)&&r.RZb(t,n,o)&&e.push(o);return e},s.prototype.KUa=function(t,e){var i,n,o,a,s,u;if(!t||!t.length)return e&&e(null),!0;if(this.uo.US&&2<=Object.keys(this.uo.US).length&&!this.$S.on&&(this.Ja.debug("Enabling buffering quiet period"),this.$S.start()),i=this,n=t[0],o=t[t.length-1],0<n.entries.length&&(a=n.entries[0].lH,s=n.entries[n.entries.length-1]),0<o.entries.length&&(r.Xc(a)||(a=o.entries[0].lH),s=o.entries[o.entries.length-1]),!a)return e&&e(null),!0;if(u=s.lH+s.Uoa-a,n=r.hna(a,u),this.uo.US[n])this.Ja.debug("The request for",n,"is already pending. Not requesting again"),e&&e();else{if(!this.Dmb(r.Vna(t)))return this.Ja.debug("Not enough space in buffer to download all of the imaages in the list"),e&&e(),!1;this.Ja.debug("Reserving",u,"bytes for subtitle request",t[0].Xw,t[t.length-1].Eq),this.cpb(u),this.uo.JAb(t,a,u,(function(n,r){i.Ja.debug("Claiming reserved space.  Expected",u,"received",r),i.ZF.enabled&&(t.forEach((function(t){i.ZF.da(t.index)})),i.OS()),i.Mpb(u),i.tlb(r),e&&e(n)}))}return!0},s.prototype.Zna=function(t,e){var i,n,a;if(i=this.pr,!(n=this.pNa(t,e,this.Hi))||0===n.length)return[];a=[],e=o.bind(null,t,e);for(var s=0;s<n.length;s++)t=n[s],a=a.concat(t.entries.filter(e));return a=a.map((function(t){return r.ska(t,null,i)})),r.PSa(a)},s.prototype.nHb=function(t,e,i){return this.pNa(t,e.endTime,e.Tn,i,!0)},s.prototype.pNa=function(t,e,i,n,o){var a,s,u,c;if(e&&t>e||0>t)this.Ja.error("invalid range startPts: "+t+", endPts: "+e);else if(a=i&&i.length||0,s=[],i&&0!==a){if(u=i[0].duration,c=i[0].Xw,r.Xc(u)&&0<u)u=Math.floor((t-c)/u);else for(this.BF&&this.Ja.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),u=0;u<a&&(c=i[u],!r.BAb(c,t));u++);for(;u<a&&(!n||s.length<n);){if(c=i[u],!o||!c.images.length&&c.endTime>t)s.push(c);else if(s.length)break;if(e&&e<=c.Eq)break;u++}return s}},s.prototype.jmb=function(t){var e,i,n;if((e=this.Hi)&&0!==e.length){if((i=e[Math.floor(t/6e4)])&&(i.Xw>t||t>i.Eq))t:{this.Zlb||(this.Zlb=!0,i=r.$Fb(this.pr.language),this.Ja.error("bruteforce search for ",{movieId:this.pr.J,packageId:this.pr.Vo,lang:i})),i=e.length;for(var o=0;o<i;o++)if((n=e[o]).Xw<=t&&t<=n.Eq){i=n;break t}i=void 0}return i}},s.prototype.qNa=function(t){var e,i,n,o,s,u,c,f;if(i=(e=this.zp).zs,n=e.index,o=this.Hi,this.Ffa(r.Xc(t)),i&&(i.entries.length?(0===n&&t<=i.startTime||t>=i.startTime&&t<=i.endTime||0<n&&a(t,c=o[n-1],i))&&(s=!0,u=e):(c=o[n-1],f=o[n+1],a(t,c,i)?(s=!0,u=e):f&&f.endTime&&t<=f.endTime&&(t>=i.endTime||t>=i.Eq)&&(s=!0,u=new h(f,n+1)))),!s)for(e=o.length,i=0;i<e;i++)if((n=o[i]).entries.length&&t<=n.endTime){u=new h(n,i);break}return u},s.prototype.Dmb=function(t){return this.Gv+this.PF+t<=this.enb},s.prototype.yfa=function(t){var e,i,n;0<(i=(e=this.Hi[t])&&e.images&&e.images.length||0)&&(n=r.Vna([e]),e.images=[],this.ZF.G4a(t),this.GOa(n),this.BF&&this.Ja.debug("cleaning up space from sidx",{index:t,start:e.startTime,size:n,images:i,jbc:this.Gv}))},s.prototype.Ffa=function(t){this.BF&&r.assert(t,this.Ja)},t.exports=s},function(t,e,i){var n,r;function o(t){this.vl=t.url,this.NF=t.request,this.KF=t.Ed||0,this.BF=t.qf,this.Ja=t.ta,this.US={}}n=i(281),r=i(159),o.prototype.JAb=function(t,e,i,n){this.US[r.hna(e,i)]=!0,t&&t.forEach((function(t){t.t7a=!0})),this.NF({url:this.vl,offset:e,size:i},this.dob.bind(this,t,e,i,n))},o.prototype.dob=function(t,e,i,o,a,s){var u,c,h,f;u=this,c=r.hna(e,i),setTimeout((function(){delete u.US[c]}),1e3),a?(o&&o(a,0),t&&t.forEach((function(t){delete t.t7a}))):(h=new n(s),f=0,t&&t.forEach((function(t){delete t.t7a,t.entries.forEach((function(i,n){h.position=i.lH-e,i={data:h.Mh(i.Uoa)},t.images[n]=i,r.g2b(t.images[n].data,u.Ffa.bind(u)),f+=t.images[n].data.length}))})),o&&o(null,f))},o.prototype.Ffa=function(t){this.BF&&r.assert(t,this.Ja)},t.exports=o},function(t){function e(t,e,i,n){this.Ja=n,this.id=t,this.startTime=e&&e.Jb||0,this.endTime=e&&e.Ob,this.I3a=e&&e.next||[],this.q8a,this.gX=[],this.zN=!1,t=this.startTime,e=this.endTime;for(var r=[],o=0;o<i.length;o++)(n=i[o])&&(!e||e>n.Xw)&&t<n.Eq&&(n.NJb(),r.push(n));this.Tn=r}e.prototype.eSa=function(){this.Ja.debug("Cleaning up segment",this.id);for(var t,e,i=0,n=[],r=0;r<this.Tn.length;r++)(e=(t=this.Tn[r]).rzb())&&n.push(t),t&&(i+=e);return this.Tn=[],{size:i,Tn:n}},t.exports=e},function(t,e,i){var n;function r(t,e){return e.reduce(o.bind(this,t),[])}function o(t,e,i){var n,r;return n=i.displayTime-t,t=i.displayTime+i.duration-t,r=0<e.length?e[0].timeout:1/0,0<n&&n<r?[a("showsubtitle",i,n)]:n===r?e.concat([a("showsubtitle",i,n)]):0<t&&t<r?[a("removesubtitle",i,t)]:t===r?e.concat([a("removesubtitle",i,t)]):e}function a(t,e,i){return{timeout:i,type:t,entry:e}}n=i(114).EventEmitter,e=i(1085)({}),(i=function t(e,i,r,o,a){if(!(this instanceof t))return new t(e,i,r,o,a);n.call(this),this.hy=e,this.tmb=i,this.Rmb=r,this.ry={},this.TF={},this.Ja=o||console,this.iS=!1,this.Lob=a&&a.aua||0}).prototype=Object.create(n.prototype),i.prototype.stop=function(){clearTimeout(this.Tg),this.pVb()},i.prototype.pVb=function(){var t;t=this,Object.keys(t.ry).forEach((function(e){t.emit("removesubtitle",t.ry[e])})),t.ry={},t.TF={}},i.prototype.pause=function(){this.iS||clearTimeout(this.Tg)},i.prototype.Is=function(t,e){var i,n;n=(i=this).hy(),clearTimeout(this.Tg),null!==(t=i.tmb(n))&&i.iS&&(i.iS=!1,this.Ja.info("bufferingComplete"),i.emit("bufferingComplete"),this.Rmb())?this.Ja.info("bufferingComplete while paused, no longer scheduling internal pts events"):(e="number"==typeof e?e:0,Object.keys(i.ry).forEach((function(t){(t=i.ry[t]).displayTime-i.Lob<=n&&n<t.displayTime+t.duration||(delete i.ry[t.id],i.emit("removesubtitle",t))})),Object.keys(i.TF).forEach((function(t){t=i.TF[t],n>=t.displayTime+t.duration&&delete i.TF[t.id]})),null!==t&&0<t.length?(e=t.length,i.Ja.info("found "+e+" entries for pts "+n),t.forEach((function(t){t.displayTime-0<=n&&n<t.displayTime+t.duration&&!i.ry[t.id]&&(i.emit("showsubtitle",t),i.ry[t.id]=t,delete i.TF[t.id])})),e=t[t.length-1],i.ry[e.id]||i.TF[e.id]||(i.emit("stagesubtitle",e),i.TF[e.id]=e),0<(e=r(n,t)).length?i.A2(e[0].timeout):i.A2(2e4)):null===t?(2e3<(t=250*Math.pow(2,e))&&(t=2e3),i.Ja.warn("checking buffer again in "+t+"ms"),i.iS||(i.iS=!0,i.emit("underflow")),i.A2(t,e+1)):i.A2(2e4))},i.prototype.A2=function(t,e){var i;(i=this).Ja.info("Scheduling pts check."),i.Tg=setTimeout((function(){i.Is(i.hy(),e)}),t)},t.exports=e(["function","function","function","object","object"],i)},function(t){t.exports=function(t){var e,i,n;function r(t,e,i){throw new TypeError((void 0!==i.key?"Types: expected "+i.key:"Types: expected argument "+i.index)+" to be '"+t+"' but found '"+e+"'")}function o(t,e,n){var o;void 0!==(o=i[t])?o(e)||r(t,e,n):t!==typeof e&&r(t,e,n)}function a(t,e){var i;if(0<(i=(i=t.filter((function(t){return"object"!=typeof t&&-1===n.indexOf(t)}))).concat(t.filter((function(t){return"object"==typeof t})).reduce((function(t,e){return t.concat(Object.keys(e).map((function(t){return e[t]})).filter((function(t){return-1===n.indexOf(t)})))}),[]))).length)throw Error(i.join(",")+" are invalid types");return function(){var i;if((i=Array.prototype.slice.call(arguments)).length!==t.length)throw new TypeError("Types: unexpected number of arguments");return t.forEach((function(t,e){var n;if(n=i[e],"string"==typeof t)o(t,n,{index:e});else{if("object"!=typeof t)throw Error("Types: unexpected type in type array");Object.keys(t).forEach((function(e){o(t[e],n[e],{key:e})}))}})),e.apply(this,i)}}if(e="number boolean string object function symbol".split(" "),i={array:function(t){return Array.isArray(t)}},void 0!==t){if("object"!=typeof t||!function(t){return Object.keys(t).every((function(e){return"function"==typeof t[e]}))}(t))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(t).forEach((function(n){if(void 0!==i[n]||-1<e.indexOf(n))throw new TypeError("Types: attempting to override a built in type with "+n);i[n]=t[n]}))}return n=Object.keys(i).concat(e),a(["array","function"],a)}},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0,t=i(0),n=i(476),r=i(1087),o=i(156),e.DD=new t.rd((function(t){t(n.tda).to(r.xGa).aa(),t(o.yR).wZ((function(t){return function(){return t.$a.get(n.tda).kPb}}))}))},function(t,e,i){function n(){var t;t=this,this.ready=!1,this.kPb=new Promise((function(e){t.gWb=e}))}Object.defineProperty(e,"__esModule",{value:!0}),e.xGa=void 0,t=i(1),i=i(0),n.prototype.lPb=function(t){this.ready||(this.gWb(t),this.ready=!0)},n.prototype.isReady=function(){return this.ready},i=t.__decorate([i.R()],n),e.xGa=i},function(e,i,n){var r,o,a,s,u;Object.defineProperty(i,"__esModule",{value:!0}),i.gk=void 0,e=n(0),r=n(91),o=n(477),a=n(1089),s=n(479),u=n(1090),i.gk=new e.rd((function(e){e(r.zx).wf((function(){return function(){return t._cad_global.device}})),e(s.nBa).to(u.mBa).aa(),e(o.kBa).to(a.jBa).aa()}))},function(t,e,i){var n,r,o,a,s,u;function c(t,e){this.za=t,this.hua=e}Object.defineProperty(e,"__esModule",{value:!0}),e.jBa=void 0,t=i(1),n=i(38),r=i(4),o=i(140),a=i(478),s=i(56),i=i(0),c.prototype.bEb=function(){for(var t="",e=this.za.ff.da(r.ja),i=6;i--;)t="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[e%32]+t,e=Math.floor(e/32);for(;30>t.length;)t+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.hua.y6a(new a.vea(0,31,s.h4a))];return t},u=c,u=t.__decorate([i.R(),t.__param(0,i.l(n.Uh)),t.__param(1,i.l(o.b1))],u),e.jBa=u},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p;function b(t,e,i,n,r,o,a,s,u){this.bAb=t,this.Wn=e,this.jb=n,this.wka=r,this.Uc=o,this.debug=a,this.b2b=s,this.$Rb=u,this.VBa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/,this.log=i.ib("Device")}Object.defineProperty(e,"__esModule",{value:!0}),e.mBa=void 0,t=i(1),n=i(3),r=i(27),o=i(1091),a=i(7),s=i(477),u=i(36),c=i(96),h=i(29),f=i(0),l=i(79),d=i(480),i=i(481),b.prototype.OVa=function(t){try{return t.match(this.VBa)[2]}catch(t){}},b.prototype.QVa=function(t){try{return t.match(this.VBa)[1]}catch(t){}},b.prototype.create=function(t){var e;return e=this,new Promise((function(i,r){e.Wn.create().then((function(a){var s,u,c,h,f,l;function d(a){e.jb.kn(a)&&e.jb.kn(s)?(u=new o.lBa(a,s,void 0,c,t.BU||"cadmium"),i(u)):r({na:n.L.SAa})}s=t.Fo,t.ena?(c="bind_device",e.$Rb.og(e.log,{}).then((function(t){d(t.esn)})).catch((function(t){r(t)}))):t.PM?(f=t.Vk,e.jb.kn(f)?(l=e.QVa(f))!=t.Fo&&e.log.error("esn prefix from ui is different",{ui:l,cad:t.Fo,ua:t.userAgent}):t.Cqa&&e.log.error("esn from ui is missing"),!t.rJ&&e.jb.kn(f)?(c="config",d(f)):a.load(t.nUa).then((function(t){h=t.value,e.jb.kn(h)&&(e.jb.kn(f)?(t=e.OVa(f),c=t===h?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):c="storage_esn_not_in_config",d(s+h))})).catch((function(i){var o;function u(){a.save(t.nUa,o,!1).then((function(){d(s+o)})).catch((function(t){r(t)}))}function h(){o=e.bAb.bEb(),u()}i.na===n.L.EB?e.jb.kn(t.Vk)?(o=e.OVa(t.Vk),e.jb.kn(o)?(c="config_since_not_in_storage",u()):(c="generated_since_invalid_in_config_and_not_in_storage",e.log.error("invalid esn passed from UI",t.Vk),h())):(c="generated_since_not_in_config_and_storage",h()):r(i)}))):t.cAb&&e.wka&&e.wka.getKeyByName?e.wka.getKeyByName(t.nsb).then((function(t){if(t=t.id,!e.jb.Ip(t))throw"ESN from getKeyByName is not a string";t=String.fromCharCode.apply(void 0,e.Uc.decode(t)),e.debug.assert(""!=t),s=e.QVa(t),d(t)})).catch((function(t){r({na:n.L.RAa,ub:e.b2b.wd(t)})})):d()})).catch((function(t){r(t)}))}))},p=b,p=t.__decorate([f.R(),t.__param(0,f.l(s.kBa)),t.__param(1,f.l(l.jB)),t.__param(2,f.l(a.qb)),t.__param(3,f.l(r.bg)),t.__param(4,f.l(d.LAa)),t.__param(5,f.l(u.Ci)),t.__param(6,f.l(c.pv)),t.__param(7,f.l(h.cg)),t.__param(8,f.l(i.uHa))],p),e.mBa=p},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lBa=void 0,e.lBa=function(t,e,i,n){this.Vk=t,this.Fo=e,this.b5=n}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A;Object.defineProperty(e,"__esModule",{value:!0}),e.H1a=void 0,t=i(0),n=i(156),r=i(1093),o=i(1094),a=i(1095),s=i(1096),u=i(1097),c=i(13),h=i(1098),f=i(1099),l=i(1100),d=i(48),p=i(91),b=i(486),v=i(483),y=i(482),g=i(89),m=i(282),_=i(49),w=i(180),E=i(1101),k=i(488),O=i(489),S=i(1104),T=i(490),A=i(1105),e.H1a=new t.rd((function(t){t(_.Um).to(o.WEa).aa(),t(v.qGa).to(a.pGa).aa(),t(y.kFa).to(s.jFa).aa(),t(m.gFa).to(u.fFa).aa(),t(_.Vca).to(h.VEa).aa(),t(g.Ix).to(f.cFa).aa(),t(m.eFa).to(l.dFa).aa(),t(w.nR).to(E.mR).aa(),t(w.Yca).to(S.hFa).aa(),t(T.qR).to(A.pR).aa(),t(k.uBa).to(O.tBa).aa(),t(b.Jya).to(r.Iya).aa(),t(_.XEa).wZ((function(t){return function(){return t.$a.get(n.yR)().then((function(e){return new Promise((function(i){var n,r,o;n=t.$a.get(d.Qj),r=t.$a.get(c.Zc),o=t.$a.get(p.zx),n.Ol((function a(){r()&&o()&&e.$W?i(t.$a.get(_.Um)):n.Ol(a)}))}))}))}}))}))},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,r){var o;o=this,this.dNb=t,this.Yz=e,this.config=r,this.zua=[],this.dNb.e$(n.jcb,this.fIb.bind(this)),i().then((function(t){var e;e=r().Ir.EDb,o.PNb=e?c.Nj[e.toUpperCase()]:c.Nj.Mf,o.Vf=t,o.iXb()}))}Object.defineProperty(e,"__esModule",{value:!0}),e.Iya=void 0,t=i(1),r=i(0),o=i(13),a=i(113),s=i(49),u=i(89),c=i(7),h.prototype.fIb=function(t,e){this.Vf?this.v6a(t,e):this.zua.push([t,e])},h.prototype.iXb=function(){var t,e;t=this,e=this.zua,this.zua=[],e.forEach((function(e){t.v6a(e[0],e[1])}))},h.prototype.v6a=function(t,e){var i;this.Vf&&this.vYb(t)&&(i={debugMessage:t.message,debugCategory:t.Ao},t.ic.forEach((function(t){return i=Object.assign(Object.assign({},i),t.value)})),i=Object.assign(Object.assign({},i),{prefix:"debug"}),t=this.Yz.Gt("debug",c.Nj[t.level].toLowerCase(),i,e),this.Vf.Hc(t))},h.prototype.vYb=function(t){var e;return void 0!==(e=this.PNb)&&t.level<=e&&!t.ic.find((function(t){return t.WU(c.FQ)}))},(i=n=h).jcb="adaptorAll",i=n=t.__decorate([r.R(),t.__param(0,r.l(a.ZJ)),t.__param(1,r.l(u.Ix)),t.__param(2,r.l(s.XEa)),t.__param(3,r.l(o.Zc))],i),e.Iya=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i,n,o,a,s){this.config=t,this.json=e,this.Oc=i,this.UMb=n,this.PW=a,this.Hka=s,this.s7=this.En=!1,this.listeners=[],r.Qo(this,"json"),this.ta=o.ib("LogBatcher")}Object.defineProperty(e,"__esModule",{value:!0}),e.WEa=void 0,t=i(1),n=i(0),r=i(56),o=i(39),a=i(482),s=i(48),u=i(7),c=i(49),h=i(483),f=i(3),l=i(97),i(187),d=i(272),p.prototype.xb=function(){this.En=!0},p.prototype.Hc=function(t){var e;e=this,this.CYb(t)||(0<t.size.Al(this.config.MNb)?this.ta.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach((function(e){return e.wOb(t)})),this.PW.Lha(t),this.Oc.Ol((function(){e.pDb()}))))},p.prototype.flush=function(t){var e;return e=this,t=void 0!==t&&t,this.s7?(this.ta.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise((function(i,n){e.ta.trace("Flushing",u.FQ),e.Bs(),e.Oc.Ol((function(){e.Iva(t).then((function(){i()})).catch((function(t){n(t)}))}))}))},p.prototype.addListener=function(t){this.listeners.push(t)},p.prototype.removeListener=function(t){0<=(t=this.listeners.indexOf(t))&&this.listeners.splice(t,1)},p.prototype.Iva=function(t){var e,i;if(e=this,t=void 0!==t&&t,!this.En)return this.ta.trace("LogBatcher is not initialized"),Promise.resolve();if(this.s7)return this.ta.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve();if(0===(i=this.PW.CEb()).length&&!t)return this.ta.trace("No logblobs to send"),Promise.resolve();this.Bs(),this.listeners.forEach((function(){})),t=Promise.resolve();for(var n={},r=v(i),o=r.next();!o.done;n={$aa:n.$aa},o=r.next())n.$aa=o.value,t=t.then(function(t){return function(){return e.eXb(t.$aa)}}(n));return t.then((function(){return e.NG()})).catch((function(t){throw i.filter((function(t){return!t.Pz})).forEach((function(t){return t.Pt()})),e.NG(),Error("Send failure. "+t)}))},p.prototype.eXb=function(t){var e;return e=this,this.ta.trace("Sending batch: "+t.size,u.FQ),Promise.resolve(this.PW.qVb(t)).then((function(){return e.UMb.send(t.HH)})).then((function(){return t.EP()})).catch((function(i){throw e.ta.warn("Failed to send batch of logblobs.",i,u.FQ),t.Pt(),e.sYb(i)&&e.PW.nqb(t),e.DYb(i)&&(e.s7=!0),i}))},p.prototype.sYb=function(t){return t.Kd!==f.t0.pHa&&this.config.Iha},p.prototype.DYb=function(t){return t.Cc===f.L.MCa||t.Cc===f.L.cR||t.Cc===f.L.gR},p.prototype.pDb=function(){var t;t=this,0<this.PW.size.Al(this.config.w2a)?this.Iva().catch((function(e){return t.ta.warn("Failed to send log messages on size threshold. "+e)})):this.NG()},p.prototype.Bs=function(){this.G7&&(this.G7.cancel(),this.G7=void 0)},p.prototype.NG=function(){this.G7||(this.G7=this.Oc.zk(this.config.fXb,this.nO.bind(this)))},p.prototype.nO=function(){var t;t=this,this.s7=!1,this.Bs(),this.Iva().catch((function(e){return t.ta.warn("Failed to send log messages on timer. "+e)}))},p.prototype.stringify=function(t){var e;e="";try{e=this.json.stringify(t.data,void 0,"  ")}catch(t){}return e},p.prototype.CYb=function(t){return 0<=this.config.m9a.indexOf(t.type)||t.type===d.cd.debug&&0<=this.config.l9a.indexOf(t.data.debugCategory)},i=p,i=t.__decorate([n.R(),t.__param(0,n.l(c.Vca)),t.__param(1,n.l(o.LE)),t.__param(2,n.l(s.Qj)),t.__param(3,n.l(a.kFa)),t.__param(4,n.l(u.qb)),t.__param(5,n.l(h.qGa)),t.__param(6,n.l(l.U_))],i),e.WEa=i},function(t,e,i){var n,o,a,s,u,c,h;function f(t){this.oL=a.Gb,this.Bga=[],this.IS=this.e2=!1,t&&(this.oL=t.size,this.Bga=t.HH)}function l(t,e,i,n){this.xOb=t,this.config=e,this.Wf=i,this.json=n,o.Qo(this,"json"),this.ta=this.Wf.ib("MessageQueue"),this.yt=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.pGa=void 0,t=i(1),n=i(0),o=i(56),a=i(52),s=i(282),u=i(7),c=i(39),i=i(49),l.prototype.Lha=function(t){var e,i;0===this.yt.length&&this.yt.push(this.jna()),(t=this.dHb(t))&&(e=this.xOb.measure([t]),0<(i=this.yt[this.yt.length-1]).size.add(e).Al(this.config.w2a)&&(i=this.jna(),this.yt.push(i)),i.Lha(t))},l.prototype.CEb=function(){var t;return t=this.yt.filter((function(t){return t.Xtb})),this.yt.push(this.jna()),t.forEach((function(t){return t.ANb()})),t},l.prototype.nqb=function(t){t.Pz||this.yt.unshift(new f(t))},l.prototype.qVb=function(t){0<=(t=this.yt.indexOf(t))&&this.yt.splice(t,1)},l.prototype.dHb=function(t){try{return{data:this.json.parse(this.json.stringify(t.data)),severity:t.severity,size:t.size,timestamp:t.timestamp,type:t.type}}catch(n){var e,i;e={},(i=(t=t.data).debugMessage)&&"string"==typeof i&&(e.originalDebugMessage=i),(t=t.debugCategory)&&"string"==typeof t&&(e.originalDebugCategory=t),this.ta.error("JSON.stringify error: "+n.message,e)}},l.prototype.jna=function(){return new f},r.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.yt.reduce((function(t,e){return t.add(e.size)}),a.Gb)}}}),h=l,h=t.__decorate([n.R(),t.__param(0,n.l(s.gFa)),t.__param(1,n.l(i.Vca)),t.__param(2,n.l(u.qb)),t.__param(3,n.l(c.LE))],h),e.pGa=h,f.prototype.EP=function(){this.e2=!1,this.IS=!0},f.prototype.Pt=function(){this.e2=!1},f.prototype.Lha=function(t){this.Bga.push(t),this.oL=this.oL.add(t.size)},f.prototype.ANb=function(){this.e2=!0},r.Object.defineProperties(f.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.oL}},HH:{configurable:!0,enumerable:!0,get:function(){return this.Bga}},Xtb:{configurable:!0,enumerable:!0,get:function(){return 0<this.HH.length&&!1===this.e2}},Pz:{configurable:!0,enumerable:!0,get:function(){return this.IS}}})},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i,n,o,a,s,u){this.Aa=t,this.platform=i,this.gk=n,this.json=o,this.ce=a,this.Yg=s,this.bNb=u,r.Qo(this,"json"),this.ta=e.ib("LogblobSender")}function b(){this.entries=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.jFa=void 0,t=i(1),n=i(0),r=i(56),o=i(39),a=i(4),s=i(29),u=i(18),c=i(34),h=i(91),f=i(7),l=i(484),i=i(66),p.prototype.send=function(t){var e;return e=this,new Promise((function(i,n){var r;try{r=t.reduce((function(t,i){return t.entries.push(e.fyb(i)),t}),new b),i(e.eEb(r))}catch(t){e.ta.error(t.message),n(t)}})).then((function(t){return e.Lva(t)}))},p.prototype.fyb=function(t){return this.ce.LH(this.ce.LH({},t.data),{esn:this.gk().Vk,sev:t.severity,type:t.type,lver:this.platform.Hqa,jssid:this.Aa.id,devmod:this.platform.fz,jsoffms:t.timestamp.Qa(this.Aa.Vz).da(a.ja),clienttime:t.timestamp.da(a.ja),client_utc:t.timestamp.da(a.io),uiver:this.Yg.YA})},p.prototype.eEb=function(t){var e;e=this;try{return this.json.stringify(t)}catch(r){for(var i={},n=0;n<t.entries.length;i={gQ:i.gQ,jv:i.jv},++n){i.jv=Object.assign({},t.entries[n]);try{this.json.stringify(i.jv)}catch(t){i.gQ=void 0,this.ce.KC(i.jv,function(t){return function(i,n){try{e.json.stringify(n)}catch(e){t.gQ=e.message,t.jv[i]=t.gQ}}}(i)),i.jv.stringifyException=i.gQ,i.jv.originalType=i.jv.type,i.jv.type="debug",i.jv.sev="error"}}return this.json.stringify(t)}},p.prototype.Lva=function(t){var e;return e=this,this.bNb.og(this.ta,{logblobs:t}).then((function(){})).catch((function(t){return e.ta.error("PBO logblob failed",t),Promise.reject(t)}))},d=p,d=t.__decorate([n.R(),t.__param(0,n.l(u.jd)),t.__param(1,n.l(f.qb)),t.__param(2,n.l(c.Hk)),t.__param(3,n.l(h.zx)),t.__param(4,n.l(o.LE)),t.__param(5,n.l(s.cg)),t.__param(6,n.l(i.Xs)),t.__param(7,n.l(l.MHa))],d),e.jFa=d},function(t,e,i){var n,r,o;function a(t){this.config=t}Object.defineProperty(e,"__esModule",{value:!0}),e.fFa=void 0,t=i(1),n=i(0),r=i(282),o=i(52),a.prototype.measure=function(t){var e;return e=this,t.map((function(t){return t.size.add(e.config.XMb())})).reduce((function(t,e){return t.add(e)}),o.fa(0))},i=a,i=t.__decorate([n.R(),t.__param(0,n.l(r.eFa))],i),e.fFa=i},function(t,e,i){var n,o,a,s,u,c,h;function f(t,e){return(t=c.Ze.call(this,t,"LogBatcherConfigImpl")||this).config=e,t.MNb=n.fa(5e5),t.fXb=o.H8(1),t.w2a=n.fa(1e6),t}Object.defineProperty(e,"__esModule",{value:!0}),e.VEa=void 0,t=i(1),n=i(52),o=i(4),a=i(0),s=i(13),u=i(45),c=i(46),i=i(37),g(f,c.Ze),r.Object.defineProperties(f.prototype,{Iha:{configurable:!0,enumerable:!0,get:function(){return this.config().Iha}},m9a:{configurable:!0,enumerable:!0,get:function(){return[]}},l9a:{configurable:!0,enumerable:!0,get:function(){return["MslTransport","Pbo","LogblobSender"]}}}),h=f,t.__decorate([u.config(u.object(),"shedLogblobTypes")],h.prototype,"m9a",null),t.__decorate([u.config(u.Cy("string"),"shedDebugTypes")],h.prototype,"l9a",null),h=t.__decorate([a.R(),t.__param(0,a.l(i.Wl)),t.__param(1,a.l(s.Zc))],h),e.VEa=h},function(t,e,i){var n,o,a,s,u,c,h,f,l;function d(t,e,i,n,r,o,a,u,c,h){this.platform=e,this.xka=i,this.type=n,this.severity=r,this.timestamp=o,this.Aa=u,this.data=a,this.data.type=n,this.data.sev=r,this.data.devmod=this.platform.fz,this.data.clver=this.platform.version,t&&t.he&&(t.he.os&&(this.data.osplatform=t.he.os.name,this.data.osver=t.he.os.version),this.data.browsername=t.he.name,this.data.browserver=t.he.version),t.Spa&&(this.data.tester=!0),t.Cz&&!this.data.groupname&&(this.data.groupname=t.Cz),t.SL&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+t.SL:t.SL),t.mJ&&(this.data.uigroupname=t.mJ),this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+this.data.uigroupname:this.data.uigroupname),this.data.appLogSeqNum=this.Aa.fGb(),this.data.uniqueLogId=c.OWa(),this.data.appId=this.Aa.id,h&&(t=this.Aa.Yb(),this.data.soffms=t.Qa(h.vk).da(s.ja),this.data.mid=this.data.mid||h.J,this.data.lvpi=h.Gqa,this.data.uiLabel=h.ye,this.data.uxLabels=h.Laa,n="startup"===n?"playbackxid":"xid",this.data[n]="xid"===n&&this.data.xid||h.ba,h.II&&(n=h.II,(h=h.II.split("."))&&1<h.length&&"S"!==h[0][0]&&(n="SABTest"+h[0]+".Cell"+h[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+n:n))}function p(t,e,i,n,r,o){this.za=t,this.xka=e,this.config=i,this.Aa=n,this.d2b=r,this.platform=o}Object.defineProperty(e,"__esModule",{value:!0}),e.cFa=void 0,t=i(1),n=i(52),o=i(0),a=i(38),s=i(4),u=i(330),c=i(40),h=i(18),f=i(485),i=i(34),p.prototype.Gt=function(t,e,i,n){return new d(this.config,this.platform,this.xka,t,e,this.za.ff,i,this.Aa,this.d2b,n)},l=p,l=t.__decorate([o.R(),t.__param(0,o.l(a.Uh)),t.__param(1,o.l(u.NAa)),t.__param(2,o.l(c.Tm)),t.__param(3,o.l(h.jd)),t.__param(4,o.l(f.RLa)),t.__param(5,o.l(i.Hk))],l),e.cFa=l,r.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.DRa||(this.DRa=n.fa(this.xka.encode(this.data).length)),this.DRa}}})},function(t,e,i){var n,r,o;function a(t){this.gk=t}Object.defineProperty(e,"__esModule",{value:!0}),e.dFa=void 0,t=i(1),n=i(0),r=i(52),i=i(91),a.prototype.XMb=function(){var t;return t=this.gk()?this.gk().Vk.length:40,r.fa(t+33)},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(i.zx))],o),e.dFa=o},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k;function O(t,e,i,n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g){this.L$a=t,this.Vf=e,this.tra=i,this.Vla=n,this.pe=r,this.L4=o,this.hf=a,this.config=s,this.Fd=u,this.za=c,this.Aa=h,this.platform=f,this.Aq=l,this.Yz=d,this.Vi=p,this.Kr=b,this.JH=v,this.yc=y,this.yD=g}Object.defineProperty(e,"__esModule",{value:!0}),e.mR=void 0,t=i(1),n=i(444),r=i(49),o=i(29),a=i(452),s=i(276),u=i(0),c=i(180),h=i(487),f=i(488),l=i(87),d=i(13),p=i(38),b=i(18),v=i(34),y=i(89),g=i(120),m=i(161),_=i(39),w=i(40),E=i(283),i=i(70),O.prototype.create=function(t,e){return new h.oR(t,e,this.L$a,this.Vf,this.tra,this.Vla,this.pe,this.L4,this.hf,this.config,this.Fd,this.za,this.Aa,this.Aq,this.Yz,this.Vi,this.Kr,this.JH,this.yc,this.yD)},k=O,k=t.__decorate([u.R(),t.__param(0,u.l(n.kLa)),t.__param(1,u.l(r.Um)),t.__param(2,u.l(a.VFa)),t.__param(3,u.l(s.oca)),t.__param(4,u.l(o.cg)),t.__param(5,u.l(f.uBa)),t.__param(6,u.l(l.Hx)),t.__param(7,u.l(d.Zc)),t.__param(8,u.l(g.sF)),t.__param(9,u.l(p.Uh)),t.__param(10,u.l(b.jd)),t.__param(11,u.l(v.Hk)),t.__param(12,u.l(_.KR)),t.__param(13,u.l(y.Ix)),t.__param(14,u.l(m.hF)),t.__param(15,u.l(w.Tm)),t.__param(16,u.l(E.qda)),t.__param(17,u.l(c.Yca)),t.__param(18,u.l(i.Vs))],k),e.mR=k},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.sBa=void 0,n=i(52),e.sBa=function(t,e){this.LAb=t,this.size=e.Fpa()?n.Gb:e}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.q2a=void 0,e.q2a=function(t,e){var i,n;if(0!==t.length){if(1===t.length)return t[0];for(var r=t[0],o=e(r),a=1;a<t.length;a++)(n=e(i=t[a]))>o&&(r=i,o=n);return r}}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t,e,i){this.platform=t,this.config=e,this.Aa=i,this.aMa=/-?l(\d\d)/i}Object.defineProperty(e,"__esModule",{value:!0}),e.hFa=void 0,t=i(1),n=i(0),r=i(47),o=i(18),a=i(3),s=i(34),u=i(4),c=i(13),h=i(24),f=i(11),l=i(160),d.prototype.pq=function(t,e,i){i&&(t.adlid=i.Bc,t.abitrate=i.bitrate),e&&(t.vdlid=e.Bc,t.vbitrate=e.bitrate)},d.prototype.p_a=function(t,e,i){i?t=Object.assign(t,l.Ena(this.platform.bq,i)):t.errorcode=a.M.Vl,t.errorcode===this.platform.bq+a.M.dHa&&(t.lastSyncWithVideoElement=this.getTime()-e.jZ)},d.prototype.w_a=function(t,e){var i;Object.assign(t,l.Pna());try{i=e.getBoundingClientRect(),t.rendersize=i.width+"x"+i.height,t.renderpos=i.left+"x"+i.top}catch(t){}},d.prototype.v_a=function(t,e){var i,n,o;i=e.qc[r.Tb.Ta.Mb].value,n=e.qc[r.Tb.Ta.Wb].value,o=e.jf.value,e=e.oe.value,i&&(t.cdnid=i.id,t.cdnname=i.name),n&&(t.acdnid=n.id,t.acdnname=n.name),null!=o&&o.stream&&(t.adlid=o.stream.Bc,t.abitrate=o.stream.bitrate),null!=e&&e.stream&&(t.vdlid=e.stream.Bc,t.vbitrate=e.stream.bitrate,t.vheight=e.stream.height,t.vwidth=e.stream.width)},d.prototype.t_a=function(t,e){0<=e.mediaTime.value&&(t.moff=h.Go(e.mediaTime.value),t.moffms=h.Sf(e.mediaTime.value))},d.prototype.m_a=function(t,e){e.Fg&&(t.pbcid=e.Fg),e.Ti&&(t.playbackcontextid=e.Ti)},d.prototype.apa=function(t){var e,i;t.browserua=f.xB,t.browseruad=null===(i=null===(e=f.kf.userAgentData)||void 0===e?void 0:e.brands)||void 0===i?void 0:i.map((function(t){return[t.brand,t.version]})),t.browserhref=location.href,(e=f.kf&&f.kf.connection&&f.kf.connection.type)&&(t.nettype=e)},d.prototype.sN=function(t){var e,i,n,r,o;this.config().IBb&&(o=null===(e=null===f.kf||void 0===f.kf?void 0:f.kf.connection)||void 0===e?void 0:e.effectiveType,e=null===f.kf||void 0===f.kf?void 0:f.kf.deviceMemory,o&&(t.effectiveType=o),e&&(t.deviceMemory=e)),(o=null===(i=null===f.kf||void 0===f.kf?void 0:f.kf.connection)||void 0===i?void 0:i.type)&&(t.connectionType=o),"number"==typeof(i=null===(n=null===f.kf||void 0===f.kf?void 0:f.kf.connection)||void 0===n?void 0:n.downlink)&&isFinite(i)&&(t.downlink=i),"number"==typeof(n=null===(r=null===f.kf||void 0===f.kf?void 0:f.kf.connection)||void 0===r?void 0:r.rtt)&&isFinite(n)&&(t.rtt=n)},d.prototype.U6=function(t,e){(e=e.bb.Jm)&&(e.isUIAutoPlay&&(t.isUIAutoPlay=!0),e.clLogId&&(t.cl_log_id=e.clLogId))},d.prototype.tN=function(t,e){var i,n,r,o;i=this,(e=e&&e.streams)&&(n=new Set,r=new Set,o=new Set,e.forEach((function(t){t=t.kh,n.add(t),r.add(t.replace(i.aMa,"")),(t=t.match(i.aMa))&&0<t.length&&o.add(t[1])})),t.videoProfiles=[].concat(y(n)),t.videoProfile=0===r.size?"none":[].concat(y(r))[0],t.videoProfileLevels=[].concat(y(o)))},d.prototype.j_a=function(t,e){var i;(e=e&&e.streams)&&(i={},e.forEach((function(t){i[t.kh]=void 0})),t.audioProfiles=Object.keys(i))},d.prototype.n_a=function(t){t.configversion=this.config().version,this.config().endpoint||(t.configendpoint="error")},d.prototype.getTime=function(){return this.Aa.Yb().da(u.ja)},i=d,i=t.__decorate([n.R(),t.__param(0,n.l(s.Hk)),t.__param(1,n.l(c.Zc)),t.__param(2,n.l(o.jd))],i),e.hFa=i},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,n,r){this.Vf=t,this.config=e,this.za=i,this.Aa=n,this.Iqa=r}Object.defineProperty(e,"__esModule",{value:!0}),e.pR=void 0,t=i(1),n=i(49),r=i(0),o=i(180),a=i(13),s=i(38),u=i(18),c=i(1106),h.prototype.create=function(t,e,i){var n;return n=this.Iqa.create(t,e),new c.rR(t,e,i,this.Vf,this.config,this.Aa,n)},i=h,i=t.__decorate([r.R(),t.__param(0,r.l(n.Um)),t.__param(1,r.l(a.Zc)),t.__param(2,r.l(s.Uh)),t.__param(3,r.l(u.jd)),t.__param(4,r.l(o.nR))],i),e.pR=i},function(e,i,n){var r,o,a,s,u;function c(e,i,n,r,a,c,h){var f;f=this,this.j=e,this.va=i,this.Vf=r,this.config=a,this.Aa=c,this.kb=h,this.Wz=function(t,e){return function(i){var n;if("number"!=typeof(n=e(i)))throw Error("Event "+JSON.stringify(i)+" does not have movie Id");n===f.J&&t(i)}},this.c2a=this.Wz((function(t){f.T$(t.p7)}),(function(t){return t.J})),this.a2a=this.Wz((function(){f.bU()}),(function(t){return t.J})),this.rSa=this.Wz((function(){f.bU()}),(function(t){return t.movieId})),this.vja=this.Wz((function(){f.j.yb.value===u.cb.Kc&&(f.j.yb.removeListener(f.vja),f.Cq())}),(function(){return f.j.J})),this.UA=function(t){f.uA&&f.kb.UA(t)},this.wSa=this.Wz(this.kb.jvb,(function(t){return t.J})),this.HUa=this.Wz(this.kb.FAb,(function(t){return t.J})),this.A1a=this.Wz(this.kb.Xz,(function(t){return f.j.um(t.segmentId).J})),this.y8a=this.Wz(this.kb.GY,(function(t){return f.j.um(t.segmentId).J})),this.wUa=this.Wz(this.kb.hla,(function(t){return t.J})),this.wk=function(t){switch(t.skip&&(f.Vn=!0),t.cause){case u.Ce.CB:case u.Ce.UR:f.qs&&f.jp&&f.kb.ota(f.getTime()-f.jp,f.qs),f.qs="repos",f.kb.QO(t.Csa,t.jf,t.oe),f.jp=f.getTime(),s.Rf(f.fw);break;case u.Ce.c0:f.qs="force_rebuffer",f.jp=f.getTime(),s.Rf(f.fw)}},this.gm=function(t){f.Tz=t.oldValue,f.kb.gm(t)},this.fw=function(){var t;f.jp&&f.j.yb.value!==u.cb.Pf&&(t=f.getTime()-f.jp,f.kb.$O(t,f.Vn,f.qs),f.Tz&&f.Tz!=f.j.oc.value&&f.kb.uia(),f.jp=void 0,f.qs=void 0,f.Vn=void 0)},this.Cq=function(){f.uA||(f.uA=!0,f.kb.gE(!1),f.hpa(),f.config().b7&&(f.Mz=t.setTimeout((function(){f.Vf.flush(!1).catch((function(){return f.log.warn("failed to flush log batcher on initialLogFlushTimeout")})),f.Mz=void 0}),f.config().b7)))},this.kg=function(){f.Mz&&(t.clearTimeout(f.Mz),f.Mz=void 0),(f.config().M4||f.config().GL)&&(f.jla&&(t.clearInterval(f.jla),f.jla=void 0),f.kb.uUa()),f.JZ&&f.JZ(),f.uA?f.kb.MG(!!f.j.li):f.j.li?f.kb.gE(!0):f.va.background||f.kb.pta()},this.VZ=function(t){t.oldValue&&t.om&&t.om.nG&&f.kb.WL(t.oldValue,t.newValue,t.om.nG,t.om.NT)},this.PX=function(t){var e;t.newValue&&(e=t.newValue.stream,f.zH!=e&&(f.zH&&f.kb.Oua(f.zH,e,t.newValue.im.startTime),f.zH=e))},this.J=i.J,this.log=o.Ih(e,"LogblobBuilder"),this.xb(),n&&this.T$()}Object.defineProperty(i,"__esModule",{value:!0}),i.rR=void 0,r=n(12),o=n(8),a=n(4),s=n(61),u=n(15),c.prototype.xb=function(){this.j.addEventListener(u.ca.CH,this.c2a),this.j.addEventListener(u.ca.Yqa,this.a2a),this.j.addEventListener(u.ca.Xz,this.A1a),this.j.addEventListener(u.ca.GY,this.y8a),this.j.addEventListener(u.ca.kg,this.rSa),this.j.addEventListener(u.ca.GG,this.wUa,r.P0),(this.config().M4||this.config().GL)&&(this.j.addEventListener(u.ca.GG,this.HUa),this.jla=t.setInterval(this.kb.uUa,this.config().KAb)),this.config().Uua&&this.j.addEventListener(u.ca.GG,this.wSa)},c.prototype.T$=function(t){var e;e=this,this.p3a||(this.j.yb.value!==u.cb.Kc||void 0!==t&&t?this.j.yb.addListener(this.vja):this.Cq(),this.j.ci.addListener(this.UA),this.j.jc.addListener(this.kb.Rl),this.j.oc.addListener(this.gm),this.j.jh.addListener(this.kb.HT),this.j.paused.addListener(this.kb.y9),this.j.oe.addListener(this.PX),this.j.yb.addListener(this.fw),this.j.yb.addListener(this.kb.hab),this.j.We.addListener(this.VZ),this.j.playbackRate.addListener(this.kb.UY),this.j.addEventListener(u.ca.ei,this.kb.ei),this.j.addEventListener(u.ca.FL,this.kb.FL),this.j.addEventListener(u.ca.DP,this.kb.DP),this.j.addEventListener(u.ca.Jy,(function(t){e.qs="rebuffer",e.kb.Jy(t),e.jp=e.getTime(),s.Rf(e.fw)})),this.j.addEventListener(u.ca.wk,this.wk),this.j.addEventListener(u.ca.IP,this.kb.IP),this.va.Np&&this.va.Np.addListener(this.kb.Np),this.p3a=!0)},c.prototype.bU=function(){this.kg(),this.p3a&&(this.j.removeEventListener(u.ca.CH,this.c2a),this.j.removeEventListener(u.ca.Yqa,this.a2a),this.j.removeEventListener(u.ca.Xz,this.A1a),this.j.removeEventListener(u.ca.GY,this.y8a),this.j.ci.removeListener(this.UA),this.j.jc.removeListener(this.kb.Rl),this.j.oc.removeListener(this.gm),this.j.jh.removeListener(this.kb.HT),this.j.paused.removeListener(this.kb.y9),this.j.oe.removeListener(this.PX),this.j.yb.removeListener(this.fw),this.j.yb.removeListener(this.vja),this.j.yb.removeListener(this.kb.hab),this.j.We.removeListener(this.VZ),this.j.playbackRate.removeListener(this.kb.UY),this.j.removeEventListener(u.ca.GG,this.wUa),this.j.removeEventListener(u.ca.kg,this.rSa),this.j.removeEventListener(u.ca.ei,this.kb.ei),this.j.removeEventListener(u.ca.FL,this.kb.FL),this.j.removeEventListener(u.ca.DP,this.kb.DP),this.j.removeEventListener(u.ca.Jy,this.kb.Jy),this.j.removeEventListener(u.ca.wk,this.wk),this.j.removeEventListener(u.ca.IP,this.kb.IP),this.va.Np&&this.va.Np.removeListener(this.kb.Np),this.j.removeEventListener(u.ca.GG,this.HUa),this.j.removeEventListener(u.ca.GG,this.wSa))},c.prototype.getTime=function(){return this.Aa.Yb().da(a.ja)},c.prototype.hpa=function(){var e,i,n;e=this,n=[],this.config().Z2a&&(this.config().$2a.forEach((function(i){n.push(t.setTimeout(e.kb.zD,i))})),this.config().v8&&(i=t.setInterval(this.kb.zD,this.config().v8)),this.JZ=function(){n.forEach((function(e){t.clearTimeout(e)})),i&&t.clearInterval(i)})},i.rR=c},function(e,i,n){var r,o,a,s,u,c,h,f,l;Object.defineProperty(i,"__esModule",{value:!0}),i.C3a=void 0,e=n(0),r=n(1108),o=n(87),a=n(491),s=n(1109),u=n(284),c=n(492),h=n(1110),f=n(429),l=n(1114),i.C3a=new e.rd((function(e){e(a.oMa).to(r.nMa).aa(),e(o.Hx).nE((function(){return t._cad_global.http})),e(u.K0).to(s.GGa).aa(),e(c.HGa).$i(h.default),e(f.BDa).to(l.ADa).aa()}))},function(t,e,i){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.nMa=void 0,t=i(1),i=i(0),n.prototype.create=function(){return new XMLHttpRequest},i=t.__decorate([i.R()],n),e.nMa=i},function(t,e,i){var n,r,o,a;function s(t,e,i){this.config=t,this.PMb=e,this.Qb=i}Object.defineProperty(e,"__esModule",{value:!0}),e.GGa=void 0,t=i(1),n=i(319),r=i(0),o=i(183),i=i(492),s.prototype.mka=function(){if(this.config.qbb)return this.Qb(this.PMb())},a=s,a=t.__decorate([r.R(),t.__param(0,r.l(n.FGa)),t.__param(1,r.l(o.CGa)),t.__param(2,r.l(i.HGa))],a),e.GGa=a},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),n=i(1111),r=i(1112),o=i(1113),e.default=function(t){var e;return t=new n.rba(t),e=new o.dib(t),new r.cib(t,e)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t){this.y1a=t}return t.prototype.Wva=function(t){try{this.y1a.setItem("gtp",JSON.stringify(t))}catch(t){return!1}return!0},t.prototype.VXa=function(){var t;try{if(t=this.y1a.getItem("gtp"))return JSON.parse(t)}catch(t){}},t.prototype.Zt=function(){var t;if((t=this.VXa())&&t.tp)return t.tp.a},t.prototype.UFb=function(){var t;if(t=this.qna())return t.p25},t.prototype.VFb=function(){var t;if(t=this.qna())return t.p50},t.prototype.WFb=function(){var t;if(t=this.qna())return t.p75},t.prototype.qna=function(){var t;if((t=this.VXa())&&(t=t.iqr))return t},t}(),e.rba=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t,e){this.Yv=t,this.hX=e}return t.prototype.Wva=function(t){return this.Yv.Wva(t)},t.prototype.Zt=function(){return this.Yv.Zt()},t.prototype.wGb=function(){return this.hX.hX()},t}(),e.cib=t},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),t=function(){function t(t){this.Yv=t}return t.prototype.hX=function(){var t,e,i;if(t=this.Yv.UFb(),e=this.Yv.VFb(),i=this.Yv.WFb(),"number"==typeof t&&"number"==typeof e&&"number"==typeof i)return(i-t)/e},t}(),e.dib=t},function(t,e,i){var n,r,o;function a(t,e){this.hf=e,this.ta=t.ib("HttpDispatcherImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.ADa=void 0,t=i(1),n=i(0),r=i(7),i=i(87),a.prototype.download=function(t,e){var i;return i=this,e=void 0===e?{F2a:0}:e,new Promise((function(n,r){var o;o=0,i.hf.download(t,(function a(s){return s.$?n(s.content):o===e.F2a?r({na:s.na,cD:s.ik}):(o++,void i.hf.download(t,a))}))}))},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(i.Hx))],o),e.ADa=o},function(t,e,i){var n,r,o,a,s,u,c,h;Object.defineProperty(e,"__esModule",{value:!0}),e.KWa=void 0,t=i(0),n=i(1116),r=i(1117),o=i(1118),a=i(1119),s=i(1120),u=i(493),c=i(494),h=i(167),e.KWa=new t.rd((function(t){t(h.KCa).to(n.JCa).aa(),t(h.MJa).to(r.LJa).aa(),t(h.KJa).to(o.JJa).aa(),t(u.GCa).to(a.FCa).aa(),t(c.EDa).to(s.DDa).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i,n,r,o,a){this.config=t,this.b_a=e,this.Oc=i,this.tc=n,this.LVb=r,this.Sua=o,this.yLb=0,this.ta=a.ib("FTL")}Object.defineProperty(e,"__esModule",{value:!0}),e.JCa=void 0,t=i(1),r=i(0),o=i(4),a=i(48),s=i(7),u=i(493),c=i(494),i=i(167),f.prototype.start=function(){this.config.enabled&&!this.rs&&(this.rs=this.Oc.zk(this.config.L9a,this.ax.bind(this)))},f.prototype.stop=function(){this.rs&&(this.rs.cancel(),this.rs=void 0)},f.prototype.ax=function(){var t,e;t=this,e=this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.yLb++,this.yHb(e).then((function(e){return Promise.all(e.urls.map((function(i){return t.pIb(e,i.url,i.name)}))).then((function(i){0<i.length&&t.LVb.oY({data:i,context:e.context,Jqa:e.Jqa})})).then((function(){return e}))})).then((function(e){t.rs&&(e.Q0a?t.rs=t.Oc.zk(e.Q0a,t.ax.bind(t)):t.stop())})).catch((function(e){return t.ta.error("FTL run failed",e)}))},f.prototype.yHb=function(t){var e;return e=this,this.b_a.get(t,!1).then((function(i){var n;return 200!=i.status||null==i.body?(e.Sua.oY({url:t,status:i.status,lta:"FTL API request failed",ke:i.ke}),Promise.reject(Error("FTL API request failed: "+i.status))):(n=e.tc.parse(i.body))instanceof Error?(e.Sua.oY({url:t,status:4,lta:"FTL Probe API JSON parsing error",ke:i.ke}),Promise.reject(n)):Promise.resolve(n)})).catch((function(i){return i instanceof Error&&(e.Sua.oY({url:t,status:0,lta:i.message}),e.ta.error("FTL API call failed",i.message)),Promise.reject(i)}))},f.prototype.pIb=function(t,e,i){var r;return r=this,new Promise((function(a,s){for(var u,c,h,f,l,d=[],p={},b=0;b<t.kUb;p={aba:p.aba,bba:p.bba},++b)p.aba=b<t.s6a.length?t.s6a[b]:o.Gb,p.bba=e+(-1===e.indexOf("?")?"?":"&")+"pulse="+(b+1),u=function(e){return function(){return new Promise((function(i,o){r.Oc.zk(e.aba,(function(){n.QTb(r.b_a,e.bba,t.jUb).then((function(t){function e(t,e,i){return t||(t=i.headers[e]),t}c=e(c,"via",t),h=e(h,"x-ftl-probe-data",t),f=e(f,"x-ftl-error",t),l=e(l,"latency-trace",t),t={status:t.status,ke:t.ke,p2b:c||"",Kub:h||"",XU:f||"",aMb:r.SRb(l)},i(t)})).catch((function(t){o(t)}))}))}))}}(p),d.push(0<b?d[b-1].then(u):u());Promise.all(d).then((function(t){a({url:e,name:i,data:t})})).catch((function(t){s(t)}))}))},f.prototype.SRb=function(t){var e;if(t){e={};for(var i=(t=v(t.split(";"))).next();!i.done;i=t.next())if((i=i.value.trim().split("="))&&2==i.length)try{e[i[0].trim()]=Number.parseInt(i[1])}catch(t){}return e}},f.QTb=function(t,e,i){return t.get(e,!1,i).then((function(t){return Object.assign({},t)}))},h=n=f,h=n=t.__decorate([r.R(),t.__param(0,r.l(i.ICa)),t.__param(1,r.l(c.EDa)),t.__param(2,r.l(a.Qj)),t.__param(3,r.l(u.GCa)),t.__param(4,r.l(i.MJa)),t.__param(5,r.l(i.KJa)),t.__param(6,r.l(s.qb))],h),e.JCa=h},function(t,e,i){var n,r,o,a,s,u;function c(t,e){this.Vf=t,this.Cra=e}Object.defineProperty(e,"__esModule",{value:!0}),e.LJa=void 0,t=i(1),r=i(0),o=i(52),a=i(4),s=i(49),i=i(89),c.prototype.oY=function(t){var e;e={ctx:t.context,data:t.data.map((function(t){return{name:t.name,url:t.url,data:t.data.map((function(t){return n.V2b({d:t.ke.duration.da(a.ja),sc:t.status,sz:t.ke.size.da(o.ov),via:t.p2b,cip:t.Kub,err:t.XU},t)}))}}))},t=this.Cra.Gt(t.Jqa,"info",e),this.Vf.Hc(t)},c.V2b=function(t,e){return n.Xv(t,"dns",e.ke.BUa),n.Xv(t,"tcp",e.ke.cxa),n.Xv(t,"tls",e.ke.mxa),n.Xv(t,"ttfb",e.ke.ixa),n.Fqb(t,e.aMb),t},c.Fqb=function(t,e){e&&(t.rtts=e)},c.Xv=function(t,e,i){i&&(t[e]=i.da(a.ja))},u=n=c,u=n=t.__decorate([r.R(),t.__param(0,r.l(s.Um)),t.__param(1,r.l(i.Ix))],u),e.LJa=u},function(t,e,i){var n,r,o,a,s,u;function c(t,e){this.Vf=t,this.Cra=e}Object.defineProperty(e,"__esModule",{value:!0}),e.JJa=void 0,t=i(1),r=i(0),o=i(52),a=i(4),s=i(49),i=i(89),c.prototype.oY=function(t){t=this.Cra.Gt("ftlProbeError","info",n.U2b({url:t.url,sc:t.status,pf_err:t.lta},t)),this.Vf.Hc(t)},c.U2b=function(t,e){return e.ke&&(e=e.ke,n.Xv(t,"d",e.duration),n.Xv(t,"dns",e.BUa),n.Xv(t,"tcp",e.cxa),n.Xv(t,"tls",e.mxa),n.Xv(t,"ttfb",e.ixa),t.sz=e.size.da(o.ov)),t},c.Xv=function(t,e,i){i&&(t[e]=i.da(a.ja))},u=n=c,u=n=t.__decorate([r.R(),t.__param(0,r.l(s.Um)),t.__param(1,r.l(i.Ix))],u),e.JJa=u},function(t,e,i){var n,r,o,a,s;function u(t,e){this.is=t,this.json=e,r.Qo(this,"json")}Object.defineProperty(e,"__esModule",{value:!0}),e.FCa=void 0,t=i(1),n=i(0),r=i(56),o=i(39),a=i(4),i=i(27),u.prototype.parse=function(t){var e;if(t=this.json.parse(t),!this.is.xha(t))throw Error("FtlProbe: param: not an object");if(t.next&&!this.is.qT(t.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.qT(t.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(t.pulse_delays&&!this.is.By(t.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.qT(t.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.By(t.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.kn(t.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.CL(t.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var i=0;i<t.urls.length;++i){if(e=t.urls[i],!this.is.xha(e))throw Error("FtlProbe: param.urls["+i+"]: not an object");if(!this.is.Ip(e.name))throw Error("FtlProbe: param.urls["+i+"].name: not a string");if(!this.is.Ip(e.url))throw Error("FtlProbe: param.urls["+i+"].url: not a string")}return{kUb:t.pulses,s6a:t.pulse_delays?t.pulse_delays.map(a.Nc):[],jUb:a.Nc(t.pulse_timeout),Q0a:t.next?a.Nc(t.next):void 0,urls:t.urls,Jqa:t.logblob,context:t.ctx}},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.bg)),t.__param(1,n.l(o.LE))],s),e.FCa=s},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e,i){this.za=t,this.X2b=e,this.performance=i,r.Qo(this,"performance")}Object.defineProperty(e,"__esModule",{value:!0}),e.DDa=void 0,t=i(1),r=i(56),o=i(278),a=i(52),s=i(39),u=i(38),c=i(0),h=i(491),f=i(4),l.prototype.get=function(t,e,i){var r;return r=this,new Promise((function(o,s){var u,c,h;try{"withCredentials"in(u=r.X2b.create())||s(Error("Missing CORS support")),u.open("GET",t,!0),e&&(u.withCredentials=!0),i&&(u.timeout=i.da(f.ja)),c=r.za.ff,h=void 0,u.onreadystatechange=function(){var e;switch(u.readyState){case XMLHttpRequest.HEADERS_RECEIVED:h=r.za.ff.Qa(c);break;case XMLHttpRequest.DONE:e=r.za.ff.Qa(c),e={body:u.responseText,status:u.status,headers:n.Vsa(u.getAllResponseHeaders()),ke:r.xna(t,a.fa(u.responseText.length),e,h)},o(e)}},u.send()}catch(t){s(t)}}))},l.Vsa=function(t){var e,i,n;e={},t=t.split("\r\n");for(var r=0;r<t.length;r++)0<(n=(i=t[r]).indexOf(": "))&&(e[i.substring(0,n).toLowerCase()]=i.substring(n+2));return e},l.prototype.xna=function(t,e,i,n){return e={size:e,duration:i,ixa:n},this.performance&&this.performance.getEntriesByName?(0==(i=this.performance.getEntriesByName(t)).length&&0==(i=this.performance.getEntriesByName(t+"/")).length||(t=i[i.length-1],e=o.PN(e),t.decodedBodySize&&(e.size=a.fa(t.decodedBodySize)),0<t.duration?e.duration=f.timestamp(t.duration):0<t.startTime&&0<t.responseEnd&&(e.duration=f.timestamp(t.responseEnd-t.startTime)),0<t.requestStart&&(e.BUa=f.timestamp(t.domainLookupEnd-t.domainLookupStart),e.cxa=f.timestamp(t.connectEnd-t.connectStart),e.ixa=f.timestamp(t.responseStart-t.startTime),0===t.secureConnectionStart?e.mxa=f.timestamp(0):void 0!==t.secureConnectionStart&&(i=t.connectEnd-t.secureConnectionStart,e.mxa=f.timestamp(i),e.cxa=f.timestamp(t.connectEnd-t.connectStart-i)))),e):e},i=n=l,i=n=t.__decorate([c.R(),t.__param(0,c.l(u.Uh)),t.__param(1,c.l(h.oMa)),t.__param(2,c.l(s.Rda)),t.__param(2,c.optional())],i),e.DDa=i},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.q6a=void 0,t=i(0),n=i(320),r=i(1122),o=i(188),a=i(1123),e.q6a=new t.rd((function(t){t(n.CBa).to(r.BBa).aa(),t(o.lR).to(a.QEa).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i,n){this.ce=t,this.Fy=e,this.a2b=i,this.JN=n}Object.defineProperty(e,"__esModule",{value:!0}),e.BBa=void 0,t=i(1),n=i(0),r=i(29),o=i(36),a=i(78),s=i(137),u=i(57),c=i(63),i=i(188),f.prototype.Hg=function(t){var e;return e=this,this.ce.Bt(t.dk[0].data[0],[8,4])?Promise.resolve({we:[{id:"ddd",BH:"cert",zW:void 0}],qj:[{sessionId:"ddd",data:new Uint8Array(this.Fy.decode(c.eMa))}]}):this.ce.Bt(t.dk[0].data[0],this.a2b.decode("certificate"))?Promise.resolve({we:[{id:"ddd",BH:"cert",zW:void 0}],qj:[{sessionId:"ddd",data:new Uint8Array(this.Fy.decode(c.b0))}]}):this.JN.vy(this.SDb(t)).then((function(t){return e.TDb(t)}))},f.prototype.release=function(t){return this.JN.release(this.WDb(t)).then((function(){}))},f.prototype.SDb=function(t){var e,i;return e=this,i=t.dk.map((function(t){return t.data.map((function(i){return{sessionId:t.sessionId,dataBase64:e.Fy.encode(i)}}))})),{ba:t.ba,Ti:t.Ti,N4:t.N4,Uf:u.tqa(t.Uf),Eo:s.bo[t.Eo],dk:i.reduce((function(t,e){return t.concat(e)}),[]),MW:t.MW,lk:t.lk}},f.prototype.WDb=function(t){return{ba:t.ba,we:t.we}},f.prototype.TDb=function(t){return{we:t.we,qj:t.qj}},h=f,h=t.__decorate([n.R(),t.__param(0,n.l(r.cg)),t.__param(1,n.l(o.Ci)),t.__param(2,n.l(a.Bv)),t.__param(3,n.l(i.lR))],h),e.BBa=h},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,n,r){this.gqb=t,this.jVb=e,this.y7a=n,this.kWb=r,this.ta=i.ib("LicenseProviderImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.QEa=void 0,t=i(1),n=i(0),r=i(7),o=i(495),i(496),a=i(497),s=i(498),i=i(285),c.prototype.vy=function(t){var e,i;return e=this,i=this.y7a.m0b(t),this.gqb.gq(this.ta,t.lk,i).then((function(t){return t.map((function(t){return t.hMb})),e.kWb.mab(t)})).catch((function(t){return e.ta.error("PBO license failed",t),Promise.reject(t)}))},c.prototype.release=function(t){var e;return e=this,t=this.y7a.p0b(t),this.jVb.og(this.ta,t).then((function(){return{$:!0}})).catch((function(t){return e.ta.error("PBO release license failed",t),Promise.reject(t)}))},u=c,u=t.__decorate([n.R(),t.__param(0,n.l(o.rHa)),t.__param(1,n.l(a.eIa)),t.__param(2,n.l(r.qb)),t.__param(3,n.l(s.GHa)),t.__param(4,n.l(i.Oda))],u),e.QEa=u},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v;function y(t){return function(){return t.$a.get(n.$Ha).xb()}}Object.defineProperty(e,"__esModule",{value:!0}),e.fI=void 0,t=i(0),n=i(153),r=i(212),o=i(286),a=i(499),s=i(1125),u=i(1126),c=i(500),h=i(1127),f=i(501),l=i(1128),d=i(287),p=i(1129),b=i(502),v=i(1130),e.fI=new t.rd((function(t){t(c.IIa).to(h.HIa).aa(),t(r.Qda).to(o.WHa).aa(),t(a.wHa).to(s.vHa).aa(),t(n.$Ha).to(u.ZHa).aa(),t(n.IR).wZ(y),t(b.YHa).to(v.XHa).aa(),t(f.CHa).to(l.BHa).aa().$Z(),t(d.bIa).to(p.aIa).aa(),t(d.THa).to(p.SHa).aa(),t(d.VHa).to(p.UHa).aa()}))},function(t,e,i){var n,o,a,s,u,c,h,f,l,d;function p(){}function b(){}function v(t,e,i,n,r){var o;o=this,this.is=t,this.Wn=e,this.config=i,this.FG=n,this.bSb=r,this.gx=function(){return(new p).encode({version:o.version,data:o.fI})},this.z1b=function(t){return t=o.upgrade(t),o.bSb.validate(t),t},this.upgrade=function(t){var e;if(o.is.kn(t))return o.C1b(t);if(null!=(e=t.version)&&o.is.Ii(e)&&1==e)return o.D1b(t);if(null!=(e=t.version)&&o.is.Ii(e)&&2==e)return(new p).decode(t);if(t.version&&o.is.Ii(t.version))throw new u.qd(a.M.rB,a.L.Lza,void 0,void 0,void 0,"Version number is not supported. Version: "+t.version,void 0,t);throw new u.qd(a.M.rB,a.L.nB,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,t)},this.xs=new c.Jca(2,this.config().J5a,""!==this.config().J5a&&0<this.config().FSb,this.Wn,this.gx)}Object.defineProperty(e,"__esModule",{value:!0}),e.vHa=void 0,t=i(1),n=i(0),o=i(13),a=i(3),s=i(27),u=i(41),c=i(317),h=i(79),f=i(91),l=i(286),i=i(287),v.prototype.xUb=function(){return this.xs.load(this.z1b).catch((function(t){throw new u.qd(a.M.rB,t.na||t.Cc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,t)}))},v.prototype.Jqb=function(t){return this.xs.add(t)},v.prototype.g7a=function(t){return this.xs.remove(t,(function(t,e){return t.ba===e.ba}))},v.prototype.Rxa=function(t){return this.xs.update(t,(function(t,e){return t.ba===e.ba}))},v.prototype.toString=function(){return JSON.stringify(this.gx(),null,"  ")},v.prototype.fbb=function(t){return t?"/events?playbackContextId="+t+"&esn="+this.FG().Vk:""},v.prototype.Vxa=function(t){return t.map((function(t){return{Bc:t.downloadableId,duration:t.duration}}))},v.prototype.gbb=function(t){var e;return t?{total:t.playTimes.total,gJ:null!==(e=t.playTimes.totalContentTime)&&void 0!==e?e:t.playTimes.total,audio:this.Vxa(t.playTimes.audio||[]),video:this.Vxa(t.playTimes.video||[]),text:this.Vxa(t.playTimes.timedtext||[])}:{total:0,gJ:0,audio:[],video:[],text:[]}},v.prototype.C1b=function(t){var e,i,n;if(e=this,t=JSON.parse(t),i={type:"online",href:this.fbb(t.playbackContextId),ba:t.xid?t.xid.toString():"",J:t.movieId,position:t.position,aU:t.timestamp,HY:t.playback?1e3*t.playback.startEpoch:-1,TN:t.mediaId,GX:this.gbb(t.playback),trackId:"",Jm:{},profileId:t.accountKey},n=JSON.stringify({keySessionIds:t.keySessionIds,movieId:t.movieId,xid:t.xid,licenseContextId:t.licenseContextId,profileId:t.profileId}),this.Wn.create().then((function(t){t.save(e.config().JU,n,!1)})),""===i.href||""===i.ba)throw new u.qd(a.M.rB,a.L.nB);return{version:2,data:[i]}},v.prototype.D1b=function(t){var e,i;if(e=this,!t.playdata||!this.is.By(t.playdata))throw new u.qd(a.M.rB,a.L.nB,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,t);return{version:2,data:(i=t.playdata,i.map((function(t){return{type:t.type,href:e.fbb(t.playbackContextId),ba:t.xid?t.xid.toString():"",J:t.movieId,position:t.position,aU:t.timestamp,HY:t.playback?1e3*t.playback.startEpoch:-1,TN:t.mediaId,GX:e.gbb(t.playback),trackId:"",Jm:{},profileId:t.profileId}})))}},r.Object.defineProperties(v.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.xs.version}},fI:{configurable:!0,enumerable:!0,get:function(){return this.xs.cw}}}),d=v,d=t.__decorate([n.R(),t.__param(0,n.l(s.bg)),t.__param(1,n.l(h.jB)),t.__param(2,n.l(o.Zc)),t.__param(3,n.l(f.zx)),t.__param(4,n.l(i.VHa))],d),e.vHa=d,b.prototype.encode=function(t){var e;return e=new l.T0,t.map(e.encode)},b.prototype.decode=function(t){var e;return e=new l.T0,t.map(e.decode)},p.prototype.encode=function(t){return{version:t.version,data:(new b).encode(t.data)}},p.prototype.decode=function(t){return{version:t.version,data:(new b).decode(t.data)}}},function(t,e,i){var n,o,a,s,u,c,h,f,l,d,p,b,y;function g(t,e,i,n,r,o,a,s){this.config=t,this.Oc=i,this.jx=n,this.Au=r,this.I9=o,this.Lh=a,this.xH=Promise.resolve(),this.closed=!1,this.log=e.ib("PlaydataServices"),this.eI=[],this.active=new Set,this.oWb=new m(t,s)}function m(t,e){this.config=t,this.za=e}function _(t,e,i,n,r,o){this.log=t,this.Oc=e,this.Ui=i,this.Au=n,this.jx=r,this.ySb=o,this.RVa=this.Eh=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.ZHa=e.hjb=void 0,t=i(1),n=i(0),o=i(4),a=i(7),s=i(48),u=i(212),c=i(499),h=i(500),f=i(3),l=i(286),d=i(501),p=i(129),b=i(38),i=i(141),_.prototype.J8=function(t,e){var i;function n(){var t;t=i.Au.create(i.Ui),i.jx.Rxa(t).catch((function(t){var e;e=i.RVa?a.Nj.afa:a.Nj.Mf,i.RVa=!0,i.log.write(e,"Unable to save playdata changes to IDB",t)}))}i=this,this.log.trace("Adding initial playdata",e),this.jx.Jqb(e).then((function(){i.log.trace("Scheduling monitor",{interval:t}),i.rs=i.Oc.u$(t,n)})).catch((function(r){i.log.error("Unable to add playdata",{error:r,playdata:(new l.T0).encode(e)}),i.rs=i.Oc.u$(t,n)}))},_.prototype.stop=function(t){var e,i;return e=this,this.Eh?Promise.resolve():(this.rs&&this.rs.cancel(),i=this.Au.create(this.Ui),this.jx.Rxa(i).catch((function(t){e.log.error("Unable to update playdata changes during stop",t)})).then((function(){if(t)return e.Ui.background?(e.log.trace("Playback is currently in the background and never played, not sending the playdata",i),Promise.resolve()):(e.log.trace("Sending final playdata to the server",i),e.ySb.v8a(i));e.log.trace("Currently configured to not send play data, not sending the data to the server")})).then((function(){if(t)return e.log.trace("Removing playdata from the persisted store",i),e.jx.g7a(i);e.log.trace("Currently configured to not send play data, not removing the play data from IDB")})).then((function(){e.log.info("Successfully stopped the playback",i.J)})).catch((function(t){throw e.log.error("Unable to remove playdata changes",t),t})))},_.prototype.cancel=function(){this.Eh=!0,this.rs&&this.rs.cancel(),this.jx.Rxa(this.Au.create(this.Ui))},r.Object.defineProperties(m.prototype,{Ttb:{configurable:!0,enumerable:!0,get:function(){var t;return t=this.za.ff,(!this.xH||0<=t.Qa(this.xH).Al(this.config.S0a))&&(this.xH=t,!0)}}}),e.hjb=m,g.prototype.xb=function(){var t;return t=this,this.gD||(this.log.trace("Starting playdata services"),this.gD=this.jx.xUb().then((function(){return t})).catch((function(e){return t.log.error("Unable to read the playdata, it will be deleted and not sent to the server",e),t}))),this.gD},g.prototype.close=function(){this.closed=!0,this.eI.forEach((function(t){t.J8.cancel()}))},g.prototype.send=function(t){var e;return this.closed?Promise.resolve():(e=this.config).sO&&e.Jva?this.dXb(t):Promise.resolve()},g.prototype.ap=function(t,e,i,n){var r;r=this,this.closed||(this.Dwa(t),this.Mva(t,n).catch((function(t){r.log.error("Start command failed",{playdata:t.fI,error:t.XU})})),e&&this.Awa(this.XFb(t),t,i))},g.prototype.$Y=function(t){var e,i,n;return e=this,this.closed?Promise.resolve():(i=this.Au.create(t),this.active.delete(i.ba),n=(t=v(p.yu((function(t){return t.key===i.ba}),this.eI))).next().value,this.eI=t.next().value,Promise.all(n.map((function(t){return t.stopped=!0,t.J8.stop(e.config.Jva)}))).then((function(){})))},g.prototype.Dwa=function(t){var e,i;t.Dd("pdb"),this.config.jta.ZKb()&&(e=this.Au.create(t),i=e.ba,this.eI.some((function(t){return t.key===i}))?this.log.trace("Already collecting playdata, ignoring",e):(this.log.info("Starting to collect playdata",e),this.active.add(i),this.eI.push({key:i,J8:this.nGb(t,e),ex:!1,stopped:!1})))},g.prototype.dXb=function(t){var e,i,n,r;return e=this,i=this.jx.fI.filter((function(t){return!e.active.has(t.ba)})),n=void 0,r=void 0,t&&1/0===t?n=i:(n=(i=v(p.yu((function(e){return e.J===t}),i))).next().value,r=i.next().value),r&&0<r.length&&this.Oc.zk(this.config.s8a,(function(){e.u8a(r)})),n&&0!==n.length?this.u8a(n):Promise.resolve()},g.prototype.u8a=function(t){var e;return e=this,t.reduce((function(t,i){return t.then((function(){return function(t){return e.I9.v8a(t).then((function(){return e.wVb(t)}))}(i)}))}),Promise.resolve())},g.prototype.wVb=function(t){var e;return e=this,this.jx.g7a(t).then((function(){})).catch((function(t){throw e.log.error("Unable to complete the stop lifecycle event",t),t}))},g.prototype.nGb=function(t,e){return(t=new _(this.log,this.Oc,t,this.Au,this.jx,this.I9)).J8(this.config.jta,e),t},g.prototype.Mva=function(t,e){var i,n;return i=this,n=this.Au.Xxb(t,e),this.I9.Mva(t,n).then((function(){i.eI.filter((function(e){return e.key===t.ba.toString()})).forEach((function(t){t.ex=!0}))})).catch((function(t){throw{fI:n,XU:t}}))},g.prototype.t8a=function(t){return this.oWb.Ttb?this.DY(d.Nda.pW,t,f.M.Pca):Promise.resolve()},g.prototype.E$=function(t){return this.DY(d.Nda.splice,t,f.M.$Ja)},g.prototype.DY=function(t,e,i){var n;function r(t){var e;return 0===(e=n.eI.filter((function(e){return e.key===t.ba.toString()}))).length||e.reduce((function(t,e){return t||e.stopped||!e.ex}),!1)}return n=this,r(e)?this.xH:this.xH=this.xH.catch((function(){return Promise.resolve()})).then((function(){var i;return r(e)?Promise.resolve():(i=n.Au.create(e),n.I9.DY(t,e,i))})).then((function(t){return t})).catch((function(r){var o;throw n.log.error("Failed to send event",{eventKey:t,xid:e.ba,error:r}),(r.hk||r.mA===f.D0.Wea)&&(o=n.Lh(i,r)),{XU:r,wO:o}}))},g.prototype.Awa=function(t,e,i){var n;n=this,this.Jja(),this.Ypa=this.Oc.zk(t,(function(){n.Jja(),n.DY(d.Nda.pW,e,f.M.Pca).then((function(){n.Awa(t,e,i)})).catch((function(r){var o;o=r.XU,(r=r.wO)&&i(r),o.mA===f.D0.Wea&&n.Awa(t,e,i)}))}))},g.prototype.V9a=function(){this.Jja()},g.prototype.Jja=function(){this.Ypa&&(this.Ypa.cancel(),this.Ypa=void 0)},g.prototype.XFb=function(t){return t.bb.Eoa?o.Nc(t.bb.Eoa):this.config.R0a},y=g,y=t.__decorate([n.R(),t.__param(0,n.l(h.IIa)),t.__param(1,n.l(a.qb)),t.__param(2,n.l(s.Qj)),t.__param(3,n.l(c.wHa)),t.__param(4,n.l(u.Qda)),t.__param(5,n.l(d.CHa)),t.__param(6,n.l(i.LR)),t.__param(7,n.l(b.Uh))],y),e.ZHa=y},function(t,e,i){var n,o,a,s,u,c;function h(t,e){return(t=o.Ze.call(this,t,"PlaydataConfigImpl")||this).config=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.HIa=void 0,t=i(1),n=i(0),o=i(46),a=i(37),s=i(45),u=i(4),i=i(40),g(h,o.Ze),r.Object.defineProperties(h.prototype,{sO:{configurable:!0,enumerable:!0,get:function(){return this.config.nw?"unsentplaydatatest":"unsentplaydata"}},Jva:{configurable:!0,enumerable:!0,get:function(){return!0}},s8a:{configurable:!0,enumerable:!0,get:function(){return u.Nc(1e4)}},jta:{configurable:!0,enumerable:!0,get:function(){return u.Nc(4e3)}},R0a:{configurable:!0,enumerable:!0,get:function(){return u.H8(1)}},S0a:{configurable:!0,enumerable:!0,get:function(){return u.vh(30)}}}),c=h,t.__decorate([s.config(s.string,"playdataPersistKey")],c.prototype,"sO",null),t.__decorate([s.config(s.dd,"sendPersistedPlaydata")],c.prototype,"Jva",null),t.__decorate([s.config(s.$k,"playdataSendDelayMilliseconds")],c.prototype,"s8a",null),t.__decorate([s.config(s.$k,"playdataPersistIntervalMilliseconds")],c.prototype,"jta",null),t.__decorate([s.config(s.$k,"heartbeatCooldown")],c.prototype,"R0a",null),t.__decorate([s.config(s.$k,"keepAliveWindow")],c.prototype,"S0a",null),c=t.__decorate([n.R(),t.__param(0,n.l(a.Wl)),t.__param(1,n.l(i.Tm))],c),e.HIa=c},function(t,e,i){var n,r,o;function a(t,e){this.eU=e,this.log=t.ib("PboEventSenderImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.BHa=void 0,t=i(1),n=i(82),r=i(7),i=i(0),a.prototype.Mva=function(t,e){var i;return i=this.eU(n.mp.start),this.KVa(i,t,e)},a.prototype.v8a=function(t){var e;return e=this,this.eU(n.mp.stop).og(this.log,t).then((function(){})).catch((function(t){throw e.log.error("PBO stop event failed",t),t}))},a.prototype.DY=function(t,e,i){return t=this.eU(t),this.KVa(t,e,i)},a.prototype.KVa=function(t,e,i){var n;return n=this,t.gq(this.log,e.oa.lk,i).then((function(){})).catch((function(t){throw n.log.error("PBO event failed",t),t}))},o=a,o=t.__decorate([i.R(),t.__param(0,i.l(r.qb)),t.__param(1,i.l(n.mca))],o),e.BHa=o},function(t,e,i){var n,r,o,a;function s(){}function u(t){this.aSb=t}function c(t){this.cSb=t}Object.defineProperty(e,"__esModule",{value:!0}),e.aIa=e.UHa=e.SHa=void 0,t=i(1),n=i(0),r=i(287),o=i(41),a=i(3),c.prototype.validate=function(t){t.map(this.cSb.validate)},i=c,i=t.__decorate([n.R(),t.__param(0,n.l(r.bIa))],i),e.SHa=i,u.prototype.validate=function(t){this.aSb.validate(t.data)},i=u,i=t.__decorate([n.R(),t.__param(0,n.l(r.THa))],i),e.UHa=i,s.prototype.validate=function(t){var e;if(t.ba&&"string"==typeof t.ba?t.href&&"string"==typeof t.href?t.profileId&&"string"==typeof t.profileId||(e="ProfileId value is corrupted."):e="Href value is corrupted.":e="Xid value is corrupted.",e)throw new o.qd(a.M.rB,a.L.nB,void 0,void 0,void 0,e,void 0,t.ba)},t=t.__decorate([n.R()],s),e.aIa=t},function(t,e,i){var n,r,o,a;function s(t,e){this.p5a=e,this.log=t.ib("PlaydataServices")}Object.defineProperty(e,"__esModule",{value:!0}),e.XHa=void 0,t=i(1),n=i(0),r=i(7),o=i(15),i=i(153),s.prototype.ap=function(t){var e;e=this,this.p5a().then((function(i){t.addEventListener(o.ca.CH,(function(n){var r;void 0!==n.BO&&(r=t.dN(n.BO),i.$Y(r),n.p7||new Promise((function(e){var i;t.yj.value?e():(i=function(n){n.newValue&&(e(),t.yj.removeListener(i))},t.yj.addListener(i))})).then((function(){return i.ap(t,e.p9a(t),(function(e){return t.qG(e)}),t.aM)})))})),t.addEventListener(o.ca.Cq,(function(){i.ap(t,e.p9a(t),(function(e){return t.qG(e)}),t.aM)})),t.background||t.addEventListener(o.ca.KN,(function(e){e=t.dN(e.J),i.Dwa(e)})),t.addEventListener(o.ca.kg,(function(){i.V9a()})),t.addEventListener(o.ca.ybb,(function(){i.t8a(t.ha).catch((function(e){(e=e.wO)&&t.qG(e)}))})),t.jc.addListener((function(){t.bb.fla?e.log.trace("stickiness is disabled for timedtext"):i.E$(t.ha)})),t.oc.addListener((function(){t.bb.fla?e.log.trace("stickiness is disabled for audio"):i.E$(t.ha).catch((function(e){(e=e.wO)&&t.qG(e)}))}))}))},s.prototype.p9a=function(t){return t.state.value==o.Rb.re},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(i.IR))],a),e.XHa=a},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t){return function(){return new Promise((function(e,i){var n;(n=t.$a.get(r.KBa)).xb().then((function(){e(n)})).catch((function(t){i(t)}))}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.UUa=void 0,t=i(0),n=i(503),i(1132),r=i(505),o=i(1134),a=i(98),s=i(1135),u=i(506),c=i(1136),h=i(1137),i(1138),e.UUa=new t.rd((function(t){t(u.ZEa).to(c.YEa).aa(),t(n.HBa).to(h.$Ea),t(a.jQ).to(s.Mya).aa(),t(r.KBa).to(o.IBa).aa(),t(r.JBa).wZ(f)}))},function(e,i,n){var r,o,a,s,u,c,h;function f(t,e,i){var n;return(n=u.WR.call(this,t,e,"idb")||this).Wn=i,n.X7a=function(t){n.Kzb(t.target.id).then((function(){return n.refresh()}))},n.yQb=function(){n.Uub().then((function(){return n.refresh()}))},n.VQb=function(){n.refresh()},n.BQb=function(){n.Zvb()},n}Object.defineProperty(i,"__esModule",{value:!0}),i.bhb=void 0,e=n(1),r=n(0),o=n(29),a=n(27),s=n(184),u=n(504),c=n(133),h=n(288),g(f,u.WR),f.prototype.xb=function(){var e;return e=this,this.En?Promise.resolve():(t.addEventListener("keydown",(function(t){t.ctrlKey&&t.altKey&&t.shiftKey&&t.keyCode==c.tv.$fb&&e.toggle()})),this.Wn.create().then((function(t){e.storage=t,e.En=!0})))},f.prototype.Xk=function(){return'<tr class="'+this.prefix+'-display-headerrow"><th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th><th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th></tr>'},f.prototype.Ona=function(t,e,i){var n;return t=t.toString(),n='<font color="#C41A16">"'+e+'"</font>',i=this.kb.gi({name:e,data:i}),'<tr><td><span class="'+this.prefix+'-display-indexvalue">'+t+'</span></td><td><span class="'+this.prefix+'-display-keyvalue">'+n+'</span></td><td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+i+'</ul></td><td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+e+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td></tr>'},f.prototype.aoa=function(t){var e,i;return e=this,i='<table class="'+this.prefix+'-display-table" width="100%">'+this.Xk(),Object.entries(t).forEach((function(t,n){var r;t=(r=v(t)).next().value,r=r.next().value,i+=e.Ona(n,t,r)})),i+"</table>"},f.prototype.qXa=function(){var t,e,i;return t=this.ce.createElement("button",u.EJ,"Clear",{class:this.prefix+"-display-btn"}),e=this.ce.createElement("button",u.EJ,"Refresh",{class:this.prefix+"-display-btn"}),i=this.ce.createElement("button",u.EJ,"Copy",{class:this.prefix+"-display-btn"}),t.onclick=this.yQb,e.onclick=this.VQb,i.onclick=this.BQb,[t,e,i]},f.prototype.KMb=function(){var t;return t=this,this.storage.loadAll().then((function(e){return t.g_a=e.reduce((function(t,e){return t[e.key]=e.value,t}),{}),t.g_a}))},f.prototype.Kzb=function(t){return this.storage.remove(t)},f.prototype.Uub=function(){return this.storage.removeAll()},f.prototype.Y6a=function(){var t;return t=this,this.KMb().then((function(e){return t.aoa(e)}))},f.prototype.Zvb=function(){var t;t=JSON.stringify(this.g_a,null,4),h.E_.ika(t)},n=f,n=e.__decorate([r.R(),e.__param(0,r.l(o.cg)),e.__param(1,r.l(a.bg)),e.__param(2,r.l(s.Kca))],n),i.bhb=n},function(t,e){function i(t){this.is=t,this.ELb="#881391",this.DZb="#C41A16",this.Vsb=this.cQb="#1C00CF",this.mKb="#D79BDB",this.O0b=this.$Pb="#808080"}Object.defineProperty(e,"__esModule",{value:!0}),e.BLa=void 0,i.prototype.gi=function(t){return this.getValue("~~NONAME~~",t)},i.prototype.RC=function(t,e){return'<font color="'+(void 0!==e&&e?this.mKb:this.ELb)+'">'+t+": </font>"},i.prototype.SWa=function(t,e){e=e||"",t='<li><a href="#">'+this.RC(t)+"Array["+e.length+"]</a>",t+="<ul>";for(var i=0;i<e.length;++i)t+=this.getValue(i.toString(),e[i]);return(t+=this.getValue("length",e.length,!0))+"</ul></li>"},i.prototype.yYa=function(t,e){var i,n;return i=this,e instanceof CryptoKey?this.$Eb(t,e):(n="",n+='<li><a href="#">'+("~~NONAME~~"!==t?this.RC(t):"")+"Object</a>",n+="<ul>",Object.entries(e).forEach((function(t){var e;t=(e=v(t)).next().value,e=e.next().value,n=t.startsWith("$")?n+i.getValue(t,"REMOVED"):n+i.getValue(t,e)})),n+="</ul>",n+="</li>")},i.prototype.$Eb=function(t,e){return t=(t='<li><a href="#">'+this.RC(t)+"CryptoKey</a>")+"<ul>"+this.yYa("algorithm",e.algorithm),t+=this.ZWa("extractable",e.extractable),t+=this.cZa("type",e.type),(t+=this.SWa("usages",e.usages))+"</ul></li>"},i.prototype.AGb=function(t,e,i){return'<li><a href="#">'+this.RC(t,void 0!==i&&i)+'<font color="'+this.cQb+'">'+e.toString()+"</font></a></li>"},i.prototype.ZWa=function(t,e,i){return'<li><a href="#">'+this.RC(t,void 0!==i&&i)+'<font color="'+this.Vsb+'">'+e.toString()+"</font></a></li>"},i.prototype.cZa=function(t,e,i){return 128<e.length&&(e=e.substr(0,128)+"..."),'<li><a href="#">'+this.RC(t,void 0!==i&&i)+'<font color="'+this.DZb+'">"'+e+'"</font></a></li>'},i.prototype.zGb=function(t){return'<li><a href="#">'+this.RC(t)+'<font color="'+this.$Pb+'">null</font></a></li>'},i.prototype.IHb=function(t,e){return 255<(e=void 0===e?"":e.toString()).length&&(e=e.substr(0,255)+"..."),'<li><a href="#">'+this.RC(t)+'<font color="'+this.O0b+'">'+e+"</font></a></li>"},i.prototype.getValue=function(t,e,i){return i=void 0!==i&&i,null===e?""+this.zGb(t):this.is.By(e)?""+this.SWa(t,e):this.is.CL(e)?""+this.yYa(t,e):this.is.Ip(e)?""+this.cZa(t,e,i):this.is.Ii(e)?""+this.AGb(t,e,i):this.is.pT(e)?""+this.ZWa(t,e,i):""+this.IHb(t,e)},e.BLa=i},function(t,e,i){var n,r;function o(t){this.uAb=t}Object.defineProperty(e,"__esModule",{value:!0}),e.IBa=void 0,t=i(1),n=i(0),i=i(503),o.prototype.xb=function(){var t;return t=this,this.gD||(this.gD=new Promise((function(e,i){var n;n=[],t.uAb.forEach((function(t){n.push(t.xb())})),Promise.all(n).then((function(){e()})).catch((function(t){i(t)}))}))),this.gD},r=o,r=t.__decorate([n.R(),t.__param(0,n.OH(i.HBa))],r),e.IBa=r},function(t,e,i){var n,o;function a(){this.Cva="",this.Lbb=[[],[]],this.U=[[],[]]}Object.defineProperty(e,"__esModule",{value:!0}),e.Mya=void 0,t=i(1),n=i(0),i(4),o=i(98),a.prototype.downloadRequest=function(t){var e;""===this.Cva&&(this.Cva=t.xa),t.ad||(e=this.S_b(t),this.U[t.mediaType].push(e),this.Lbb[t.mediaType].forEach((function(t){t.R8b(e)})))},a.prototype.S_b=function(t){return{id:t.mi(),xa:t.xa,mediaType:t.mediaType,ek:t.ek,startTime:t.AA,endTime:t.Vw,offset:t.Ou,QL:t.QL,PL:t.PL,duration:t.Hr,bitrate:t.bitrate,state:o.uba.NUa,yj:!1,V$b:!1,CZa:!1,O9b:o.tba.waiting}},a.prototype.update=function(t){this.Lbb[t.mediaType].forEach((function(e){e.Tcc(t)}))},r.Object.defineProperties(a.prototype,{xa:{configurable:!0,enumerable:!0,get:function(){return this.Cva}}}),i=t.__decorate([n.R()],a),e.Mya=i},function(t,e,i){var n,o,a,s,u;function c(t,e){return(t=a.Ze.call(this,t,"LogDisplayConfigImpl")||this).oj=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.YEa=void 0,t=i(1),n=i(0),o=i(45),a=i(46),s=i(37),i=i(108),g(c,a.Ze),r.Object.defineProperties(c.prototype,{nY:{configurable:!0,enumerable:!0,get:function(){return!0}},MN:{configurable:!0,enumerable:!0,get:function(){return this.oj.MN}},F1a:{configurable:!0,enumerable:!0,get:function(){return-1}}}),u=c,t.__decorate([o.config(o.dd,"renderDomDiagnostics")],u.prototype,"nY",null),t.__decorate([o.config(o.hD,"logDisplayMaxEntryCount")],u.prototype,"MN",null),t.__decorate([o.config(o.hD,"logDisplayAutoshowLevel")],u.prototype,"F1a",null),u=t.__decorate([n.R(),t.__param(0,n.l(s.Wl)),t.__param(1,n.l(i.fF))],u),e.YEa=u},function(e,i,n){var o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_;function w(t,e,i,n,r,o,a,s,u,c){var h;h=this,this.za=t,this.hg=e,this.ce=i,this.Oc=n,this.Un=r,this.config=o,this.FG=a,this.exa=s,this.Xyb=u,this.Wn=c,this.z_b=function(){h.MZ.Ol((function(){h.update()}))},this.clear=function(){h.entries=[],h.update()},this.h3a=function(){h.Ke.EN=!h.Ke.EN,h.vD&&h.AD&&(h.Ke.EN?(h.vD.style.display="inline-block",h.AD.style.display="none"):(h.AD.style.display="inline-block",h.vD.style.display="none")),h.LI(!1)},this.cNb=function(t){var e;h.entries.push(t),0<=(e=h.config.MN)&&h.entries.length>e&&h.entries.shift(),void 0===h.Ke.Oy[t.Ao]&&(h.Ke.Oy[t.Ao]=!0,h.LI(!1)),h.Ke.isVisible&&!h.E$a?h.z_b():h.MZ.Ol()},this.EAb=function(){k.download("all",h.entries.map((function(t){return t.maa(!1,!1)}))).catch((function(t){console.error("Unable to download all logs to the file",t)}))},this.En=!1,this.Ke={isVisible:!1,EN:!0,J4:!0,Eqa:p.Nj.Fca,Oy:{}},this.MZ=this.exa(f.vh(1)),this.WCb=this.Xyb(f.Nc(250)),this.entries=[]}function E(t){var e;this.elements=[],(e=document.createElementNS(E.iZ,"svg")).setAttribute("viewBox",t),this.elements.push(e)}function k(){}Object.defineProperty(i,"__esModule",{value:!0}),i.$Ea=void 0,e=n(1),o=n(0),a=n(29),s=n(112),u=n(339),c=n(48),h=n(38),f=n(4),l=n(18),d=n(91),p=n(7),b=n(113),v=n(289),y=n(506),g=n(79),m=n(133),_=n(288),k.download=function(t,e){return k.xFb(t).then((function(t){return k.zHb(t,e.join("\r\n")).then((function(t){return k.AAb(t.filename,t.text)}))}))},k.xFb=function(t){return new Promise((function(e,i){var n,r,o,a,s,u,c;try{r=(n=new Date).getDate().toString(),o=(n.getMonth()+1).toString(),a=n.getFullYear().toString(),s=n.getHours().toString(),u=n.getMinutes().toString(),c=n.getSeconds().toString(),1===r.length&&(r="0"+r),1===o.length&&(o="0"+o),1===s.length&&(s="0"+s),1===u.length&&(u="0"+u),1===c.length&&(c="0"+c),e(a+o+r+s+u+c+"."+t+".log")}catch(t){i(t)}}))},k.zHb=function(t,e){return new Promise((function(i,n){try{i({filename:t,text:URL.createObjectURL(new Blob([e],{type:"text/plain"}))})}catch(t){n(t)}}))},k.AAb=function(t,e){var i;try{return(i=document.createElement("a")).setAttribute("href",e),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),Promise.resolve()}catch(t){return Promise.reject(t)}},E.prototype.xP=function(){var t;return(t=document.createElementNS(E.iZ,"g")).setAttribute("stroke","none"),t.setAttribute("stroke-width",1..toString()),t.setAttribute("fill","none"),t.setAttribute("fill-rule","evenodd"),t.setAttribute("stroke-linecap","round"),this.addElement(t),this},E.prototype.zP=function(t,e,i){var n;return(n=document.createElementNS(E.iZ,"path")).setAttribute("d",t),e&&n.setAttribute("fill",e),i&&n.setAttribute("fill-rule",i),this.addElement(n),this},E.prototype.XY=function(t,e,i,n,r){var o;return r=void 0===r?"#000000":r,(o=document.createElementNS(E.iZ,"rect")).setAttribute("x",t.toString()),o.setAttribute("y",e.toString()),o.setAttribute("height",i.toString()),o.setAttribute("width",n.toString()),r&&o.setAttribute("fill",r),this.addElement(o),this},E.prototype.hZb=function(){var t;return(t=document.createElementNS(E.iZ,"polygon")).setAttribute("points","0 0 24 0 24 24 0 24"),t.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)"),this.addElement(t),this},E.prototype.end=function(){return this.elements.pop(),this},E.prototype.gi=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0]},E.prototype.addElement=function(t){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(t),this.elements.push(t)},r.Object.defineProperties(E,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent"}},CG:{configurable:!0,enumerable:!0,get:function(){return"#000000"}}}),E.iZ="http://www.w3.org/2000/svg",w.prototype.xb=function(){var e;return e=this,this.gD||(this.gD=new Promise((function(i){t.addEventListener("keydown",(function(t){t.ctrlKey&&t.altKey&&t.shiftKey&&(t.keyCode==m.tv.ehb?e.toggle():t.keyCode==m.tv.E&&_.E_.ika(e.FG().Vk))})),e.Un.e$(v.Zca.zeb,e.cNb),i()}))),this.gD},w.prototype.show=function(){document.body&&(this.element||(this.Lxb(),this.En=!0),!this.Ke.isVisible&&this.element&&(document.body.appendChild(this.element),this.Ke.isVisible=!0,this.update(!0)))},w.prototype.Qr=function(){this.En&&this.Ke.isVisible&&this.element&&(document.body.removeChild(this.element),this.Ke.isVisible=!1)},w.prototype.toggle=function(){this.Ke.isVisible?this.Qr():this.show(),this.LI(!1)},w.prototype.Lxb=function(){var t,e;try{t=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{class:"player-log"}),(e=this.createElement("style")).type="text/css",e.appendChild(document.createTextNode("button:focus { outline: none; }")),t.appendChild(e),t.appendChild(this.cp=this.Cyb()),t.appendChild(this.Dyb()),t.appendChild(this.Fxb()),this.element=t}catch(t){console.error("Unable to create the log console",t)}},w.prototype.Cyb=function(){var t,e;return t=this,(e=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)")).setAttribute("wrap","off"),e.setAttribute("readonly","readonly"),e.addEventListener("focus",(function(){t.E$a=!0,t.update(),t.cp&&(t.cp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)")})),e.addEventListener("blur",(function(){t.E$a=!1,t.update(),t.cp&&(t.cp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)")})),e},w.prototype.Dyb=function(){var t;return(t=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif")).appendChild(this.eyb()),t.appendChild(this.Vxb()),t.appendChild(this.Qxb()),t.appendChild(this.Fyb()),t.appendChild(this.Jxb()),t.appendChild(this.kyb()),t.appendChild(this.iyb()),t.appendChild(this.Sxb()),t.appendChild(this.Kxb()),t},w.prototype.Fxb=function(){var t,e,i,n,r,o;return t=this,e=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif"),i=this.createElement("div","padding:2px"),n=this.createElement("select",this.uw(22,160,1,2),"<option>Select categories</option>"),r=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid"),e.appendChild(i),e.appendChild(r),i.appendChild(n),i.addEventListener("mousedown",(function(t){t.preventDefault()})),o=!1,i.addEventListener("click",(function(){o?r.style.display="none":(r.innerHTML="",["all","none"].concat(Object.keys(t.Ke.Oy).sort()).forEach((function(e){r.appendChild(t.Gxb(e,i))})),r.style.display="block"),o=!o})),e},w.prototype.Gxb=function(t,e){var i,n,r;return i=this,(n=this.createElement("label","display: block;margin:1px")).htmlFor=t,(r=this.createElement("input","margin:1px")).type="checkbox",r.id=t,r.checked=this.Ke.Oy[t],r.addEventListener("click",(function(){"all"===t||"none"===t?(Object.keys(i.Ke.Oy).forEach((function(e){i.Ke.Oy[e]="all"===t})),e.click()):i.Ke.Oy[t]=!i.Ke.Oy[t],i.LI(!0)})),n.appendChild(r),n.insertAdjacentText("beforeend",18<t.length?t.slice(0,15)+"...":t),n},w.prototype.eyb=function(){var t,e;return t=this,(e=this.createElement("select",this.uw(22,NaN,1,2),'<option value="'+p.Nj.Mf+'">Error</option><option value="'+p.Nj.afa+'">Warn</option><option value="'+p.Nj.Fca+'">Info</option><option value="'+p.Nj.aLa+'">Trace</option><option value="'+p.Nj.ga+'">Debug</option>')).value=this.Ke.Eqa.toString(),e.addEventListener("change",(function(e){t.Ke.Eqa=parseInt(e.target.value),t.LI(!0)}),!1),e},w.prototype.Vxb=function(){var t,e;function i(e){return t.WCb.Ol((function(){var i;i=e.target.value,t.Ke.filter=i?new RegExp(i):void 0,t.LI(!0)}))}return t=this,(e=this.createElement("input",this.uw(14,150,1,2))).value=this.Ke.filter?this.Ke.filter.source:"",e.title="Filter (RegEx)",e.placeholder="Filter (RegEx)",e.addEventListener("keydown",i,!1),e.addEventListener("change",i,!1),e},w.prototype.Qxb=function(){var t,e,i,n;return t=this,e=this.createElement("div",this.uw(NaN,NaN)),(i=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;")).id="details",i.type="checkbox",i.title="Details",i.checked=this.Ke.J4,i.addEventListener("change",(function(e){t.Ke.J4=e.target.checked,t.LI(!0)}),!1),(n=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;")).setAttribute("for","details"),n.innerHTML="View details",e.appendChild(i),e.appendChild(n),e},w.prototype.Fyb=function(){var t,e,i;return t=this,e=this.createElement("button",this.uw()),i=new E("0 0 24 24").xP().hZb().end().zP("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",E.CG,"nonzero").end().end().gi(),e.appendChild(i),e.addEventListener("click",(function(){t.update()}),!1),e.setAttribute("title","Refresh the log console"),e},w.prototype.Jxb=function(){var t,e;return t=this.createElement("button",this.uw()),e=new E("0 0 24 24").xP().XY(0,0,24,24,E.background).end().zP("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",E.CG).end().end().gi(),t.appendChild(e),t.addEventListener("click",this.clear,!1),t.setAttribute("title","Remove all log messages"),t},w.prototype.kyb=function(){var t;return this.AD=this.createElement("button",this.uw()),this.AD.style.display=this.Ke.EN?"none":"inline-block",t=new E("0 0 24 24").xP().XY(0,0,24,24,E.background).end().zP("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",E.CG,"nonzero").end().end().gi(),this.AD.addEventListener("click",this.h3a,!1),this.AD.appendChild(t),this.AD.setAttribute("title","Shrink the log console"),this.AD},w.prototype.iyb=function(){var t;return this.vD=this.createElement("button",this.uw()),this.vD.style.display=this.Ke.EN?"inline-block":"none",t=new E("0 0 24 24").xP().XY(4,4,16,16,E.background).end().zP("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",E.CG,"nonzero").end().end().gi(),this.vD.addEventListener("click",this.h3a,!1),this.vD.appendChild(t),this.vD.setAttribute("title","Expand the log console"),this.vD},w.prototype.Sxb=function(){var t,e;return t=this.createElement("button",this.uw()),e=new E("0 0 26 26").xP().XY(0,0,24,24,E.background).end().zP("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",E.CG,"nonzero").end().end().gi(),t.appendChild(e),t.addEventListener("click",this.EAb,!1),t.setAttribute("title","Download all log messages"),t},w.prototype.Kxb=function(){var t,e,i;return t=this,e=this.createElement("button",this.uw()),i=new E("0 0 24 24").xP().XY(0,0,24,24,E.background).end().zP("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",E.CG,"nonzero").end().end().gi(),e.appendChild(i),e.addEventListener("click",(function(){t.toggle()}),!1),e.setAttribute("title","Close the log console"),e},w.prototype.LI=function(t){var e;e=void 0!==e&&e,(t=void 0!==t&&t)&&this.update(e)},w.prototype.update=function(t){var e;e=this,t=void 0!==t&&t,this.element&&this.config.nY&&Promise.resolve(this.jtb()+this.yFb().join("\r\n")).then((function(i){e.element&&e.cp&&(e.cp.value=i,e.element.style.cssText=e.Ke.EN?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",t&&e.Oc.zk(f.Gb,(function(){e.cp.scrollTop=e.cp.scrollHeight})))})).catch((function(t){console.error("Unable to update the log console",t)}))},w.prototype.yFb=function(){var t,e;return t=this,e=[],this.entries.forEach((function(i){(i.level||i.level)<=t.Ke.Eqa&&t.Ke.Oy[i.Ao]&&(i=i.maa(!t.Ke.J4,!t.Ke.J4),t.Ke.filter&&!t.Ke.filter.test(i)||e.push(i))})),e},w.prototype.jtb=function(){var t;return"Version: 6.0033.414.911 \n"+((t=this.FG())?"Esn: "+t.Vk:"")+"\nJsSid: "+this.hg.id+", Epoch: "+this.za.ff.da(f.io)+", Start: "+this.hg.Vz.da(f.io)+", TimeZone: "+(new Date).getTimezoneOffset()+"\nHref: "+location.href+"\nUserAgent: "+navigator.userAgent+"\n--------------------------------------------------------------------------------\n"},w.prototype.createElement=function(t,e,i,n){return this.ce.createElement(t,e,i,n)},w.prototype.uw=function(t,e,i,n){return t=void 0===t?26:t,e=void 0===e?26:e,"display:inline-block;border:"+(void 0===i?0:i)+"px solid "+E.CG+";padding:3px;"+(isNaN(t)?"":"height:"+t+"px")+";"+(isNaN(e)?"":"width:"+e+"px")+";margin:0px 3px;background-color:transparent;"+(n?"border-radius:"+n+"px;":"")},(n=w).rZb="logDxDisplay",n=e.__decorate([o.R(),e.__param(0,o.l(h.Uh)),e.__param(1,o.l(l.jd)),e.__param(2,o.l(a.cg)),e.__param(3,o.l(c.Qj)),e.__param(4,o.l(b.ZJ)),e.__param(5,o.l(y.ZEa)),e.__param(6,o.l(d.zx)),e.__param(7,o.l(s.nK)),e.__param(8,o.l(u.$Aa)),e.__param(9,o.l(g.jB))],n),i.$Ea=n},function(e,i,n){var r,o,a,s,u,c,h,f;function l(t,e,i){var n;return(n=c.WR.call(this,t,e,"network")||this).Hka=i,n.K4=u.dBa.Jhb,n.LNb=30,n.gRb=function(t){n.K4=t.target.value,n.refresh()},n.xQb=function(){n.data={},n.refresh()},n.X7a=function(t){var e,i;e=Number(t.target.id),t=t.target.getAttribute("data-type"),e=n.data[n.K4][e].value,i=JSON.stringify(e,null,4),"copy"===t?f.E_.ika(i):"log"===t&&console.log(e)},n}Object.defineProperty(i,"__esModule",{value:!0}),i.bib=void 0,e=n(1),r=n(0),o=n(29),a=n(27),s=n(97),u=n(187),c=n(504),h=n(133),f=n(288),g(l,c.WR),l.prototype.xb=function(){var e;return e=this,this.En||(t.addEventListener("keydown",(function(t){t.ctrlKey&&t.altKey&&t.shiftKey&&t.keyCode==h.tv.Qhb&&e.toggle()})),this.data={},this.Hka.addListener(u.aca.gjb,(function(t){var i;e.data[t.type]||(e.data[t.type]=[]),(i=e.data[t.type]).length===e.LNb&&i.shift(),i.push(t),t.type===e.K4&&e.refresh()})),this.En=!0),Promise.resolve()},l.prototype.Xk=function(){return'<tr class="'+this.prefix+'-display-headerrow"><th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th><th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th></tr>'},l.prototype.Ona=function(t,e,i){var n;return n=t.toString(),e='<font color="#C41A16">"'+e+'"</font>',i=this.kb.gi(i),'\n            <tr>\n                <td><span class="'+this.prefix+'-display-indexvalue">'+n+'</span></td>\n                <td><span class="'+this.prefix+'-display-keyvalue">'+e+'</span></td>\n                <td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+i+'</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="'+t+'" class="'+this.prefix+'-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="'+t+'" class="'+this.prefix+'-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        '},l.prototype.aoa=function(){for(var t='<table class="'+this.prefix+'-display-table" width="100%">'+this.Xk(),e=this.data[this.K4]||[],i=0;i<e.length;++i)t+=this.Ona(i,e[i].name,e[i].value);return t+"</table>"},l.prototype.qXa=function(){var t;return(t=this.ce.createElement("button",c.EJ,"Clear",{class:this.prefix+"-display-btn"})).onclick=this.xQb,[t,this.Eyb(),this.syb()]},l.prototype.Eyb=function(){var t;return(t=this.ce.createElement("select",c.EJ,Object.values(u.dBa).reduce((function(t,e){return t+'<option value="'+e+'">'+e+"</option>"}),""),{class:this.prefix+"-display-select"})).onchange=this.gRb,t},l.prototype.syb=function(){var t,e,i,n;return t=this,(e=this.ce.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"})).checked=this.SX,e.onchange=function(){return t.Z_b()},i=this.ce.createElement("label",void 0,"Prevent Refresh",{for:"preventRefresh"}),(n=this.ce.createElement("div",void 0,void 0,{class:this.prefix+"-display-div"})).appendChild(e),n.appendChild(i),n},l.prototype.Y6a=function(){return Promise.resolve(this.aoa())},n=l,n=e.__decorate([r.R(),e.__param(0,r.l(o.cg)),e.__param(1,r.l(a.bg)),e.__param(2,r.l(s.U_))],n),i.bib=n},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,t=i(0),n=i(480),r=i(11),e.crypto=new t.rd((function(t){t(n.LAa).$i(r.F0)}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;Object.defineProperty(e,"__esModule",{value:!0}),e.pe=void 0,t=i(0),n=i(1141),r=i(1142),o=i(1143),a=i(139),s=i(318),u=i(485),c=i(1144),h=i(1145),f=i(507),l=i(1146),e.pe=new t.rd((function(t){t(a.m1).to(n.VKa).aa(),t(s.qea).to(o.zJa).aa(),t(u.RLa).to(r.QLa).aa(),t(c.nib).to(h.SGa).aa(),t(f.kMa).to(l.jMa).aa()}))},function(t,e,i){var n,r,o,a,s,u;function c(t,e){this.is=t,this.json=e,r.Qo(this,"json")}Object.defineProperty(e,"__esModule",{value:!0}),e.VKa=void 0,t=i(1),r=i(56),o=i(39),a=i(0),s=i(27),u=i(139),c.prototype.G6a=function(t){var e;return e=this,n.read(t,(function(t){return parseInt(t)}),(function(t){return e.is.Yha(t)}))},c.prototype.lua=function(t){var e;return e=this,n.read(t,(function(t){return"true"==t||"false"!=t&&void 0}),(function(t){return e.is.pT(t)}))},c.prototype.Gq=function(t){var e;return e=this,n.read(t,(function(t){return parseInt(t)}),(function(t){return e.is.yT(t)}))},c.prototype.vUb=function(t){var e;return e=this,n.read(t,(function(t){return parseFloat(t)}),(function(t){return e.is.Ii(t)}))},c.prototype.F6a=function(t,e){return n.read(t,(function(t){return n.dDb(t,e)}),(function(t){return void 0!==t}))},c.prototype.sua=function(t,e){return n.read(t,(function(t){return t}),(function(t){return!e||e.test(t)}))},c.prototype.H6a=function(t){var e,i;e=this,i=void 0===i?function(){return!0}:i;try{return n.read(t,(function(t){return e.json.parse(decodeURIComponent(t))}),(function(t){return e.is.CL(t)&&i(t)}))}catch(t){return new u.pp}},c.prototype.Mh=function(t,e,i){var r,o;if(r=this,i=void 0===i?1:i,t=t.trim(),o=e instanceof Function?e:this.lyb(e,i),e=t.indexOf("["),i=t.lastIndexOf("]"),0!=e||i!=t.length-1)return new u.pp;t=t.substring(e+1,i);try{return n.PRb(t).map((function(t){if((t=o(r,n.h2b(t)))instanceof u.pp)throw t;return t}))}catch(t){return t instanceof u.pp?t:new u.pp}},c.prototype.lyb=function(t,e){var i;return i=this,e=void 0===e?1:e,function(r,o){return r=n.CGb(t),1<e?i.Mh(o,t,e-1):r(i,o)}},c.dDb=function(t,e){var i;for(var n in e)if(e[i=parseInt(n)]==t)return i},c.read=function(t,e,i){return void 0!==(t=e(t))&&i(t)?t:new u.pp},c.CGb=function(t){switch(t){case"int":return function(t,e){return t.G6a(e)};case"bool":return function(t,e){return t.lua(e)};case"uint":return function(t,e){return t.Gq(e)};case"float":return function(t,e){return t.vUb(e)};case"string":return function(t,e){return t.sua(e)};case"object":return function(t,e){return t.H6a(e)}}},c.PRb=function(t){for(var e,i=[["[","]"]],n=[],r=0,o=0,a=0,s=[],c={};o<t.length;c={dQ:c.dQ},++o)c.dQ=t.charAt(o),e=void 0,","==c.dQ&&0==a?(n.push(t.substr(r,o-r)),r=o+1):(e=i.find(function(t){return function(e){return e[0]==t.dQ}}(c)))?(++a,s.push(e)):0<s.length&&s[s.length-1][1]==c.dQ&&(--a,s.pop());if(r!=o)n.push(t.substr(r,o-r));else if(r==o&&0<r)throw new u.pp;return n},c.h2b=function(t){var e;if('"'==(e=t.charAt(0))||"'"==e){if(t.charAt(t.length-1)!=e)throw new u.pp;return t.substring(1,t.length-1)}return t},i=n=c,i=n=t.__decorate([a.R(),t.__param(0,a.l(s.bg)),t.__param(1,a.l(o.LE))],i),e.VKa=i},function(t,e,i){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.QLa=void 0,t=i(1),i=i(0),n.prototype.OWa=function(t){var e;return e=this,t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(t){return e.OWa(t)}))},i=t.__decorate([i.R()],n),e.QLa=i},function(t,e,i){var n,o,a,s;function u(t){this.location=t,o.Qo(this,"location")}Object.defineProperty(e,"__esModule",{value:!0}),e.zJa=void 0,t=i(1),o=i(56),a=i(39),i=i(0),u.zX=function(t){var e,i,r;if(e={},0<t.length){t=t.split("&");for(var o=0;o<t.length;o++)0<=(r=(i=t[o].trim()).indexOf("="))?e[decodeURIComponent(i.substr(0,r).replace(n.lHa,"%20"))]=decodeURIComponent(i.substr(r+1).replace(n.lHa,"%20")):e[i.toLowerCase()]=""}return e},r.Object.defineProperties(u.prototype,{nUb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=n.zX(this.u6a)}},u6a:{configurable:!0,enumerable:!0,get:function(){var t;return void 0!==this.ZX||(this.ZX=this.location.search.substr(1),0<=(t=this.ZX.indexOf("#"))&&(this.ZX=this.u6a.substr(0,t))),this.ZX}}}),(s=n=u).lHa=/[+]/g,s=n=t.__decorate([i.R(),t.__param(0,i.l(a.UEa))],s),e.zJa=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.nib="ObjectComparerSymbol"},function(t,e,i){var n,r;function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.SGa=void 0,t=i(1),n=i(0),r=i(195),o.prototype.compare=function(t,e){var i;return i=[],this.Rja(t,e,"",i),i},o.prototype.Rja=function(t,e,i,n){var o;if(o=this,r.KE.By(t))r.KE.By(e)&&t.length===e.length?t.forEach((function(r,a){o.Rja(t[a],e[a],i+"["+a+"]",n)})):n.push({a:t,b:e,path:i});else if(r.KE.CL(t)&&null!=t)if(r.KE.CL(e)&&null!=e){for(var a in t)this.Rja(t[a],e[a],i+"."+a,n);for(var s in e)s in t||void 0===e[s]||n.push({a:void 0,b:e[s],path:i+"."+s})}else n.push({a:t,b:e,path:i});else t!==e&&n.push({a:t,b:e,path:i})},i=t.__decorate([n.R()],o),e.SGa=i},function(e,i,n){var o,a,s,u,c;function h(){}Object.defineProperty(i,"__esModule",{value:!0}),i.jMa=void 0,e=n(1),o=n(0),a=n(11),s=n(34),u=n(290),c=n(8),h.prototype.$Gb=function(){var e;return e=t.devicePixelRatio||1,{width:this.Pga.k4b||a.yv.width*e,height:this.Pga.j4b||a.yv.height*e}},r.Object.defineProperties(h.prototype,{Pga:{configurable:!0,enumerable:!0,get:function(){return c.ka.get(s.yB)}}}),n=h,e.__decorate([u.uW],n.prototype,"Pga",null),n=e.__decorate([o.R()],n),i.jMa=n},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g;Object.defineProperty(e,"__esModule",{value:!0}),e.Fd=void 0,t=i(0),n=i(508),r=i(1148),o=i(120),a=i(291),s=i(1149),u=i(1150),c=i(1152),h=i(1153),f=i(1154),l=i(509),d=i(510),p=i(134),b=i(293),v=i(1155),y=i(292),g=i(1156),e.Fd=new t.rd((function(t){t(n.qIa).to(r.pIa).aa(),t(a.lea).to(s.rJa).aa(),t(o.sF).to(u.$La).aa(),t(l.qJa).to(f.KFa).aa(),t(l.pJa).to(h.PEa).aa(),t(l.oJa).to(c.GEa).aa(),t(b.Zya).W_b((function(){var t;return null===(t=p.ln.yi)||void 0===t?void 0:t.Gu})),t(b.Yya).to(v.Xya).aa(),t(d.jea).to(d.dJa),t(y.Mba).to(g.dAa).aa()}))},function(t,e,i){var n,r,o;function a(t,e){this.jb=e,this.ta=t.ib("PlayPredictionDeserializer")}Object.defineProperty(e,"__esModule",{value:!0}),e.pIa=void 0,t=i(1),n=i(0),r=i(7),i=i(27),a.prototype.Wzb=function(t){var e;e=this;try{return{direction:t.direction,jac:t.layoutHasChanged,Wbc:t.rowInteractionIndex,Ya:t.lolomos.map((function(t){return e.Rzb(t)}))}}catch(e){this.ta.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(t)})}},a.prototype.Rzb=function(t){var e;return e=this,{context:t.context,list:t.list.map((function(t){return e.Qzb(t)})),requestId:t.requestId,rowIndex:t.rowIndex,Xbc:t.rowSegment}},a.prototype.Qzb=function(t){var e,i;return e={Ed:t.pts,property:t.property,W:t.viewableId,index:t.index},i=t.preplay,this.jb.Gg(i)&&(e.R9=this.Vzb(i)),t=t.params,this.jb.Gg(t)&&(e.Fb=this.jUa(t)),e},a.prototype.Vzb=function(t){var e;return e={Ed:t.pts,W:t.viewableId,tO:t.pipelineNum,index:t.index},t=t.params,this.jb.Gg(t)&&(e.Fb=this.jUa(t)),e},a.prototype.jUa=function(t){return{ye:t.uiLabel,Fj:t.trackingId,Jm:t.sessionParams}},a.prototype.Uzb=function(t){var e;e=this;try{return t.map((function(t){return e.Szb(t)}))}catch(e){this.ta.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(t)})}},a.prototype.Szb=function(t){var e,i;return i=t.params,this.jb.Gg(i)&&(e=this.Tzb(i)),{J:t.movieId,priority:t.priority,force:t.force,Fb:e,ye:t.uiLabel,Pcc:t.uiExpectedStartTime,Occ:t.uiExpectedEndTime,Dl:t.firstTimeAdded}},a.prototype.Tzb=function(t){var e,i;return e=void 0,i=t.sessionParams,this.jb.Gg(i)&&(e=i),{w3:this.Pzb(t.authParams),Jm:e,Fj:t.trackingId,Z:t.startPts,oa:t.manifest,Fl:t.isBranching}},a.prototype.Pzb=function(t){return{mSb:null==t?void 0:t.pinCapableClient}},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(i.bg))],o),e.pIa=o},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i,n){this.is=i,this.hg=n,this.log=t.ib("TaskScheduler"),this.Ub=new f.Gk,this.config=e(),this.currentIteration=this.pU=0,this.aJ=[],this.paused=!1,this.V$=[],this.GSa=[],this.eKb=this.config.uTb||l.append,this.addEventListener=this.Ub.addListener}Object.defineProperty(e,"__esModule",{value:!0}),e.rJa=void 0,t=i(1),n=i(0),r=i(291),o=i(7),a=i(13),s=i(132),u=i(27),c=i(18),h=i(4),f=i(73),(d=l||(l={})).prepend="prepend",d.append="append",d.qJb="ignore",p.prototype.Qqb=function(t){this.log.trace("adding tasks, number of tasks: "+t.length),this.paused=!1,this.aJ=this.fKb(t),this.pU=0,this.currentIteration+=1,this.Rf()},p.prototype.pause=function(){this.paused=!0},p.prototype.Rf=function(){var t,e,i,n;t=this,this.pU===this.aJ.length?this.log.trace("all tasks completed"):this.paused?this.log.trace("in paused state",{currentTaskIndex:this.pU,numberOfTasks:this.aJ.length}):(e=this.vGb(),i=this.currentIteration,e.startTime=this.hg.Yb().da(h.ja),e.status=s.Ik.ex,this.Ub.Fc(r.iK.t_b,{J:e.J,type:e.type}),this.V$.push(e),n=function(n){e.endTime=t.hg.Yb().da(h.ja),n(),t.GSa.push(e),t.V$.splice(t.V$.indexOf(e),1),t.currentIteration===i&&(t.pU++,t.Rf())},e.yWb().then((function(){n((function(){e.status=s.Ik.EP,t.Vta(e,r.iK.u_b,"task succeeded")}))})).catch((function(i){n((function(){0<=[s.Ik.Eh,s.Ik.Ztb,s.Ik.nja].indexOf(i.status)?(e.status=i.status,t.Vta(e,r.iK.r_b,"cancelled task")):(e.status=s.Ik.Pt,t.Vta(e,r.iK.s_b,"task failed",i))}))})))},p.prototype.vGb=function(){return this.aJ[this.pU]},p.prototype.getStats=function(t,e,i){var n,r,o,a;return n=this.GSa.map((function(t){return t.Xt()})),r=this.V$.map((function(t){return t.Xt()})),o=this.is.Gg(t)&&this.is.Gg(e),a={},this.is.Gg(i)?(a.uvb=n.filter((function(t){return t.movieId===i})),a):(n.concat(r).forEach((function(i){var n;a[i.type+"_"+i.status]=1+(0|a[i.type+"_"+i.status]),n=i.status==s.Ik.ex?i.startTime:i.endTime,o&&n&&n>=t&&n<e&&(a[i.type+"_"+i.status+"_delta"]=1+(0|a[i.type+"_"+i.status+"_delta"]))})),a)},p.prototype.Vta=function(t,e,i,n){var r;r=t.Xt(),n?this.log.warn(i,r,n):this.log.trace(i,r),this.Ub.Fc(e,{J:t.J,type:t.type,reason:t.status}),t.gO(r)},p.prototype.fKb=function(t){var e,i;return e=this.aJ.filter((function(t){return t.kSb&&t.status===s.Ik.Co})),(i=this.eKb)===l.qJb?[].concat(t):i===l.prepend?e.concat(t):t.concat(e)},i=p,i=t.__decorate([n.R(),t.__param(0,n.l(o.qb)),t.__param(1,n.l(a.Zc)),t.__param(2,n.l(u.bg)),t.__param(3,n.l(c.jd))],i),e.rJa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v;function y(t,e,i,n,r,o,a,s,u,c,h){this.Y2b=i,this.jb=n,this.hg=r,this.Yf=o,this.ZVa=a,this.OCb=s,this.PCb=u,this.Zla=c,this.events=new v.EventEmitter,this.log=t.ib("VideoPreparer"),this.config=e(),this.uya={},this.K8={},this.ec={num_of_calls:0,num_of_movies:0},this.Eg=h.Eg}function g(t){return void 0!==t}Object.defineProperty(e,"__esModule",{value:!0}),e.$La=void 0,t=i(1),n=i(1151),r=i(13),o=i(0),a=i(7),s=i(81),u=i(27),c=i(291),h=i(18),f=i(4),l=i(132),d=i(292),p=i(509),b=i(293),v=i(17),y.prototype.I8a=function(t,e,i){this.Eg.setData(t,"ldl",e,i)},y.prototype.zZa=function(t){return this.Eg.TV(t,"ldl")},y.prototype.gSa=function(t){this.Eg.clearData(t,"ldl",void 0,!0)},y.prototype.QM=function(t,e){return this.Eg.getData(t,e)},y.prototype.fXa=function(t){var e;return e=this.Eg.getData(t,"ldl"),this.Eg.clearData(t,"ldl",void 0,!0),e},y.prototype.Kbb=function(t){return this.R9a===t||this.FTa===t},y.prototype.iI=function(t,e){var i,n,r;i=this,r=(n=(t=t.map((function(t){return t.Fb=t.Fb||{w3:{mSb:!1},Fj:0},i.jb.EG(t.Fb.Fj)||(t.Fb.Fj=0),i.jb.EG(t.Ed)&&(t.Fb.Z=t.Ed),t}))).map((function(t){return i.Byb(t,e)})).reduce((function(t,e){return t.concat(e)}),[])).map((function(t){return t.J+"-"+t.type})),this.log.trace("prepare tasks",r),this.Yf.Qqb(n),this.ec.num_of_calls++,this.ec.num_of_movies+=t.length},y.prototype.getStats=function(t,e,i){return Object.assign(Object.assign({},i&&this.K8[i]||{}),{aJ:this.Yf.getStats(t,e,i),cache:this.Eg.getStats(t,e),aEb:Object.assign(Object.assign({},this.ec),this.Zla.getStats())})},y.prototype.lIb=function(t){this.R9a=t},y.prototype.kIb=function(t){this.log.trace("task scheduler paused on playback created"),this.Yf.pause(),this.config.Nzb&&this.Eg.Fja(t,["manifest"]),this.config.Mzb&&this.Eg.Fja(t,["ldl"]),this.config.Izb&&this.Eg.clearData(t,"manifest"),this.Zla.c7a(t),this.FTa=t},y.prototype.wZa=function(){this.log.info("track changed, clearing all manifests from cache"),this.Eg.Fja("none",["manifest"])},y.prototype.jIb=function(t){var e;e=this,this.config.Jzb?this.Eg.clearData(t,"manifest"):this.Eg.TV(t,"manifest")&&this.Eg.getData(t,"manifest").then((function(i){i.$b.isSupplemental||e.Eg.clearData(t,"manifest")}),(function(i){e.log.warn("Failed to get manifest for movieId ["+t+"] from cacheManager.",i)})),this.Kja(t),this.R9a=this.FTa=void 0},y.prototype.Kja=function(t){delete this.uya[t]},y.prototype.Az=function(t){return this.uya[t]},y.prototype.ETa=function(t){return this.uya[t]=this.Y2b.Wy()},y.prototype.n9a=function(t,e){return this.zZa(t)?l.Ik.Eh:e.UV?void 0:l.Ik.nja},y.prototype.Byb=function(t,e){var i;return t.ye&&t.Fb&&(t.Fb.ye=t.ye),this.p1b(t.J,t.Dl),[i=this.hyb(t,e),this.dyb(t,null==i?void 0:i.id,e),t=this.jyb(t,null==i?void 0:i.id,e)].filter(g)},y.prototype.hyb=function(t,e){if(!this.Eg.TV(t.J,"manifest"))return new n.NR("manifest",this.hg.Yb().da(f.ja),!!t.Fb.Ph,void 0,e,this.ZVa,t,this);this.log.trace("manifest exists in cache for "+t.J)},y.prototype.dyb=function(t,e,i){if(this.config.RU&&!this.Eg.TV(t.J,"ldl"))return this.config.hp?new n.NR("ldl",this.hg.Yb().da(f.ja),!!t.Fb.Ph,e,i,this.OCb,t,this):new n.NR("ldl",this.hg.Yb().da(f.ja),!!t.Fb.Ph,e,i,this.PCb,t,this)},y.prototype.jyb=function(t,e,i){if(this.config.kVa)return new n.NR("getMedia",this.hg.Yb().da(f.ja),!!t.Fb.Ph,e,i,this.Zla,t,this)},y.prototype.p1b=function(t,e){this.K8[t]||(this.K8[t]={P9:0,Dl:0}),(t=this.K8[t]).P9=(void 0!==t&&void 0!==t.P9?t.P9:0)+1,t.Dl=e},i=y,i=t.__decorate([o.R(),t.__param(0,o.l(a.qb)),t.__param(1,o.l(r.Zc)),t.__param(2,o.l(s.Gx)),t.__param(3,o.l(u.bg)),t.__param(4,o.l(h.jd)),t.__param(5,o.l(c.lea)),t.__param(6,o.l(p.qJa)),t.__param(7,o.l(p.pJa)),t.__param(8,o.l(p.oJa)),t.__param(9,o.l(b.Yya)),t.__param(10,o.l(d.Mba))],i),e.$La=i},function(t,e,i){var n,o;function a(t,e,i,r,a,s,u,c){this.type=t,this.Co=e,this.kSb=void 0!==i&&i,this.notify=a,this.QCb=s,this.AO=u,this.Fd=c,this.id=++o,this.status=n.Ik.Co}Object.defineProperty(e,"__esModule",{value:!0}),e.NR=void 0,n=i(132),o=0,a.prototype.Xt=function(){var t;return t={id:this.id,type:this.type,created:this.Co,status:this.status,movieId:this.J},this.startTime&&(t.startTime=this.startTime),this.endTime&&this.startTime&&(t.duration=this.endTime-this.startTime,t.endTime=this.endTime),t},a.prototype.gO=function(t){this.notify&&this.notify(t)},a.prototype.yWb=function(){return this.QCb.fetch(this.AO,this.Fd)},r.Object.defineProperties(a.prototype,{J:{configurable:!0,enumerable:!0,get:function(){return this.AO.J}},priority:{configurable:!0,enumerable:!0,get:function(){return this.AO.priority}}}),e.NR=a},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g;function m(t,e,i,n,r,o,a,s,u,c){this.fs=i,this.SY=n,this.Uc=r,this.za=o,this.Aa=a,this.JN=s,this.uSb=u,this.nk=c,this.log=t.ib("VideoPreparer"),this.config=e()}Object.defineProperty(e,"__esModule",{value:!0}),e.GEa=void 0,t=i(1),n=i(0),r=i(7),o=i(13),a=i(132),s=i(62),u=i(57),c=i(34),h=i(155),f=i(188),l=i(36),d=i(4),p=i(38),b=i(18),v=i(189),y=i(200),i=i(119),m.prototype.fetch=function(t,e){var i;return i=this,this.log.trace("Fetching LDL",v.PJ(t)),this.J=t.J,this.Fd=e,e.QM(t.J,"ldl").catch((function(){return i.log.trace("Requesting a new license",v.PJ(t)),i.nk.L5(t.J).then((function(n){var r,o;if(i.oa=n,i.$b=n.$b,n=i.Fd.n9a(t.J,i.$b))throw{status:n};return n=i.$b.eB[0].Iu,r=i.$b.eB[0].nla,o=(n||[r]).map((function(t){return i.Uc.decode(t.bytes)})),i.nf=i.zG({ZUa:i.log,Lla:function(t){return i.handleError(t)},Dd:void 0,lsa:function(){},za:{getTime:function(){return i.Aa.Yb().da(d.ja)},v$b:function(){return i.za.ff.da(d.io)}}}),e.I8a(t.J,i.nf),i.nf.create(i.config.xm).then((function(){return i.nf.Hg(u.Xh.eo,o,!0)})).then((function(){return i.nf})).catch((function(t){throw i.handleError(t),t}))})).catch((function(t){if(i.log.warn("Manifest not available for ldl request",t),void 0!==t.status)throw t;throw{status:a.Ik.Eh}}))}))},m.prototype.handleError=function(t){this.log.warn("ldl is now invalid",t),this.nf.close(),this.Fd.gSa(this.J),this.Fd.Kja(this.J)},m.prototype.zG=function(t){var e,i;return e=this,this.fs.NJ&&this.fs.LJ||(i=this.uSb(),this.fs.NJ=i.ac,this.fs.LJ=i.request),i=new this.fs.LJ(t.ZUa,(function(t){var i;return i=[],t.dk.forEach((function(t){i.push({sessionId:t.sessionId,dataBase64:e.Uc.encode(t.data)})})),t={dk:i,N4:[e.$b.rm],Uf:s.co.$Sa(t.Uf),Ti:e.$b.Ti,ba:e.Fd.ETa(e.J),lk:e.oa.lk},e.log.trace("xid created ",{MovieId:e.J,xid:t.ba}),e.JN.vy(t)}),void 0,{qf:!1,Yk:!1}),this.fs.NJ(t.ZUa,t.Dd,{qf:!1,Yk:!1,Nl:i,UX:this.config.m6a,X:void 0,bB:this.config.gVa,onerror:t.Lla,lsa:t.lsa,za:t.za,dI:!1,csb:this.SY.i4([]),u2b:this.SY.l4([]),T6:this.config.T6})},g=m,g=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.Zc)),t.__param(2,n.l(c.yB)),t.__param(3,n.l(h.TR)),t.__param(4,n.l(l.Ci)),t.__param(5,n.l(p.Uh)),t.__param(6,n.l(b.jd)),t.__param(7,n.l(f.lR)),t.__param(8,n.l(y.Wda)),t.__param(9,n.l(i.RE))],g),e.GEa=g},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t,e,i,n,r,o){this.Uc=i,this.TAb=n,this.UN=r,this.nk=o,this.log=t.ib("VideoPreparer")}Object.defineProperty(e,"__esModule",{value:!0}),e.PEa=void 0,t=i(1),n=i(0),r=i(7),o=i(13),a=i(57),s=i(36),u=i(122),c=i(138),h=i(132),f=i(189),i=i(119),d.prototype.fetch=function(t,e){var i;return i=this,this.log.trace("Fetching LDL",f.PJ(t)),this.J=t.J,this.Fd=e,e.QM(t.J,"ldl").then((function(t){return t.H$})).catch((function(){return i.log.trace("Requesting a new license",f.PJ(t)),i.nk.L5(t.J).then((function(n){var r,o,s,u;if(i.$b=n.$b,e.zZa(t.J))return e.QM(t.J,"ldl").then((function(t){return t.H$}));if(r=i.Fd.n9a(t.J,i.$b))throw{status:r};return o=i.$b.eB[0].Iu,r=i.$b.eB[0].nla,s=(o||[r]).map((function(t){return i.Uc.decode(t.bytes)})),u=i.TAb().then((function(r){var u;return u={type:a.Xh.eo,initData:s,context:{Iu:o},Si:{J:t.J,ba:e.ETa(t.J),Ti:i.$b.Ti,rm:i.$b.rm,lk:n.lk}},r.Hg(u,i.UN())})).catch((function(t){throw i.handleError("Unable to prepare an EME session.",t),t})),i.Fd.I8a(t.J,{H$:u,source:"videopreparer"},(function(){if(!i.Fd.Kbb(t.J))try{u.then((function(t){return t.close()})).catch((function(t){i.handleError("Unable to cleanup LDL session, Unable to get the session.",t)}))}catch(t){i.handleError("Unable to cleanup LDL session, unexpected exception.",t)}})),u})).catch((function(t){if(i.log.warn("Manifest not available for ldl request",t),void 0!==t.status)throw t;throw{status:h.Ik.Eh}}))}))},d.prototype.handleError=function(t,e){this.log.warn(t+" LDL is now invalid.",e),this.Fd.gSa(this.J),this.Fd.Kja(this.J)},l=d,l=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.Zc)),t.__param(2,n.l(s.Ci)),t.__param(3,n.l(u.X_)),t.__param(4,n.l(c.uR)),t.__param(5,n.l(i.RE))],l),e.PEa=l},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t,e,i,n,r){this.Zqa=i,this.hg=n,this.nk=r,this.log=t.ib("VideoPreparer"),this.config=e()}Object.defineProperty(e,"__esModule",{value:!0}),e.KFa=void 0,t=i(1),n=i(13),r=i(0),o=i(7),a=i(18),s=i(4),u=i(157),c=i(103),h=i(189),f=i(119),l=i(57),d.prototype.fetch=function(t,e){var i,n;return this.log.trace("Fetching manifest",h.PJ(t)),n=t.Fb,this.config.eqb&&n&&n.oa&&!this.nk.uoa(t.J)&&(!("clientGenesis"in n.oa)||!n.oa.clientGenesis||Date.now()-n.oa.clientGenesis<this.config.$5a)&&(n=this.Zqa.create(n.oa))&&(n.uI=this.hg.Yb().da(s.ja),n.TO=this.hg.Yb().da(s.ja),this.nk.aZ(t.J,n)),this.nk.ZM({W:t.J,bb:null!==(i=t.Fb)&&void 0!==i?i:{},Tt:c.Vm.eF,Uf:l.Xh.eo},!0,(function(){e.events.emit("manifestRemovedFromCache",{target:e,type:"manifestRemovedFromCache",W:t.J})}))},i=d,i=t.__decorate([r.R(),t.__param(0,r.l(o.qb)),t.__param(1,r.l(n.Zc)),t.__param(2,r.l(u.tR)),t.__param(3,r.l(a.jd)),t.__param(4,r.l(f.RE))],i),e.KFa=i},function(t,e,i){var n,o,a,s,u,c,h,f,l,d,p,b,v;function g(){var t;t=this,this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i}))}function m(t,e,i,n,r){var o;o=this,this.Ata=i,this.rTb=n,this.nk=r,this.a_=[],this.wA=new Map,this.SQb=function(t){var e,i;t=t.wishListItem.key.W,o.wA.has(t)&&(t=(i=o.wA.get(t)).AO,null===(e=(i=i.Vja).resolve)||void 0===e||e.call(i,t))},this.p4a=function(t){!t.target.Kbb(t.W)&&o.wA.has(t.W)&&(o.c7a(t.W),o.g9a(o.a_),o.Gj.has(t.W)&&(o.Gj.Cn(t.W).Ot=!0))},this.ta=t.ib("VideoPreparer"),this.config=e(),this.Gj=new v.$ea}Object.defineProperty(e,"__esModule",{value:!0}),e.Xya=void 0,t=i(1),n=i(7),i(189),o=i(134),a=i(47),s=i(13),u=i(14),c=i(103),h=i(293),f=i(0),l=i(510),d=i(17),p=i(119),b=i(57),v=i(511),m.prototype.fetch=function(t,e){return-1===e.events.listeners("manifestRemovedFromCache").indexOf(this.p4a)&&e.events.on("manifestRemovedFromCache",this.p4a),this.g9a(this.lvb(this.Kyb(t,e))),this.wA.get(t.J).Vja.promise},m.prototype.getStats=function(){return this.Gu.getStats()},m.prototype.lvb=function(t){return[t].concat(y(this.a_.filter((function(e){return e.key.W!==t.key.W})))).slice(0,this.config.pTb).map(this.config.qTb?function(t,e){return Object.assign({},t,{priority:e})}:function(t){return t})},m.prototype.ZM=function(t){var e;return this.nk.ZM({W:t.J,Tt:c.Vm.eF,Uf:b.Xh.eo,bb:null!==(e=t.Fb)&&void 0!==e?e:{}}).then((function(t){return t.$b}))},m.prototype.Kyb=function(t,e){var i,n,r,s,c,h;return r=new g,this.wA.has(t.J)&&((c=(s=this.wA.get(t.J)).AO).J===t.J&&c.ye===t.ye&&(h=s.S2b.key),this.Gu.getStats().contents.some((function(e){return e.id===t.J}))&&(r=s.Vja)),s=o.ln.Oe.Et(u.Yja(t.ye)),h||(h={W:t.J,config:s}),this.Gj.has(t.J)||this.Gj.store(t.J,this.Jyb(t,e,s)),e={key:h,dac:!1,priority:t.priority,z3:a.T.Eb(null!==(n=null===(i=t.Fb)||void 0===i?void 0:i.Z)&&void 0!==n?n:0),Gj:this.Gj},this.wA.set(t.J,{S2b:e,AO:t,Vja:r}),e},m.prototype.Jyb=function(t,e,i){var n,r,o;return n=this,r=t.J,{get ba(){return e.Az(r)},Ot:!1,events:new d.EventEmitter,mja:function(){},get hv(){return o||(o=n.ZM(t).then((function(t){return{oa:t,ii:t.woa&&!t.UV,config:i,t9a:{}}}))),o},W:r,p$a:!1,equals:function(t){var i;return i=e.Az(r),!(t.W!==r||t.ba&&i&&i!==t.ba)}}},m.prototype.Q8a=function(t){this.a_=t},m.prototype.g9a=function(t){this.Q8a(t),this.Gu.f9a(this.a_)},m.prototype.c7a=function(t){this.wA.has(t)&&(this.Q8a(this.a_.filter((function(e){return e.key.W!==t}))),this.wA.delete(t))},r.Object.defineProperties(m.prototype,{Gu:{configurable:!0,enumerable:!0,get:function(){return this.my||(this.my=this.rTb(),this.my.Zva(this.Ata).H8a({mH:this.config.oTb}),this.my.events.on("prefetchComplete",this.SQb)),this.my}}}),i=m,i=t.__decorate([f.R(),t.__param(0,f.l(n.qb)),t.__param(1,f.l(s.Zc)),t.__param(2,f.l(l.jea)),t.__param(3,f.l(h.Zya)),t.__param(4,f.l(p.RE))],i),e.Xya=i},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i){var n;n=this,this.hg=e,e=i(),this.Eg=new u({log:t.ib("CacheManager"),za:{getTime:function(){return n.hg.Yb().da(a.ja)}},Promise,qf:!1,ttb:e.xTb,stb:e.vTb,tCb:e.$5a,sCb:e.wTb})}Object.defineProperty(e,"__esModule",{value:!0}),e.dAa=void 0,t=i(1),n=i(0),r=i(18),o=i(7),a=i(4),s=i(13),u=i(1157),c=t.__decorate([n.R(),t.__param(0,n.l(o.qb)),t.__param(1,n.l(r.jd)),t.__param(2,n.l(s.Zc))],c),e.dAa=c},function(t,e,i){var n;function r(){return Object.create(null)}function o(t){this.log=t.log,this.za=t.za,this.CD=r(),this.Promise=t.Promise,this.Ty=t.Ty,this.Fxa=t.Fxa,this.qf=t.qf||!1,this.pw=r(),this.uC=r(),this.jG=r(),this.spb(t),t.cq&&(this.cq=t.cq)}function a(t){return void 0!==t}function s(t){for(var e,i=0,n=arguments.length;i<n;)if(a(e=arguments[i++]))return e}i(1158),n=i(1159),o.prototype.spb=function(t){this.pw.manifest=s(t.tCb,n.pw.oa),this.pw.ldl=s(t.sCb,n.pw.vW),this.pw.metadata=s(t.f$b,n.pw.Gc),this.uC.manifest=s(t.ttb,n.uC.oa),this.uC.ldl=s(t.stb,n.uC.vW),this.uC.metadata=s(t.n9b,n.uC.Gc),this.jG.manifest=s(t.l9b,n.jG.oa),this.jG.ldl=s(t.k9b,n.jG.vW),this.jG.metadata=s(t.m9b,n.jG.Gc)},o.prototype.TV=function(t,e){return this.Kt(void 0!==t),this.Kt(void 0!==e),!!this.cNa(t,e,void 0).value},o.prototype.cNa=function(t,e,i){var n,r;return n={value:null,reason:"",log:""},void 0===(r=this.CD[e])?(n.log="cache miss: no data exists for field:"+e,n.reason="unavailable",n):(void 0===r[t]?(n.log="cache miss: no data exists for movieId:"+t,n.reason="unavailable"):(i=r[t][i||"DEFAULTCAPS"])&&i.value?this.o7(e,i.creationTime)?(n.log="cache miss: "+e+" data expired for movieId:"+t,n.reason="expired"):(n.log=this.Promise&&i.value instanceof this.Promise?"cache hit: "+e+" request in flight for movieId:"+t:"cache hit: "+e+" available for movieId:"+t,n.value=i.value):(n.log="cache miss: "+e+" data not available for movieId:"+t,n.reason="unavailable"),n)},o.prototype.getData=function(t,e,i){return this.Kt(void 0!==t),this.Kt(void 0!==e),t=this.cNa(t,e,i),this.log.trace(t.log),t.value?this.Promise?t.value instanceof this.Promise?t.value:Promise.resolve(t.value):this.Fxa?JSON.parse(this.Fxa(t.value,"gzip",!1)):t.value:this.Promise?Promise.reject(t.reason):t.reason},o.prototype.setData=function(t,e,i,n,o){var a,s,u;return this.Kt(void 0!==t),this.Kt(void 0!==e),a=this.CD,s=o||"DEFAULTCAPS",a[e]||(a[e]=r(),Object.defineProperty(a[e],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(a[e],"size",{enumerable:!1,configurable:!0,writable:!0,value:0})),i=this.Ty?this.Ty(JSON.stringify(i),"gzip",!0):i,a=a[e],this.dnb(t,e,s,a),u=this,n={creationTime:this.za.getTime(),value:i,size:0,type:e,Zka:n,rCb:setTimeout((function(){u.clearData(t,e,s,!1,"expired")}),this.pw[e]+1)},a[t]=a[t]||r(),a[t][s]=a[t][s]||r(),a[t][s]=n,a.size+=0,a.numEntries++,this.cq&&this.cq.emit("addedCacheItem",n),n},o.prototype.dnb=function(t,e,i,n){var r,o,a,s,u,c,h,f,l;r=this,o=n.numEntries,a=this.uC[e],(s=n[t]&&n[t][i])&&s.value?(u=t,c="promise_or_expired"):o>=a&&(f=Number.POSITIVE_INFINITY,Object.keys(n).every((function(t){var o;return(o=n[t]&&n[t][i])&&o.value&&r.o7(e,o.creationTime)&&(l=t),o&&o.value&&o.creationTime<f&&(f=o.creationTime,h=t),!0})),u=l||h,c="cache_full"),this.qf&&this.log.debug("makespace ",{maxCount:a,currentCount:n.numEntries,field:e,movieId:t,movieToBeRemoved:u}),u&&(r.clearData(u,e,i,void 0,c),this.log.debug("removed from cache: ",u,e))},o.prototype.Fja=function(t,e){var i,n;(i=this).Kt(void 0!==t),n=t+"",e.forEach((function(t){var e;(e=i.CD[t])&&Object.keys(e).forEach((function(e){e!=n&&i.clearData(e,t,void 0,void 0,"clear_all")}))}))},o.prototype.clearData=function(t,e,i,n,r){var o;this.Kt(void 0!==t),this.Kt(void 0!==e),i=i||"DEFAULTCAPS",(e=(o=this.CD[e])?o[t]:void 0)&&e[i]&&(o.size-=e[i].size,o.numEntries--,(o=e&&e[i])&&(clearTimeout(o.rCb),e[i]=void 0,!n&&o.Zka&&o.Zka()),this.cq&&(t={creationTime:o.creationTime,destroyFn:o.Zka,size:o.size,type:o.type,value:o.value,reason:r,movieId:t},this.cq.emit("deletedCacheItem",t)))},o.prototype.flush=function(t){var e;this.Kt(void 0!==t),(e=this.CD)[t]=r(),e[t].numEntries=0,e[t].size=0},o.prototype.eSa=function(){var t,e;this.Kt(!1),t=this,(e=this.CD)[void 0]instanceof Object&&Object.keys(e[void 0]).forEach((function(i){var n;n=e[void 0][i].DEFAULTCAPS,t.za.getTime()-n.creationTime>t.pw[void 0]&&this.clearData(i,void 0,"DEFAULTCAPS",void 0,"clean_up")}))},o.prototype.o7=function(t,e){return this.za.getTime()-e>this.pw[t]},o.prototype.getStats=function(t,e,i){var n,r,o,s,u;return n={},o=(r=this).CD,s=a(t)&&a(e),u=i||"DEFAULTCAPS",Object.keys(o).forEach((function(i){var c,h;c=Object.keys(o[i]),h=o[i],c.forEach((function(o){!(o=h&&h[o]&&h[o][u])||!a(o.value)||o.value instanceof this.Promise||(n[i]=1+(0|n[i]),r.o7(o.type,o.creationTime)&&(n[i+"_expired"]=1+(0|n[i+"_expired"])),s&&o.creationTime>=t&&o.creationTime<e&&(n[i+"_delta"]=1+(0|n[i+"_delta"])))}))})),n},o.prototype.getState=function(t){var e,i,n,r;return e=[],n=(i=this).CD,r=t||"DEFAULTCAPS",Object.keys(n).forEach((function(t){var o,s;o=Object.keys(n[t]),s=n[t],o.forEach((function(n){var o,u;(o=s&&s[n]&&s[n][r])&&a(o.value)&&(u=i.o7(o.type,o.creationTime)?"expired":o.value instanceof this.Promise?"loading":"cached",e.push({movieId:n,state:u,type:t,size:o.size}))}))})),e},o.prototype.Kt=function(t){if(!t&&(this.log.error("Debug Assert Failed",void 0),this.qf))throw Error("Debug Assert Failed ")},t.exports=o},function(t){t.exports=function(t,e){var i;if(e&&function(t){var e;return e=[],function t(i){if(i&&"object"==typeof i){if(-1!==e.indexOf(i))return!0;for(var n in e.push(i),i)if(i.hasOwnProperty(n)&&t(i[n]))return!0}return!1}(t)}(t))return-1;e=[],t=[t];for(var n=0;t.length;)if("boolean"==typeof(i=t.pop()))n+=4;else if("string"==typeof i)n+=2*i.length;else if("number"==typeof i)n+=8;else if("object"==typeof i&&-1===e.indexOf(i))for(var r in e.push(i),i)t.push(i[r]);return n}},function(t){t.exports={pw:{oa:12e5,vW:9e5,Gc:12e5},uC:{oa:10,vW:10,Gc:10},jG:{oa:10240,vW:10240,Gc:10240}}},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperty(e,"__esModule",{value:!0}),e.Ka=void 0,t=i(0),n=i(190),r=i(1161),o=i(512),a=i(1162),s=i(513),u=i(1163),c=i(1164),h=i(514),f=i(1165),e.Ka=new t.rd((function(t){t(n.fca).to(r.vBa).aa(),t(o.aGa).to(a.$Fa).aa(),t(s.WGa).to(u.VGa).aa(),t(s.hGa).to(c.gGa).aa(),t(h.fGa).to(f.eGa).aa()}))},function(t,e,i){var n,o,a,s;function u(t){function e(e,i){this.I=e,this.Yl=i,this.k5=!1,this.emit=s.prototype.emit,this.addListener=s.prototype.addListener,this.on=s.prototype.on,this.once=s.prototype.once,this.removeListener=s.prototype.removeListener,this.removeAllListeners=s.prototype.removeAllListeners,this.listeners=s.prototype.listeners,this.listenerCount=s.prototype.listenerCount,s.call(this),this.Dg=t.ib("DownloadTrack")}e.prototype.Yp=function(){this.R2=void 0,this.emit("destroyed")},e.prototype.toString=function(){return"id:"+this.R2+" config: "+JSON.stringify(this.I)},e.prototype.toJSON=function(){return"Download Track id:"+this.R2+" config: "+JSON.stringify(this.I)},e.prototype.c$=function(t){this.I.connections!==t.connections&&(this.I=t)},e.prototype.ku=function(){return 1<this.I.connections},r.Object.defineProperties(e.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.R2}},Co:{configurable:!0,enumerable:!0,get:function(){return void 0===this.R2}},config:{configurable:!0,enumerable:!0,get:function(){return this.I}},vO:{configurable:!0,enumerable:!0,get:function(){return this.Dg}},FH:{configurable:!0,enumerable:!0,get:function(){return this.Yl.FH}}}),this.JJ=Object.assign(e,new a.wBa)}Object.defineProperty(e,"__esModule",{value:!0}),e.vBa=void 0,t=i(1),n=i(0),o=i(7),a=i(190),s=i(114).EventEmitter,u=t.__decorate([n.R(),t.__param(0,n.l(o.qb))],u),e.vBa=u},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t,e,i,n,r,o){this.EL=t,this.hf=i,this.jb=n,this.Aa=r,this.config=o,this.log=e.ib("MediaHttp")}Object.defineProperty(e,"__esModule",{value:!0}),e.$Fa=void 0,t=i(1),n=i(191),r=i(98),o=i(3),a=i(7),s=i(0),u=i(87),c=i(27),h=i(18),f=i(4),i=i(13),d.prototype.uz=function(){return this.Aa.Yb().da(f.ja)},d.prototype.V3a=function(t,e){t.LPb({mediaRequest:t,timestamp:e})},d.prototype.o4a=function(t){var e;(e=t.mediaRequest.kA).readyState=n.wc.Sc.Sx,(t=t.connect?t:{timestamp:this.uz(),connect:!1}).mediaRequest=e,t.readyState=e.readyState,e.ksa(t)},d.prototype.k9=function(t){this.V3a(t.mediaRequest.kA,t.timestamp)},d.prototype.m9=function(t){var e,i;e=t.mediaRequest.kA,i=t.bytes,void 0!==e&&(e.readyState===n.wc.Sc.Tx&&this.o4a(t),this.jb.Ii(i)&&(t.mediaRequest=e,t.timestamp=this.uz(),i>e.bytesReceived&&(t.newBytes=i-e.bytesReceived,t.bytesLoaded=i,e.PPb(t))))},d.prototype.Mn=function(t){var e,i,r,a;if(e=t.mediaRequest,i=t.errorcode,r=t.httpcode,a=n.wc.$_,void 0===e);else if(void 0===(e=e.kA));else if(e.readyState!==n.wc.Sc.OJ)if(i===o.L.qB)e.readyState=n.wc.Sc.hQ,t.mediaRequest=e,t.readyState=e.readyState,e.GPb(t);else{switch(e.readyState=n.wc.Sc.OJ,i){case o.L.gR:r=a.Vza;break;case o.L.Bca:r=a.yca;break;case o.L.dR:r=400<r&&500>r?a.Aca:500<=r?a.oDa:a.yca;break;case o.L.eR:r=a.zca;break;case o.L.cR:r=a.Wza;break;case o.L.fR:case o.L.IE:r=a.r0;break;case o.L.nDa:r=a.mDa;break;case o.L.jDa:r=a.Aca;break;case o.L.Zeb:r=a.zca;break;default:r=a.r0}t.mediaRequest=e,t.readyState=e.readyState,t.errorcode=r,t.nativecode=i,e.msa(t)}},d.prototype.Esa=function(t,e){var i,r;if(i=e.request.kA)if(e.$){if(t.j&&i.readyState!==n.wc.Sc.DONE){switch(i.readyState){case n.wc.Sc.hQ:return;case n.wc.Sc.OJ:case n.wc.Sc.Sx:break;case n.wc.Sc.Tx:this.o4a({mediaRequest:e.request})}i.readyState=n.wc.Sc.DONE,i.ad||(r={mediaRequest:i,readyState:i.readyState,timestamp:this.uz(),cadmiumResponse:e},t.j.nxa+=1,i.EHb(),i.cLb()&&(t.j.gva+=1,e.zm.vi=Math.ceil(i.oma),e.zm.Zo=Math.ceil(i.sG),e.zm.Iq=Math.floor(i.sD)),i.b4=r,i.gO(r))}}else i.readyState!==n.wc.Sc.hQ&&(t={mediaRequest:e.request,timestamp:this.uz(),errorcode:e.na,httpcode:e.ik},this.Mn(t))},d.prototype.download=function(t,e){var i,r;return i=this,e=this.hf.download(t,e),t.kA&&(r=t.kA,-1<[n.wc.Sc.OPENED,n.wc.Sc.OJ].indexOf(r.readyState)&&(r.readyState=n.wc.Sc.Tx,this.config().yra?e.MXb((function(t){i.k9(t)})):this.V3a(r,this.uz()))),e.Eha((function(e){i.Esa(t,e)})),e.SXb((function(t){i.m9(t)})),e.DXb((function(t){i.Mn(t)})),e},l=d,l=t.__decorate([s.R(),t.__param(0,s.l(r.jQ)),t.__param(1,s.l(a.qb)),t.__param(2,s.l(u.Hx)),t.__param(3,s.l(c.bg)),t.__param(4,s.l(h.jd)),t.__param(5,s.l(i.Zc))],l),e.$Fa=l},function(t,e,i){var n,r,o;function a(t,e){this.hf=e,this.log=t.ib("OpenConnectSideChannel")}Object.defineProperty(e,"__esModule",{value:!0}),e.VGa=void 0,t=i(1),n=i(0),r=i(7),i=i(87),a.prototype.mV=function(t,e,i){t={url:t.url,NWb:i},this.hf.KYb(t)},a.prototype.$F=function(t){try{t.Roa()}catch(t){this.log.warn("exception aborting request")}},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(i.Hx))],o),e.VGa=o},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i,n,r,o){this.Aa=t,this.Kr=e,this.config=i,this.hf=r,this.mOb=o,this.log=n.ib("MediaRequestDownloader")}Object.defineProperty(e,"__esModule",{value:!0}),e.gGa=void 0,t=i(1),n=i(47),r=i(0),o=i(7),a=i(87),s=i(512),u=i(90),c=i(191),h=i(18),f=i(4),l=i(40),i=i(13),p.prototype.mV=function(t,e,i){var r,o,a;r=this,t.eac=!0,o=this.mOb.download({url:t.url,responseType:this.hf.Ajb.Ncb,withCredentials:!1,EC:t.mediaType===n.Tb.Ta.Wb?"audio":"video",offset:e.start,length:t.bh,track:{type:t.mediaType===n.Tb.Ta.Wb?u.Ei.audio:u.Ei.video},stream:{Bc:t.Oa,bitrate:t.bitrate},qc:t.Md,kA:t,Q$:i,Js:this.Kr.Js},(function(e){e.$&&t.readyState!==c.wc.Sc.DONE&&t.readyState!==c.wc.Sc.hQ&&(t.readyState!==c.wc.Sc.OJ&&(t.readyState===c.wc.Sc.Tx?(t.readyState=c.wc.Sc.Sx,t.ksa({mediaRequest:t,readyState:t.readyState,timestamp:r.uz(),connect:!1})):t.readyState!==c.wc.Sc.Tx&&(t.readyState,c.wc.Sc.Sx)),t.readyState=c.wc.Sc.DONE,e={mediaRequest:t,readyState:t.readyState,timestamp:r.uz(),cadmiumResponse:e,response:e.content},t.b4=e,t.gO(e))})),t.ad&&(a={mediaRequest:t,readyState:t.readyState,timestamp:this.uz(),connect:!1},t.ksa(a)),t.addEventListener(c.wc.Le.bF,(function n(){t.removeEventListener(c.wc.Le.bF,n),t.ZU?t.ZU++:t.ZU=1,t.ZU>=r.config().Xla.length&&(t.ZU=r.config().Xla.length-1),setTimeout((function(){r.mV(t,e,i)}),r.config().Xla[t.ZU])})),t.Roa=o.abort},p.prototype.$F=function(t){try{t.Roa()}catch(t){this.log.warn("exception aborting request")}},p.prototype.uz=function(){return this.Aa.Yb().da(f.ja)},d=p,d=t.__decorate([r.R(),t.__param(0,r.l(h.jd)),t.__param(1,r.l(l.Tm)),t.__param(2,r.l(i.Zc)),t.__param(3,r.l(o.qb)),t.__param(4,r.l(a.Hx)),t.__param(5,r.l(s.aGa))],d),e.gGa=d},function(t,e,i){var n,o,a,s,u,c,h,f;function l(t,e,i,n,o,a){function u(r,s){this.track=r,this.label=s,this.Bh=f.wc.Sc.UNSENT,this.bytesReceived=0,this.ps=[],this.requestId=a.Wy().toString(),this.jb=i,this.log=e.ib("MediaRequest"),this.config=t,this.Ub=new h.Gk,"notification"===this.label?this.config().jz&&(this.FH=n):this.FH=o}function c(r,s){this.requestId=a.Wy().toString(),this.jb=i,this.log=e.ib("MediaRequest"),this.config=t,this.Ub=new h.Gk,this.label=s,"notification"===this.label?this.config().jz&&(this.FH=n):this.FH=o,this.fW=this.PL=this.QL=void 0,this.track=r,this.J3=this.url=this.responseType=void 0,this.Bh=f.wc.Sc.UNSENT,this.uj=this.HM=this.ph=this.status=void 0,this.ks=this.bytesReceived=0,this.connect=this.oma=this.sG=this.sD=this.eqa=this.rf=this.nma=this.loadTime=this.lL=void 0,this.ps=[],this.Co=!1}u.prototype.addEventListener=function(t,e,i){this.Ub.addListener.call(this,t,e,i)},u.prototype.removeEventListener=function(t,e){this.Ub.removeListener.call(this,t,e)},u.prototype.emit=function(t,e,i){this.Ub.Fc.call(this,t,e,i)},u.prototype.LPb=function(t){this.Bh===f.wc.Sc.OPENED&&(this.fW=!0,this.loadTime=this.rf=t.timestamp,this.Bh=f.wc.Sc.Tx,this.emit(f.wc.Le.OGa,t))},u.prototype.ksa=function(t){var e;this.Bh<f.wc.Sc.Sx&&(this.ps=[],e=t.timestamp-this.loadTime,!this.ad&&0<e&&(this.connect=!0,this.ps.push(e)),!0===this.config().uJb?this.nma=t.timestamp:this.nma=this.rf=t.timestamp,this.Bh=f.wc.Sc.Sx,this.emit(f.wc.Le.NGa,t))},u.prototype.PPb=function(t){this.Bh===f.wc.Sc.Sx&&(this.eqa=this.rf=t.timestamp,t.newBytes=t.bytesLoaded-this.bytesReceived,this.bytesReceived=t.bytesLoaded,this.jb.Gg(this.eqa)&&this.emit(f.wc.Le.PGa,t))},u.prototype.gO=function(t){-1<[f.wc.Sc.Tx,f.wc.Sc.Sx].indexOf(this.Bh)&&(this.fW=!1,this.rf=t.timestamp,this.Bh=f.wc.Sc.DONE,t.newBytes=this.bh-this.bytesReceived,this.bytesReceived=this.bh,this.jb.Gg(this.sG)&&(this.rf=this.sG,0===t.newBytes&&(this.eqa=this.sG)),this.jb.Gg(this.sD)&&(this.loadTime=this.sD),this.lL=t.response,this.emit(f.wc.Le.CR,t))},u.prototype.GPb=function(t){this.fW=!1,this.emit(f.wc.Le.jib,t)},u.prototype.msa=function(t){this.rf=t.timestamp,this.status=t.httpcode,this.ph=t.errorcode,this.HM=f.wc.$_.name[this.ph],this.uj=t.nativecode,this.emit(f.wc.Le.bF,t),this.fW=!1},u.prototype.open=function(t,e,i,n,r,o,a){return this.ex=!1,this.J3=e,this.url=t,this.responseType=i,!!this.url&&(this.Bh=f.wc.Sc.OPENED,this.FH.mV(this,e,a),!0)},u.prototype.ed=function(){return-1!==[f.wc.Sc.OPENED,f.wc.Sc.Tx,f.wc.Sc.Sx].indexOf(this.Bh)&&this.abort(),!0},u.prototype.fSa=function(){this.lL=void 0,this.b4&&(this.b4.response=void 0,this.b4.cadmiumResponse.content=void 0),this.Roa=void 0},u.prototype.daa=function(t){return this.url=t,!0},u.prototype.abort=function(){return this.Bh=f.wc.Sc.hQ,this.FH.$F(this),!0},u.prototype.pause=function(){},u.prototype.getResponseHeader=function(){return null},u.prototype.getAllResponseHeaders=function(){return""},u.prototype.iY=function(){},u.prototype.mi=function(){return this.requestId},u.prototype.toString=function(){var t;return t={requestId:this.mi(),segmentId:this.xa,isHeader:this.ad,ptsStart:this.AA,ptsOffset:this.Ou,responseType:this.responseType,duration:this.Hr,readystate:this.Bh},this.stream&&(t.bitrate=this.stream.bitrate),JSON.stringify(t)},u.prototype.toJSON=function(){return this.toString()},u.prototype.EHb=function(){var t,e;this.config().ubb&&s.xv&&s.xv.getEntriesByType&&(!this.jb.Gg(this.sD)||!this.jb.Gg(this.sG)&&this.jb.Gg(this.url))&&(t=this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.QL+"-"+this.PL+"*"),e=new RegExp(t),t=s.xv.getEntriesByType("resource").filter((function(t){return e.exec(t.name)}))[0],this.jb.Gg(t)&&(0<t.startTime&&(this.sD=t.startTime,0<t.requestStart&&(this.sD=Math.max(this.sD,t.requestStart))),0<t.responseStart&&(this.oma=t.responseStart),0<t.responseEnd&&(this.sG=t.responseEnd)))},u.prototype.cLb=function(){return this.jb.Gg(this.sD)&&this.jb.Gg(this.sG)&&this.jb.Gg(this.oma)},r.Object.defineProperties(u.prototype,{bh:{configurable:!0,enumerable:!0,get:function(){return this.J3.end-this.J3.start+1}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.PL-this.QL+1}},CZa:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength)}},ad:{configurable:!0,enumerable:!0,get:function(){return!this.kD}},response:{configurable:!0,enumerable:!0,get:function(){return this.lL}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Bh},set:function(){}}}),Object.getOwnPropertyNames(u.prototype).forEach((function(t){var e;e=Object.getOwnPropertyDescriptor(u.prototype,t),Object.defineProperty(c.prototype,t,e)})),this.$q=Object.assign(c,f.wc)}Object.defineProperty(e,"__esModule",{value:!0}),e.eGa=void 0,t=i(1),n=i(0),o=i(7),a=i(13),s=i(11),u=i(27),c=i(513),h=i(73),f=i(191),i=i(81),l=t.__decorate([n.R(),t.__param(0,n.l(a.Zc)),t.__param(1,n.l(o.qb)),t.__param(2,n.l(u.bg)),t.__param(3,n.l(c.WGa)),t.__param(4,n.l(c.hGa)),t.__param(5,n.l(i.Gx))],l),e.eGa=l},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.t3a=void 0,t=i(0),n=i(332),r=i(1167),e.t3a=new t.rd((function(t){t(n.sda).to(r.wGa).aa()}))},function(t,e,i){var n,o,a,s,u;function c(t){return o.Ze.call(this,t,"MseConfigImpl")||this}Object.defineProperty(e,"__esModule",{value:!0}),e.wGa=void 0,t=i(1),n=i(45),o=i(46),a=i(0),s=i(37),u=i(4),g(c,o.Ze),r.Object.defineProperties(c.prototype,{k3a:{configurable:!0,enumerable:!0,get:function(){return u.Nc(5e3)}},B4a:{configurable:!0,enumerable:!0,get:function(){return u.Nc(1e3)}},C4a:{configurable:!0,enumerable:!0,get:function(){return u.Nc(1e3)}}}),i=c,t.__decorate([n.config(n.$k,"minDecoderBufferMilliseconds")],i.prototype,"k3a",null),t.__decorate([n.config(n.$k,"optimalDecoderBufferMilliseconds")],i.prototype,"B4a",null),t.__decorate([n.config(n.$k,"optimalDecoderBufferMillisecondsBranching")],i.prototype,"C4a",null),i=t.__decorate([a.R(),t.__param(0,a.l(s.Wl))],i),e.wGa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;Object.defineProperty(e,"__esModule",{value:!0}),e.o5a=void 0,t=i(0),n=i(515),r=i(1169),o=i(66),a=i(1171),s=i(518),u=i(1172),c=i(470),h=i(1173),f=i(192),l=i(1174),e.o5a=new t.rd((function(t){t(o.Xs).to(a.yHa).aa(),t(n.AHa).to(r.zHa).aa(),t(c.KHa).to(h.JHa),t(c.IHa).wf((function(t){return function(){return t.$a.get(c.KHa)}})),t(s.gIa).to(u.fIa).aa(),t(f.U0).to(l.cIa).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,y,g,m;function _(t){this.config=t,this.Ry=[]}function w(t,e,i){this.Aa=t,this.OP=e,this.context=i,this.startTime=this.Aa.Yb()}function E(t,e,i,n,r,o,a,s,u){this.qab=e,this.json=i,this.Aa=n,this.Kr=r,this.hua=o,this.Oc=a,this.config=s,this.Ub=u,this.log=t.ib("Pbo"),s.V6a&&(this.Ry=new _(s)),this.OP=this.qab()}Object.defineProperty(e,"__esModule",{value:!0}),e.zHa=void 0,t=i(1),n=i(0),r=i(4),o=i(516),a=i(7),s=i(39),u=i(18),c=i(40),h=i(140),f=i(48),l=i(517),d=i(66),p=i(97),b=i(15),y=i(68),g=i(1170),m={"shakti-":"akira","UI-":"chromecast"},E.prototype.send=function(t,e){var i;return i=new w(this.Aa,this.OP,t),this.Ry&&this.Ry.append(i),this.Lva(t,e,i)},E.prototype.Lva=function(t,e,i){var n;return n=this,new Promise((function(r,o){n.retry(t,e).then((function(t){var e,a;n.jXb(t),a=(e=v(n.i2b(t))).next().value,e=e.next().value,a&&(n.gvb(i),r(t)),e&&(n.tSa(i,e),o(e))})).catch((function(t){var e;e=n.tSa(i,t),t.ub&&(t.ub=[t.ub," ",e].join("")),o(t)}))}))},E.prototype.jXb=function(t){(t=t.serverTime)&&this.Ub.Fc(b.Lca.z8a,r.Nc(t))},E.prototype.i2b=function(t){var e;if(e=t.result,"deviceCommand"in t){switch(t=t.deviceCommand,this.log.trace("Received device command '"+t+"'"),t){case"reset":e="RESET_DEVICE";break;case"reload":e="RELOAD_DEVICE";break;case"exit":e="EXIT_DEVICE";break;default:e="FAIL",this.log.error("Unhandled device command '"+t+"'")}return[,{MD:!0,code:e,detail:{message:"Server sent device action to '"+t+"' device"}}]}return e?[e,void 0]:t.code?(this.log.error("Response did not contain a result or an error but did contain an error code",t),[,{code:t.code,detail:{message:t.message}}]):(this.log.error("Response did not contain a result or an error",t),[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}])},E.prototype.Wrb=function(t,e,i){var n;return n=this,this.v1b(e,t),this.OP=this.qab(i),this.OP.send(e,i).then((function(t){return{retry:!1,result:g.S0.RRb(n.json,t.body)}})).catch((function(i){var r,o;return o=void 0!==(r=g.S0.iGb(i))?Math.min(r,e.jva):e.jva,n.N$(e,i,t,o)?(r=n.Itb(i,t,o),n.log.warn("Method failed, retrying",Object.assign({Method:e.zl,Attempt:t+1,WaitTime:r,MaxRetries:o},n.Lka(i))),Promise.resolve({retry:!0,delay:r,error:i})):Promise.resolve({retry:!1,error:i})}))},E.prototype.jEb=function(t){var e,i;return this.yha&&this.yha.vRb===t||(e="",i=t,Object.entries(m).find((function(i){var n;if(i=(n=v(i)).next().value,n=n.next().value,0===t.indexOf(i))return e=n,t=t.slice(i.length),!0})),this.yha={oSa:e,YA:t,vRb:i}),this.yha},E.prototype.v1b=function(t,e){var i,n,r,o;(o=t.url.searchParams).set(y.BB.Djb,(e+1).toString()),o.set(y.BB.Ejb,t.Vua),(t=this.jEb(null!==(i=this.config.YA)&&void 0!==i?i:"")).oSa&&(o.set(y.BB.$db,t.oSa),t.YA&&o.set(y.BB.rkb,encodeURIComponent(t.YA)),(null==(i=this.Kr.he)?0:i.name)&&o.set(y.BB.vdb,encodeURIComponent(i.name)),(null==i?0:i.version)&&o.set(y.BB.Adb,encodeURIComponent(i.version)),(null===(n=null==i?void 0:i.os)||void 0===n?0:n.name)&&o.set(y.BB.kib,encodeURIComponent(i.os.name)),null!==(r=null==i?void 0:i.os)&&void 0!==r&&r.version&&o.set(y.BB.lib,encodeURIComponent(i.os.version)))},E.prototype.retry=function(t,e,i){var n;return n=this,i=void 0===i?0:i,this.Wrb(i++,t,e).then((function(r){if(r.retry)return n.wait(r.delay).then((function(){return n.retry(t,e,i)}));if(r.error)throw r.error;if(void 0===r.result)throw{pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return r.result}))},E.prototype.N$=function(t,e,i,n){var r;return!!((r=this.Kr.S7a||g.S0.dLb(e))&&i<n)||(r?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:t.zl,Attempt:i+1,MaxRetries:n},this.Lka(e))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:t.zl},this.Lka(e))),!1)},E.prototype.Itb=function(t,e,i){return t&&t.XD&&void 0!==t.XD.retryAfterSeconds?r.vh(t.XD.retryAfterSeconds):r.Nc(this.hua.y6a(1e3*(0===e?1:e),1e3*Math.pow(2,Math.min(e,i))))},E.prototype.wait=function(t){var e;return e=this,new Promise((function(i){e.Oc.zk(t||r.Gb,i)}))},E.prototype.Lka=function(t){return l.n0a(t)?t:{message:t.message,subCode:t.Cc,extCode:t.Kd,mslCode:t.mA,data:t.data}},E.prototype.gvb=function(t){t.EP()},E.prototype.tSa=function(t,e){var i;if(t.Pt(e),this.Ry)try{return i=this.json.stringify(this.Ry),this.log.error("PBO command history",i),i}catch(t){}return""},i=E,i=t.__decorate([n.R(),t.__param(0,n.l(a.qb)),t.__param(1,n.l(o.zLa)),t.__param(2,n.l(s.LE)),t.__param(3,n.l(u.jd)),t.__param(4,n.l(c.Tm)),t.__param(5,n.l(h.b1)),t.__param(6,n.l(f.Qj)),t.__param(7,n.l(d.Xs)),t.__param(8,n.l(p.qca))],i),e.zHa=i,w.prototype.EP=function(){this.$=!0,this.elapsedTime=this.Aa.Yb().Qa(this.startTime)},w.prototype.Pt=function(t){this.$=!1,this.elapsedTime=this.Aa.Yb().Qa(this.startTime),this.JZb=t.Cc||t.subCode,this.xCb=t.Kd||t.extCode},w.prototype.toString=function(){return JSON.stringify(this)},w.prototype.toJSON=function(){var t;return t=Object.assign({success:this.$,method:this.context.zl,startTime:this.startTime.da(r.ja),elapsedTime:this.elapsedTime?this.elapsedTime.da(r.ja):"in progress"},this.OP.cka()),this.$?t:Object.assign(Object.assign(Object.assign({},t),this.OP.cka()),{subcode:this.JZb,extcode:this.xCb})},_.prototype.append=function(t){this.Ry.push(t),0<this.config.Noa&&this.Ry.length>this.config.Noa&&this.Ry.shift()},_.prototype.toJSON=function(){return this.Ry}},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.S0=void 0,n=i(3),r.dLb=function(t){var e,i;return e=t&&t.code,i=t&&(t.na||t.Cc),t=t.Kd!==n.t0.pHa,i=!!i&&i>=n.L.gR&&i<=n.L.eR&&t,!("RETRY"!==e&&"FAIL"!==e)||i},r.iGb=function(t){var e,i;return"number"==typeof(i=null===(e=null==t?void 0:t.XD)||void 0===e?void 0:e.maxRetries)?i:"FAIL"===(null==t?void 0:t.code)?1:void 0},r.RRb=function(t,e){var i;if(e){try{i=t.parse(e)}catch(t){throw{MD:!0,code:"FAIL",message:"Unable to parse the response body",data:e}}if(i.error)throw i.error;if(i.result){if(Array.isArray(i.result)&&(t=i.result.find((function(t){return t.error}))))throw t.error;return i}throw{MD:!0,code:"FAIL",message:"There is no result property on the response"}}throw{MD:!0,code:"FAIL",message:"There is no body property on the response"}},e.S0=r},function(t,e,i){var n,o,a,s,u,c,h;function f(t,e,i,n){return(t=o.Ze.call(this,t,"PboConfigImpl")||this).config=e,t.srb=i,t.oj=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.yHa=void 0,t=i(1),n=i(0),o=i(46),a=i(37),s=i(45),u=i(13),c=i(123),i=i(108),g(f,o.Ze),r.Object.defineProperties(f.prototype,{YA:{configurable:!0,enumerable:!0,get:function(){return this.config().Ir.YA||""}},Aaa:{configurable:!0,enumerable:!0,get:function(){return this.config().Ir.Aaa||""}},version:{configurable:!0,enumerable:!0,get:function(){return 2}},organization:{configurable:!0,enumerable:!0,get:function(){return"cadmium"}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Ir.Kta}},Gpa:{configurable:!0,enumerable:!0,get:function(){return!1}},eOb:{configurable:!0,enumerable:!0,get:function(){return!0}},gOb:{configurable:!0,enumerable:!0,get:function(){return!0}},A8a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",version:"^1.0.0"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.srb.dRa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.B8a)}},B8a:{configurable:!0,enumerable:!0,get:function(){return{}}},V6a:{configurable:!0,enumerable:!0,get:function(){return!1}},Noa:{configurable:!0,enumerable:!0,get:function(){return 10}},RPa:{configurable:!0,enumerable:!0,get:function(){return!1}},Z3:{configurable:!0,enumerable:!0,get:function(){return!1}},iVa:{configurable:!0,enumerable:!0,get:function(){return!1}},M1b:{configurable:!0,enumerable:!0,get:function(){return!1}},wbb:{configurable:!0,enumerable:!0,get:function(){return!1}},hVa:{configurable:!0,enumerable:!0,get:function(){return!0}},pVa:{configurable:!0,enumerable:!0,get:function(){return!0}},KG:{configurable:!0,enumerable:!0,get:function(){return this.oj.KG}},USa:{configurable:!0,enumerable:!0,get:function(){return[]}}}),h=f,t.__decorate([s.config(s.string,"uiVersion")],h.prototype,"YA",null),t.__decorate([s.config(s.string,"uiPlatform")],h.prototype,"Aaa",null),t.__decorate([s.config(s.ZA,"pboVersion")],h.prototype,"version",null),t.__decorate([s.config(s.string,"pboOrganization")],h.prototype,"organization",null),t.__decorate([s.config(s.cZ,"pboLanguages")],h.prototype,"languages",null),t.__decorate([s.config(s.dd,"hasLimitedPlaybackFunctionality")],h.prototype,"Gpa",null),t.__decorate([s.config(s.dd,"mdxBindUsingNodeQuark")],h.prototype,"eOb",null),t.__decorate([s.config(s.dd,"mdxPairUsingNodeQuark")],h.prototype,"gOb",null),t.__decorate([s.config(s.object(),"pboCommands")],h.prototype,"A8a",null),t.__decorate([s.config(s.object(),"pboCommandsOverride")],h.prototype,"B8a",null),t.__decorate([s.config(s.dd,"pboRecordHistory")],h.prototype,"V6a",null),t.__decorate([s.config(s.ZA,"pboHistorySize")],h.prototype,"Noa",null),t.__decorate([s.config(s.dd,"pboAddXEsnHeader")],h.prototype,"RPa",null),t.__decorate([s.config(s.dd,"combineManifestAndLicense")],h.prototype,"Z3",null),t.__decorate([s.config(s.dd,"enableLicensedManifestForPrefetch")],h.prototype,"iVa",null),t.__decorate([s.config(s.dd,"useLdlForPrefetchLicensedManifest")],h.prototype,"M1b",null),t.__decorate([s.config(s.dd,"pboUseStudioManifest")],h.prototype,"wbb",null),t.__decorate([s.config(s.dd,"pboEnableLeanManifest")],h.prototype,"hVa",null),t.__decorate([s.config(s.dd,"pboEnableV2OptimizedManifest")],h.prototype,"pVa",null),t.__decorate([s.config(s.dd,"pboEnableManifestPartialHydrationSupport")],h.prototype,"KG",null),t.__decorate([s.config(s.cZ,"pboContentPlaygraphTypes")],h.prototype,"USa",null),h=t.__decorate([n.R(),t.__param(0,n.l(a.Wl)),t.__param(1,n.l(u.Zc)),t.__param(2,n.l(c.zJ)),t.__param(3,n.l(i.fF))],h),e.yHa=h},function(t,e,i){var n,r;function o(t,e,i,n,r,o,a){this.version=t,this.url=e,this.id=i,this.languages=n,this.Fb=r,this.aBb=o,this.iPb=a}function a(t){this.Yg=t}Object.defineProperty(e,"__esModule",{value:!0}),e.fIa=void 0,t=i(1),n=i(0),i=i(66),a.prototype.create=function(t,e,i,n,r){return new o(this.Yg.version,e,t,this.Yg.languages,i,n,r)},r=a,r=t.__decorate([n.R(),t.__param(0,n.l(i.Xs))],r),e.fIa=r,o.prototype.toJSON=function(){return{version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Fb,echo:this.aBb}}},function(t,e,i){var n,r,o;function a(t,e){this.FG=e,this.log=t.ib("Pbo"),this.links={}}Object.defineProperty(e,"__esModule",{value:!0}),e.JHa=void 0,t=i(1),n=i(0),r=i(7),i=i(91),a.prototype.EPa=function(t){t&&(this.links=Object.assign(Object.assign({},this.links),t))},a.prototype.zV=function(t){return this.links[t]},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(i.zx))],o),e.JHa=o},function(t,e,i){function n(){}Object.defineProperty(e,"__esModule",{value:!0}),e.cIa=void 0,t=i(1),i=i(0),n.prototype.LXb=function(t){this.listener=t},n.prototype.FO=function(t){var e;null===(e=this.listener)||void 0===e||e.call(this,t)},i=t.__decorate([i.R()],n),e.cIa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F;Object.defineProperty(e,"__esModule",{value:!0}),e.j=void 0,t=i(0),n=i(468),r=i(519),o=i(1176),a=i(521),s=i(1177),u=i(346),c=i(343),h=i(1178),f=i(1189),l=i(13),d=i(18),p=i(96),b=i(27),v=i(7),y=i(1190),g=i(259),m=i(1191),_=i(4),w=i(1192),E=i(1193),k=i(541),O=i(1194),S=i(97),T=i(522),A=i(1195),P=i(112),j=i(29),I=i(155),x=i(91),M=i(283),R=i(544),N=i(1196),C=i(71),L=i(40),D=i(523),U=i(1197),B=i(294),F=i(26),e.j=new t.rd((function(t){t(R.eea).to(N.DIa).aa(),t(B.wba).wf((function(t){var e;return e=t.$a,function(t,n){return new(i(1198).Rya)(t,n,e.get(p.pv))}})),t(n.CLa).wf((function(t){var e;return e=t.$a,function(t,n,r,o,a,s,u,c,h){return new(i(1201).DLa)(e.get(w.ILa),t,n,r,o,a,s,u,c,h)}})),t(w.ILa).to(E.HLa).aa(),t(r.GLa).to(o.FLa).aa(),t(c.yIa).to(h.xIa).aa(),t(D.QJa).to(U.PJa),t(D.OJa).$$a(D.QJa),t(u.pBa).wf((function(t){var e;return e=t.$a,function(t){return new(i(1202).qBa)(e.get(S.oBa),e.get(p.pv),e.get(d.jd),t)}})),t(a.qza).wf((function(){return function(t){return new s.rza(t)}})),t(y.sIa).wf((function(t){var e;return e=t.$a,function(t){return new f.tIa(t,e.get(v.qb),e.get(l.Zc),e.get(b.bg),e.get(p.pv))}})),t(g.gea).wf((function(t){var e;return e=t.$a,function(t,i,n,r,o,a,s,u,c){return new m.FIa(t,i,n,r,o,a,s,u,c,e.get(y.sIa),e.get(R.eea))}})),t(k.iKa).wf((function(t){return function(e){var i,n;return i=t.$a.get(l.Zc),n=t.$a.get(v.qb),new O.jKa(i,e,n)}})),t(T.AIa).wf((function(t){return function(e){var i,n,r,o,a;return i=t.$a.get(x.zx),n=t.$a.get(P.nK),r=t.$a.get(j.cg),o=t.$a.get(I.TR),a=t.$a.get(F.yx),new A.BIa(e,i,n(_.vh(1)),r,o,a)}})),t(M.qda).nE((function(t){return new(i(1203).sGa)(t.$a.get(C.xR),t.$a.get(L.Tm))})).aa()}))},function(t,e,i){var n,r,o,a,s,u;function c(t,e){this.hg=t,this.config=e}Object.defineProperty(e,"__esModule",{value:!0}),e.FLa=void 0,t=i(1),n=i(15),r=i(520),o=i(18),a=i(0),s=i(4),i=i(13),c.prototype.zM=function(t){var e;t.EZ={},!t.nD()&&t.XA&&0<t.XA.length&&(t.WA=this.XXa(t),t.WA)&&((e=this.lYb(t))()||(t.yb.addListener(e),t.We.addListener(e)))},c.prototype.lYb=function(t){var e;return e=this,function i(){var o,a;return!(!t.We.value||t.yb.value===n.cb.Pf)&&((a=(o=t.WA).getState())!==r.wp.LOADING&&(a!==r.wp.ME&&o.retry?!!(o=e.HHb(t))&&(t.EZ.offset=e.hg.Yb().da(s.ja),t.WA=o,o.download(),!0):(t.yb.removeListener(i),t.We.removeListener(i),!1)))}},c.prototype.HHb=function(t){var e,i;return e=this.config(),i=t.Ll.jN()<e.v0b,e=(t.We.value?t.We.value.bitrate:0)>e.u0b,this.eHb(t,i&&e)},c.prototype.eHb=function(t,e){return e&&(e=this.XXa(t),this.VYa(t,e.size))?(t.EZ.C7a="h",e):(e=this.gGb(t),this.VYa(t,e.size)?(t.EZ.C7a="l",e):void 0)},c.prototype.VYa=function(t,e){var i,n;return i=this.config(),n=Math.min(t.DT(),t.QZ()),t.Csb.ytb(e)*(1+.01*i.Wqb[2])<n*i.y0b},c.prototype.XXa=function(t){return t.XA[t.XA.length-1]},c.prototype.gGb=function(t){return t.XA[0]},u=c,u=t.__decorate([a.R(),t.__param(0,a.l(o.jd)),t.__param(1,a.l(i.Zc))],u),e.FLa=u},function(t,e){function i(t){this.j=t}Object.defineProperty(e,"__esModule",{value:!0}),e.rza=void 0,i.prototype.$ab=function(){var t;null!=(t=this.j.Ka)&&t.PB&&(null!=(t=t.Qb.get())&&t.Aj&&(this.j.Aj=t.Aj.Ga),null!=t&&t.Ra&&(this.j.Ra=t.Ra.Ga))},i.prototype.Zt=function(){return-1===this.j.Ra&&this.$ab(),this.j.Ra},i.prototype.ytb=function(t){return-1!==this.j.Aj&&-1!==this.j.Ra||this.$ab(),-1===this.j.Aj||-1===this.j.Ra?Number.MAX_VALUE:this.j.Aj+8*t/this.j.Ra},e.rza=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I;function x(t,e,i,n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S){this.Gz=t,this.mC=e,this.Aa=i,this.za=n,this.Dsb=r,this.exa=o,this.GW=a,this.$qa=s,this.NN=u,this.Fd=c,this.Lh=h,this.Vi=f,this.KL=l,this.KX=d,this.nk=p,this.uxa=b,this.Vf=v,this.Dm=y,this.pe=g,this.qta=m,this.NVb=_,this.hia=w,this.JH=E,this.$sa=k,this.Q3=O,this.EL=S}Object.defineProperty(e,"__esModule",{value:!0}),e.xIa=void 0,t=i(1),n=i(81),r=i(0),o=i(112),a=i(31),s=i(18),u=i(38),c=i(521),h=i(260),f=i(469),l=i(490),d=i(120),p=i(141),b=i(161),v=i(98),y=i(459),g=i(259),m=i(1179),_=i(519),w=i(49),E=i(29),k=i(522),O=i(71),S=i(523),T=i(294),A=i(283),P=i(119),j=i(502),x.prototype.create=function(t,e,n,r,o,a,s,u){return new(i(524).zIa)(t,e,a,s,r,o,this.Gz,n,this.Aa,this.mC,this.za,this.GW,this.Dsb,this.exa,this.$qa,this.NN,this.Fd,this.Lh,this.Vi,this.KL,this.KX,this.nk,this.uxa,this.Vf,this.pe,this.qta,this.Dm,this.NVb(),this.hia,this.JH,this.$sa,void 0,this.Q3,u)},I=x,I=t.__decorate([r.R(),t.__param(0,r.l(n.Gx)),t.__param(1,r.l(a.fh)),t.__param(2,r.l(s.jd)),t.__param(3,r.l(u.Uh)),t.__param(4,r.l(c.qza)),t.__param(5,r.l(o.nK)),t.__param(6,r.l(h.kda)),t.__param(7,r.l(f.LFa)),t.__param(8,r.l(l.qR)),t.__param(9,r.l(d.sF)),t.__param(10,r.l(p.LR)),t.__param(11,r.l(b.hF)),t.__param(12,r.l(y.zza)),t.__param(13,r.l(g.gea)),t.__param(14,r.l(P.RE)),t.__param(15,r.l(_.GLa)),t.__param(16,r.l(w.Um)),t.__param(17,r.l(O.xR)),t.__param(18,r.l(E.cg)),t.__param(19,r.l(k.AIa)),t.__param(20,r.l(S.OJa)),t.__param(21,r.l(T.wba)),t.__param(22,r.l(A.qda)),t.__param(23,r.l(j.YHa)),t.__param(24,r.l(m.kAa)),t.__param(24,r.optional()),t.__param(25,r.l(v.jQ)),t.__param(25,r.optional())],I),e.xIa=I},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.kAa=e.lAa=void 0,(t=e.lAa||(e.lAa={}))[t.rib=0]="PAUSE",t[t.Bjb=1]="RESUME",t[t.R3b=2]="CAPTIONS_ON",t[t.Q3b=3]="CAPTIONS_OFF",t[t.S3b=4]="CAPTION_LANGUAGE_CHANGED",t[t.h3b=5]="AUDIO_LANGUAGE_CHANGED",t[t.r6b=6]="NEXT_EP",t[t.i7b=7]="PREV_EP",t[t.CB=8]="SEEK",t[t.bKa=9]="STOP",e.kAa="CastInteractionTrackerSymbol"},function(e,i,n){var o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P;function j(){this.paa=[],this.d0b=50}function I(e){var i;i=this,this.j=e,this.Sbb=Promise.resolve(),this.ZBa=t.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"",this.dC=[],this.ft=new c.Gk,this.PMa=this.jfa=0,this.K1=[],this.Dg=l.Ih(this.j,"MediaElementASE"),this.LOa=g.ql,this.Gfa=!1,this.bc=new j,this.wo={},this.rNa={},this.S5=this.rS((function(){var t;if(i.X)return null!==(t=i.X.webkitDecodedFrameCount)&&void 0!==t?t:0})),this.QC=this.rS((function(){var t;if(i.X)return(t=i.b2())?t.totalVideoFrames:i.X.webkitDecodedFrameCount})),this.XG=this.rS((function(){var t;if(i.X)return(t=i.b2())?t.droppedVideoFrames:i.X.webkitDroppedFrameCount})),this.sV=this.rS((function(){var t;if(i.X)return(t=i.b2())&&t.corruptedVideoFrames})),this.X5=this.rS((function(){var t;if(i.X)return(t=i.b2())&&_.bj(t.totalFrameDelay*g.pl)})),this.NNa=function(t){return i.ft.Fc(k.Oj.n1a,{W:t})},this.Gl=l.ka.get(E.NEa).create(u.config.hp,this,this.j),u.config.rD&&(this.Sbb=new Promise((function(t){i.LOa=t,i.j.addEventListener(T.ca.kg,t)}))),this.Dg.trace("Created Media Element"),this.addEventListener=this.ft.addListener,this.removeEventListener=this.ft.removeListener}function x(t){return t.preventDefault(),!1}Object.defineProperty(i,"__esModule",{value:!0}),i.ZFa=void 0,o=n(47),a=n(300),s=n(12),u=n(14),c=n(73),h=n(60),f=n(50),l=n(8),d=n(3),p=n(21),b=n(92),v=n(327),y=n(24),g=n(30),m=n(301),_=n(11),w=n(19),E=n(530),k=n(302),O=n(507),S=n(4),T=n(15),A=n(62),P=!!(_.$E&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play),I.prototype.tV=function(t){try{this.X&&(this.PMa=this.X.currentTime)}catch(e){this.Dg.error("Exception while getting VIDEO.currentTime",e),t&&this.nS(d.M.Wib,e)}return _.bj(this.PMa*g.pl)},I.prototype.seek=function(t){var e;if(p.hb(!this.Fp),this.EOa(),e=this.tV(!0),!u.config.mrb&&_.SE(e-t)<=this.Bva)this.Dg.trace("Seek delta too small",{currentTime:e,seekTime:t,min:this.Bva}),this.bc.trace("smallseek",t);else{this.bc.trace("seek",t);try{this.Dg.trace("Setting video elements currentTime",{From:b.cj(e),To:b.cj(t)}),this.Fp={},this.X.currentTime=t/g.pl,this.ft.Fc(k.Oj.Wp)}catch(t){this.Dg.error("Exception while setting VIDEO.currentTime",t),this.nS(d.M.Xib,t)}}},I.prototype.WYa=function(){return!!this.Fp},I.prototype.addSourceBuffer=function(t){var e,i;e=g.He(this.jfa.toString()+this.dC.length.toString()),e={TY:this.jfa,F3:e};try{return i=new a.nda(this.j,t,this.eg,e,this.Dg),this.dC.push(i),t==s.aK&&i.pma&&i.pma.addListener(this.LOa),i}catch(e){i=g.wd(e),this.Dg.error("Unable to add source buffer.",{error:i}),this.j.Xd(d.M.Hda,{na:t===o.Tb.ol.Wb?g.L.hda:g.L.ida,ub:i})}},I.prototype.b3=function(t){var e;return e=this,t.forEach((function(t){return e.addSourceBuffer(t)})),this.ft.Fc(k.Oj.G9a),!0},I.prototype.removeSourceBuffer=function(t){this.dC=this.dC.filter((function(e){return!f.ASa(t,e)})),this.eg.removeSourceBuffer(t)},I.prototype.endOfStream=function(){this.bc.trace("endofstream"),u.config.kja&&this.eg.endOfStream()},I.prototype.Yp=function(t){return this.dC=[],t&&t.ubc(),!0},I.prototype.rXb=function(t){this.jfa=t},I.prototype.rYa=function(){if(this.eg)return S.W5a(this.eg.duration)},I.prototype.dAb=function(){var t;return!this.Gfa&&this.X&&this.X.readyState>=A.co.q0.HAVE_CURRENT_DATA&&(void 0===(t=this.X.webkitDecodedFrameCount)||0<t||u.config.L2b)&&(this.Gfa=!0),this.Gfa},I.prototype.open=function(){var t,e,i;if(t=this,this.X=function(t){var e,i;return e=l.ka.get(O.kMa).$Gb(),t=t.width/t.height*e.height,i=(e.width-t)/2,u.config.fYb?g.createElement("VIDEO","position:absolute;width:"+t+"px;height:"+e.height+"px;left:"+i+"px;top:0px"):g.createElement("VIDEO","position:absolute;width:100%;height:100%")}(this.j.cB),this.sourceBuffers=this.dC,this.j.addEventListener(T.ca.q9a,(function(e){return t.iob(e)})),P){this.j.oD&&!u.config.lbb&&this.Gl.l9();try{this.eg=new _.$E}catch(t){return void this.nS(d.M.Nib,t)}try{this.vl=URL.createObjectURL(this.eg)}catch(t){return void this.nS(d.M.Oib,t)}try{this.Gl.zqb(this.NNa),this.eg.addEventListener("sourceopen",(function(e){return t.mOa(e)})),this.eg.addEventListener(this.ZBa+"sourceopen",(function(e){return t.mOa(e)})),this.X.addEventListener("error",this.wo.error=function(e){return t.RS(e)}),this.X.addEventListener("seeking",this.wo.seeking=function(){return t.hob()}),this.X.addEventListener("seeked",this.wo.seeked=function(){return t.gob()}),this.X.addEventListener("timeupdate",this.wo.timeupdate=function(){return t.job()}),this.X.addEventListener("loadstart",this.wo.loadstart=function(){return t.Jga()}),this.X.addEventListener("volumechange",this.wo.volumechange=function(e){return t.kob(e)}),this.X.addEventListener(this.Gl.FD,this.wo[this.Gl.FD]=function(){t.Dg.trace(t.Gl.FD),t.eob()}),(i=(e=this.j.Jg).lastChild)?e.insertBefore(this.X,i):e.appendChild(this.X),u.config.sUa&&this.X.addEventListener("contextmenu",x),this.X.src=this.vl,h.ve.addListener(h.Nr,this.rNa[h.Nr]=function(){return t.lOa()}),this.lOa()}catch(t){this.nS(d.M.Pib,t)}}else this.G1(d.M.jHa)},I.prototype.close=function(){var t;function e(){t.vl&&(t.EOa(),h.ve.removeListener(h.Nr,t.rNa[h.Nr]),t.wlb())}t=this,this.bc.trace("close"),this.X.removeEventListener(this.Gl.FD,this.wo[this.Gl.FD]),this.X.removeEventListener("error",this.wo.error),this.X.removeEventListener("seeking",this.wo.seeking),this.X.removeEventListener("seeked",this.wo.seeked),this.X.removeEventListener("timeupdate",this.wo.timeupdate),this.X.removeEventListener("loadstart",this.wo.loadstart),this.X.removeEventListener("volumechange",this.wo.volumechange),this.Gl.uVb(this.NNa),u.config.hp?this.Gl.FA().then((function(){return e()})):e(),this.Gl.m7a&&clearTimeout(this.Gl.m7a)},I.prototype.VC=function(){return this.bc.VC()},I.prototype.eob=function(){u.config.lbb&&this.Gl.l9()},I.prototype.b2=function(){if(this.X)return this.X.getVideoPlaybackQuality&&this.X.getVideoPlaybackQuality()||this.X.videoPlaybackQuality||this.X.playbackQuality},I.prototype.upb=function(){var t;return(t=(t=this.j.li)&&t.errorCode)&&0<=[d.M.Q0,d.M.u0].indexOf(t)},I.prototype.wlb=function(){var t;t=!1,u.config.GTb&&this.upb()&&(t=!0),u.config.$ub&&!t&&(this.X.removeAttribute("src"),this.X.load&&this.X.load()),URL.revokeObjectURL(this.vl),u.config.sUa&&this.X.removeEventListener("contextmenu",x),!t&&this.X&&this.j.Jg.removeChild(this.X),this.X=this.eg=void 0,this.vl=""},I.prototype.lOa=function(){!0===_.Be.hidden?this.K1.forEach((function(t){t.refresh(),t.cZb()})):this.K1.forEach((function(t){t.refresh(),t.pZb()}))},I.prototype.rS=function(t){var e;return e=l.ka.get(v.TGa)(t),this.K1.push(e),function(){return e.refresh(),e.ZEb()}},I.prototype.nS=function(t,e){var i,n;i={na:g.L.Lj,ub:g.wd(e)};try{(n=e.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==n.length&&(i.pf=n)}catch(t){}this.j.Xd(t,i)},I.prototype.EOa=function(){this.K1.forEach((function(t){t.refresh()}))},I.prototype.qmb=function(){return this.X&&this.X.msGraphicsTrustStatus},I.prototype.G1=function(t,e){this.j.Xd(t,e,void 0)},I.prototype.iob=function(t){var e,i,n,r,o,a,c;if(this.X){t=t.SZ,(e=this.qmb())&&(t.ConstrictionActive=e.constrictionActive,t.Status=e.status);try{t.readyState=""+this.X.readyState,t.currentTime=""+this.X.currentTime,t.pbRate=""+this.X.playbackRate}catch(t){}e=this.dC.length;for(var h;e--;)i="",(h=this.dC[e]).type==s.z0?i="audio":h.type==s.aK&&(i="video"),g.Zb(t,h.K5(),{prefix:i}),u.config.ABb&&this.j.li&&s.aK==h.type&&(3e3>((i=g.pP(h.Q5())).data&&i.data.length)&&(i.data=y.bTa(i.data).join(),g.Zb(t,i,{prefix:h.type})));if(this.eg&&(e=this.eg.duration)&&!isNaN(e)&&(t.duration=e.toFixed(4)),u.config.VMb)try{(r=(n=this.j.nf)&&n.Ib)&&(o=r.expiration,isNaN(o)||(t.exp=o),(a=r.keyStatuses.entries()).next&&(c=a.next().value)&&(t.keyStatus=c[1]))}catch(t){}}},I.prototype.mOa=function(t){this.wpb||(this.wpb=!0,this.ft.Fc(k.Oj.H9a,t))},I.prototype.hob=function(){this.bc.trace("seeking"),this.Dg.trace("Video element event: seeking"),this.Fp?this.Fp.hQb=!0:(this.Dg.error("unexpected seeking event"),u.config.LCb&&this.G1(d.M.bjb,{ub:{Trace:this.VC()}}))},I.prototype.gob=function(){this.bc.trace("seeked"),this.Dg.trace("Video element event: seeked"),this.Fp?(p.hb(this.Fp.hQb),this.Fp.gQb=!0,this.hPa()):(this.Dg.error("unexpected seeked event"),u.config.KCb&&this.G1(d.M.ajb,{ub:{Trace:this.VC()}}))},I.prototype.job=function(){var t;this.bc.trace("timeupdate",null===(t=this.X)||void 0===t?void 0:t.currentTime),this.Fp&&(this.Fp.jQb=!0,this.hPa()),this.ft.Fc(k.Oj.Wp)},I.prototype.Jga=function(){this.Dg.trace("Video element event: loadstart")},I.prototype.kob=function(t){this.Dg.trace("Video element event:",t.type);try{this.j.volume.set(this.X.volume),this.j.muted.set(this.X.muted)}catch(t){this.Dg.error("error updating volume",t)}},I.prototype.RS=function(t){var e,i,n,r,o,a,s,u,c,h;if(e=this.G1,i=d.M.iHa,n=d.qCa,r=this.VC(),a=(o=t.target)&&o.error,s=t.errorCode,o=a&&a.code,g.Xc(o)||(o=s&&s.code),s=a&&a.message,u=a&&a.msExtendedCode,g.Xc(u)||(u=a&&a.systemCode),g.Xc(u)||(u=t.systemCode),!g.Xc(u))try{for(t=/\(([^)]+)\)/g;c=t.exec(s);)h=Number(c[1]),w.Ba(h)&&(u=h)}catch(t){}r=g.Zb({},{code:o,systemCode:u,trace:JSON.stringify(r)},{pA:!0}),n={na:n(o),ub:m.Uqa(r)};try{s&&(n.OW=s)}catch(t){}u=g.He(u),w.Ba(u)&&(n.pf=l.Hia(u,4)),e.call(this,i,n)},I.prototype.hPa=function(){this.Fp&&this.Fp.gQb&&this.Fp.jQb&&(this.bc.trace("seekcomplete"),this.Fp=void 0,this.ft.Fc(k.Oj.BY))},r.Object.defineProperties(I.prototype,{Bva:{configurable:!0,enumerable:!0,get:function(){return u.config.VYb}}}),i.ZFa=I,j.prototype.trace=function(t,e){this.paa.push([t,e]),this.paa.length>this.d0b&&this.paa.shift()},j.prototype.VC=function(){return this.paa}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t){var e;e=this,this.j=t,this.Wwa=this.y3a=0,this.kg=this.Bq=!1,this.p$=0,this.Rl=function(){var t,i;e.m$(),e.BG&&(e.log.info("Deactivating",e.BG),e.SA.Wyb(e.Re())),e.j.ci.set(null),e.dJ.R8a(void 0),e.lSa(),(t=e.j.jc.value)&&t.Vr()&&!t.rq()&&(t=null),t&&e.j.yb.value!==l.cb.Pf&&(i=e.Re(),e.SA.jqb(i,t)),t?(e.log.info("Activating",t),e.j.Mm.set(t.getState()===n.nF.DB.ME?l.yf.re:l.yf.xd),e.Bq||e.j.Dd("tt_start"),t.X6().then(e.zL).catch(e.zL)):e.j.Mm.set(l.yf.re),e.BG=t,e.pJ()},this.sync=function(){e.Bq&&(e.dJ.start(),e.j.yb.value!==l.cb.Kc&&e.dJ.stop())},this.pJ=function(){var t;e.j.state.value===l.Rb.re&&e.j.yb.value!==l.cb.Pf&&(e.wh?t=e.dJ.lEb():e.j.jc.value&&(t=p.lZb[e.j.jc.value.getState()])),t&&f.Xc(t.startTime)&&e.j.cv.value!==t&&(e.y3a++,e.Wwa+=e.dJ.sYa()-t.startTime,e.ZQa=Math.ceil(e.Wwa/(e.y3a+0))),e.j.cv.set(t)},this.Re=function(){var t;return t=e.j.Fna(),e.BG&&e.BG.du&&(t+=e.BG.du),t},this.bRb=function(t){e.fireEvent(p.JYb,t),t&&t.id&&e.SA.dbb(t.id),e.log.trace("showsubtitle",e.dZa(t))},this.XQb=function(t){e.fireEvent(p.CVb,t),e.log.trace("removesubtitle",e.dZa(t))},this.sk=function(){e.log.warn("imagesubs buffer underflow",e.j.jc.value.Ri),e.j.Mm.set(l.yf.xd)},this.vQb=function(){e.log.info("imagesubs buffering complete",e.j.jc.value.Ri),e.j.Mm.set(l.yf.re)},this.g9=function(){e.Bq&&e.wh&&e.wh.Is(e.Re())},this.t4a=function(t){e.Bq&&e.wh&&(e.wh.pause(),e.wh.NA(t.ek))},this.JD=function(){e.Bq&&e.wh&&e.wh.cua()},this.q4a=function(t){e.wh&&e.wh.wi(t.oh,t.dO)},this.y4a=function(t){e.wh&&e.wh.Ai(t.xa,t.y1b)},this.PQb=function(){e.Bq=!0,h.Rf((function(){var t,i;null!==(t=e.BG)&&void 0!==t&&t.kk?null===(i=e.wh)||void 0===i||i.Is(e.Re()):e.sync(),e.pJ()}))},this.MQb=function(){e.lSa(),e.dJ.stop(),e.pJ(),e.kg=!0,e.m$()},this.Msa=function(t){(t=t.newValue)&&f.isArray(t.blocks)&&e.SA.dbb.apply(e.SA,y(t.blocks.map((function(t){return t.id}))))},this.TQb=function(t){e.s1b(t.newValue,t.oldValue),e.sync(),e.pJ()},this.zL=function(t){var i;if(!e.kg){if((i=t.track)===e.j.jc.value)try{e.wh=i.Twa,i.kk?e.hqb(t):e.iqb(t)}catch(t){return void e.log.error("Error activating track:",t,i)}e.Bq||e.j.Dd(t.$?"tt_comp":"tt_err"),t.$?(a.config.d8a?setTimeout((function(){e.j.Mm.set(l.yf.re)}),a.config.d8a):e.j.Mm.set(l.yf.re),i.kk||e.pJ()):t.aborted?e.log.warn("aborted timed text track loading"):a.config.JCb?e.j.Xd(c.M.Mgb,{ub:t.track?t.track.Ri:{}}):(e.log.error("ignore subtitle initialization error",t),e.j.Mm.set(l.yf.re))}},this.Ub=new o.Gk,this.SA=new u.WKa(s.Ih(t,"SubtitleTracker"),a.config.NBb),this.log=s.Ih(t,"TimedTextManager"),this.dJ=new r.rLa(this.Re,this.pJ),this.j.jc.addListener(this.Rl),a.config.cTb?(this.j.addEventListener(l.ca.Bq,this.PQb),this.Rl()):(this.j.Mm.set(l.yf.re),this.j.addEventListener(l.ca.Bq,(function(){e.Bq=!0,e.Rl()}))),this.j.yb.addListener(this.TQb),this.j.addEventListener(l.ca.fxa,this.sync),this.j.cv.addListener(this.Msa),this.j.addEventListener(l.ca.kg,this.MQb)}Object.defineProperty(e,"__esModule",{value:!0}),e.pLa=void 0,n=i(279),r=i(531),o=i(73),a=i(14),s=i(8),u=i(1182),c=i(3),h=i(61),f=i(19),l=i(15),d=i(1183),p.prototype.addEventListener=function(t,e,i){this.Ub.addListener(t,e,i)},p.prototype.removeEventListener=function(t,e){this.Ub.removeListener(t,e)},p.prototype.fireEvent=function(t,e,i){this.Ub.Fc(t,e,i)},p.prototype.Gha=function(t,e,i){var n,r;n=this,r=d.nLa.Nxb(this.j,t,e,i),this.R_a(this.j.Qh,r),this.j.Ki.forEach((function(t){n.R_a(t.Qh,r)})),this.j.jc.set(r),this.j.fireEvent(l.ca.ev)},p.prototype.iTb=function(t){this.$ua(t)?t.X6().then((function(){})):Promise.resolve()},p.prototype.xHb=function(t){return this.SA.fHb(t)},p.prototype.$na=function(t){return this.SA.$na(t)},p.prototype.LV=function(){var t,e;return t=this.j.sZ,e=a.config.kxa.characterSize,e={size:a.config.kaa.characterSize||e},t&&(e.visibility=t.goa(),e.RT=t.eoa(),e.Zr=t.foa()),e},p.prototype.bYb=function(t){a.config.kaa.characterSize=t,t=this.j.jc.value,this.$ua(t)&&!t.kk&&t.X6().then(this.zL).catch(this.zL)},p.prototype.s1b=function(t,e){var i;t===l.cb.Kc||t==l.cb.hh?e!==l.cb.Kc&&e!==l.cb.hh&&((e=this.j.jc.value)&&!this.$ua(e)||this.SA.D3a(this.Re(),e||void 0,"presentingstate:"+t)):t!==l.cb.Pf&&t!==l.cb.Wq||this.SA.Ela(null!==(i=this.Re())&&void 0!==i?i:void 0,"presentingstate:"+t)},p.prototype.m$=function(){this.p$=0,clearTimeout(this.qWb)},p.prototype.lSa=function(){var t;this.wh&&this.wh.stop(),null!==(t=this.BG)&&void 0!==t&&t.kk&&this.Y1a("removeListener"),this.wh=void 0},p.prototype.Y1a=function(t){this.wh&&(this.wh[t]("showsubtitle",this.bRb),this.wh[t]("removesubtitle",this.XQb),this.wh[t]("underflow",this.sk),this.wh[t]("bufferingComplete",this.vQb),"addListener"===t?(this.j.addEventListener(l.ca.Wp,this.g9),this.j.addEventListener(l.ca.wk,this.t4a),this.j.addEventListener(l.ca.DI,this.JD),this.j.addEventListener(l.ca.V8,this.q4a),this.j.addEventListener(l.ca.Pxa,this.y4a)):(this.j.removeEventListener(l.ca.Wp,this.g9),this.j.removeEventListener(l.ca.wk,this.t4a),this.j.removeEventListener(l.ca.DI,this.JD),this.j.removeEventListener(l.ca.V8,this.q4a),this.j.removeEventListener(l.ca.Pxa,this.y4a)))},p.prototype.dZa=function(t){return{currentPts:this.Re(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY}},p.prototype.hqb=function(t){var e,i;if(e=this,!(i=t.track)||!i.kk)throw Error("Not an image base subtitle");t.$?(this.m$(),this.Y1a("addListener"),this.log.info("Activated",i),this.j.ci.set(i),this.Bq?h.Rf((function(){e.wh.Is(e.Re())})):this.wh.pause()):this.R7a(i,t)},p.prototype.iqb=function(t){var e,i;if(e=t.track,i=t.$,!e||e.kk)throw Error("Not a valid text track");i?(this.m$(),this.dJ.R8a(this.wh),this.log.info("Activated",e),this.j.ci.set(e)):this.R7a(e,c.Ts(t)),this.pJ()},p.prototype.R7a=function(t,e){var i,n;i=this,(n=this.p$<a.config.VNb)&&(this.qWb=setTimeout((function(){i.p$++,t.X6().then(i.zL).catch(i.zL)}),a.config.L_b)),this.log.error("Failed to activate"+(null!=t&&t.kk?" img subtitle":""),{retry:n},e,t)},p.prototype.$ua=function(t){return!(!t||t.Vr()&&!t.rq())},p.prototype.R_a=function(t,e){var i;-1===(i=t.findIndex((function(t){return t.uc>=e.uc})))&&(i=0),t.splice(i,0,e)},e.pLa=p,t={},p.lZb=(t[n.nF.DB.LOADING]={T7:!0},t[n.nF.DB.kR]={Pt:!0},t),p.JYb="showsubtitle",p.CVb="removesubtitle"},function(t,e,i){var n;function r(t,e,i){this.start=t,this.track=e,this.YI=Array.isArray(i)?i:[]}function o(t,e){this.log=t,this.bB=e,this.jua=[],this.orphans=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.WKa=void 0,n=i(21),o.prototype.jqb=function(t,e){this.D3a(t,e,"activating")},o.prototype.Wyb=function(t){this.Ela(t,"de-activating")},o.prototype.D3a=function(t,e,i){var n;this.Rk&&this.Ela(t,"close current for new"),n=[],this.orphans.length&&(n.push.apply(n,y(this.orphans)),this.orphans=[]),this.Rk=new r(t,e,n),this.bB&&this.log.trace("new range: "+i,this.Rk)},o.prototype.Ela=function(t,e){this.Rk&&(this.Rk.end=t,this.jua.push(this.Rk),this.bB&&this.log.trace("end range: "+e,this.Rk||{}),this.Rk=void 0)},o.prototype.dbb=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i-0]=arguments[i];this.Rk?this.Rk.YI.push.apply(this.Rk.YI,y(e)):this.orphans.push.apply(this.orphans,y(e))},o.prototype.$na=function(t){var e,i;return e=this.jua.slice(0),this.Rk&&void 0!==t&&((i=new r(this.Rk.start,this.Rk.track,this.Rk.YI)).end=t,e.push(i)),t=e.reduce((function(t,e){var i,n,r,o;return e.track?(n=e.track.Bc,null==(r=e.track.Mr(e.start,e.end))||(o=new Set(e.YI),t[n]?((e=t[n]).expected+=r,e.missed+=r-o.size):t[n]={dlid:n,bcp47:e.track.Wd,profile:e.track.profile,expected:r,missed:r-o.size,startPts:null!==(i=e.track.rHb())&&void 0!==i?i:0}),t):t}),{}),t=Object.values(t),this.bB&&this.log.trace("subtitleqoe:",JSON.stringify(t,null,"\t")),t},o.prototype.fHb=function(t){var e,i,o,a;return e=this.jua.slice(0),i=0,o=0,this.Rk&&void 0!==t&&((a=new r(this.Rk.start,this.Rk.track,this.Rk.YI)).end=t,e.push(a)),e.forEach((function(t){var e,r;if(t.track){if(t.end<t.start)return n.hb(!1,"negative range"),void(t.YD=0);e=new Set(t.YI),r=t.track.Mr(t.start,t.end),t.h5=r,t.YD=null==r?0:0===r?100:100*e.size/r}else t.YD=100;e=t.end-t.start,i+=e,o+=t.YD*e})),a=i?Math.round(o/i):100,this.log.trace("qoe score "+a+", at pts: "+t),this.bB&&(t=e.map((function(t){return{start:t.start,"end  ":t.end,duration:t.end-t.start,score:Math.round(t.YD),lang:t.track?t.track.Wd:"none","actual  ":t.YI.join(" "),expected:t.h5}})),this.log.trace("score for each range: ",JSON.stringify(t,(function(t,e){return e})," "))),a},e.WKa=o},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e,i,n,r,o){var a,c;return(t=s.nF.call(this,e,t,t,r,!0,"","1",{0:i},[{id:0,name:"custom"}],"xx",n||t,u.vp.gK,void 0,void 0,"primary",null!==(a=null==o?void 0:o.profile)&&void 0!==a?a:"dfxp-ls-sdh",null!==(c=null==o?void 0:o.midx)&&void 0!==c?c:{},!1,!1,null==o?void 0:o.isLanguageLeftToRight)||this).j=e,t.url=i,t.options=o,t.Js=null==o?void 0:o.useRangeHeader,t}Object.defineProperty(e,"__esModule",{value:!0}),e.nLa=void 0,t=i(58),n=i(14),r=i(60),o=i(8),a=i(30),s=i(279),u=i(131),c=i(74),h=i(133),f=i(15),t.dea(t.$da,(function(t){var e;function i(i){var n;i.ctrlKey&&i.altKey&&i.shiftKey&&i.keyCode==h.tv.jkb&&((n=a.createElement("INPUT",void 0,void 0,{type:"file"})).addEventListener("change",(function(){var i,r,o;(i=n.files[0])&&(r=i.name,e.info("Loading file",{FileName:r}),(o=new FileReader).readAsText(i),o.addEventListener("load",(function(){return t.Qq.Gha("nourl",r,{content:o.result})})))})),n.click())}e=o.Ih(t,"TimedTextCustomTrack"),n.config.Dka&&(e.info("Loading url",{Url:n.config.Dka}),t.Qq.Gha(n.config.Dka,"custom")),r.ve.addListener(r.YC,i),t.addEventListener(f.ca.kg,(function(){r.ve.removeListener(r.YC,i)}))})),g(l,s.nF),l.Nxb=function(t,e,i,n){var r;return r="custom"+l.gKb++,new l(r,t,e,i,-1,n)},l.prototype.LUa=function(){var t;return t=this,new Promise((function(e,i){var n,r;null!==(n=t.options)&&void 0!==n&&n.content?e(t.options.content):t.url&&(r={responseType:c.Ooa,url:t.url,track:t,qc:null,EC:"tt-"+t.Wd},t.j.O6.download(r,(function(n){n.$?e(n.content):(n.reason="downloadfailed",n.url=r.url,n.track=t,i(n))})))}))},e.nLa=l,l.gKb=0},function(t,e,i){var n,r,o,a,s,u;function c(t){var e,i;e=this,this.j=t,this.AQb=function(){var t;o.ve.removeListener(o.x6,e.w4a),(t=e.Rr.Dn())&&t.parentNode&&t.parentNode.removeChild(t)},this.Msa=function(t){e.Rr.CXb(t.newValue)},this.eRb=function(t){e.Rr.JXb(t.newValue?t.newValue.t7:void 0)},this.w4a=function(){e.Rr.NO()},this.Rr=new s.oLa(a.config.jxa,t.jc.value?t.jc.value.t7:void 0),i=t.cB,r.hb(.1<i.width/i.height),this.Rr.sXb(i.width/i.height),t.Jg.appendChild(this.Rr.Dn()),t.cv.addListener(this.Msa),t.jc.addListener(this.eRb),t.addEventListener(u.ca.kg,this.AQb,n.cF),o.ve.addListener(o.x6,this.w4a)}Object.defineProperty(e,"__esModule",{value:!0}),e.qLa=void 0,n=i(12),r=i(21),o=i(60),a=i(14),s=i(536),u=i(15),c.prototype.fwa=function(t){this.Rr.fwa(t)},c.prototype.goa=function(){return this.Rr.goa()},c.prototype.dwa=function(t){this.Rr.dwa(t)},c.prototype.eoa=function(){return this.Rr.eoa()},c.prototype.ewa=function(t){this.Rr.ewa(t)},c.prototype.foa=function(){return this.Rr.foa()},e.qLa=c},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.o6a=void 0,e.o6a=function(t){var e,i;return e=!1,i=!1,function(){if(e)i=!0;else for(i=!0;i;)i=!1,e=!0,t(),e=!1}}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t){this.j=t,this.f_b=!1,this.log=a.Ih(this.j,"MediaAppendManager"),this.Vb=this.j.Vb,this.X=this.Vb.X,this.WZ=this.IT=!1,this.audio={type:o.Ei.audio,iw:[],Il:[],rO:!1},this.video={type:o.Ei.video,iw:[],Il:[],rO:!1},t={},this.hJ=(t[n.Tb.ol.Mb]=this.video,t[n.Tb.ol.Wb]=this.audio,t),this.closed=!1,this.dA=r.config.dA,this.A8=r.config.A8,this.$H=r.LSa(!!this.j.bb.Fl).$H,this.$Qa=!0,u.hb(this.dA>this.A8,"bad config"),u.hb(this.dA>this.$H,"bad config")}Object.defineProperty(e,"__esModule",{value:!0}),e.QFa=void 0,n=i(47),r=i(14),o=i(90),a=i(8),s=i(3),u=i(21),c=i(30),h=i(15),f=i(185),l=i(4),d=i(62),p.prototype.J5=function(){var t,e;function i(t,e){return r(t,e.q8)}function r(t,e){var i,n,r,o;return r=!!e.response,o=e.response,e.ad?t+(o.byteLength||0):(e=(null!==(i=null==e?void 0:e.PL)&&void 0!==i?i:0)-(null!==(n=null==e?void 0:e.QL)&&void 0!==n?n:0),(r?o.byteLength:e)+t)}return t=this.hJ[n.Tb.ol.Mb],e=this.hJ[n.Tb.ol.Wb],{videoToAppend:t.Il.reduce(r,0),videoInBuffer:t.iw.reduce(i,0),audioToAppend:e.Il.reduce(r,0),audioInBuffer:e.iw.reduce(i,0)}},p.prototype.YPb=function(){this.audio.Zi&&!this.audio.Zi.Hh()&&this.audio.Zi.oQa(new Uint8Array([0,0,0,8,102,114,101,101]))},p.prototype.VXb=function(){this.audio.kwa=!0,this.video.kwa=!0},p.prototype.$Xb=function(t){t===n.Tb.ol.Wb?this.IT=!0:t===n.Tb.ol.Mb&&(this.WZ=!0)},p.prototype.Hh=function(){var t,e;return!(null===(t=this.audio.Zi)||void 0===t||!t.Hh())||!(null===(e=this.video.Zi)||void 0===e||!e.Hh())},p.prototype.J$=function(t){var e,i;null===(e=this.audio.Zi)||void 0===e||e.J$(t),null===(i=this.video.Zi)||void 0===i||i.J$(t)},p.prototype.wrb=function(t){var e;t.mediaType===n.Tb.ol.Wb?this.IT=!1:t.mediaType===n.Tb.ol.Mb&&(this.WZ=!1),(e=this.hJ[t.mediaType])?e.Il.push(t):u.hb(!1)},p.prototype.urb=function(t,e,i){e={mediaType:t.type,kD:!1,response:e,mi:function(){return"header"},get ad(){return!this.kD},profile:i.profile},(t=this.hJ[t.type])?t.Il.push(e):u.hb(!1)},p.prototype.YXb=function(t){var e;if(e=this.hJ[t.type])try{e.Zi=t}catch(e){this.Xd(s.M.Hda,{na:f.V5(t.type),ub:c.wd(e)})}},p.prototype.close=function(){this.closed=!0},p.prototype.Xd=function(t,e,i){this.closed||this.j.Xd(t,e,i)},p.prototype.Nka=function(t){return this.DUa(this.audio,t,this.s4())&&this.DUa(this.video,t,this.s4())},p.prototype.s4=function(){return this.j.yb.value===h.cb.Pf?this.$H:this.A8},p.prototype.R_b=function(){var t,e;return t=this.video.Il.filter((function(t){return!t.ad})).reduce((function(t,e){return t+e.Hr}),0),e=this.audio.Il.filter((function(t){return!t.ad})).reduce((function(t,e){return t+e.Hr}),0),Math.min(t,e)},p.prototype.DUa=function(t,e,i){var n;return n=(n=t.Oka)&&n.q8,!(t.Zi&&(0!==t.Il.length||!(t.type===o.Ei.audio&&this.IT||t.type===o.Ei.video&&this.WZ)))||(n&&n.Vw-e>=i||!1)},p.prototype.xxa=function(t){this.f_b||(this.tab(this.audio,t),this.tab(this.video,t)),this.closed||this.YRa()},p.prototype.YRa=function(){var t,e,i,n,r;i=!this.audio.Zi||0!==this.audio.iw.length,n=0===this.video.Il.length&&this.WZ,r=!this.video.Zi||0!==this.video.iw.length,!(!(0===this.audio.Il.length&&this.IT&&r||n&&i)||null!==(t=this.audio.Zi)&&void 0!==t&&t.Hh()||null!==(e=this.video.Zi)&&void 0!==e&&e.Hh()||this.Dla)&&this.X.readyState>d.co.q0.HAVE_NOTHING&&(this.Dla=!0,this.Vb.endOfStream())},p.prototype.tab=function(t,e){var i,n,r;if(!this.closed&&t.Zi){if(i=t.Zi,n=t.iw,!i.Hh()&&0<n.length&&(t.Oka=n[n.length-1]),t.kwa){if(i.Hh())return;t.kwa=!1,0<(r=this.Vb.rYa().V5a(l.io))&&i.remove(0,r)}for(r=t.Il[0];r&&r.response&&(r.ad||r.AA-e<=this.dA)&&(this.Dla=!1,this.F0b(r));)t.Il.shift(),r=t.Il[0];!i.Hh()&&0<n.length&&(t.Oka=n[n.length-1])}},p.prototype.F0b=function(t){var e,i,n;if(u.hb(t&&!!t.response),e=t.response,i=t.mediaType,n=this.hJ[i],!this.closed&&n.Zi&&!n.Zi.Hh()){try{t.ad&&t.profile&&n.Zi.lub(t.profile),this.log.trace("Feeding media segment to decoder",{Bytes:e.byteLength}),n.Zi.oQa(e,t),t.ad||n.iw.push(this.Pxb(t)),r.config.qAb&&!t.ad&&t.fSa()}catch(e){return void("QuotaExceededError"===e.name?(this.j.u4=this.j.u4?this.j.u4+1:1,this.$Qa=!1,n.rO=!0):(this.log.error("Exception while appending media",t,e),this.Xd("CodecSwitchingError"===e.name?s.M.kHa:s.M.Yib,f.V5(i))))}return!0}},p.prototype.Hxb=function(t){var e;return(e=this.j.rIb(t.Md))||(this.log.warn("Could not find CDN",{cdnId:t.Md}),e={id:t.Md,yqa:t.location}),e},p.prototype.yTa=function(t){var e,i;return i=t.Oa,t.mediaType===n.Tb.ol.Wb?e=this.j.xZa(i):t.mediaType===n.Tb.ol.Mb&&(e=this.j.IZa(i)),e||this.log.error("Could not find stream",{stream:i}),e},p.prototype.Pxb=function(t){return{q8:t,stream:this.yTa(t),im:{startTime:Math.floor(t.AA),endTime:Math.floor(t.Vw)},qc:this.Hxb(t)}},p.prototype.uja=function(t){this.bSa(t,n.Tb.ol.Wb),this.bSa(t,n.Tb.ol.Mb)},p.prototype.bSa=function(t,e){var i,o,a,s,h,f,l,d,p;if(i=this,o=t,this.$Qa&&(o-=r.config.XO),s=(a=this.hJ[e]).iw,l=!1,s.some((function(r,a){var s;return s=r.q8,t<s.AA?(u.hb(!1,"decoder content does not contain media time"),!0):(o>=s.Vw&&(h=a),t<s.Vw?(f=a,r!==(a=e===n.Tb.ol.Wb?i.j.jf:i.j.oe).value&&(a.set(r),l=!0),!0):void 0)})),(a.rO||l)&&void 0!==h&&!this.Dla){if(h+1===f){if(0===h)return;h--}0<(d=s[h].q8.Vw-1)&&((p=a.Zi)&&!p.Hh()?(p.remove(0,d/c.pl),a.rO=!1,s.splice(0,h+1)):a.rO=!0)}},p.prototype.H7a=function(){[this.audio,this.video].forEach((function(t){t.iw=[],t.Oka=void 0,t.Il=[]})),this.WZ=this.IT=!1,this.j.fireEvent(h.ca.n8)},p.prototype.noa=function(){return[this.audio,this.video].filter((function(t){return t.Zi}))},p.prototype.IEb=function(){var t,e;if(this.Hh())u.hb(!1,"should not be busy while checking buffer ranges");else if((t=this.noa().map((function(t){var e,i,n,r,o;if(r=t.Il.filter((function(t){return t.kD})),o=t.Zi.buffered(),t=o.length?Math.ceil(1e3*o.start(0)):void 0,o=o.length?Math.floor(1e3*o.end(o.length-1)):void 0,t=null!=t?t:null===(e=r[0])||void 0===e?void 0:e.AA,e=null!==(n=null===(i=r[r.length-1])||void 0===i?void 0:i.Vw)&&void 0!==n?n:o,void 0!==t&&void 0!==e)return{start:t,end:e}}))).every((function(t){return t}))&&(e=Math.max.apply(Math,y(t.map((function(t){return t.start})))),(t=Math.min.apply(Math,y(t.map((function(t){return t.end})))))>e))return{start:l.Nc(e),end:l.Nc(t)}},p.prototype.skip=function(t){u.hb(!this.Hh(),"should not be busy while skipping"),this.noa().forEach((function(t){t.rO=!0})),this.uja(t),this.noa().forEach((function(e){0<e.iw.length||(e.Il=e.Il.filter((function(e){return!!(e.ad||e.Vw>t)})))}))},e.QFa=p},function(t,e){function i(t,e,i){var n,r,o,a;return n=[],t.forEach((function(t){-1==n.indexOf(t.kh)&&n.push(t.kh)})),r=null,o=null,e.forEach((function(t){null===r?o=r=t.bitrate:o<t.bitrate?o=t.bitrate:r>t.bitrate&&(r=t.bitrate)})),a=[],n.forEach((function(t){var e;e={ranges:[],profile:t},r&&o&&(e.ranges.push({min:r,max:o}),i&&(e.disallowed=i.filter((function(e){return e.stream.kh===t})).map((function(t){return{stream:{bitrate:t.stream.bitrate},disallowedBy:t.H4}}))),a.push(e))})),a}function n(t,e){var i;i=void 0,t=t.filter((function(t){var n;return(n=e(t))&&(i=i||[]).push({stream:t,H4:n}),!n}));for(var n=0;n<t.length;n++)t[n].lower=t[n-1],t[n].SIb=t[n+1];return{LC:t,oAb:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.nAb=e.Ft=e.Gyb=e.oZa=void 0,e.oZa=function(t,e){return i(t,(e=n(t,e)).LC,e.oAb)},e.Gyb=i,e.Ft=n,e.nAb=function(t){if(t.lower&&1080<t.height)return["Prefetch UHD"]}},function(t,e,i){var n,r;function o(t,e){return(t=n.dc.call(this,t)||this).lra=e,t}Object.defineProperty(e,"__esModule",{value:!0}),e.EIa=void 0,n=i(80),r=i(92),g(o,n.dc),o.prototype.set=function(t){n.dc.prototype.set.call(this,r.op(t,0,this.lra))},e.EIa=o},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i,n,r){var o;o=this,this.Ui=t,this.config=i,this.jb=n,this.debug=r,this.J9=[],this.hs=[],this.tta=[],this.hG={},this.EUa=!1,this.MT={},this.qpa=0,this.log=e.ib("PlayTimeTracker"),this.startTime=this.Ui.mediaTime.value,this.X7=this.config().dqb,this.uJ(),this.hG.abrdel=0,this.X7.forEach((function(t){t="abrdel"+t,o.MT[t]=0,o.hG[t]=0}))}function l(){}Object.defineProperty(e,"__esModule",{value:!0}),e.tIa=void 0,n=i(1),t=i(0),r=i(7),o=i(13),a=i(94),i(4),s=i(27),u=i(96),c=i(12),h=i(24),l.prototype.encode=function(t){return{downloadableId:t.Bc,correlationId:t.Fg,bitrate:t.bitrate,vmaf:t.sb,duration:t.duration,metric:t.QW,cdnId:t.wC}},l.prototype.decode=function(t){return{Bc:t.downloadableId,Fg:t.correlationId,bitrate:t.bitrate,sb:t.vmaf,duration:t.duration,QW:t.metric,wC:t.cdnId}},f.prototype.jN=function(){var t;return this.RI(this.Ui.mediaTime.value),t=0,this.hs.forEach((function(e){t+=(e.endTime-e.startTime)/e.rate})),Math.floor(t)},f.prototype.hoa=function(){var t;return this.RI(this.Ui.mediaTime.value),t=0,this.hs.forEach((function(e){t+=e.endTime-e.startTime})),this.debug.assert(t===Math.floor(t),"Value of totalContentPlayTime is not an integer."),Math.floor(t)},f.prototype.uEb=function(){return this.RI(this.Ui.mediaTime.value),{audio:this.vV(this.J9,this.AXa),video:this.vV(this.hs,this.AXa)}},f.prototype.KGb=function(){var t;return t={total:this.jN(),totalContentTime:this.hoa(),audio:this.vV(this.J9,this.U5),video:this.vV(this.hs,this.U5),timedtext:this.vV(this.tta,this.U5)},this.debug.assert(!(!t.audio||!t.video)),t},f.prototype.Tma=function(){var t,e;this.RI(this.Ui.mediaTime.value),t=this.Oma(this.hs,this.GEb);try{e=this.XWa(t)}catch(t){return this.log.warn("Failed to calc average bitrate."),null}return this.hG.abrdel=Math.round(e),this.hG.abrdel},f.prototype.YWa=function(){var t,e;this.RI(this.Ui.mediaTime.value),t=this.Oma(this.hs,this.SHb);try{e=this.XWa(t)}catch(t){return this.log.warn("Failed to calc average vmaf."),null}return Math.round(e)},f.prototype.WWa=function(){var t,e;return t=this,this.EUa||(e=this.jN(),this.X7.forEach((function(i){var n,r,o;0===t.MT["abrdel"+i]&&e>i*c.pl&&(n=0,r=0,o=0,t.hs.some((function(t){if(n+=t.stream.bitrate*(t.endTime-t.startTime),r+=t.endTime-t.startTime,o=t.stream.bitrate,r>i*c.pl)return!0})),n&&(t.MT["abrdel"+i]=Math.round((n-o*(r-i*c.pl))/(i*c.pl))))})),0!==this.MT["abrdel"+this.X7[this.X7.length-1]]&&(this.EUa=!0),h.te(this.MT,(function(e,i){t.hG[e]=0===i?t.hG.abrdel:i}))),this.hG},f.prototype.xqb=function(t){this.qpa+=t},f.prototype.JZa=function(){return!!(this.hs[0]&&this.hs[0].stream&&this.jb.Gg(this.hs[0].stream.sb))},f.prototype.uJ=function(){var t;t=this,this.Ui.jf.addListener((function(e){t.fM=t.URa(t.fM,t.J9,e.newValue)})),this.Ui.oe.addListener((function(e){t.iM=t.URa(t.iM,t.hs,e.newValue)})),this.Ui.playbackRate.addListener((function(e){t.RI(t.Ui.mediaTime.value,e.oldValue)})),this.Ui.ci.addListener(this.pQb.bind(this))},f.prototype.nsa=function(t,e){this.RI(t),this.startTime=e,this.iM=this.fM=void 0,this.hM&&(this.hM.startTime=this.startTime)},f.prototype.pQb=function(t){this.XX(this.hM,this.tta,this.Ui.mediaTime.value),this.hM=t.newValue?{track:t.newValue,startTime:this.Ui.mediaTime.value,endTime:a.tB}:void 0},f.prototype.RI=function(t,e){e=void 0===e?this.Ui.playbackRate.value:e,t&&this.fM&&this.iM&&(t=Math.min(t,this.fM.endTime,this.iM.endTime),this.XX(this.fM,this.J9,t,e),this.fM.startTime=t,this.XX(this.iM,this.hs,t,e),this.iM.startTime=t,this.hM&&(this.XX(this.hM,this.tta,t,e),this.hM.startTime=t),this.startTime=t)},f.prototype.URa=function(t,e,i){if(t&&this.XX(t,e,Math.min(t.endTime,this.Ui.mediaTime.value)),i&&i.stream)return t=i.im,e=i.stream,{qc:i.qc,track:e.track,stream:e,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime}},f.prototype.XX=function(t,e,i,n){n=void 0===n?this.Ui.playbackRate.value:n,t&&i&&i>=t.startTime&&(t={qc:t.qc,track:t.track,stream:t.stream,startTime:t.startTime,endTime:i,rate:n},(i=e[e.length-1])&&i.track===t.track&&i.stream===t.stream&&i.qc===t.qc&&i.endTime===t.startTime&&i.rate===t.rate?i.endTime=t.endTime:e.push(t))},f.prototype.Oma=function(t,e){var i,r;return i=this,r={},t.reduce((function(t,o){var a,s,u;return s=(a=e.bind(i,o)()).key,a=n.__rest(a,["key"]),o=o.endTime-o.startTime,(u=r[s])?u.duration+=o:((u=a).duration=o,t.push(u),r[s]=u),t}),[])},f.prototype.vV=function(t,e){return this.Oma(t,e).map((function(t){return(new l).encode(t)}))},f.prototype.U5=function(t){var e,i,n;return(e=t.stream)?(t=e.Bc,i=e.bitrate,n=e.sb):t=t.track.Bc,{key:t+"$"+i+"$"+n,Bc:t,bitrate:i,sb:n}},f.prototype.AXa=function(t){var e,i,n;return i=this.U5(t),n=null===(e=t.qc)||void 0===e?void 0:e.id,t=t.track.Fg,Object.assign({},i,{key:i.key+"$"+n+"$"+t,wC:n,Fg:t})},f.prototype.GEb=function(t){var e;return{key:(t=null==(e=t.stream)?void 0:e.Bc)+"$"+(e=null==e?void 0:e.bitrate),Bc:null!=t?t:"",QW:e}},f.prototype.SHb=function(t){var e;return{key:(t=null==(e=t.stream)?void 0:e.Bc)+"$"+(e=null==e?void 0:e.sb),Bc:null!=t?t:"",QW:e}},f.prototype.XWa=function(t){var e,i,n;return e=this,i=0,t.forEach((function(t){if(!e.jb.Gg(t.duration)||!e.jb.Gg(t.QW))throw Error("Invalid arguments: missing duration and/or metric in segment.");i+=t.duration})),i?(n=0,t.forEach((function(t){n+=t.QW*t.duration/i})),n):0},i=f,i=n.__decorate([t.R(),n.__param(1,t.l(r.qb)),n.__param(2,t.l(o.Zc)),n.__param(3,t.l(s.bg)),n.__param(4,t.l(u.pv))],i),e.tIa=i},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sIa="PlayTimeTrackerFactorySymbol"},function(t,e,i){var n,o;function a(t,e,i,r,o,a,s,u,c,h,f){this.index=t,this.J=e,this.xa=i,this.bb=r,this.ba=o,this.vk=a,this.Gqa=s,this.Qvb=c,this.b3a=f,this.oc=new n.dc(null),this.xg=new n.dc(null),this.jc=new n.dc(null),this.ci=new n.dc(null),this.cv=new n.dc(void 0),this.We=new n.dc(null),this.jh=new n.dc(null),this.jf=new n.dc(null),this.oe=new n.dc(null),this.qc=[new n.dc(null),new n.dc(null)],this.mediaTime=new n.dc(void 0),this.playbackRate=new n.dc(1),this.Np=new n.dc(null),this.lG=this.kG="notcached",this.G4=this.background=!1,u&&(this.We.set(u.We.value),this.jh.set(u.jh.value)),this.Ll=h(this),this.Dm=this.b3a.fVb(this.ba,this.vk)}Object.defineProperty(e,"__esModule",{value:!0}),e.FIa=void 0,n=i(80),o=i(4),a.prototype.Dd=function(t){this.Dm.Kp(t)},a.prototype.Hz=function(t){var e;e=this,Object.entries(t).forEach((function(t){var i;t=(i=v(t)).next().value,i=i.next().value,e.Dm.Kp(t,o.Nc(i-e.vk.da(o.ja)))}))},a.prototype.c9=function(){this.b3a.xVb(this.ba)},r.Object.defineProperties(a.prototype,{ye:{configurable:!0,enumerable:!0,get:function(){return this.bb.ye}},Laa:{configurable:!0,enumerable:!0,get:function(){return this.bb.Laa}},rm:{configurable:!0,enumerable:!0,get:function(){return this.Rc&&this.Rc.rm}},Ki:{configurable:!0,enumerable:!0,get:function(){var t;return null!==(t=this.Rc&&this.Rc.Ki)&&void 0!==t?t:[]}},ip:{configurable:!0,enumerable:!0,get:function(){var t;return null!==(t=this.Rc&&this.Rc.ip)&&void 0!==t?t:[]}},XA:{configurable:!0,enumerable:!0,get:function(){var t;return null!==(t=this.Rc&&this.Rc.XA)&&void 0!==t?t:[]}},Qh:{configurable:!0,enumerable:!0,get:function(){var t;return null!==(t=this.Rc&&this.Rc.Qh)&&void 0!==t?t:[]}},Ti:{configurable:!0,enumerable:!0,get:function(){return this.Rc&&this.Rc.Ti}},oD:{configurable:!0,enumerable:!0,get:function(){var t;return null!==(t=this.Rc&&this.Rc.oD)&&void 0!==t&&t}},Lu:{configurable:!0,enumerable:!0,get:function(){var t;return null!==(t=this.Rc&&this.Rc.Lu)&&void 0!==t?t:[]}},hi:{configurable:!0,enumerable:!0,get:function(){var t;return null!==(t=this.Rc&&this.Rc.hi)&&void 0!==t?t:[]}},Uy:{configurable:!0,enumerable:!0,get:function(){return this.zfa&&0<this.zfa.da(o.ja)?this.zfa:o.Nc(this.oa?this.oa.$b.duration:0)},set:function(t){this.zfa=t}},Fj:{configurable:!0,enumerable:!0,get:function(){return this.bb.Fj||0}},zka:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.iU?this.iU:void 0===this.mediaTime.value?null:this.Qvb(this.mediaTime.value,this.xa)}},Fg:{configurable:!0,enumerable:!0,get:function(){var t,e;return null===(e=null===(t=this.oa)||void 0===t?void 0:t.$b.S3)||void 0===e?void 0:e.ds}},II:{configurable:!0,enumerable:!0,get:function(){var t,e;return null===(e=null===(t=this.oa)||void 0===t?void 0:t.$b.S3)||void 0===e?void 0:e.II}},pd:{configurable:!0,enumerable:!0,get:function(){return this.Dm.pd}}}),e.FIa=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ILa="TrickPlayParserSymbol"},function(t,e,i){var n,r,o;function a(){}Object.defineProperty(e,"__esModule",{value:!0}),e.HLa=void 0,t=i(1),r=i(165),i=i(0),a.prototype.parse=function(t){var e,i;if(!t)throw Error("invalid array buffer");return e=new Uint8Array(t),i=new r.BQ(e),{header:t=this.LRb(i),images:e=this.MRb(i,e,t)}},a.prototype.LRb=function(t){var e,i;if(t.Mna()<this.$Vb())throw Error("array buffer too short");if(n.oFa.forEach((function(e){if(e!=t.DA())throw Error("BIF has invalid magic.")})),(e=t.HO())>n.VERSION)throw Error("BIF version in unsupported");if(0==(i=t.HO()))throw Error("BIF has no frames.");return{version:e,eQb:i,X$a:t.HO(),F7a:t.Mh(n.AJa)}},a.prototype.MRb=function(t,e,i){for(var n,r,o=[],a=0;a<=i.eQb;a++)n={timestamp:t.HO(),offset:t.HO()},null!=r&&o.push(e.subarray(r.offset,n.offset)),r=n;return o},a.prototype.$Vb=function(){return n.oFa.length+4+4+4+n.AJa},(o=n=a).oFa=[137,66,73,70,13,10,26,10],o.VERSION=0,o.AJa=44,o=n=t.__decorate([i.R()],o),e.HLa=o},function(t,e,i){var n,o,a;function s(t,e,i){this.config=t,this.j=e,this.Wf=i,this.EX=void 0,this.z9=!1,this.iqa=0,this.log=this.Wf.ib()}Object.defineProperty(e,"__esModule",{value:!0}),e.jKa=void 0,n=i(15),o=i(4),a=i(92),s.prototype.rGb=function(t,e,i,r,a){var s,u,c,h;return i=void 0===i?this.j.xa:i,r=void 0!==r&&r,s=e===n.Ce.lK,u=this.Ktb(s?t:this.Qub(t,i),r,i),r=this.j.Ka,s?(t=u,u=r.Dt(u)):t=r.cM(i,u),e===n.Ce.Fx&&(this.j.lRa=u),a=this.Li(t,e,a),c=(s=s||a)?t:u,this.j.Bu&&(h=this.config().$H,this.j.AZa(c,h)||e!==n.Ce.CB||(c=this.j.Bu.da(o.ja)-h-1e3,s?(t=c,u=r.Dt(c)):(t=r.cM(i,c),u=c))),{U8:c,ek:u,KSb:t,Li:a}},s.prototype.Ktb=function(t,e,i){return t=this.$Kb()||e?Math.round(t):this.j.Ka.jja(t,i),this.j.bb.Fl&&(t=this.HDb(t)),this.config().Ava&&(t+=this.config().Ava),t},s.prototype.Li=function(t,e,i){return!(this.config().mAb||e===n.Ce.Fx||e===n.Ce.UR||e===n.Ce.c0||!i||t<i.start.da(o.ja)||t>=i.end.da(o.ja))&&((null==(e=this.j.Ka)?void 0:e.$h)&&e.Li(t)||!1)},s.prototype.$Kb=function(){return!!this.j.bb.Fl||("boolean"==typeof this.j.bb.NX?this.j.bb.NX:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?this.config().NX&&this.config().fTb:this.config().NX)},s.prototype.Qub=function(t,e){var i;return i=(e=this.j.um(e)).Uy,e=(e.WNb||i).da(o.ja)-this.config().W2b,a.op(t,0,e)},s.prototype.HDb=function(t){var e,i,n;return e=this.j.qV(),Object.values(e).find((function(e){var i;return i=e.Ob,i=t<(null!=i?i:1/0),e.Jb<=t&&i}))?t:(n=t,Object.entries(e).forEach((function(e){var r;(e=v(e)).next(),0<(r=(e=e.next().value.Jb)-t)&&(void 0===i||r<i)&&(i=r,n=e)})),n)},r.Object.defineProperties(s.prototype,{Ipa:{configurable:!0,enumerable:!0,get:function(){return this.z9||!!this.EX}}}),e.jKa=s},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,y,g;function m(t,e,i,n,o,u){var h;h=this,this.j=t,this.gk=e,this.MZ=i,this.ce=n,this.SY=o,this.sn=u,this.LTa={},this.update=function(){var t;h.cp.selectionStart==h.cp.selectionEnd&&(t="",h.xV().forEach((function(e){t=t?t+"\n":"",Object.entries(e).forEach((function(e){var i;e=(i=v(e)).next().value,i=i.next().value,t+=e+": "+i+"\n"}))})),h.cp.style.fontSize=s.op(c.Kx(h.element.clientHeight/60),8,18)+"px",h.cp.value=t)},this.FQb=function(){var t,e;h.j.Xf&&(e=h.j.Xf.XG())&&(h.Aka=e-(null!==(t=h.eab)&&void 0!==t?t:0),h.eab=e,h.lO())},this.lO=function(){h.MZ.Ol(h.update)},this.onkeydown=function(t){t.ctrlKey&&t.altKey&&t.shiftKey&&(t.keyCode==l.tv.ceb||t.keyCode==l.tv.Q)&&h.toggle()},this.G5a=[t.mediaTime,t.qc[r.Tb.Ta.Wb],t.qc[r.Tb.Ta.Mb],t.jf,t.oe,t.jh,t.We,t.ci,t.state,t.zr,t.yb,t.volume,t.muted],this.element=this.ce.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{class:"player-info"}),this.cp=this.ce.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"}),this.element.appendChild(this.cp),this.controls=this.ce.createElement("div","position:absolute;top:2px;right:2px"),this.element.appendChild(this.controls),(e=this.ce.createElement("button",void 0,"X")).addEventListener("click",(function(){return h.Qr()}),!1),this.controls.appendChild(e),a.ve.addListener(a.YC,this.onkeydown),t.addEventListener(f.ca.kg,(function(){a.ve.removeListener(a.YC,h.onkeydown),h.Qr()}))}Object.defineProperty(i,"__esModule",{value:!0}),i.BIa=void 0,r=n(47),o=n(58),a=n(60),s=n(92),u=n(301),c=n(11),h=n(19),f=n(15),l=n(133),d=n(4),(e={})[f.Rb.dK]="Not Loaded",e[f.Rb.LOADING]="Loading",e[f.Rb.re]="Normal",e[f.Rb.CLOSING]="Closing",e[f.Rb.CLOSED]="Closed",p=e,(e={})[f.yf.re]="Normal",e[f.yf.xd]="Pre-buffering",e[f.yf.aKa]="Network stalled",b=e,(e={})[f.cb.Pf]="Waiting for decoder",e[f.cb.Kc]="Playing",e[f.cb.hh]="Paused",e[f.cb.Wq]="Media ended",y=e,g=[f.ca.n8],m.prototype.zXb=function(t){this.LTa.DFR=t},m.prototype.show=function(){var e;e=this,this.visible||(this.kKb=t.setInterval(this.FQb,1e3),document.body.appendChild(this.element),this.G5a.forEach((function(t){t.addListener(e.lO)})),g.forEach((function(t){e.j.addEventListener(t,e.lO)})),this.visible=!0,this.sn.fZ().then((function(t){e.Aoa=t,e.lO()}))),this.update()},m.prototype.Qr=function(){var t;t=this,this.visible&&(clearInterval(this.kKb),this.eab=this.Aka=void 0,document.body.removeChild(this.element),this.G5a.forEach((function(e){e.removeListener(t.lO)})),g.forEach((function(e){t.j.removeEventListener(e,t.lO)})),this.MZ.Ol(),this.visible=!1)},m.prototype.toggle=function(){this.visible?this.Qr():this.show()},m.prototype.xV=function(){var t,e,i,a,f,l,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U,B,F,q,K,H,V,G,J,z,Y,W;_=[],w=this.gk(),_.push({Version:"6.0033.414.911",Esn:w?w.Vk:"UNKNOWN",PBCID:this.j.Fg,UserAgent:c.xB});try{E={MovieId:this.j.J,TrackingId:this.j.Fj,Xid:this.j.ba+" ("+o.ho.map((function(t){return t.ba})).join(", ")+")",Position:s.cj(this.j.mediaTime.value),Duration:s.cj(this.j.Uy.da(d.ja)),PlayerDuration:s.cj(this.j.Bu.da(d.ja)),Volume:c.bj(100*this.j.volume.value)+"%"+(this.j.muted.value?" (Muted)":"")},(this.j.bb.Fl||this.j.bb.w7)&&(E["Segment Position"]=s.cj(this.j.TC()),E.Segment=this.j.Gna()),_.push(E)}catch(t){}try{_.push({"Player state":p[this.j.state.value],"Buffering state":b[this.j.zr.value],"Rendering state":y[this.j.yb.value]})}catch(t){}try{k=this.j.gya()+this.j.oia(),S=null==(O=this.j.jf.value)?void 0:O.stream,A=null==(T=this.j.oe.value)?void 0:T.stream,P=null!==(t=null==S?void 0:S.bitrate)&&void 0!==t?t:"?",j=A?A.bitrate+" ("+A.width+"x"+A.height+")":"?",I=null!==(e=null==A?void 0:A.sb)&&void 0!==e?e:"?",x=null!==(a=null===(i=this.j.We.value)||void 0===i?void 0:i.sb)&&void 0!==a?a:"?",M=null!==(l=null===(f=this.j.jh.value)||void 0===f?void 0:f.bitrate)&&void 0!==l?l:"?",R=null!==(m=null===(g=this.j.We.value)||void 0===g?void 0:g.bitrate)&&void 0!==m?m:"?",N=this.j.qc[r.Tb.Ta.Mb].value,C=this.j.qc[r.Tb.Ta.Wb].value,_.push({"Playing bitrate (a/v)":P+" / "+j,"Playing/Buffering vmaf":I+"/"+x,"Buffering bitrate (a/v)":M+" / "+R,"Buffer size in Bytes (a/v)":this.j.oia()+" / "+this.j.gya(),"Buffer size in Bytes":""+k,"Buffer size in Seconds (a/v)":s.cj(this.j.DT())+" / "+s.cj(this.j.QZ()),"Current CDN (a/v)":(C?C.name+", Id: "+C.id:"?")+" / "+(N?N.name+", Id: "+N.id:"?")})}catch(t){}try{this.j.jf.value&&this.j.oe.value&&(D=(L=this.j.jf.value.stream).track,U=this.j.oe.value.stream,B=this.j.ci.value,F=this.SY.l4(this.j.xg.value?this.j.xg.value.streams:[]),q=this.SY.i4(D.streams),K=U.kh,H=/hevc/.test(K)?"hevc":/vp9/.test(K)?"vp9":/h264hpl/.test(K)?"avchigh":/av1/.test(K)?"av1":"avc",/hdr/.test(K)&&(H+=", hdr"),/dv/.test(K)&&(H+=", dv"),/prk/.test(K)&&(H+=", prk"),V=L.kh,G=/xheaac/.test(V)?"xhe-aac":/heaac/.test(V)?"he-aac":/ddplus/.test(V)?"ddplus":"unknown",/atmos/.test(V)&&(G+=", atmos"),_.push({"Audio Track":D.Wd+", Id: "+D.trackId+", Channels: "+D.channels+", Codec: "+q+" ("+G+")","Video Track":"Codec: "+F+" ("+H+")","Timed Text Track":B?B.Wd+", Profile: "+B.profile+", Id: "+B.trackId:"none"}))}catch(t){}try{J=this.j.Xf,z=this.j.We.value?this.j.We.value.framerate:0,Y=n(543).T1a,_.push({Framerate:z.toFixed(3),"Current Dropped Frames":h.Ba(this.Aka)?this.Aka:"","Total Frames":J.QC(),"Total Dropped Frames":J.XG(),"Total Corrupted Frames":J.sV(),"Total Frame Delay":J.X5(),"Main Thread stall/sec":Y?Y.KFb().join(" "):"DISABLED",VideoDiag:u.Uqa(this.j.s6()),"HDR support":this.Aoa?this.Aoa.result+" ("+this.Aoa.reason+")":"unknown"})}catch(t){}try{_.push({Throughput:this.j.Ra+" kbps"})}catch(t){}W=void 0;try{Object.entries(this.LTa).forEach((function(t){var e;t=(e=v(t)).next().value,e=e.next().value,(W=W||{})[t]=JSON.stringify(e)})),W&&_.push(W)}catch(t){}return _},i.BIa=m},function(t,e,i){var n,r,o,a;function s(t,e,i,n){this.ba=t,this.WVb=e,this.ta=i,this.hg=n,this.pd={}}function u(t,e){this.Wf=t,this.hg=e,this.Gc={},this.ta=t.ib("PlaybackMilestoneStoreImpl")}Object.defineProperty(e,"__esModule",{value:!0}),e.ojb=e.DIa=void 0,t=i(1),n=i(0),r=i(7),o=i(18),a=i(4),u.prototype.fVb=function(t,e){return this.Gc[t]&&this.ta.warn("registerPlayback: xid "+t+" already registered, overriding"),e=(e||this.hg.Yb()).da(a.ja),this.ta.trace("registerPlayback: xid "+t+" at "+e),this.Gc[t]=new s(t,e,this.ta,this.hg),this.Gc[t]},u.prototype.MGb=function(t){return this.Gc[t]||this.ta.warn("getPlaybackMilestones: xid "+t+" is not registered"),this.Gc[t]},u.prototype.xVb=function(t){this.ta.trace("removePlayback: xid "+t),delete this.Gc[t]},i=u,i=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.jd))],i),e.DIa=i,s.prototype.Kp=function(t,e){e=e?e.da(a.ja):this.hg.Yb().da(a.ja)-this.WVb,this.ta.trace("addMilestone: xid "+this.ba+" "+t+" at "+e),this.pd[t]=e},e.ojb=s},function(t,e,i){var n,r,o,a;function s(t){this.Aa=t,this.trace=[]}Object.defineProperty(e,"__esModule",{value:!0}),e.PJa=void 0,t=i(1),n=i(15),r=i(0),o=i(18),a=i(4),s.prototype.wk=function(t){t.cause!==n.Ce.Fx&&(this.trace.unshift({time:this.Aa.Yb(),event:t}),5<this.trace.length&&this.trace.pop())},s.prototype.fZa=function(){var t,e;return t=this,0===this.trace.length?{}:(e=this.trace[0],{timeSinceLastRepositionMs:this.T$a(e.time),lastRepositionCause:this.iXa(e.event.cause),repositionTrace:this.trace.map((function(e){return{timeSince:t.T$a(e.time),cause:t.iXa(e.event.cause),newMediaTime:e.event.U8,oldMediaTime:e.event.Csa,contentPts:e.event.ek,skip:e.event.skip}}))})},s.prototype.T$a=function(t){return this.Aa.Yb().Qa(t).da(a.ja)},s.prototype.iXa=function(t){switch(t){case n.Ce.Fx:return"initial";case n.Ce.CB:return"seek";case n.Ce.lK:return"segment_changed";case n.Ce.UR:return"track_changed";case n.Ce.c0:return"force_rebuffer"}},i=s,i=t.__decorate([r.R(),t.__param(0,r.l(o.jd))],i),e.PJa=i},function(t,e,i){var n,o,a,s,u,c,h,f,l,d,p,b,v,g,m;function _(t,e,i){var r;r=this,this.fb=t,this.j=e,this.debug=i,this.nr=this.$h=this.PB=!1,this.kt=this.hn=void 0,this.Pe=function(){var t,e,i,o,s,u;r.debug.assert(r.pa,"has access to asePlaygraph"),r.debug.assert(r.od,"has access to internalLogger"),r.debug.assert(r.su,"has access to mediaBufferGetLogFields"),r.tf.value!==n.ma.gr&&r.tf.value!==n.ma.dj&&(s=r.yo,u=null===(e=null===(t=r.Qb.get())||void 0===t?void 0:t.Ra)||void 0===e?void 0:e.Ga,t={type:"logdata",target:"startplay",fields:{hasasereport:r.j.wM,hashindsight:!1,buffCompleteReason:s.reason,actualbw:u,initSelReason:null!==(i=s.initSelReason)&&void 0!==i?i:"unknown",bcVBufferLevelMs:s.vBufferLevelMs,bcABufferLevelMs:s.aBufferLevelMs}},c.mia({JVa:t,mk:r.mk,loadTime:r.loadTime}),r.pa.FZ("startplay",a.de.ap),null!==(o=r.Fa)&&void 0!==o&&o.vm?(r.od.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:s},r.su()),r.j.yo=s,r.j.zr.set(h.yf.re),r.xDb||(r.xDb=!0,r.j.Dd("pb")),r.play()):r.od.error("Shim received buffering complete but player has no position (player "+(r.Fa?"":"un")+"defined, state "+r.j.state+")"))},this.JT=function(){var t,e;r.debug.assert(r.od,"has access to internalLogger"),r.hn=void 0,r.j.paused.value&&r.LD&&(r.LD=!1,r.j.paused.set(!1,{hsa:!0})),null===(t=r.j.Xf)||void 0===t||t.svb(),null===(e=r.lX)||void 0===e||e.call(r),r.lX=void 0},this.events=new m,this.Gj=new g.$ea}Object.defineProperty(e,"__esModule",{value:!0}),e.Rya=void 0,n=i(47),o=i(17),a=i(294),s=i(61),u=i(3),c=i(1199),h=i(15),f=i(14),l=i(19),d=i(4),p=i(1200),b=i(92),v=i(80),g=i(511),m=i(114).EventEmitter,_.prototype.K3=function(){},_.prototype.ed=function(){var t;this.nr=!1,this.Qb.lP(null),this.debug.assert(this.yi,"has access to streamingEngine"),this.pa&&this.yi.Qu(this.pa),this.Fa&&this.yi.LO(this.Fa),this.yi.Kua(this.Gj.Cn(this.fb.ha.W)),this.Gj.clear(),null===(t=this.sj)||void 0===t||t.Yp()},_.prototype.kYb=function(t){var e,r,o,a,s,u,c,h,l,d,p,b,v;e=t.config,r=t.ln,o=t.od,a=t.pe,s=t.su,u=t.Oi,c=t.JY,t=t.EI,this.od=o,this.su=s,this.JY=c,this.EI=t,s=this.j.ha,this.debug.assert(s,"has a playback segment"),this.debug.assert(e,"has access to config"),this.debug.assert(a,"has access to utils"),this.debug.assert(u,"has access to getCategoryLog"),this.debug.assert(r,"has access to aseGlobals"),this.debug.assert(r.yi,"has access to streamingEngine"),this.debug.assert(s.oa,"has access to manifest"),this.yi=r.yi,r.Oe.set(i(186)(e),!0,u("ASE")),r.Oe.set({maxNumberTitlesScheduled:null!==(l=null===(h=e.bTb)||void 0===h?void 0:h.maxNumberTitlesScheduled)&&void 0!==l?l:1},!0,o),e.awb&&3e5>s.oa.$b.duration?r.Oe.wX({expandDownloadTime:!1},!0,o):r.Oe.wX({expandDownloadTime:r.Oe.u5a().expandDownloadTime},!0,o),e=s.background||e.$Sb&&"postplay"===s.ye?"historical":r.Oe.u5a().initBitrateSelectorAlgorithm,r.Oe.wX({initBitrateSelectorAlgorithm:e},!0,o),e=null===(v=null===(b=null===(p=null===(d=s.xg)||void 0===d?void 0:d.value)||void 0===p?void 0:p.streams)||void 0===b?void 0:b[0])||void 0===v?void 0:v.kh,r.Oe.wX(f.KSa(!!s.bb.Fl,!!s.bb.w7,e),!0,o),o=a.LH({},f.Yja(s.ye)),this.Oe=r.Oe.Et(o),n.platform.events.emit("networkchange",s.Rc.qXb),this.PB=!0},_.prototype.e7=function(t){var e,i;this.debug.assert(this.yi,"has access to streamingEngine"),e=this.j.um(t.xa),this.debug.assert(e.Rc,"has access to playback parsedManifest"),i=t.flags,this.Qb.reset(),this.Bd=new Set([n.Tb.Ta.Wb,n.Tb.Ta.Mb]),(i.sE||i.GT)&&this.Bd.delete(i.sE?n.Tb.Ta.Wb:n.Tb.Ta.Mb),this.MP=[e.Rc.tzb,e.Rc.Dzb],this.oU(t.xa,t.hw),this.XJb(t),this.pka()},_.prototype.KZ=function(t){var e;null===(e=this.pa)||void 0===e||e.KZ(t)},_.prototype.Osb=function(t){var e,i,r,o;e=this,i=t.loadTime,r=t.mk,this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),this.mk=r,this.loadTime=i,t=this.pa.events,o=this.Fa.events,t.addListener("error",(function(t){"NFErr_MC_StreamingFailure"===t.error&&(e.od.trace("receiving an unrecoverable streaming error: "+JSON.stringify(t)),e.od.trace("StreamingFailure, buffer status:"+JSON.stringify(e.su())),s.Rf((function(){e.j.Xd(u.M.qcb,{na:t.nativeCode,ub:t.errormsg,ik:t.httpCode,O8:t.networkErrorCode})})))})),t.addListener("logdata",(function(t){var n;"string"==typeof t.target&&"object"==typeof t.fields&&(t.fields.aseApiVersion=null===(n=e.pa)||void 0===n?void 0:n.dG,c.mia({JVa:t,mk:r,loadTime:i}))})),t.addListener("bufferingStarted",(function(){e.j.zr.set(h.yf.xd)})),t.addListener("bufferingComplete",(function(t){e.yo=t})),this.j.paused.addListener((function(t){var i;e.debug.assert(e.od,"has access to internalLogger"),null!==(i=t.om)&&void 0!==i&&i.hsa||!e.PB||(t.newValue&&e.tf.value===n.ma.Kc?(e.tf.set(n.ma.hh),e.Cd.emit("paused",{type:"paused",pts:e.Cd.Mc})):t.newValue||e.tf.value!==n.ma.hh||(e.tf.set(n.ma.Kc),e.Cd.emit("playing",{type:"playing",pts:e.Cd.Mc}))),t.newValue||(e.LD=!1),e.od.info("Paused changed",{From:t.oldValue,To:t.newValue,MediaTime:b.cj(e.j.mediaTime.value)})})),this.j.oc.addListener((function(t){var i,n,r,o;e.PB&&(e.debug.assert(e.od,"has access to internalLogger"),t.om&&t.om.dQa?e.od.trace("Not processing already applied track",null===(i=t.newValue)||void 0===i?void 0:i.trackId):(o=t.newValue,e.eaa({pn:o.Nz,toJSON:function(){return o.Ri}})?e.od.trace("ASE accepted the audio track switch",null===(r=t.newValue)||void 0===r?void 0:r.trackId):(e.od.trace("ASE rejected the audio track switch",null===(n=t.newValue)||void 0===n?void 0:n.trackId),t.oldValue&&t.oldValue.Nz!==o.Nz&&e.j.oc.set(t.oldValue,{dQa:!0}))))})),t.addListener("serverSwitch",(function(t){var i;e.j.fireEvent(h.ca.GY,t),"video"===t.mediatype?i=n.Tb.Ta.Mb:"audio"===t.mediatype&&(i=n.Tb.Ta.Wb),l.Xc(i)&&e.JY(t.segmentId,t.server,i)})),t.addListener("streamSelected",(function(t){var i,r,o,a;r=(null===(i=e.pa)||void 0===i?void 0:i.ZC(t.position)).wG.Y,i=[],t.mediaType===n.Tb.Ta.Mb?(o=e.j.IZa(t.streamId),a=e.j.We,i=e.j.fH()):t.mediaType===n.Tb.Ta.Wb&&(o=e.j.xZa(t.streamId),a=e.j.jh,i=e.j.rEb()),o&&a?a.set(o,{nG:r,NT:t.bandwidth}):e.od.error("no matching stream for streamSelected event",{streamId:t.streamId,mediaType:t.mediaType,streamList:i,cachedManifest:e.j.lG})})),t.addListener("segmentNormalized",(function(t){var i,n;i=e.j.um(t.segmentId),n=Math.floor(t.viewableEarliestContentEnd.Y),t=d.Nc(Math.floor(t.viewableContentEnd.Y)),n=d.Nc(n),i&&(i.Uy=t,i.WNb=n),e.j.Bu||(e.j.Bu=t)})),o.addListener("segmentPresenting",(function(t){var i;e.debug.assert(e.pa,"has access to asePlaygraph"),e.debug.assert(e.Fa,"has access to asePlayer"),e.debug.assert(e.EI,"has access to segmentPresentingHandler"),i=e.pa.ZC(t.position),e.EI(i.W,!1),e.j.fireEvent(h.ca.DI,{type:"segmentPresenting",position:{segmentId:t.position.xa,offset:t.position.offset},playerTimestamp:t.playerTimestamp,metrics:t.metrics}),e.kt=e.Fa.Ko()})),o.addListener("ptsChanged",(function(){e.Cd.emit("skipped")})),t.addListener("locationSelected",(function(t){e.j.fireEvent(h.ca.Xz,t)})),t.addListener("aseReportEnabled",(function(){e.j.wM=!0})),t.addListener("aseReport",(function(t){e.j.fireEvent(h.ca.FL,t)}))},_.prototype.Ko=function(){var t,e,i,n,r,o,a,s,u;return s=null===(t=this.Fa)||void 0===t?void 0:t.F6(),t=(null!==(e=this.kt)&&void 0!==e?e:s&&this.Fa.Ko())||{},e=t.O,s=t.jg,u=t.xO,t=t.gI,{id:String(null==e?void 0:e.id),Fe:null!==(i=null==s?void 0:s.Y)&&void 0!==i?i:0,fd:null!==(n=null==e?void 0:e.Mg.Y)&&void 0!==n?n:1/0,Lc:null!==(r=null==e?void 0:e.Uk.Y)&&void 0!==r?r:0,me:null!==(o=null==u?void 0:u.Y)&&void 0!==o?o:1/0,zd:null!==(a=null==t?void 0:t.Y)&&void 0!==a?a:0}},_.prototype.M5=function(){return{Fe:0}},_.prototype.f7=function(){var t,e;return this.debug.assert(this.pa,"has access to asePlaygraph"),t={},e=this.pa.tw(),t.vbuflmsec=e.totalvbuflmsecs,t.vbuflbytes=e.vbuflbytes,t.abuflmsec=e.totalabuflmsecs,t.abuflbytes=e.abuflbytes,t},_.prototype.paused=function(){},_.prototype.sta=function(){this.Cd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Cd.Mc})},_.prototype.eaa=function(t){var e,i,r,o;return e=this,this.debug.assert(this.od,"has access to internalLogger"),this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),this.debug.assert(this.j.oa,"has access to playback manifest"),!this.iJ&&(!!this.j.oa.$b.audio_tracks.some((function(e,i){if(e.track_id===t.pn)return o=i,!0}))&&(this.hn=o,null===(i=this.j.Xf)||void 0===i||i.kZb(),null!==(r=this.Fa)&&void 0!==r&&r.TA?this.LD=!1:f.config.WRb&&!this.j.paused.value&&(this.Fa.pause([n.Tb.Ta.Wb]),this.LD=!0,this.j.paused.set(!0,{hsa:!0})),this.debug.kia(this.hn,"has access to valid requestedAudioTrackIndex number"),this.MP[n.Tb.Ta.Wb]=this.hn,(this.pa.bE({us:function(){return e.MP[n.Tb.Ta.Wb]}},{us:function(){return e.MP[n.Tb.Ta.Mb]}})||this.LD)&&this.Fa.resume(this.LD?[n.Tb.Ta.Wb]:void 0),this.Sq(this.JT),!0))},_.prototype.Zn=function(){var t;this.tf.set(n.ma.Of),null===(t=this.pa)||void 0===t||t.FZ("intrplay",a.de.Zn),this.Cd.emit("underflow",{type:"underflow",pts:this.Cd.Mc}),this.Sq(this.Pe)},_.prototype.Lq=function(t,e){this.dB.Lq(t,e)},_.prototype.open=function(){this.nr||(this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),this.nr=this.$h=!0,this.pa.open(),this.debug.assert(this.dx,"invalid start position relative to playgraph"),this.pa.ZD(this.dx),this.tf.set(n.ma.xd),this.Sq(this.Pe),this.pa.nia(this.Fa),this.EMb())},_.prototype.play=function(){this.debug.assert(this.pa,"has access to asePlaygrah"),this.debug.assert(this.Fa,"has access to asePlayer"),0!==this.pa.state&&(this.Fa.resume(this.LD?[n.Tb.Ta.Wb]:void 0),this.tf.set(n.ma.Kc),this.Cd.emit("playing",{type:"playing",pts:this.Cd.Mc}))},_.prototype.stop=function(){var t;this.tf.set(n.ma.gr),null===(t=this.Fa)||void 0===t||t.pause(),this.events.emit("stop"),this.Cd.emit("paused",{type:"paused",pts:this.Cd.Mc})},_.prototype.flush=function(){this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.yi,"has access to streamingEngine"),this.nr&&this.tf.value!==n.ma.dj&&this.tf.value!==n.ma.gr&&this.stop(),this.pa.FZ("endplay",a.de.$p),this.pa.Df(),this.yi.Kh.save(),this.yi.In.save()},_.prototype.Dt=function(t){var e;return this.debug.assert(this.pa,"has access to asePlaygraph"),e=n.T.Eb(t),(e=this.pa.js(e,{C9a:!0,B9a:!0}))?this.pa.Ca.qa[e.xa].Jb+Number(e.offset.Y.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: "+t)},_.prototype.cM=function(t,e){return this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.od,"has access to internalLogger"),this.pa.Ca.qa[t]||(t=this.dV(e)),this.debug.p3(t,"has access to segmentId"),t={xa:t,offset:n.T.Eb(e-this.pa.Ca.qa[t].Jb)},(t=this.pa.OV(t))?t.Y:e},_.prototype.jja=function(t,e){var i,n,r;return this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),e&&this.pa.Ca.qa[e]||(e=null!==(i=this.dV(t))&&void 0!==i?i:null===(n=this.Fa)||void 0===n?void 0:n.nj.xa),null===(r=this.pa.yn(e,t))||void 0===r?void 0:r.fd},_.prototype.gz=function(t){var e;e=void 0===e||e,this.$h?Number.isFinite(t)&&(this.debug.assert(this.Fa,"has access to asePlayer"),e?this.Fa.LY(t):this.Fa.Uva(t)):this.fail("Must call open prior to drmReady")},_.prototype.D6=function(){var t;return!(null===(t=this.Fa)||void 0===t||!t.vm)&&this.Fa.Oo(this.pa.Ca.qa[this.Fa.nj.xa].W)},_.prototype.Li=function(t){return!!this.Fa&&this.Fa.Li(n.T.Eb(t))},_.prototype.ss=function(t,e){var i;return this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),e&&this.pa.Ca.qa[e]||(e=null!==(i=this.dV(t))&&void 0!==i?i:this.Fa.nj.xa),this.debug.p3(e,"has access to segmentId"),this.debug.assert(this.pa.Ca.qa[e],"segment exists in playgraph map"),t={xa:e,offset:n.T.Eb(t-this.pa.Ca.qa[e].Jb)},this.pa.ZD(t),this.Fa.resume(),this.tf.set(n.ma.xd),this.Sq(this.Pe),t=this.pa.rva(t),this.debug.assert(t,"Valid position must be provided for seek"),t.offset.Y},_.prototype.addEventListener=function(t,e){return this.events.addListener(t,e),this},_.prototype.removeEventListener=function(t,e){return this.events.removeListener(t,e),this},_.prototype.QP=function(t,e){var i;i={},this.pa.Ai((i[t]=e,i))},_.prototype.Cr=function(t,e){var i,r;return this.debug.assert(this.od,"has access to internalLogger"),this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Fa,"has access to asePlayer"),i=this.Ko().id,r=this.pa.bN(i,t),e?r.zbb?void 0!==r.cO?r.cO===t:(this.pa.wi(i,t,!1,e),!0):(this.od.warn("chooseNextSegment, seamless transition, invalid destination: "+t+" for current segment: "+i),!1):void 0===r.cO&&(r.NL&&(this.Fa.reset(),this.pa.wi(i,t,!1,e),this.Fa.resume(),this.tf.set(n.ma.xd),this.Sq(this.Pe)),!!r.NL)},_.prototype.wi=function(t,e,i,n){this.debug.assert(this.pa,"has access to asePlaygraph"),this.pa.wi(t,e,i,n)},_.prototype.Vn=function(){var t;return this.debug.assert(this.od,"has access to internalLogger"),t=this.Cd.Mc,this.Cd.emit("skipped",{type:"skipped",pts:t}),new n.pF(Promise.resolve()).iva},_.prototype.dV=function(t){var e,i,n,r,o,a,s,u,c;for(r in this.debug.assert(this.pa,"has acccess to asePlaygraph"),this.debug.assert(this.od,"has acccess to internalLogger"),i=[],n=1/0,(e=this.pa.Ca).qa)a=(o=e.qa[r]).Jb,o=o.Ob,s=a<=t,u=t<Number(null!=o?o:1/0),s&&u?i.push(r):(a=Math.min(Math.abs(t-a),Math.abs(t-o)))<n&&(n=a,c=r);return t=i[0]||c,this.debug.p3(t,"has access to locatedSegmentId"),t},_.prototype.EMb=function(){var t,e;t=this,this.debug.assert(this.j.Vb,"has acccess to mediaElement"),e=this.j.Vb.X,this.debug.assert(e,"has acccess to videoElement"),e.addEventListener("play",(function(){t.tf.value===n.ma.hh&&(t.tf.set(n.ma.Kc),t.Cd.emit("playing",{type:"playing",pts:t.Cd.Mc}))})),e.addEventListener("pause",(function(){t.tf.value===n.ma.Kc&&(t.tf.set(n.ma.hh),t.Cd.emit("paused",{type:"paused",pts:t.Cd.Mc}))}))},_.prototype.fail=function(t){var e;null===(e=this.pa)||void 0===e||e.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:t})},_.prototype.Sq=function(t){var e,i,r,o,a,s,u,c;e=this,t!==this.JT&&this.iJ?this.lX=t:(c=!0===(null===(i=this.Fa)||void 0===i?void 0:i.jA.value),i=(null===(r=this.pa)||void 0===r?void 0:r.Cf.value)===n.Jc.ej,null===(o=this.Fa)||void 0===o||o.jA.removeListener(this.M2a),null===(a=this.pa)||void 0===a||a.Cf.removeListener(this.wRa),c&&i?t():(this.M2a=function(){return e.Sq(t)},this.wRa=function(){return e.Sq(t)},null===(s=this.Fa)||void 0===s||s.jA.addListener(this.M2a),null===(u=this.pa)||void 0===u||u.Cf.addListener(this.wRa)))},_.prototype.PWa=function(t){var e,i,n;return e=this,n=this.j.um(t),Promise.resolve(null!==(i=n.oa)&&void 0!==i?i:this.j.pUb(n).then((function(){return e.j.lTb(n),n.oa}))).then((function(t){return{oa:t=t.$b,ii:t.woa&&!t.UV,config:e.Oe,Bd:[].concat(y(e.Bd))}}))},_.prototype.oU=function(t,e){var i,n,r;i=this,this.debug.assert(this.yi,"has access to streamingEngine"),n=this.fb.ue(t).W,this.Gj.has(n)||(this.Gj.store(n,{mja:function(){},equals:function(t){return!(t.W!==n||e.ba!==t.ba&&t.ba&&e.ba)},get hv(){return r||(r=i.PWa(t)),r},set hv(t){r=t},events:new o.EventEmitter,ba:e.ba,W:n,Ot:!1,p$a:!1}),this.Oe.jz&&this.yi.aE(this.Gj.Cn(n),{ba:e.ba,ds:e.ds,HC:e.iz}))},_.prototype.lx=function(t){var e;return this.debug.assert(this.yi,"has access to streamingEngine"),e=this.fb.ue(t).W,this.Gj.has(e)?((e=this.Gj.Cn(e)).hv=this.PWa(t),this.yi.lx(e)):Promise.resolve()},_.prototype.bN=function(t){var e;return this.debug.assert(this.Fa,"has access to asePlayer"),this.debug.assert(this.pa,"has access to asePlaygraph"),this.pa.bN(null===(e=this.Fa.Ko().O)||void 0===e?void 0:e.id,t)},_.prototype.XJb=function(t){var e,i,r;e=this,i=t.hw,r=t.xa,this.debug.assert(this.yi,"has access to streamingEngine"),this.debug.assert(this.od,"has access to internalLogger"),t=this.j.um(r),r=(t=this.fb.k6(t)).qa[r],this.debug.assert(r,"segment exists"),this.dx=p.JV(r.W,t,this.j.Z,r.Jb),i=Object.create(this.Oe,{iz:{value:i.iz}}),this.tf=new v.dc(n.ma.zh),this.pa=this.yi.aG(t,this.Oe.M5a,i,this.Gj),this.dB=new n.rF(this.od),i=this.pa.CC(this.dB),t=this.pa.BC(),this.pa.M$(t,i),this.pa.bE({us:function(){return e.MP[n.Tb.Ta.Wb]}},{us:function(){return e.MP[n.Tb.Ta.Mb]}}),this.LD=!1},_.prototype.pka=function(){var t,e;t=this,this.debug.assert(this.yi,"has access to streamingEngine"),e=Object.create(this.Oe,{Bd:{value:[].concat(y(this.Bd))},CV:{value:function(){return t.h6()}}}),this.Cd=Object.create(new o.EventEmitter,{Mc:{get:function(){return t.debug.kia(t.j.mediaTime.value,"has access to mediaTime.value"),n.T.Eb(t.j.mediaTime.value)}},playbackRate:{get:function(){return Math.max(t.j.playbackRate.value,.01)}},BV:{value:function(){return t.debug.assert(t.j.Vb,"has access to mediaElement"),t.j.Vb}}}),this.Fa=this.yi.JPa(this.Cd,e)},_.prototype.h6=function(){return this.sj||(this.sj=new n.platform.MediaSource(this.Cd),this.sj.pc||(this.sj.pc=n.platform.MediaSource.pc)),this.sj},r.Object.defineProperties(_.prototype,{iJ:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.hn}},Qb:{configurable:!0,enumerable:!0,get:function(){return this.debug.assert(this.yi,"has access to streamingEngine"),this.yi.Qb}}}),e.Rya=_},function(t,e,i){var n;Object.defineProperty(e,"__esModule",{value:!0}),e.mia=void 0,n=i(19),e.mia=function(t){var e,i,r,o;e=t.mk,i=t.loadTime,t=t.JVa,r=n.Ba(i)?i:0,o=e[t.target]||{},e[t.target]!==o&&(e[t.target]=o),Object.entries(t.fields).forEach((function(t){var e,i,n,a;t=(e=v(t)).next().value,"object"!=typeof(e=e.next().value)||null===e?o[t]=e:"count"===(i=e.type)?(void 0===o[t]&&(o[t]=0),++o[t]):void 0!==e.value?"array"===i?(i=o[t],n=e.adjust,a=e.value,i||(i=o[t]=[]),n&&0<n.length&&n.forEach((function(t){a[t]-=r||0})),i.push(a)):o[t]="sum"===i?(o[t]||0)+e.value:e.value:o[t]=e}))}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.JV=void 0,n=i(47),r=i(21),e.JV=function(t,e,i,o){return e.qa[e.Yd].Jb===o?(t=n.gka(e,t,n.T.Eb(i)),r.hb(t,"has valid start position relative to playgraph"),t):{xa:e.Yd,offset:n.T.Gb}}},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,r,a,h,f,l,d,p){var b;b=this,this.x0b=t,this.j=e,this.id=i,this.height=r,this.width=a,this.oSb=h,this.pSb=f,this.size=l,this.du=d,this.urls=p,this.type=n.Ei.vxa,this.retry=!0,this.state=s.wp.J0,this.Ri={},this.r3={},this.XTb=function(t){if(t.$)try{b.data=b.x0b.parse(t.content),b.state=s.wp.ME,b.log.trace("TrickPlay parsed",{Images:b.data.images.length},b.Ri),b.j.fireEvent(u.ca.DZ)}catch(t){b.state=s.wp.XGa,b.log.error("TrickPlay parse failed.",t)}else b.state=s.wp.J0,b.log.error("TrickPlay download failed.",c.Ts(t),b.Ri)},this.log=o.Ih(e,"TrickPlay")}Object.defineProperty(e,"__esModule",{value:!0}),e.DLa=void 0,n=i(90),r=i(14),o=i(8),a=i(74),s=i(520),u=i(15),c=i(3),h.prototype.DFb=function(t){if(this.data&&(this.du&&(t+=this.du),0<=(t=Math.floor(t/this.data.header.X$a))&&t<this.data.images.length))return{image:this.data.images[t],time:t*this.data.header.X$a,height:this.height,width:this.width,pixelAspectHeight:this.oSb,pixelAspectWidth:this.pSb}},h.prototype.o6=function(){switch(this.state){case s.wp.ME:return"downloaded";case s.wp.LOADING:return"loading";case s.wp.kR:return"downloadfailed";case s.wp.XGa:return"parsefailed";default:return"notstarted"}},h.prototype.download=function(){var t;(t=this.KHb())?(this.state=s.wp.LOADING,this.IAb(t)):this.retry=!1},h.prototype.getState=function(){return this.state},h.prototype.KHb=function(){var t,e,i;if(t=this,e=Object.keys(this.urls).find((function(e){return(t.r3[t.urls[e]]||0)<=r.config.t0b})))return(i=this.urls[e])in this.r3?this.r3[i]++:this.r3[i]=1,{url:i,wC:e}},h.prototype.IAb=function(t){this.log.trace("Downloading",t.url,this.Ri),t={responseType:a.YV,qc:this.Xma(t.wC),url:t.url,track:this},this.j.O6.download(t,this.XTb)},h.prototype.Xma=function(t){return this.j.hi.find((function(e){return e&&e.id===t}))},e.DLa=h},function(t,e,i){var n;function r(t,e,i,n){this.cla=t,this.debug=e,this.Aa=i,this.j=n,this.u9=[],this.I8={},this.ela={},this.lma=!1,this.B$a=1,this.mza=7.8125}Object.defineProperty(e,"__esModule",{value:!0}),e.qBa=void 0,n=i(4),i(15),i(19),i(74),r.prototype.register=function(t,e){this.debug.assert(!(0<=this.u9.indexOf(t)),"panel already registered"),this.I8[t]=e,this.u9.push(t)},r.prototype.a4a=function(t){var e;e=this,this.ela[t]=!0,this.lma||(this.lma=!0,setTimeout((function(){return e.rDb()}),0))},r.prototype.mGb=function(t){return(t=this.I8[t])?t():void 0},r.prototype.xV=function(){var t;return(t=this.j.E9)?t.xV():[]},r.prototype.addEventListener=function(t,e){this.cla.addListener(t,e),this.I8[t]&&this.a4a(t)},r.prototype.removeEventListener=function(t,e){this.cla.removeListener(t,e)},r.prototype.getTime=function(){return this.Aa.Yb().da(n.ja)},r.prototype.rDb=function(){this.lma=!1;for(var t,e=this.u9.length;e--;)t=this.u9[e],this.ela[t]&&(this.ela[t]=!1,this.cla.Fc(t+"changed",{getModel:this.I8[t]}))},e.qBa=r},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e){var i;i=this,this.Dm=t,this.Kr=e,this.gab=function(t){var e,n,r,o,a,s,u;e=i.B$a++,n=t.request.EC||"dl",(r=i.lZa(n,"start"))&&(a=(o=t.request.kA).stream.P.Wo,o=v(o.stream.P.Yh).next().value,(a||o)&&(a=null!=a?a:o.O.id,i.S9a.has(a)||(s=i.HYa(a),u=t.ls,i.Dm.mark(r,s,u?n+"-"+u+"-"+e:n),t.Eha((function(){var t,r;t=i.lZa(n,"end"),r=u?n+"-"+u+"-"+e:n,t&&i.Dm.mark(t,s,r)})))))},this.B$a=0,this.S9a=new Set,this.Dva=new Map,e.SU&&this.P2b()}Object.defineProperty(e,"__esModule",{value:!0}),e.sGa=void 0,t=i(1),n=i(0),r=i(62),o=i(71),a=i(4),s=i(74),i=i(40),u={start:{video:r.Ia.uQ,audio:r.Ia.qQ},end:{video:r.Ia.tQ,audio:r.Ia.pQ}},h.prototype.IYa=function(t){var e,i,n,o,s,u,c,h;function f(i){return a.timestamp(e.WPa(a.timestamp(i),t,!0))}return e=this,i=new Set,n=t.pd,o=t.ba,s=void 0===t.M9a?null:t.M9a,u=t.xa,c=this.Dm.lYa(o),(h=u&&this.HYa(u))&&c.push.apply(c,y(this.Dm.lYa(h))),this.Dm.e7a(t.ba),h&&this.Dm.e7a(h),u&&this.S9a.add(u),u=[],"pr_ats"in n&&u.push({name:r.Ia.a1,Es:f(n.pr_ats),ba:o,Fg:"request-pre-manifest"}),"ats"in n&&u.push({name:r.Ia.Z0,Es:f(n.ats),ba:o,Fg:"request-manifest"}),"pr_at"in n&&u.push({name:r.Ia.$0,Es:f(n.pr_at),ba:o,Fg:"request-pre-manifest"}),"at"in n&&u.push({name:r.Ia.Y0,Es:f(n.at),ba:o,Fg:"request-manifest"}),"lg"in n&&u.push({name:r.Ia.X0,Es:f(n.lg),ba:o,Fg:"request-license"}),"lr"in n&&(u.push({name:r.Ia.W0,Es:f(n.lr),ba:o,Fg:"request-license"}),u.push({name:r.Ia.j_,Es:f(n.lr),ba:o,Fg:"apply-license"})),"ld"in n&&u.push({name:r.Ia.i_,Es:f(n.ld),ba:o,Fg:"apply-license"}),"tt_start"in n&&u.push({name:r.Ia.sQ,Es:f(n.tt_start),ba:o,Fg:"request-timed-text"}),"tt_comp"in n&&u.push({name:r.Ia.rQ,Es:f(n.tt_comp),ba:o,Fg:"request-timed-text"}),u.concat(c).map((function(i){return e.P_b(i,t)})).filter((function(t){return t.ts<=(null!=s?s:t.ts)&&("end"===t.step&&i.add(t.eventId),!0)})).filter((function(t){return!("start"===t.step&&!i.has(t.eventId))})).sort((function(t,e){return t.ts-e.ts})).reduce((function(t,e){var i;return i=e.eventName,delete e.eventName,i&&(t[i]=e),t}),{})},h.prototype.Xqb=function(t,e,i){return void 0!==i&&i?t.da(a.ja)+e.vk.da(a.ja):t.da(a.ja)-e.vk.da(a.ja)},h.prototype.WPa=function(t,e,i){if(i=void 0!==i&&i,e.Nm){if(!i)return t.da(a.ja)-e.Nm;t.da(a.ja),e.Nm}return this.Xqb(t,e,i)},h.prototype.P_b=function(t,e){var i,n;return i=t.Fg,n=t.name,{eventName:this.CPb(n,i),eventId:i||n,ts:this.WPa(t.Es,e),comp:this.rV(n),cat:this.NEb(n),step:this.tHb(n)}},h.prototype.CPb=function(t,e){switch(t){case r.Ia.sQ:case r.Ia.rQ:case r.Ia.qQ:case r.Ia.pQ:case r.Ia.uQ:case r.Ia.tQ:return t+"-"+e;default:return t}},h.prototype.rV=function(t){switch(t){case r.Ia.a1:case r.Ia.$0:case r.Ia.Z0:case r.Ia.Y0:return"manifest";case r.Ia.X0:case r.Ia.W0:case r.Ia.yea:case r.Ia.xea:case r.Ia.f0:case r.Ia.e0:case r.Ia.j_:case r.Ia.i_:return"license";case r.Ia.sQ:case r.Ia.rQ:case r.Ia.qQ:case r.Ia.pQ:case r.Ia.uQ:case r.Ia.tQ:case r.Ia.eba:case r.Ia.dba:return"buffering";case r.Ia.Eda:case r.Ia.Dda:return"playback";default:return null}},h.prototype.NEb=function(t){switch(t){case r.Ia.a1:case r.Ia.$0:case r.Ia.Z0:case r.Ia.Y0:return"aws";case r.Ia.X0:case r.Ia.W0:return"mixed";case r.Ia.Eda:case r.Ia.Dda:case r.Ia.yea:case r.Ia.xea:case r.Ia.f0:case r.Ia.e0:case r.Ia.j_:case r.Ia.i_:case r.Ia.eba:case r.Ia.dba:return"device";case r.Ia.sQ:case r.Ia.rQ:case r.Ia.qQ:case r.Ia.pQ:case r.Ia.uQ:case r.Ia.tQ:return"cdn";default:return null}},h.prototype.tHb=function(t){switch(t){case r.Ia.a1:case r.Ia.Eda:case r.Ia.Z0:case r.Ia.X0:case r.Ia.eba:case r.Ia.sQ:case r.Ia.qQ:case r.Ia.uQ:case r.Ia.yea:case r.Ia.f0:case r.Ia.j_:return"start";case r.Ia.$0:case r.Ia.Dda:case r.Ia.Y0:case r.Ia.W0:case r.Ia.xea:case r.Ia.e0:case r.Ia.i_:case r.Ia.dba:case r.Ia.rQ:case r.Ia.pQ:case r.Ia.tQ:return"end";default:return null}},h.prototype.lZa=function(t,e){if(t in u[e])return u[e][t]},h.prototype.T0b=function(){s.hf.removeEventListener(s.L6,this.gab)},h.prototype.P2b=function(){this.T0b(),s.hf.addEventListener(s.L6,this.gab)},h.prototype.HYa=function(t){var e;return this.Dva.has(t)?this.Dva.get(t):(e=Date.now(),this.Dva.set(t,e),e)},c=h,c=t.__decorate([n.R(),t.__param(0,n.l(o.xR)),t.__param(1,n.l(i.Tm))],c),e.sGa=c},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E,k,O,S,T,A,P,j,I,x,M,R,N,C,L,D,U;Object.defineProperty(e,"__esModule",{value:!0}),e.ySa=void 0,t=i(0),n=i(484),r=i(1205),o=i(103),a=i(1206),s=i(495),u=i(1207),c=i(497),h=i(1208),f=i(498),l=i(1209),d=i(285),p=i(1210),b=i(82),v=i(1211),y=i(1212),g=i(41),m=i(3),_=i(1213),w=i(1214),E=i(1215),k=i(53),O=i(1216),S=i(299),T=i(1217),A=i(1218),P=i(1219),j=i(481),I=i(1220),x=i(1221),M=i(1222),R=i(347),N=i(1223),C=i(66),L=i(545),D=i(1224),U=i(1225),e.ySa=new t.rd((function(t){t(k.Wm).to(O.xHa),t(n.MHa).to(r.LHa),t(S.Mda).to(T.sHa),t(j.uHa).to(I.tHa),t(A.ijb).to(P.QHa),t(o.Pda).to(a.NHa),t(L.OHa).wf((function(t){return function(){var e;return(e=t.$a.get(C.Xs))&&e.wbb?t.$a.resolve(U.hIa):t.$a.resolve(D.PHa)}})),t(s.rHa).to(u.qHa),t(c.eIa).to(h.dIa),t(f.GHa).to(l.FHa),t(d.Oda).to(p.HHa),t(b.JKa).to(v.IKa),t(b.NKa).to(y.MKa),t(b.xEa).to(_.wEa),t(b.EKa).to(w.DKa),t(b.jCa).to(E.iCa),t(M.jjb).to(x.RHa),t(R.EHa).to(N.DHa),t(b.mca).wf((function(t){return function(e){switch(e){case b.mp.start:return t.$a.get(b.JKa);case b.mp.stop:return t.$a.get(b.NKa);case b.mp.pW:return t.$a.get(b.xEa);case b.mp.splice:return t.$a.get(b.EKa);case b.mp.AM:return t.$a.get(b.jCa)}throw new g.qd(m.M.xib,void 0,void 0,void 0,void 0,"The event key was invalid - "+e)}}))}))},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.ihb,1,o.fj.G1a,o.fj.G1a)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.LHa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(t,e){var i;return i=this,this.send(t,"/"+this.name,e).then((function(t){return t.result})).catch((function(t){throw i.Bn(t)}))},u.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with logblobs"))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.LHa=s},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;function p(t,e,i,n,s){return(t=a.Di.call(this,t,r.M.sR,3,o.fj.oa,o.fj.oa)||this).platform=e,t.Zqa=i,t.iMb=n,t.uNb=s,t}Object.defineProperty(e,"__esModule",{value:!0}),e.NHa=void 0,t=i(1),n=i(103),r=i(3),o=i(68),i(187),a=i(75),s=i(53),u=i(34),c=i(40),h=i(157),f=i(285),l=i(0),i=i(545),g(p,a.Di),p.prototype.og=function(t,e){var i,r;return i=this,this.x2=e.Tt===n.Vm.eF?"prefetch/manifest":o.fj.oa,r=e.Tt===n.Vm.g1?c.wv.kJa:c.wv.MR,this.uNb().transform(e,r).then((function(o){var a,s;return a=(o=v(o)).next().value,(s=o.next().value).kw&&(i.x2=e.Tt===n.Vm.eF?"prefetch/licensedManifest":"licensedManifest"),i.send(t,s.zl,a,void 0,void 0,r).then((function(t){var r;return r=(t=i.Zqa.create(t.result)).$b.eB.map((function(t){return t.Hg})).filter(Boolean),s.kw&&(0<r.length?(r=i.iMb.mab(r),s.kw.CPa(r),t.kw=s.kw,t.i0a=e.Tt===n.Vm.eF,t.h0a=!0):s.kw.close()),t}))})).catch((function(t){throw i.Bn(t)}))},p.prototype.gq=function(){return Promise.reject(Error("Links are not supported with manifest command"))},d=p,d=t.__decorate([l.R(),t.__param(0,l.l(s.Wm)),t.__param(1,l.l(u.Hk)),t.__param(2,l.l(h.tR)),t.__param(3,l.l(f.Oda)),t.__param(4,l.l(i.OHa))],d),e.NHa=d},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.XJ,3,o.fj.Hg,o.fj.Hg)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.qHa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(){return Promise.reject(Error("Links are required with acquire command"))},u.prototype.gq=function(t,e,i){var n;return n=this,e=e.zV(i.p1a).href,this.x2="ldl"===i.p1a?"prefetch/license":o.fj.Hg,this.send(t,e,i.inputs,"drmSessionId").then((function(t){return t=t.result,n.tub(t),t})).catch((function(t){throw n.Bn(t)}))},u.prototype.tub=function(t){t.forEach((function(t){if(!t.licenseResponseBase64)throw Error("Received empty licenseResponseBase64")}))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.qHa=s},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.tea,3,o.fj.Hg,"release/license")||this}Object.defineProperty(e,"__esModule",{value:!0}),e.dIa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(t,e){var i;return i=this,this.send(t,"/bundle",e).then((function(t){return t.result})).catch((function(t){throw i.Bn(t)}))},u.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with release"))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.dIa=s},function(t,e,i){var n,r,o;function a(t){this.za=t}Object.defineProperty(e,"__esModule",{value:!0}),e.FHa=void 0,t=i(1),n=i(0),r=i(38),o=i(4),a.prototype.m0b=function(t){var e;return e=this.za.ff.da(o.io),{inputs:t.dk.map((function(i){return{drmSessionId:i.sessionId,clientTime:e,challengeBase64:i.dataBase64,xid:t.ba.toString(),mdxControllerEsn:t.MW}})),p1a:"standard"===t.Uf.toLowerCase()?"license":"ldl"}},a.prototype.p0b=function(t){var e,i;return e=this,i=[],t.we.map((function(n){return i.push(n.id),{url:e.ltb(n.BH,n.zW),echo:"drmSessionId",params:{drmSessionId:n.id,xid:t.ba.toString()}}}))},a.prototype.ltb=function(t,e){return"/releaseLicense?drmLicenseContextId="+t+(e?"&licenseId="+e:"")},i=a,i=t.__decorate([n.R(),t.__param(0,n.l(r.Uh))],i),e.FHa=i},function(t,e,i){var n,r,o;function a(t,e){this.ce=t,this.Fy=e}Object.defineProperty(e,"__esModule",{value:!0}),e.HHa=void 0,t=i(1),n=i(0),r=i(29),i=i(36),a.prototype.mab=function(t){var e,i;return e=this,i=t.map((function(t){return t.links.releaseLicense.href})).map((function(t){return e.ce.zX(t.substring(t.indexOf("?")+1))})),{$:!0,we:t.map((function(t,e){return{id:t.drmSessionId,BH:i[e].drmlicensecontextid,zW:i[e].licenseid}})),qj:t.map((function(t){return{data:e.Fy.decode(t.licenseResponseBase64),sessionId:t.drmSessionId}}))}},o=a,o=t.__decorate([n.R(),t.__param(0,n.l(r.cg)),t.__param(1,n.l(i.Ci))],o),e.HHa=o},function(t,e,i){var n,r,o,a,s;function u(t){return o.Vq.call(this,t,r.M.Tjb,a.mp.start,3)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.IKa=void 0,t=i(1),n=i(0),r=i(3),o=i(162),a=i(82),i=i(53),g(u,o.Vq),s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.IKa=s},function(t,e,i){var n,r,o,a,s;function u(t){return o.Vq.call(this,t,r.M.bKa,a.mp.stop,3)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.MKa=void 0,t=i(1),n=i(0),r=i(3),o=i(162),a=i(82),i=i(53),g(u,o.Vq),s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.MKa=s},function(t,e,i){var n,r,o,a,s;function u(t){return o.Vq.call(this,t,r.M.Pca,a.mp.pW,1)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.wEa=void 0,t=i(1),n=i(0),r=i(3),o=i(162),a=i(82),i=i(53),g(u,o.Vq),s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.wEa=s},function(t,e,i){var n,r,o,a,s;function u(t){return o.Vq.call(this,t,r.M.$Ja,a.mp.splice,1)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.DKa=void 0,t=i(1),n=i(0),r=i(3),o=i(162),a=i(82),i=i(53),g(u,o.Vq),s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.DKa=s},function(t,e,i){var n,r,o,a,s;function u(t){return o.Vq.call(this,t,r.M.wfb,a.mp.AM,3)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.iCa=void 0,t=i(1),n=i(0),r=i(3),o=i(162),a=i(82),i=i(53),g(u,o.Vq),u.prototype.G3=function(t){return Object.assign(Object.assign({},o.Vq.prototype.G3.call(this,t)),{action:t.action})},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.iCa=s},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e,i,n,r,o,a,s,u){this.Ch=t,this.hf=e,this.Yg=i,this.tAb=n,this.Gz=r,this.G1b=o,this.Hka=a,this.QVb=s,this.FG=u}Object.defineProperty(e,"__esModule",{value:!0}),e.xHa=void 0,t=i(1),n=i(0),r=i(123),o=i(66),a=i(518),s=i(515),u=i(81),c=i(87),h=i(334),f=i(97),i=i(91),l=t.__decorate([n.R(),t.__param(0,n.l(r.zJ)),t.__param(1,n.l(c.Hx)),t.__param(2,n.l(o.Xs)),t.__param(3,n.l(s.AHa)),t.__param(4,n.l(u.Gx)),t.__param(5,n.l(h.LLa)),t.__param(6,n.l(f.U_)),t.__param(7,n.l(a.gIa)),t.__param(8,n.l(i.zx))],l),e.xHa=l},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.Ocb,2,o.fj.bind,o.fj.bind)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.sHa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(t,e,i){var n;return n=this,this.send(t,"/"+this.name,e,void 0,i).then((function(t){return t.result})).catch((function(t){throw n.Bn(t)}))},u.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with bind"))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.sHa=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ijb="PboPairCommandSymbol"},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.pib,2,o.fj.S4a,o.fj.S4a)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.QHa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(t,e,i){var n;return n=this,this.send(t,"/"+this.name,e,void 0,i).then((function(t){return t.result})).catch((function(t){throw n.Bn(t)}))},u.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with pair"))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.QHa=s},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.Pcb,2,o.fj.bind,o.fj.bind)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.tHa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(t,e,i){var n;return n=this,this.send(t,"/bindDevice",e,void 0,i).then((function(t){return t.result})).catch((function(t){throw n.Bn(t)}))},u.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.tHa=s},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.Iib,1,o.fj.ping,o.fj.ping)||this}Object.defineProperty(e,"__esModule",{value:!0}),e.RHa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(t,e,i){var n;return n=this,this.send(t,"/"+this.name,e,void 0,i).then((function(t){return t.result})).catch((function(t){throw n.Bn(t)}))},u.prototype.gq=function(){return Promise.reject(Error("Links are unsupported with ping"))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.RHa=s},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.jjb="PboPingCommandSymbol"},function(t,e,i){var n,r,o,a,s;function u(t){return a.Di.call(this,t,r.M.Mfb,2,o.fj.oa,"generateScreenshots")||this}Object.defineProperty(e,"__esModule",{value:!0}),e.DHa=void 0,t=i(1),n=i(0),r=i(3),o=i(68),a=i(75),i=i(53),g(u,a.Di),u.prototype.og=function(t,e){var i;return i=this,this.send(t,"/generateScreenshots",e).then((function(t){return t.result})).catch((function(t){throw i.Bn(t)}))},u.prototype.gq=function(t,e,i){var n;return n=this,this.send(t,e.zV("generateScreenshots").href,i).then((function(t){return t.result})).catch((function(t){throw n.Bn(t)}))},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(i.Wm))],s),e.DHa=s},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,y,g;function m(t,e,i,n,r,o,a,s,u,c){this.Yg=t,this.platform=e,this.config=i,this.cub=n,this.CSb=r,this.pk=o,this.ZT=a,this.za=s,this.p8=u,this.sn=c}Object.defineProperty(e,"__esModule",{value:!0}),e.PHa=void 0,t=i(1),n=i(0),r=i(103),o=i(13),a=i(464),s=i(462),u=i(544),c=i(70),h=i(34),f=i(38),l=i(4),d=i(166),p=i(66),b=i(336),y=i(26),g=i(57),m.prototype.transform=function(t,e){var i,n,o,s,u,c,h,f,d,p,b,y,m;return i=this,c=t.bb,h=Object.assign({},c.w3,c.Jm),f={},d=t.W,f[d]={unletterboxed:!!h.preferUnletterboxed},p=this.config(),b=p.S1b?30:25,y=p.hp?this.pk.oFb():Promise.resolve(this.p8.Vt()),m=null===(o=null===(n=p.Dxa)||void 0===n?void 0:n[null==c?void 0:c.ye])||void 0===o?void 0:o.gv,n=null===(u=null===(s=p.Dxa)||void 0===s?void 0:s[null==c?void 0:c.ye])||void 0===u?void 0:u.oC,Promise.all([this.sn.gZa(n),this.sn.iZa(m),this.sn.cN(),this.sn.j6(),this.OEb(t.ba,e),this.sFb(t),y]).then((function(e){var n,o,s,u,p,y;return o=(n=v(e)).next().value,s=n.next().value,u=n.next().value,p=n.next().value,y=n.next().value,e=n.next().value,n=n.next().value,o=(o||[]).concat(s||[]).concat(i.config().dv).concat(["BIF240","BIF320"]).filter(Boolean),p=p?p.DEVICE_SECURITY_LEVEL:void 0,s="postplay"===c.ye||!!h.isUIAutoPlay,u={type:"standard",manifestVersion:i.Yg.pVa?"v2":"v1",viewableId:d,profiles:o,flavor:t.Tt,drmType:n,drmVersion:b,usePsshBox:!0,isBranching:!!t.bb.Fl,useHttpsStreams:!0,supportsUnequalizedDownloadables:i.config().e_b,imageSubtitleHeight:a.Nea.NYa(),uiVersion:i.Yg.YA,uiPlatform:i.Yg.Aaa,clientVersion:i.platform.version,supportsPreReleasePin:i.config().Ir.ZZb,supportsWatermark:i.config().Ir.$Zb,packageId:i.FGb(c),deviceSecurityLevel:p,videoOutputInfo:u,titleSpecificData:f,preferAssistiveAudio:!!h.assistiveAudioPreferred,preferredTextLocale:h.preferredTextLocale,preferredAudioLocale:h.preferredAudioLocale,isUIAutoPlay:s,challenge:y,isNonMember:i.Yg.Gpa,pin:c.v5a,desiredVmaf:i.config().pbb?i.config().lUa:i.config().mUa,desiredSegmentVmaf:i.config().pbb?i.config().lUa:i.config().mUa,requestSegmentVmaf:i.config().VVb,supportsPartialHydration:i.Yg.KG,contentPlaygraph:i.Yg.USa},c.NVa&&(u.extraParams=c.NVa),c.kUa&&(u.desiredDownloadables=c.kUa),c.Xua&&(u.requestReference=c.Xua),y={zl:e?"licensedManifest":"manifest",kw:null==e?void 0:e.ac},e&&(e={drmSessionId:e.ac.vz()||"session",clientTime:i.za.FY.da(l.io),challengeBase64:e.rja},u.challenges={default:[e]},u.profileGroups=[{name:"default",profiles:o}],u.licenseType=t.Uf==g.Xh.eo?"limited":"standard",t.ba&&(u.xid=t.ba.toString())),i.Yg.KG||(u.showAllSubDubTracks=i.config().Ir.IYb||!!h.showAllSubDubTracks,i.Yg.hVa&&t.Tt===r.Vm.g1&&(u.maxSupportedLanguages=2)),t.raa&&(u.originalPlaybackContextId=t.raa.uRb,u.requiredAudioTrackId=t.raa.ZVb,u.requiredTextTrackId=t.raa.bWb),[u,y]}))},m.prototype.FGb=function(t){if(this.config().W9.enabled){if(void 0!==t.Vo)return t.Vo;if(void 0!==this.config().W9.Vo)return Number(this.config().W9.Vo)}},m.prototype.OEb=function(t,e){var i;return i=this,this.cub.jXa(e).then((function(e){var n;return(n=t&&i.CSb.MGb(t))&&n.Kp("cad"),e}))},m.prototype.sFb=function(t){var e;return void 0!==t.Uf&&this.config().hp?(e=t.Uf===g.Xh.rp&&this.Yg.Z3,t.Uf===g.Xh.eo&&this.Yg.iVa||e?this.ZT.Tna(t.Uf):Promise.resolve(void 0)):Promise.resolve(void 0)},i=m,i=t.__decorate([n.R(),t.__param(0,n.l(p.Xs)),t.__param(1,n.l(h.Hk)),t.__param(2,n.l(o.Zc)),t.__param(3,n.l(s.Qza)),t.__param(4,n.l(u.eea)),t.__param(5,n.l(c.Vs)),t.__param(6,n.l(d.C_)),t.__param(7,n.l(f.Uh)),t.__param(8,n.l(b.mda)),t.__param(9,n.l(y.yx))],i),e.PHa=i},function(t,e,i){var n,r,o,a,s,u;function c(t,e,i,n){this.platform=t,this.config=e,this.ZT=i,this.sn=n}Object.defineProperty(e,"__esModule",{value:!0}),e.hIa=void 0,t=i(1),n=i(0),r=i(13),o=i(34),a=i(166),s=i(26),u=i(57),c.prototype.transform=function(t){var e,i;return e=this,i=t.bb,Promise.all([this.sn.gZa(),this.sn.iZa(),this.ZT.Tna(u.Xh.rp)]).then((function(n){var r,o;return n=(r=v(n)).next().value,o=r.next().value,r=r.next().value,[{viewableId:t.W,packageId:i.Vo,assetId:i.lia,challenge:r.rja,audioProfiles:n,textProfiles:e.config().dv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:o,audioLanguages:i.dsb,textLanguages:i.x_b,videoLanguages:i.Fbb?[i.Fbb]:void 0,requestReference:i.Xua},{kw:null==r?void 0:r.ac,zl:"studioManifest"}]}))},i=c,i=t.__decorate([n.R(),t.__param(0,n.l(o.Hk)),t.__param(1,n.l(r.Zc)),t.__param(2,n.l(a.C_)),t.__param(3,n.l(s.yx))],i),e.hIa=i},function(t,e,i){var n,r,o,a,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.transports=void 0,t=i(0),n=i(277),r=i(516),o=i(1227),a=i(1228),s=i(1229),u=i(40),e.transports=new t.rd((function(t){t(n.r1).to(s.yLa).aa(),t(r.zGa).to(o.yGa),t(r.GKa).to(a.FKa),t(r.zLa).wf((function(t){return function(e){var i;return t.$a.get(n.r1).O$(null!==(i=null==e?void 0:e.iPb)&&void 0!==i?i:u.wv.MR)?t.$a.get(r.zGa):t.$a.get(r.GKa)}}))}))},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,n){var r;r=this,this.DD=e,this.receiver=i,this.profile=n,this.log=t.ib("MslTransport"),this.DD().then((function(t){return r.L8=t}))}Object.defineProperty(e,"__esModule",{value:!0}),e.yGa=void 0,t=i(1),n=i(0),r=i(7),o=i(156),a=i(4),s=i(192),i=i(94),u={license:!0},h.prototype.send=function(t,e){var i,n;return i=this,n={u3a:Object.assign({hf:t.hf,log:t.log,profile:this.profile},t.Nsb),method:t.zl,url:t.url.href,body:JSON.stringify(e),timeout:t.timeout.da(a.ja),Y1b:this.profile,Pbc:!u[t.zl],APb:!!u[t.zl],Tk:!0,p$:t.jva,headers:t.headers},this.DD().then((function(r){return r.send(n).then((function(n){return i.receiver.FO({command:t.zl,inputs:e,outputs:n}),n})).catch((function(n){var r;if(!n.error)throw n.Cc=n.na||n.Cc,i.receiver.FO({command:t.zl,inputs:e,outputs:n}),n;throw(r=n.error).XD=n.XD,i.log.error("Error sending MSL request",{mslCode:r.mA,subCode:r.Cc,data:r.data,message:r.message}),i.receiver.FO({command:t.zl,inputs:e,outputs:r}),r}))}))},h.prototype.cka=function(){var t;return{userTokens:null===(t=this.L8)||void 0===t?void 0:t.$W.getUserIdTokenKeys()}},c=h,c=t.__decorate([n.R(),t.__param(0,n.l(r.qb)),t.__param(1,n.l(o.yR)),t.__param(2,n.l(s.U0)),t.__param(3,n.l(i.OR))],c),e.yGa=c},function(t,e,i){var n,r,o,a,s;function u(t,e,i){this.receiver=e,this.hf=i,this.log=t.ib("SslTransport")}Object.defineProperty(e,"__esModule",{value:!0}),e.FKa=void 0,t=i(1),n=i(0),r=i(4),o=i(7),a=i(192),i=i(87),u.prototype.send=function(t,e){var i,n;return i=this,n={url:t.url.href,EC:"nq-"+t.zl,Fta:JSON.stringify(e),d4:t.timeout.da(r.ja),headers:t.headers,withCredentials:!0},new Promise((function(t,e){i.hf.download(n,(function(i){i.$?t(i):e(i)}))})).then((function(n){return n={status:"success",body:n.content},i.receiver.FO({command:t.zl,inputs:e,outputs:n}),n})).catch((function(n){var r;if(!n.error)throw n.Cc=n.na||n.Cc,i.receiver.FO({command:t.zl,inputs:e,outputs:n}),n;throw(r=n.error).XD=n.XD,i.log.error("Error sending SSL request",{subCode:r.Cc,data:r.content,message:r.message}),i.receiver.FO({command:t.zl,inputs:e,outputs:r}),r}))},u.prototype.cka=function(){return{}},s=u,s=t.__decorate([n.R(),t.__param(0,n.l(o.qb)),t.__param(1,n.l(a.U0)),t.__param(2,n.l(i.Hx))],s),e.FKa=s},function(t,e,i){var n,o,a,s,u;function c(t){return o.Ze.call(this,t,"TransportConfigImpl")||this}Object.defineProperty(e,"__esModule",{value:!0}),e.yLa=void 0,t=i(1),n=i(0),o=i(46),a=i(37),s=i(45),u=i(40),g(c,o.Ze),c.prototype.O$=function(t){var e,i;switch(e=this.rJ,i=this.aQa,t){case u.wv.MR:return e;case u.wv.kJa:return e&&!i;case u.wv.gib:return!1}},r.Object.defineProperties(c.prototype,{rJ:{configurable:!0,enumerable:!0,get:function(){return!0}},aQa:{configurable:!0,enumerable:!0,get:function(){return!1}}}),i=c,t.__decorate([s.config(s.dd,"usesMsl")],i.prototype,"rJ",null),t.__decorate([s.config(s.dd,"allowRequestsWithoutMsl")],i.prototype,"aQa",null),i=t.__decorate([n.R(),t.__param(0,n.l(a.Wl))],i),e.yLa=i},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.Gl=void 0,t=i(0),n=i(530),r=i(1231),e.Gl=new t.rd((function(t){t(n.NEa).to(r.MEa)}))},function(t,e,i){var n,r,o,a,s,u,c,h;function f(t,e,i,n,r){this.IG=t,this.Zp=e,this.config=i,this.UN=n,this.Fd=r}Object.defineProperty(e,"__esModule",{value:!0}),e.MEa=void 0,t=i(1),n=i(0),r=i(122),o=i(1232),a=i(1233),s=i(69),u=i(13),c=i(138),i=i(120),f.prototype.create=function(t,e,i){return t?new o.OEa(this.config(),this.Zp,this.Fd,e,i,this.IG,this.UN()):new a.FEa(this.config,this.Fd,e,i)},h=f,h=t.__decorate([n.R(),t.__param(0,n.l(r.X_)),t.__param(1,n.l(s.sv)),t.__param(2,n.l(u.Zc)),t.__param(3,n.l(c.uR)),t.__param(4,n.l(i.sF))],h),e.MEa=h},function(t,e,i){var n,o,a,s,u,c,h,f,l;function d(t,e,i,n,r,a,s){return(n=h.oQ.call(this,n,r)||this).config=t,n.Zp=e,n.Fd=i,n.IG=a,n.wra=s,n.log=o.Ih(n.j,"LicenseBroker"),n.xW=new Set,n.vra=!1,n}Object.defineProperty(e,"__esModule",{value:!0}),e.OEa=void 0,t=i(1),n=i(3),o=i(8),a=i(325),s=i(4),u=i(0),c=i(290),h=i(546),f=i(57),l=i(15),g(d,h.oQ),d.prototype.l9=function(){var t,e;t=this,e=this.j.ha,this.xW.has(e.J)||(this.xW.add(e.J),this.yrb(e).catch((function(){return t.s7a(e)})).then((function(){return t.sQa(e)})).catch((function(i){return t.rQa(e,i)})).catch((function(e){return t.Xd(e.code,e,e.Kd)})))},d.prototype.yrb=function(t){var e;return e=this,Promise.all([this.Fd.fXa(t.J),this.IG()]).then((function(i){var n,r;return i=v(i),n=i.next().value,r=i.next().value,n.H$.then((function(i){var o;return"manifest"===n.source&&(o=e.gYa(t),r.o3a(o,i)),i})).then((function(i){return e.k3(i,t,n.source)}))})).catch((function(t){throw e.log.warn("eme not in cache",t),t}))},d.prototype.k3=function(t,e,i){return this.h6a(t,e),e.kG=i,this.wra.setMediaKeys(t.mediaKeys),t.dia()},d.prototype.KDb=function(t){var e;return e={},t.forEach((function(t){e[a.RUa(t.RW)]=t.time.da(s.ja)})),e},d.prototype.h6a=function(t,e){var i;i=this,e.nf=t,t.EXb((function(t){i.Xd(t.code,t,t.Kd)}))},d.prototype.sQa=function(t){this.log.info("Successfully applied license for xid: "+t.ba+", viewable: "+t.J+", segment: "+t.xa),this.Hz(t),this.vra?this.r5(t.J):this.setMediaKeys(t)},d.prototype.rQa=function(t,e){throw this.Hz(t),e},d.prototype.Hz=function(t){t.nf&&t.Hz(this.KDb(t.nf.pd))},d.prototype.gYa=function(t){var e;return{type:this.b6(!1),initData:t.Lu.map((function(t){return o.Ar(t)})),context:{X:this.Vb.X,Iu:null===(e=t.xg.value)||void 0===e?void 0:e.Iu},Si:{J:t.J,ba:t.ba,Ti:t.Ti,rm:t.rm,lk:t.oa.lk}}},d.prototype.s7a=function(t){var e;return e=this,this.IG().then((function(i){var n;return n=e.gYa(t),e.xW.add(t.J),i.Hg(n,e.wra).then((function(i){return e.h6a(i,t),e.j.fireEvent(l.ca.KN,{J:t.J}),i.dia()}))}))},d.prototype.setMediaKeys=function(t){var e;if(e=this,this.vra)this.log.trace("Media Keys already set");else try{this.Vb.X?this.Vb.X.setMediaKeys(t.nf.mediaKeys).then((function(){e.r5(t.J),e.vra=!0})).catch((function(t){t=e.nZa(t),e.Xd(n.M.fK,t,t.pf)})):this.r5(t.J)}catch(t){this.Xd(n.M.fK,t,void 0)}},d.prototype.FA=function(){var t,e;return t=this,(e=this.j.ha.nf)?this.IG().then((function(i){return i.release(e,t.wra).then((function(e){return t.log.trace("Successfully released the license"),e.close()})).catch((function(e){t.log.error("Unable to release the license",e)}))})):Promise.resolve()},d.prototype.r7a=function(t){var e;return e=this,t=void 0===t?this.j:t,this.s7a(t).then((function(){return e.sQa(t)})).catch((function(i){return e.rQa(t,i)}))},d.prototype.b6=function(t){return this.Zp.iV||t?f.Xh.eo:f.Xh.rp},r.Object.defineProperties(d.prototype,{FD:{configurable:!0,enumerable:!0,get:function(){return"encrypted"}},xm:{configurable:!0,enumerable:!0,get:function(){return this.config.xm}}}),i=d,t.__decorate([c.uW],i.prototype,"FD",null),i=t.__decorate([u.R()],i),e.OEa=i},function(e,i,n){var o,a,s,u,c,h,f,l,d,p,b;function v(t,e,i,n){return(i=d.oQ.call(this,i,n)||this).config=t,i.Fd=e,i.log=a.Ih(i.j,"LegacyLicenseBroker"),i.xm=i.config().xm,i.config().m6a?u.q0a()?i.Kaa=!0:i.log.error("Promise based eme requested but platform does not support it",{browserua:c.xB}):i.Kaa=!1,i}Object.defineProperty(i,"__esModule",{value:!0}),i.FEa=void 0,e=n(1),o=n(3),a=n(8),s=n(155),u=n(50),c=n(11),h=n(0),f=n(290),l=n(34),d=n(546),p=n(57),g(v,d.oQ),v.prototype.kTa=function(t){var e;return e=void 0===e?this.j:e,new this.fs.LJ(t,(function(t){return e.e4.aH(t)}),(function(t){return e.e4.release(t)}),{qf:!1,Yk:!1})},v.prototype.zG=function(t){var e,i,r,u,c,h;return e=this,t=void 0===t?this.j:t,i=n(51).lj,this.fs.LJ||this.Xd(o.M.XJ,o.L.ofb),r=a.Ih(t,"Eme"),u=this.kTa(r),h=(c=a.ka.get(s.TR)).i4(t.oc.value.streams),c=c.l4(t.xg.value.streams),this.fs.NJ(r,(function(e){return t.Dd(e)}),{qf:!1,Yk:!1,za:{getTime:i},Nl:u,UX:!!this.Kaa,X:this.Vb.X,bB:this.config().gVa,onerror:function(t,i,n){return e.Xd(t,i,n)},lsa:function(){},dI:!0,csb:h,u2b:c,T6:this.config().T6})},v.prototype.setMediaKeys=function(t){var e;return e=this,this.Kaa?new Promise((function(i,n){if(!e.Vb.X)return Promise.resolve();e.Vb.X.setMediaKeys(t).then((function(){i()})).catch((function(t){var i;i=e.nZa(t),n({$:!1,code:o.M.fK,Cc:i.na,Kd:i.pf,ub:i.ub,message:"Set media keys is a failure",cause:t})}))})):Promise.resolve()},v.prototype.FVa=function(t){return{code:t.code,subCode:t.Cc,extCode:t.Kd,edgeCode:t.un,message:t.message,errorDetails:t.ub,errorData:t.DM,state:t.state}},v.prototype.Xva=function(e,i,n){var r,o,a;function s(){o.rI().catch((function(t){r.log.error("Unable to set the license",r.FVa(t)),t.cause&&t.cause.ub&&(t.ub=t.ub?t.ub+t.cause.ub:t.cause.ub),r.Xd(t.code,t,t.Kd)}))}return r=this,n=void 0===n?this.j:n,o=n.nf,this.log.info("Setting the license"),a=i?function(){return Promise.resolve()}:function(){return o.Hg(r.b6(!1),e)},(i?function(){return o.k3(r.Vb.X)}:function(){return o.create(r.xm).then((function(){return Promise.resolve()}))})().then((function(){return r.config().S8a?r.setMediaKeys(o.mediaKeys):Promise.resolve()})).then(a).then((function(){return r.config().S8a?Promise.resolve():r.setMediaKeys(o.mediaKeys)})).then((function(){r.log.info("license set"),r.r5(n.J),r.Vb.Sbb.then((function(){r.config().rD&&(i||r.config().iV)&&(r.m7a=t.setTimeout(s,r.config().rD))}))})).catch((function(t){if(r.log.error("Unable to set the license",r.FVa(t)),t.cause&&t.cause.ub&&(t.ub=t.ub?t.ub+t.cause.ub:t.cause.ub),i)throw Error(t&&t.message?t.message:"failed to set license");r.Xd(t.code,t,t.Kd)}))},v.prototype.FA=function(){return Promise.resolve()},v.prototype.l9=function(){var t;function e(){var e;t.j.nf=t.zG(),e=[],t.j.Lu.forEach((function(t){e.push(a.Ar(t))})),t.Xva(e)}t=this,this.xW||(this.xW=!0,this.fs.NJ?this.j.Lu?this.config().RU&&this.config().Sw?this.Fd.fXa(this.j.J).then((function(e){return t.j.nf=e,e.lya.then((function(){var i;return i=[],t.j.Lu.forEach((function(t){i.push(a.Ar(t))})),t.Xva(i,!0).then((function(){var i;e.x9b?t.Xd(o.M.rfb):(i=a.Ih(t.j,"Eme"),e.Yab({log:i,Nn:function(e){return t.j.Dd(e)}},{Nl:t.kTa(i),onerror:function(e,i,n){return t.Xd(e,i,n)}}),t.j.Hz(e.pd||{}),t.j.kG="videopreparer")}))}))})).catch((function(i){t.log.warn("eme not in cache",i),e()})):e():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Xd(o.M.Uib)):this.Xd(o.M.XJ,o.L.pfb))},v.prototype.r7a=function(t){var e;return(t=void 0===t?this.j:t).nf=this.zG(),e=[],t.Lu.forEach((function(t){e.push(a.Ar(t))})),this.Xva(e,!1,t)},v.prototype.b6=function(t){return this.config().iV||t?p.Xh.eo:p.Xh.rp},r.Object.defineProperties(v.prototype,{fs:{configurable:!0,enumerable:!0,get:function(){return a.ka.get(l.yB)}},FD:{configurable:!0,enumerable:!0,get:function(){return this.Kaa?"encrypted":this.Vb.ZBa+"needkey"}}}),b=v,e.__decorate([f.uW],b.prototype,"fs",null),e.__decorate([f.uW],b.prototype,"FD",null),b=e.__decorate([h.R()],b),i.FEa=b},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y;Object.defineProperty(e,"__esModule",{value:!0}),e.Zg=void 0,t=i(0),n=i(303),r=i(1235),o=i(304),a=i(1240),s=i(121),u=i(1242),c=i(1243),h=i(161),f=i(547),l=i(1244),d=i(548),p=i(1246),b=i(81),v=i(549),y=i(1247),e.Zg=new t.rd((function(t){t(n.iea).to(r.WIa).aa(),t(o.kea).to(a.hJa).aa(),t(s.hK).to(u.UIa).aa(),t(h.hF).to(c.SIa).aa(),t(f.bJa).to(l.aJa).aa(),t(d.fJa).wf((function(t){var e;return e=t.$a,function(t){return new p.gJa(t,e.get(b.Gx),e.get(h.hF))}})),t(v.JEa).wf((function(t){var e;return e=t.$a,function(t,i,n){return new y.KEa(t,i,n,e.get(h.hF),e.get(s.hK))}}))}))},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e,i,n,r,o,a){this.Wf=t,this.Rla=e,this.Vi=i,this.rxa=n,this.QSb=r,this.SSb=o,this.RSb=a}Object.defineProperty(e,"__esModule",{value:!0}),e.WIa=void 0,t=i(1),n=i(0),r=i(1236),o=i(7),a=i(161),s=i(337),u=i(547),c=i(345),h=i(548),i=i(304),l.prototype.create=function(t){return new r.XIa(t,this.Wf,this.Rla,this.Vi,this.rxa,this.QSb,this.SSb,this.RSb)},f=l,f=t.__decorate([n.R(),t.__param(0,n.l(o.qb)),t.__param(1,n.l(s.JQ)),t.__param(2,n.l(a.hF)),t.__param(3,n.l(c.wLa)),t.__param(4,n.l(u.bJa)),t.__param(5,n.l(h.fJa)),t.__param(6,n.l(i.kea))],f),e.WIa=f},function(t,e,i){var n,r,o;function a(t,e,i,n,a,s,u,c){this.rxa=a,this.iya=c,this.fV=!1,n.Jaa&&(t=(new o.YIa).o0b(t)),this.fb=u(t),this.Ek=new r.iJa(this.fb),this.Ek.L8a(this.fb.ha.W),this.log=e.ib("PlaygraphManager"),this.Ub=i.create(),this.zu=s.create(this.fb,this.Ek,this.log,this.Ub),this.nYb()}Object.defineProperty(e,"__esModule",{value:!0}),e.XIa=void 0,n=i(15),r=i(1237),o=i(1239),a.prototype.PGb=function(){return this.fb.L9},a.prototype.Q5=function(){return this.fb.ha},a.prototype.tXa=function(){return this.fb.oh},a.prototype.eH=function(){return this.fb.fl},a.prototype.wi=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i-0]=arguments[i];this.fb.wi.apply(this.fb,y(e))},a.prototype.Xub=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i-0]=arguments[i];this.fb.HQa(e)},a.prototype.KZ=function(t){this.fb.fl=t},a.prototype.Ai=function(t,e){this.fb.Ai(t,e)},a.prototype.poa=function(t,e,i,n){var r,o;if(i=void 0===i?{}:i,n=void 0===n||n,t!==this.fb.oh)throw Error("Invalid currentSegmentId");if(-1===Object.keys(null!==(r=this.eH().qa[t].next)&&void 0!==r?r:{}).indexOf(e))throw Error("Invalid nextSegmentId");return this.log.info("Transition initiated: "+t+" -> "+e),this.k9a(),null===(o=i.Jm)||void 0===o||o.isUIAutoPlay,this.zu.qoa(e,i,n)},a.prototype.isReady=function(){return this.zu.isReady()},a.prototype.addListener=function(t,e,i){this.Ub.addListener(t,e,i)},a.prototype.removeListener=function(t,e){this.Ub.removeListener(t,e)},a.prototype.Dn=function(){return this.zu.Dn()},a.prototype.Ab=function(){return this.zu.cH()},a.prototype.uyb=function(t,e,i){var n;return t=void 0===t?this.eH().Yd:t,e=void 0===e?{}:e,n=this.iya.wTa(this),this.tTb(null!=t?t:this.eH().Yd,e,i),n},a.prototype.Tqb=function(t){var e;return this.log.info("Adding segment - movieId: "+t.J+", startPts: "+t.Z+", logicalEnd: "+t.rj),e=Object.assign({},t.Fb,t.Z?{Z:t.Z}:{},t.rj?{rj:t.rj}:{}),this.$9a(t.J,e,t.oa),t=this.zu.QPa(t),this.k9a(),t},a.prototype.transition=function(t){var e;return(e=this.fb.DV(this.fb.oh))?this.poa(this.fb.oh,e,t):(this.log.error("Next segment is not defined"),Promise.reject())},a.prototype.close=function(t){return this.zu.close(t)},a.prototype.tTb=function(t,e,i){var n;void 0===t&&(t=null===(n=this.eH())||void 0===n?void 0:n.Yd),(e||i)&&this.$9a(this.eH().qa[t].W,null!=e?e:{},i),this.zu.jI(t)},a.prototype.$9a=function(t,e,i){i&&this.Ek.AL(t,i),this.Ek.Iqb(t,e)},a.prototype.nYb=function(){var t;t=this,this.fb.NZb((function(){t.Ek.Nw(),t.zu.Nw()})),this.fb.OZb((function(e){t.zu.Ksa(e)})),this.fb.MZb((function(e){t.zu.WH(e)})),this.addListener(n.iF.CY,(function(){return t.$Qb()})),this.addListener(n.Da.T_a,(function(e){return t.NQb(e)}))},a.prototype.k9a=function(){var t;t=this,this.fV||(this.Ab().Mha(n.ca.DI,(function(e){return t.JD(e)})),this.fV=!0)},a.prototype.NQb=function(t){var e;e=this,this.zu.xab(t).catch((function(){return e.Ub.Fc(n.Da.error,t.xZ())}))},a.prototype.$Qb=function(){var t;(t=this.Ab().getError())?this.Ub.Fc(n.Da.OL,t):(this.Ub.Fc(n.Da.u3),this.Ub.Fc(n.Da.gm),this.Ub.Fc(n.Da.ev),this.Ub.Fc(n.Da.Rl),this.Ub.Fc(n.Da.DZ),this.Ub.Fc(n.Da.OL))},a.prototype.JD=function(t){var e,i,n;(e=t.metrics)&&(n=(i=this.Ab()).um(t.position.segmentId),e=i.um(e.srcsegment),this.rxa.YTb(t,n,e,!!i.JYa().Fl))},e.XIa=a},function(t,e,i){var n;function r(t){this.Ca=t,this.WP={},this.Nw()}Object.defineProperty(e,"__esModule",{value:!0}),e.iJa=void 0,n=i(1238),r.prototype.Nw=function(){var t;t=this,Object.values(this.Ca.fl.qa).forEach((function(e){e=e.W,t.WP[e]||t.N_a(e)})),this.Caa()},r.prototype.lN=function(t){return this.WP[t]},r.prototype.GXb=function(t){this.FV(t).state=n.Yx.DCa,this.Caa()},r.prototype.FXb=function(t,e){(t=this.FV(t)).state=n.Yx.Error,t.error=e,t.P7a(!1),this.Caa()},r.prototype.L8a=function(t){(t=this.FV(t)).state=n.Yx.gfb,t.P7a(!0),this.Caa()},r.prototype.Iqb=function(t,e){this.FV(t).Fb=e},r.prototype.AL=function(t,e){this.FV(t).oa=e},r.prototype.FV=function(t){var e;return null!==(e=this.lN(t))&&void 0!==e?e:this.N_a(t)},r.prototype.N_a=function(t){var e,i;return e=void 0,i=new Promise((function(t,i){e=function(e){(e?t:i)()}})),this.WP[t]={state:n.Yx.JGa,zUb:i,P7a:e}},r.prototype.Caa=function(){for(var t,e=this.Ca.oh;(e=this.Ca.DV(e))&&(t=this.oq(e),this.WP[t].state!==n.Yx.Error)&&this.WP[t].state!==n.Yx.DCa&&this.WP[t].state!==n.Yx.JGa;);},r.prototype.oq=function(t){return this.Ca.fl.qa[t].W},e.iJa=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Yx=void 0,(t=e.Yx||(e.Yx={}))[t.JGa=0]="None",t[t.DCa=1]="Fetching",t[t.gfb=2]="Done",t[t.Error=3]="Error"},function(t,e,i){var n;function r(){}Object.defineProperty(e,"__esModule",{value:!0}),e.YIa=void 0,n=i(67),r.prototype.o0b=function(t){var e;return this.fLb(t.qa)?(e=(new n.AB).JI(t.Yd),Object.entries(t.qa).forEach((function(i){var n;i=(n=v(i)).next().value,n=n.next().value,i===t.Yd?e.Nk(i,Object.assign(Object.assign({},n),{next:void 0,Ob:void 0,Qe:void 0})):e.Nk(i,n)})),e.gi()):t},r.prototype.fLb=function(t){return t=Object.values(t).map((function(t){return t.W})),1===new Set(t).size},e.YIa=r},function(t,e,i){var n,r,o,a;function s(t,e){this.Aa=t,this.eMb=e}Object.defineProperty(e,"__esModule",{value:!0}),e.hJa=void 0,t=i(1),n=i(0),r=i(18),o=i(549),s.prototype.create=function(t){return new(i(305).t1)(this.Aa.Yb(),t)},s.prototype.wTa=function(t){return new(i(1241).WLa)(this.Aa.Yb(),t,this.eMb)},a=s,a=t.__decorate([n.R(),t.__param(0,n.l(r.jd)),t.__param(1,n.l(o.JEa))],a),e.hJa=a},function(t,e,i){var n;function r(t,e,i){var r;return(r=n.t1.call(this,t,e)||this).seek=function(t){return r.Ab().seek(t)},r.addEpisode=function(t){return r.sqa.sqb(t)},r.playNextEpisode=function(t){return t=void 0===t?{}:t,r.sqa.zSb(t)},r.watchCredits=function(t){return r.sqa.J2b(t)},r.playSegment=function(t){return r.Ab().D5a(t)},r.queueSegment=function(t){return r.Ab().w6a(t)},r.updateNextSegmentWeights=function(t,e){return r.Ab().Ai(t,e)},r.setNextSegment=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i-0]=arguments[i];e=e.map((function(t){return{xa:t.segmentId,dO:t.nextSegmentId}})),r.Zg.wi.apply(r.Zg,y(e))},r.clearNextSegment=function(t){for(var e=[],i=0;i<arguments.length;++i)e[i-0]=arguments[i];return r.Zg.Xub.apply(r.Zg,y(e))},r.goToNextSegment=function(t,e){return r.Zg.poa(t,e)},r.getPlaying=function(){return r.isPlaying()},r.getPaused=function(){return r.isPaused()},r.getMuted=function(){return r.isMuted()},r.getEnded=function(){return r.isEnded()},r.getTimedTextVisibility=function(){return r.isTimedTextVisible()},r.isTimedTextVisible=function(){return!!r.Ab().LV().visibility},r.setTimedTextVisibility=function(t){return r.setTimedTextVisible(t)},r.setTimedTextSize=function(t){return r.Ab().oP({size:t})},r.setTimedTextBounds=function(t){return r.Ab().oP({bounds:t})},r.setTimedTextMargins=function(t){return r.Ab().oP({margins:t})},r.setTimedTextVisible=function(t){return r.Ab().oP({visibility:t})},r.getCongestionInfo=function(t){t&&t({success:!1,name:null,isCongested:null})},r.sqa=i(t,e,r.log),r}Object.defineProperty(e,"__esModule",{value:!0}),e.WLa=void 0,g(r,(n=i(305)).t1),e.WLa=r},function(t,e,i){var n,r,o;function a(){}Object.defineProperty(e,"__esModule",{value:!0}),e.UIa=void 0,t=i(1),n=i(121),r=i(0),o=i(67),a.prototype.pyb=function(t){for(var e,i,n,r=[],a=0;a<arguments.length;++a)r[a-0]=arguments[a];if(e=this,0===r.length)throw Error("Empty playgraph");return i=(new o.AB).JI(this.Lr(r[0])),r.reverse().forEach((function(t){var r;r=e.Lr(t),i.Nk(r,Object.assign({W:t,Jb:0,Ob:1/0},n?{Qe:n}:{})),n=r})),i.gi()},a.prototype.Lr=function(t,e){return t+":"+(e=void 0===e?n.jF.bda:e)},a.prototype.xrb=function(t,e){var i,n,r,a;return void 0===r&&(r=null!==(i=e.id)&&void 0!==i?i:this.Lr(e.J)),i=this.dYa(t),(a=new o.AB(t)).Nk(r,{W:e.J,Jb:null!==(n=e.Z)&&void 0!==n?n:0,Ob:1/0}),t=t.qa[i],e={},a.Nk(i,Object.assign({},t,{Qe:r,next:Object.assign({},t.next||{},(e[r]={},e))})),a.gi()},a.prototype.dYa=function(t){for(var e=t.Yd,i=e;i=t.qa[i].Qe;)e=i;return e},i=t.__decorate([r.R()],a),e.UIa=i},function(t,e,i){var n,o,a,s,u;function c(t){return o.Ze.call(this,t,"PlaygraphConfigImpl")||this}Object.defineProperty(e,"__esModule",{value:!0}),e.SIa=void 0,t=i(1),n=i(0),o=i(46),a=i(37),s=i(45),u=i(4),g(c,o.Ze),r.Object.defineProperties(c.prototype,{zTb:{configurable:!0,enumerable:!0,get:function(){return 2}},yTb:{configurable:!0,enumerable:!0,get:function(){return u.H8(3)}},bya:{configurable:!0,enumerable:!0,get:function(){return!1}},Jaa:{configurable:!0,enumerable:!0,get:function(){return!1}},vbb:{configurable:!0,enumerable:!0,get:function(){return!1}},yWa:{configurable:!0,enumerable:!0,get:function(){return!1}},N9:{configurable:!0,enumerable:!0,get:function(){return!0}}}),i=c,t.__decorate([s.config(s.ZA,"prepareSegmentsUpfront")],i.prototype,"zTb",null),t.__decorate([s.config(s.$k,"prepareSegmentsDuration")],i.prototype,"yTb",null),t.__decorate([s.config(s.dd,"usePlaygraphForPostPlay")],i.prototype,"bya",null),t.__decorate([s.config(s.dd,"usePlaygraphForSkipSegment")],i.prototype,"Jaa",null),t.__decorate([s.config(s.dd,"useSinglePlayerPlayback")],i.prototype,"vbb",null),t.__decorate([s.config(s.dd,"forcePlaygraphTrace")],i.prototype,"yWa",null),t.__decorate([s.config(s.dd,"postPlayDefaultNextEpisode")],i.prototype,"N9",null),i=t.__decorate([n.R(),t.__param(0,n.l(a.Wl))],i),e.SIa=i},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t,e,i,n,r,o,a){this.Aa=t,this.UWb=i,this.Vi=r,this.Em=a,this.TWb=e.PC(!1,"6.0033.414.911",t.id,o,n)}Object.defineProperty(e,"__esModule",{value:!0}),e.aJa=void 0,t=i(1),n=i(0),r=i(18),o=i(161),a=i(1245),s=i(342),u=i(211),c=i(13),h=i(550),f=i(39),i=i(121),d.prototype.create=function(t,e,i,n){var r,o;return r=this.UWb.gyb(t,this.TWb,e),o=t.cya,i.debug("Using "+(o?"single":"multiple")+" player playback strategy"),o?new a.BKa(this.Vi,t,e,i,r,n,this.Em):new h.WE(t,e,r,n,this.Em)},l=d,l=t.__decorate([n.R(),t.__param(0,n.l(r.jd)),t.__param(1,n.l(s.nKa)),t.__param(2,n.l(u.Eea)),t.__param(3,n.l(c.Zc)),t.__param(4,n.l(o.hF)),t.__param(5,n.l(f.KR)),t.__param(6,n.l(i.hK))],l),e.aJa=l},function(t,e,i){var n,r,o,a,s;function u(t,e,i,n,o,s,u){var c;return(c=a.WE.call(this,e,i,o,s,u)||this).Vi=t,c.ta=n,c.fV=!1,c.Mla=new Map,c.QQb=function(){c.cH().Mha(r.ca.DI,(function(t){c.Ub.Fc(r.iF.CY),c.fb.oh=t.position.segmentId}))},c.RJb(),s.addListener(r.Da.loaded,c.QQb),c}Object.defineProperty(e,"__esModule",{value:!0}),e.BKa=void 0,n=i(67),r=i(15),o=i(3),a=i(550),s=i(121),g(u,a.WE),u.prototype.QPa=function(t){var e,i,r,o,a,u,c,h,f,l,d;return e=this,r=this.fb.fl,o=this.Em.Lr(t.J,"ident"),a=this.Em.Lr(t.J,"main"),u=this.Em.Lr(t.J,"credits"),c=isFinite(t.rj),h=isFinite(t.Z)&&t.J!==r.qa[r.Yd].W,f={},l=new n.AB(r).Nk(a,Object.assign({W:t.J,Jb:h&&t.Z||0,Ob:null!==(i=t.rj)&&void 0!==i?i:1/0},c?{next:(f[u]={},f),Qe:u}:{})),h&&(i={},l.Nk(o,{W:t.J,Jb:0,Ob:t.Z,next:(i[a]={},i),Qe:a})),c&&l.Nk(u,{W:t.J,Jb:t.rj,Ob:1/0}),this.fb.$D(a)||(t=r.qa[this.Em.dYa(r)].W,d=this.Em.Lr(t,s.jF.Zza),[this.Em.Lr(t,s.jF.bda),d].filter((function(t){return e.fb.$D(t)})).forEach((function(t){var i,n,r;i=e.fb.ue(t),n=t===d||e.Vi.N9,r={},l.Nk(t,Object.assign({},i,{next:Object.assign({},i.next,(r[a]={},r))},n?{Qe:a}:{}))}))),this.fb.fl=l.gi(),this.jI(a)},u.prototype.Nw=function(){this.isReady()&&this.cH().Nw()},u.prototype.Ksa=function(){},u.prototype.WH=function(t){this.cH().WH(t)},u.prototype.qoa=function(t,e,i){return e=void 0===e?{}:e,this.ta.debug("goToSegment "+t),this.cH().NV(t,e,i)},u.prototype.jI=function(t){return t===this.SWb?null:(this.SWb=t,this.fV?this.Ek.lN(this.fb.ue(t).W).zUb:(this.fV=!0,a.WE.prototype.jI.call(this,t)))},u.prototype.xab=function(t){return t.errorCode&&this.Mla.has(t.errorCode)?this.Mla.get(t.errorCode)(t):Promise.reject(Error("Error "+t.errorCode+" isn't recoverable"))},u.prototype.RJb=function(){var t;t=this,this.Mla.set(o.M.kHa,(function(){var e,i;return null!==(i=null===(e=a.WE.prototype.jI.call(t,t.fb.oh))||void 0===e?void 0:e.then((function(){var e,i;a.WE.prototype.qoa.call(t,t.fb.oh,null!==(i=null===(e=t.Ek.lN(t.fb.ha.W))||void 0===e?void 0:e.Fb)&&void 0!==i?i:{})})))&&void 0!==i?i:Promise.reject(Error("Couldn't prepare segment for transition"))}))},e.BKa=u},function(t,e,i){var n,o;function a(t,e,i){this.Gz=e,this.Vi=i,this.n2={},this.Rab=[],this.z9a=[],this.G3a=[],this.iia=new WeakMap,this.reset(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.gJa=void 0,n=i(67),o=i(67),a.prototype.reset=function(t){var e;e=1<Object.keys(t.qa).length&&1===new Set(Object.values(t.qa).map((function(t){return t.W}))).size,this.Rpb=this.Vi.vbb||e,this.Y8a(t),this.oh=t.Yd,this.yob=this.Gz.Wy(),this.twa=new Map},a.prototype.k6=function(t){return this.cya?this.fl:(this.iia.has(t)||this.iia.set(t,n.NI(t.J,t.xa)),this.iia.get(t))},a.prototype.Y8a=function(t){this.zob=t,this.n2={},t=Object.keys(t.qa),this.HQa(t),this.XPb()},a.prototype.wi=function(t){for(var e,i=[],n=0;n<arguments.length;++n)i[n-0]=arguments[n];e=this,i.filter((function(t){return e.$D(t.xa)})).filter((function(t){return!(t=t.dO)||e.$D(t)})).forEach((function(t){var i;i=t.xa,e.n2[i]=e.b4a(t.dO),e.OPb(i)}))},a.prototype.HQa=function(t){var e;e=this,t.filter((function(t){return e.$D(t)})).forEach((function(t){e.n2[t]=e.b4a(e.ue(t).Qe)}))},a.prototype.Ai=function(t,e){var i,n,r;(i=this.ue(t))&&i.next&&(n=new o.AB(this.fl),r=Object.keys(i.next).reduce((function(t,n){return t[n]=void 0===e[n]?i.next[n]:Object.assign({},i.next[n],{weight:e[n]}),t}),{}),r=Object.assign({},i,{next:r}),n.Nk(t,r),this.fl=n.gi())},a.prototype.$D=function(t,e){return t in(e=void 0===e?this.fl.qa:e)},a.prototype.DV=function(t){return this.n2[t]},a.prototype.ue=function(t){return this.fl.qa[t]},a.prototype.oHb=function(t){return this.twa.has(t)?this.twa.get(t):(t=this.ue(t),isFinite(t.Ob)?t.Ob:void 0)},a.prototype.o1b=function(t,e){this.twa.set(t,e),this.TPb(t)},a.prototype.NZb=function(t){this.Rab.push(t)},a.prototype.OZb=function(t){this.z9a.push(t)},a.prototype.MZb=function(t){this.G3a.push(t)},a.prototype.XPb=function(){var t;t=this,this.Rab.forEach((function(e){return e(t.fl)}))},a.prototype.OPb=function(t){this.G3a.forEach((function(e){return e(t)}))},a.prototype.TPb=function(t){this.z9a.forEach((function(e){return e(t)}))},a.prototype.b4a=function(t){return null===t?void 0:t},r.Object.defineProperties(a.prototype,{L9:{configurable:!0,enumerable:!0,get:function(){return this.yob}},cya:{configurable:!0,enumerable:!0,get:function(){return this.Rpb}},fl:{configurable:!0,enumerable:!0,get:function(){return this.zob},set:function(t){if(this.oh&&!this.$D(this.oh,t.qa))throw Error("Provided playgraphMap does not contain the current segmentId "+this.oh);this.Y8a(t)}},oh:{configurable:!0,enumerable:!0,get:function(){return this.Jlb},set:function(t){if(!this.$D(t))throw Error("Provided currentSegmentId "+t+" does not exist in the current playgraph");this.Jlb=t}},ha:{configurable:!0,enumerable:!0,get:function(){return this.ue(this.oh)}}}),e.gJa=a},function(t,e,i){var n,r;function o(t,e,i,r,o){this.vk=t,this.Zg=e,this.log=i,this.Vi=r,this.Em=o,this.F9=new n.fea}Object.defineProperty(e,"__esModule",{value:!0}),e.KEa=void 0,n=i(551),r=i(121),o.prototype.sqb=function(t){var e,i,n,r,o,a,s;return this.log.info("Next episode added",t),a=this.F9.ara(t.playbackParams),s=Math.max(0,null!==(n=null!==(i=null!==(e=t.startPts)&&void 0!==e?e:t.nextStartPts)&&void 0!==i?i:a.Z)&&void 0!==n?n:0),e=null!==(o=null!==(r=t.endPts)&&void 0!==r?r:t.currentEndPts)&&void 0!==o?o:a.rj,this.Zg.Tqb({J:t.movieId,Z:s,rj:e,Fb:a,oa:t.manifest,vk:this.vk})},o.prototype.zSb=function(t){var e,i,n,r,o,a;return t=this.F9.ara(t),this.log.info("Playing the next episode",t),n=this.Zg.tXa(),r=this.Zg.eH(),o=r.qa[n],a=Object.keys(null!==(e=o.next)&&void 0!==e?e:{}).find((function(t){return o.W!==r.qa[t].W})),e=!this.Vi.N9||!(null!==(i=t.Jm)&&void 0!==i&&i.isUIAutoPlay),a?this.Zg.poa(n,a,t,e):Promise.reject(Error("Next episode not found"))},o.prototype.J2b=function(t){var e,i;e=this.Em.Lr(t,r.jF.bda),t=this.Em.Lr(t,r.jF.Zza),i=this.Zg.fb,this.Vi.N9&&i.oh!==t&&i.$D(t)&&i.DV(e)!==t&&this.Zg.wi({xa:e,dO:t})},e.KEa=o},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.KQa=void 0,t=i(0),n=i(1249),r=i(31),e.KQa=new t.rd((function(t){t(r.fh).to(n.gza).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b;function v(t,e,i,n,r,o){var a;a=this,this.ll=t,this.config=i,this.Xo=n,this.debug=r,this.Aa=o,this.aab=[],this.pd={},this.log=e.ib("loadAsync"),this.nNb=d.LCa((function(t){a.gVb=!0,a.startTime=a.Aa.Yb().da(f.ja),a.load(a.aab).then((function(){a.endTime=a.Aa.Yb().da(f.ja),t(b.Ye)})).catch((function(e){a.endTime=a.Aa.Yb().da(f.ja),t(e)}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.gza=void 0,t=i(1),n=i(71),r=i(3),o=i(1250),a=i(62),s=i(0),u=i(7),c=i(13),h=i(64),f=i(4),l=i(96),d=i(552),p=i(18),b=i(12),v.prototype.LN=function(t){this.nNb(t)},v.prototype.register=function(t,e){this.debug.assert(!this.gVb),this.aab.push({JMb:this.Qtb(e),errorCode:t})},v.prototype.Dd=function(t){this.debug.assert(void 0===this.pd[t]),this.pd[t]=this.Aa.Yb().da(f.ja)},v.prototype.load=function(t){var e;return e=this,o.f6a(t).then((function(t){return e.ll.mark(a.co.Rj.ycb),t.reduce((function(t,i){return t.then((function(){return e.GMb(i)}))}),Promise.resolve()).then((function(){e.ll.mark(a.co.Rj.wcb)}))}))},v.prototype.GMb=function(t){var e,i;return e=this,i=t.JMb,this.Xo.Jq(f.Nc(this.config().Qrb),i()).catch((function(i){if(e.log.error("Failed to load component "+t.errorCode,i),e.ll.mark(a.co.Rj.xcb),i instanceof h.hr)throw{na:r.L.vcb,errorCode:t.errorCode};throw i.errorCode=i.errorCode||t.errorCode,i.na=i.na||r.L.ucb,i}))},v.prototype.Qtb=function(t){return function(){return new Promise((function(e,i){t((function(t){t.$?e():i(t)}))}))}},i=v,i=t.__decorate([s.R(),t.__param(0,s.l(n.oF)),t.__param(1,s.l(u.qb)),t.__param(2,s.l(c.Zc)),t.__param(3,s.l(h.Rx)),t.__param(4,s.l(l.pv)),t.__param(5,s.l(p.jd))],i),e.gza=i},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.f6a=void 0,n=i(3),r=[n.M.vgb,n.M.UDa,n.M.SDa,n.M.TDa,n.M.YDa,n.M.PDa,n.M.NDa,n.M.Hca,n.M.$Da,n.M.QDa,n.M.sgb,n.M.tgb,n.M.ODa,n.M.rB,n.M.KDa,n.M.MDa,n.M.VDa,n.M.WDa,n.M.XDa,n.M.wgb,n.M.ygb,n.M.Cgb,n.M.Agb,n.M.zgb,n.M.xgb,n.M.Bgb,n.M.Egb,n.M.RDa,n.M.Dgb,n.M.LDa],(a=o||(o={})).eib=function(t){for(var e,i={},r=0;r<t.length;r++){if(i[(e=t[r]).errorCode])return{errorCode:e.errorCode,na:n.L.scb};i[e.errorCode]=1}},a.fib=function(t){for(var e,i=0;i<t.length;i++)if(e=t[i],-1===r.indexOf(e.errorCode))return{errorCode:e.errorCode,na:n.L.tcb}},e.f6a=function(t){return new Promise((function(e,i){var n;(n=o.fib(t))&&i(n),(n=o.eib(t))&&i(n),e(t.sort((function(t,e){return r.indexOf(t.errorCode)-r.indexOf(e.errorCode)})))}))}},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.oa=void 0,t=i(0),n=i(1252),r=i(119),e.oa=new t.rd((function(t){t(r.RE).to(n.FFa).aa()}))},function(t,e,i){var n,r,o,a,s,u,c,h,f;function l(t,e,i,n,r){this.hg=e,this.rNb=n,this.kY=new Map,this.log=t.ib("ManifestFetcher"),this.Eg=i.Eg,this.rtb=r().BBb}Object.defineProperty(e,"__esModule",{value:!0}),e.FFa=void 0,t=i(1),n=i(0),r=i(18),o=i(41),a=i(7),s=i(4),u=i(13),c=i(103),h=i(51),i=i(292),l.prototype.ZM=function(t,e,i){var n;return n=this,e=void 0===e||e,i&&this.Nqb(t.W,i),e&&this.uoa(t.W)?this.L5(t.W).catch((function(){return n.u7a(t,e)})):this.u7a(t,e)},l.prototype.uoa=function(t){return this.Eg.TV(t,"manifest")},l.prototype.aZ=function(t,e){var i;i=this,this.rtb&&this.Eg.setData(t,"manifest",e,(function(){return i.gIb(t)}))},l.prototype.L5=function(t){var e;return e=this,this.Eg.getData(t,"manifest").then((function(i){if(!i)throw Error("Manifest not found");if(i.$b.expiration<=h.W3())throw e.Eg.clearData(t,"manifest"),Error("Manifest has expired");return i}))},l.prototype.gIb=function(t){var e;null===(e=this.kY.get(t))||void 0===e||e.forEach((function(t){return t()})),this.kY.delete(t)},l.prototype.Nqb=function(t,e){this.kY.has(t)||this.kY.set(t,[]),this.kY.get(t).push(e)},l.prototype.u7a=function(t,e){var i,n,r;return i=this,this.log.trace("Requesting a new manifest",t.W),n=this.hg.Yb().da(s.ja),r=this.rNb.og(this.log,t).then((function(e){var r,o;return e.kw&&(r=e.kw,o={H$:Promise.resolve(r),source:"manifest"},delete e.kw,i.Eg.setData(t.W,"ldl",o,(function(){r.close().catch((function(t){i.log.info("Unable to cleanup LDL session.",t)}))}))),t.Tt===c.Vm.eF&&(e.uI=n,e.TO=i.hg.Yb().da(s.ja)),e})).catch((function(n){throw e&&i.aZ(t.W,void 0),i.log.error("Failed to fetch manifest",o.qd.wd(n)),n})),e&&this.aZ(t.W,r),r},f=l,f=t.__decorate([n.R(),t.__param(0,n.l(a.qb)),t.__param(1,n.l(r.jd)),t.__param(2,n.l(i.Mba)),t.__param(3,n.l(c.Pda)),t.__param(4,n.l(u.Zc))],f),e.FFa=f},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),e.profile=e.lQa=void 0,n=i(1254),r=i(123),t=i(0),o=i(94),a=i(13),e.lQa=new t.rd((function(t){t(r.zJ).to(n.Hya).aa()})),e.profile=new t.rd((function(t){t(o.OR).nE((function(t){return(t=t.$a.get(a.Zc)())&&t.nw?"browsertest":"browser"}))}))},function(t,e,i){var n,o,a,s,u,c;function h(t,e,i,n){return(t=s.Ze.call(this,t,void 0===n?"AppInfoConfigImpl":n)||this).config=e,t.xaa=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.Hya=void 0,t=i(1),n=i(0),o=i(40),a=i(45),s=i(46),u=i(37),i=i(277),g(h,s.Ze),h.prototype.yGb=function(t){return this.xVa+(this.xaa.O$(t)?"/msl_v1":"")},h.prototype.JGb=function(t){return this.host+(this.xaa.O$(t)?"/msl":"")+"/playapi"},r.Object.defineProperties(h.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api"}},xVa:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq"}},host:{configurable:!0,enumerable:!0,get:function(){var t;switch(this.config.CM){case o.Cx.akb:t="www.stage";break;case o.Cx.fLa:t="www-qa.test";break;case o.Cx.pEa:t="www-int.test";break;default:t="www"}return"https://"+t+".netflix.com"}},dRa:{configurable:!0,enumerable:!0,get:function(){return"pbo_manifests"}}}),c=h,t.__decorate([a.config(a.string,"apiEndpoint")],c.prototype,"endpoint",null),t.__decorate([a.config(a.string,"nqEndpoint")],c.prototype,"xVa",null),t.__decorate([a.config(a.string,"bindService")],c.prototype,"dRa",null),c=t.__decorate([n.R(),t.__param(0,n.l(u.Wl)),t.__param(1,n.l(o.Tm)),t.__param(2,n.l(i.r1)),t.__param(3,n.l(u.F_)),t.__param(3,n.optional())],c),e.Hya=c},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.$1b=e.hkb=e.fkb=e.ekb=e.gkb=void 0,n=i(30),r=i(11),e.gkb=function(t,e,i){for(i=(i-t.length)/e.length;0<i--;)t+=e;return t},e.ekb=function(t,e,i){return i=n.Se(i)?i:"...",t.length<=e?t:t.substr(0,t.length-(t.length+i.length-e))+i},e.fkb=function(t,e){for(var i,n=1;n<arguments.length;++n);return i=r.slice.call(arguments,1),t.replace(/{(\d+)}/g,(function(t,e){return void 0!==i[e]?i[e]:t}))},e.hkb=function(t){for(var e=t.length,i=new Uint16Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);return i.buffer},e.$1b=function(t){var e;return e=new Uint8Array(t.length),Array.prototype.forEach.call(t,(function(t,i){e[i]=t.charCodeAt(0)})),e}},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0}),e=n(8),i=n(113),n=n(289),e.ka.get(i.ZJ).e$(n.Zca.Qdb,(function(e){var i,n;i=e.level,(!t._cad_global.config||i<=t._cad_global.config.aNb)&&(e=e.maa(),n=t.console,1>=i?n.error(e):2>=i?n.warn(e):n.log(e))}))},function(t,e,i){var n,r,o,a,s;function u(t){var i,n;if(r.lM(t),o.Se(t)&&e.cEa.test(t)&&4===(i=t.split(".")).length){for(var a=0;a<i.length;a++)if(0>(n=o.He(i[a]))||!s.Rz(n,0,255)||1!==i[a].length&&0===i[a].indexOf("0"))return;return t}}function c(t){var e;if(e=0,u(t)===t)return t=t.split("."),e+=o.He(t[0])<<24,e+=o.He(t[1])<<16,(e+=o.He(t[2])<<8)+o.He(t[3])}function h(t){var i;if(r.lM(t),o.Se(t)&&t.match(e.dEa)&&(-1!==(i=t.split(":"))[i.length-1].indexOf(".")&&(t=f(i[i.length-1]),i.pop(),i.push(t[0]),i.push(t[1]),t=i.join(":")),!(2<(t=t.split("::")).length||1===t.length&&8!==i.length)&&8===(t=(i=1<t.length?l(t):i).length))){for(;t--;)if(!s.Rz(parseInt(i[t],16),0,n.qFa))return;return i.join(":")}}function f(t){var e;return t=c(t)>>>0,(e=[]).push((t>>>16&65535).toString(16)),e.push((65535&t).toString(16)),e}function l(t){var e,i,n;if(e=t[0].split(":"),t=t[1].split(":"),1===e.length&&""===e[0]&&(e=[]),1===t.length&&""===t[0]&&(t=[]),1>(i=8-(e.length+t.length)))return[];for(n=0;n<i;n++)e.push("0");for(n=0;n<t.length;n++)e.push(t[n]);return e}function d(t){return-1<<32-t}Object.defineProperty(e,"__esModule",{value:!0}),e.Vgb=e.$gb=e.Xgb=e.Wgb=e.Zgb=e.Ugb=e.Ygb=e.JE=e.dEa=e.cEa=void 0,n=i(12),r=i(21),o=i(30),a=i(11),s=i(19),e.cEa=/^[0-9.]*$/,e.dEa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/,e.JE="0000000000000000",e.Ygb=u,e.Ugb=c,e.Zgb=h,e.Wgb=f,e.Xgb=l,e.$gb=function(t,i,n){var r,o,s,f;if(r=u(t),o=h(t),s=u(i),f=h(i),!r&&!o||!s&&!f||r&&!s||o&&!f)return!1;if(t===r)return n=d(n),(c(t)&n)==(c(i)&n);if(t===o){for(t=t.split(":"),i=i.split(":"),r=a.Kx(n/e.JE.length);r--;)if(t[r]!==i[r])return!1;if(0!==(n%=e.JE.length))for(t=parseInt(t[r],16).toString(2),i=parseInt(i[r],16).toString(2),t=e.JE.substring(0,e.JE.length-t.length)+t,i=e.JE.substring(0,e.JE.length-i.length)+i,r=0;r<n;r++)if(t[r]!==i[r])return!1;return!0}return!1},e.Vgb=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i(14),i(12),t=i(8),i(113),i(289),i(3),i(112),i(4),i=i(31),t.ka.get(i.fh)},function(t,e,i){var n,r,o,a,s,u,c,h,f;Object.defineProperty(e,"__esModule",{value:!0}),n=i(50),r=i(12),o=i(14),a=i(3),s=i(199),u=i(34),c=i(11),h=i(8),t=i(31),(f=h.ka.get(t.fh)).register(a.M.YDa,(function(t){c.Vp&&c.Vp.generateKey&&c.Vp.importKey&&c.Vp.unwrapKey?!h.ka.get(u.yB).Tba&&o.config.JL!=s.sx.fjb&&o.config.JL!=s.sx.shb||c.F0?(f.Dd("wcs"),n.ZH(c.Vp.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then((function(){f.Dd("wcdone"),t(r.Ye)}),(function(e){var i;0<=(e=""+e).indexOf("missing crypto.subtle")?i=a.L.bfa:0<=e.indexOf("timeout waiting for iframe to load")&&(i=a.L.Akb),t({na:i,ub:e})}))):t({na:a.L.zkb}):t({na:a.L.bfa})}))},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),t=i(3),n=i(8),r=i(505),i=i(31),n.ka.get(i.fh).register(t.M.NDa,(function(t){n.ka.get(r.JBa)().then((function(){t({$:!0})})).catch((function(e){n.log.error("error in initializing indexedDb debug tool",e),t({$:!0})}))}))},function(t,e,i){var n,r,o,a;function s(t,e,i,s){var h,f,l;return n.hb(a.Jh(t)&&!a.isArray(t)),s=s||"",h="",(f=t.hasOwnProperty(o.Fk)&&t[o.Fk])&&r.te(f,(function(t,e){h&&(h+=" "),h+=t+'="'+c(e)+'"'})),f=s+"<"+(i=(e?e+":":"")+i)+(h?" "+h:""),(l=t.hasOwnProperty(o.Ms)&&t[o.Ms].trim&&""!==t[o.Ms].trim()&&t[o.Ms])?f+">"+c(l)+"</"+i+">":f+((t=u(t,e,s+"  "))?">\n"+t+"\n"+s+"</"+i+">":"/>")}function u(t,e,i){var o;return n.hb(a.Jh(t)&&!a.isArray(t)),i=i||"",o="",r.te(t,(function(t,n){var u;if("$"!=t[0])for(var h=r.Bw(n),f=0;f<h.length;f++)n=h[f],o&&(o+="\n"),a.Jh(n)?o+=s(n,e,t,i):o+=i+"<"+(u=(e?e+":":"")+t)+">"+c(n)+"</"+u+">"})),o}function c(t){return a.Se(t)?r.XV(t):a.Ba(t)?(n.tU(t,"Convert non-integer numbers to string for xml serialization."),""+t):(null==t||n.hb(!1,"Invalid xml value."),"")}Object.defineProperty(e,"__esModule",{value:!0}),e.Y_b=e.BLb=e.ALb=void 0,n=i(21),r=i(24),o=i(158),a=i(19),e.ALb=s,e.BLb=u,e.Y_b=c},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,v,y,g,m,_,w,E;Object.defineProperty(i,"__esModule",{value:!0}),r=n(295),o=n(193),a=n(14),s=n(12),u=n(3),c=n(21),h=n(8),f=n(71),l=n(62),d=n(79),p=n(24),b=n(11),v=n(19),y=n(50),g=n(112),m=n(4),e=n(31),_=n(476),w={},(E=h.ka.get(e.fh)).register(u.M.QDa,(function(e){var i,n,k,O,S,T,A,P,j,I,x,M,R,N;function C(t){t&&t.userList&&a.config.xYb&&(t.userList=[]),O({esn:o.gk.Vk,esnPrefix:o.gk.Fo,authenticationType:a.config.JL,authenticationKeyNames:a.config.TQa,systemKeyWrapFormat:a.config.k_b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:R,storeState:t,notifyMilestone:E.Dd.bind(E),log:A,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:u.L.Ghb,MSL_READ_TIMEOUT:u.L.Fhb}},{result:function(t){!function(t){var i,n,r;function o(){M&&h.ka.get(d.jB).create().then((function(t){return t.save(I,n,!1)})).catch((function(t){A.error("Error persisting msl store",u.Ts(t))}))}i=h.ka.get(g.nK)(m.Nc(100)),r=S.extend({init:function(t){this.bOa=t},getResponse:function(t,e,i){var n,r;return n=(e=this.bOa).u3a.hf||n,t=v.Tpa(t.body)?h.OZ(t.body):t.body,c.lM(t,"Msl should not be sending empty request"),t={url:e.url,Fta:t,withCredentials:!0,EC:"nq-"+e.method,headers:e.headers},e=this.bOa.timeout,t.d4=e,t.esa=e,r=n.download(t,(function(t){try{if(t.$)i.result({body:t.content});else{if(400!==t.ik||!t.ub)throw p.Zb(new T("HTTP error, SubCode: "+t.na+(t.ik?", HttpCode: "+t.ik:"")),{cadmiumResponse:t});i.result({body:t.ub})}}catch(t){i.error(t)}})),{abort:function(){r.abort()}}}}),j&&t.addEventHandler("shouldpersist",(function(t){n=t.storeState,i.Ol(o)})),p.Zb(w,{W$b:function(){x=!0},send:function(e){function i(){var t,i;return t=e.u3a,i={method:e.method,nonReplayable:e.APb,encrypted:e.Tk,userId:e.Y1b,body:e.body,timeout:2*e.timeout,url:new r(e),allowTokenRefresh:M,sendUserAuthIfRequired:N,shouldSendUserAuthData:a.config.BYb},t.email?(i.email=t.email,i.password=t.password||""):t.$_b?(i.token=t.$_b,i.mechanism=t.Mac,t.Vra&&(i.netflixId=t.Vra,i.secureNetflixId=t.QWb),t.Yta&&(i.profileGuid=t.Yta)):t.Vra?(i.netflixId=t.Vra,i.secureNetflixId=t.QWb):t.fOb?(i.mdxControllerToken=t.fOb,i.mdxPin=t.Kac,i.mdxNonce=t.Jac,i.mdxEncryptedPinB64=t.Iac,i.mdxSignature=t.Lac):x||t.useNetflixUserAuthData?i.useNetflixUserAuthData=!0:t.Yta&&(i.profileGuid=t.Yta),i}return new Promise((function(e,n){var r;r=i(),t.send(r).then((function(t){x&&(x=!1),e({$:!0,body:t.body})})).catch((function(e){var i,r;e.error?(i=e.error.cadmiumResponse&&e.error.cadmiumResponse.na?e.error.cadmiumResponse.na:t.isErrorReauth(e.error)?u.L.yFa:t.isErrorHeader(e.error)?u.L.zhb:u.L.yhb,r=t.getErrorCode(e.error),n(L(i,r,e.error))):(A.error("Unknown MSL error",e),e.Cc=e.subCode,n({na:e.Cc?e.Cc:u.L.Hhb}))}))}))},$W:t}),e(s.Ye),h.ka.get(_.tda).lPb(w)}(t)},timeout:function(){e({na:u.L.zFa})},error:function(t){e(L(u.L.zFa,void 0,t))}})}function L(t,e,i){var n,r,o,a;if(o={na:t,Z4:e},i){if(a=function(t){var e;return t=t||""+i,i.stack&&(t=0<=(e=""+i.stack).indexOf(t)?e:t+e),t},r=i.cadmiumResponse)return(n=r.pf&&r.pf.toString())&&(r.pf=n),r.na=t,r.Z4=e,r.ub=a(i.message),r.error={Cc:t,Kd:n,mA:e,data:i.cause,message:i.message},r;a=a(i.errorMessage),n=p.He(i.internalCode)||p.He(i.error&&i.error.internalCode),r=void 0!==i.iCb?y.tsa(i.iCb):void 0}return a&&(o.ub=a),n&&(o.pf=n),o.error={Cc:t,Kd:n.toString(),mA:e,data:r,message:a},o}if(c.hb(a.config),i=h.ka.get(f.oF),n=l.co.Rj,b.wB&&b.Vp&&b.Vp.unwrapKey){try{k=t.netflix.msl,O=k.createMslClient,S=k.IHttpLocation,T=k.MslIoException}catch(t){return void e({na:u.L.Ahb})}A=h.Oi("Msl"),P=a.config.hPb,j=a.config.jPb,I=a.config.nw?"mslstoretest":"mslstore",k=r.UI.D8a,x=a.config.GJb,M=!k||k.$,R=h.Ar(a.config.nw?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB"),N=!!a.config.Nva,h.ka.get(d.jB).create().then((function(t){P?t.remove(I).then((function(){C()})).catch((function(t){A.error("Unable to delete MSL store",u.Ts(t)),C()})):j?t.load(I).then((function(t){i.mark(n.Chb),C(t.value)})).catch((function(r){r.na==u.L.EB?(i.mark(n.Ehb),C()):(A.error("Error loading msl store",u.Ts(r)),i.mark(n.Dhb),t.remove(I).then((function(){C()})).catch((function(t){e(t)})))})):C()})).catch((function(t){A.error("Error creating app storage while loading msl store",u.Ts(t)),e(t)}))}else e({na:u.L.Bhb})}))},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p,b,y,g,m;Object.defineProperty(i,"__esModule",{value:!0}),r=n(160),o=n(12),a=n(14),s=n(58),u=n(51),e=n(3),c=n(8),h=n(71),f=n(11),l=n(61),d=n(19),p=n(49),b=n(89),n=n(31),(m=c.ka.get(n.fh)).register(e.M.ODa,(function(e){var i;function n(){var e,n,o;e=m.startTime,n={browserua:f.xB,browserhref:f.H0.href,initstart:e,initdelay:m.endTime-e},(e=f.Be.documentMode)&&(n.browserdm=""+e),void 0!==t.nrdp&&t.nrdp.device&&(n.firmware_version=t.nrdp.device.firmwareVersion),d.Sz(a.config.XVa)&&(n.fesn=a.config.XVa),Object.assign(n,r.Pna()),(o=f.xv&&f.xv.timing)&&a.config.YMb.map((function(t){var e;(e=o[t])&&(n["pt_"+t]=e-u.pSa())})),e=i.iYa(),Object.entries(e).forEach((function(t){var e;return t=(e=v(t)).next().value,e=e.next().value,n["m_"+t]=e})),e=g.Gt("startup","info",n,s.zB.rma),y.Hc(e)}g=c.ka.get(b.Ix),y=c.ka.get(p.Um),i=c.ka.get(h.oF),m.LN((function(){y.xb(),l.Rf(n)})),e(o.Ye)}))},function(t,e){Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,y,g;Object.defineProperty(e,"__esModule",{value:!0}),n=i(1),r=i(47),o=i(514),a=i(1266),s=i(300),u=i(14),c=i(12),h=i(190),f=i(554),l=i(51),t=i(3),d=i(8),p=i(284),b=i(11),v=i(296),e=i(31),y=i(58),g=i(134),d.ka.get(e.fh).register(t.M.KDa,(function(t){var e,m,_,w,E,k,O;e=d.ka.get(p.K0).mka(),m=d.ka.get(h.fca).JJ,_=d.ka.get(o.fGa).$q,w={vO:d.oV("ASE"),Crb:d.oV("JS-ASE",void 0,"Platform"),Oi:d.oV,storage:v.storage,xGb:b.HJ,getTime:l.lj,IN:{},$q:_,zv:a.zv,JJ:m,MediaSource:f.iGa,SourceBuffer:s.nda,Io:function(){return[u.config.AT,u.config.BT]},Ft:function(t){y.ho.forEach((function(e){e.b9a(t)}))}},m=new Promise((function(t){v.storage.load("nh",(function(e){w.IN.nh=e.$?e.data:void 0,t()}))})),_=new Promise((function(t){v.storage.load("lh",(function(e){w.IN.lh=e.$?e.data:void 0,t()}))})),E=new Promise((function(t){v.storage.load("gh",(function(e){w.IN.gh=e.$?e.data:void 0,t()}))})),k=new Promise((function(t){v.storage.load("sth",(function(e){w.IN.sth=e.$?e.data:void 0,t()}))})),O=new Promise((function(t){v.storage.load("vb",(function(e){w.IN.vb=e.$?e.data:void 0,t()}))})),Promise.all([m,_,O,k,E]).then((function(){return n.__awaiter(this,void 0,void 0,(function n(){var o,a,s;return S(n,(function(n){var h;if(1==n.SH)return o=i(1268)(w),g.ln.Oe=i(555),g.ln.Oe.declare(r.oj),g.ln.Oe.set(i(186)(u.config),!0,d.oV("ASE")),a=r.V1a(o),g.ln.FQa=new a(g.ln.Oe,e),g.ln.FQa.xb(u.config.AT,u.config.BT,{vO:w.vO},u.config.XO),h=r.bH(o),n.SH=2,{value:h};(s=n.wya).open(g.ln.Oe,e),s.Sva({audio:u.config.AT,video:u.config.BT},{Y:u.config.XO,fa:void 0}),g.ln.yi=s,t(c.Ye),n.SH=0}))}))})).catch((function(t){w.vO.error("Exception loading location history from local storage",t)}))}))},function(t,e,i){var n,r,o,a,s,u,c,h;function f(){var t;t=new r.Gk,this.addEventListener=t.addListener.bind(this),this.removeEventListener=t.removeListener.bind(this),this.emit=t.Fc.bind(this),this.w2=u++,this.Dg=o.Oi("ProbeRequest"),this.wOa=n.vJa,a.hb(void 0!==this.wOa),this.Bh=e.zv.Sc.UNSENT}Object.defineProperty(e,"__esModule",{value:!0}),e.zv=void 0,n=i(1267),r=i(73),o=i(8),a=i(21),s=i(30),u=0,function(){function t(){return JSON.stringify({url:this.vl,id:this.w2,affected:this.z1,readystate:this.Bh})}s.Zb(f.prototype,{gO:function(t){t.affected=this.z1,t.probed={requestId:this.w2,url:this.vl,Md:this.gT,groupId:this.c2},this.emit(e.zv.Le.CR,t)},msa:function(t){this.zpb=t.httpcode,t.affected=this.z1,t.probed={requestId:this.w2,url:this.vl,Md:this.gT,groupId:this.c2},this.emit(e.zv.Le.bF,t)},open:function(t,i,n,r){return!!t&&(this.vl=t,this.z1=i,this.gT=n,this.Bh=e.zv.Sc.OPENED,this.Zmb=r,this.wOa.mV(this),!0)},ed:function(){return!0},mi:function(){return this.w2},toString:t,toJSON:t}),Object.defineProperties(f.prototype,{readyState:{get:function(){return this.Bh},set:function(){}},status:{get:function(){return this.zpb}},url:{get:function(){return this.vl}},T8b:{get:function(){return this.z1}},QMb:{get:function(){return this.Zmb}}})}(),(h=c||(c={})).Le={CR:"pr0",bF:"pr1"},h.Sc={UNSENT:0,OPENED:1,Tx:2,DONE:3,OJ:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]},e.zv=Object.assign(f,c)},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.vJa=void 0,n=i(8),r=i(74),e.vJa=(n.Oi("ProbeDownloader"),{mV:function(t){t={url:t.url,MTb:t},r.hf.PTb(t)}})},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v,g,m;function _(t,e,i){this.Ao=t,this.groups=e,this.prefix=i,t=f(t,e,i),this.info=t.info.bind(t),this.fatal=t.fatal.bind(t),this.error=t.error.bind(t),this.warn=t.warn.bind(t),this.trace=t.trace.bind(t),this.debug=t.debug.bind(t),this.log=t.log.bind(t)}function w(){this.iTa=function(){throw Error("Not implemented")},this.sAb={query:function(){throw Error("Not implemented")},read:function(){throw Error("Not implemented")},create:function(){throw Error("Not implemented")},append:function(){throw Error("Not implemented")}}}function E(){}function k(){return h||"0.0.0.0"}function O(t){t({F4a:0,kZ:0,TZa:0,WVa:0})}n=i(17),w.prototype.set=function(t,e){o[t]=e,a.save(t,e)},w.prototype.get=function(t,e){if(o.hasOwnProperty(t))return o[t];c.trace("key: "+t+", is not available in storage cache and needs to be retrieved asynchronously"),a.load(t,(function(i){i.$?(o[t]=i.data,e&&e(i.data)):o[t]=void 0}))},w.prototype.remove=function(t){a.remove(t)},w.prototype.clear=function(){c.info("WARNING: Calling unimplemented function Storage.clear()")},E.prototype.now=function(){return s()},E.prototype.ea=function(){return u()},E.prototype.Rra=function(t){return t+s()-u()},E.prototype.osa=function(t){return t+u()-s()},_.prototype.zTa=function(t){var e;return e=[],this.prefix&&Array.isArray(this.prefix)?e.push.apply(e,y(this.prefix)):this.prefix&&e.push(this.prefix),e.push(t),new _(this.Ao,this.groups,e)},(m=Promise).prototype.fail=Promise.prototype.catch,l=m,t.exports=function(t){return r=t.vO,f=t.Oi,a=t.storage,o=t.IN,s=t.xGb,u=t.getTime,c=t.Crb,d=t.$q,g=t.zv,p=t.JJ,b=t.SourceBuffer,v=t.MediaSource,h=t.Z$b,{name:"cadmium",Ft:t.Ft,vO:r,storage:new w,Storage:w,time:new E,events:new n.EventEmitter,console:new _("JS-ASE",void 0,"default"),Console:_,options:{},Promise:l,$q:d,JJ:p,Khb:b,MediaSource:v,zv:g,Uo:{name:k},memory:{IFb:O},Io:t.Io}}},function(t,e,i){t.exports={EventEmitter:i(1270),Wh:i(1271)}},function(t){function e(t,e){var i;if(void 0===e||"function"!=typeof e||"string"!=typeof t)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");return void 0===this.Ad?(this.Ad={},this.Ad[t]=[e],!0):void 0===(i=this.Ad[t])?(this.Ad[t]=[e],!0):0>i.indexOf(e)&&(i.push(e),!0)}function i(t,e){return!!(t=this.Ad?this.Ad[t]:void 0)&&(t.forEach((function(t){t(e)})),!0)}t.exports={addEventListener:e,on:e,removeEventListener:function(t,e){var i;if(void 0===e||"function"!=typeof e||"string"!=typeof t)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");return void 0!==this.Ad&&(void 0!==(i=this.Ad[t])&&(!(0>(e=i.indexOf(e)))&&(1===i.length?(delete this.Ad[t],!0):(i.splice(e,1),!0))))},Va:i,emit:i,removeAllListeners:function(t){return this.Ad&&(void 0===t?delete this.Ad:delete this.Ad[t]),this}}},function(t){function e(t,e,i,n){t.trace(":",i,":",n),e(n)}function i(t){this.listeners=[],this.console=t}i.prototype.constructor=i,i.prototype.addEventListener=function(t,i,n,r){if(n=r?n.bind(r):n,r=!1,t){if(this.console&&(n=e.bind(null,this.console,n,i)),"function"==typeof t.addEventListener)r=t.addEventListener(i,n);else{if("function"!=typeof t.addListener)throw Error("Emitter does not have a function to add listeners for '"+i+"'");r=t.addListener(i,n)}this.listeners.push([t,i,n])}return r},i.prototype.on=i.prototype.addEventListener,i.prototype.clear=function(){var t;t=this.listeners.length,this.listeners.forEach((function(t){var e,i;e=t[0],i=t[1],t=t[2],"function"==typeof e.removeEventListener?e.removeEventListener(i,t):"function"==typeof e.removeListener&&e.removeListener(i,t)})),this.listeners=[],this.console&&this.console.trace("removed",t,"listener(s)")},t.exports=i},function(e,i,n){var r,o,a,s,u,c,h,f,l;function d(e,i){var n,d,p,b,v,y,g,m,_,w,E;function k(){var n;n=e.yb.value===f.cb.Kc&&e.state.value===f.Rb.re&&e.J===i.J,E?n||(clearInterval(E),y=E=void 0):n&&(E=t.setInterval(O,1e3))}function O(){var t,i,n,r,o,u;null!==(t=(t=(t=e.oe.value)&&t.stream)&&t.height)&&0<t&&(i=s.lj(),(n=e.Xf.XG())&&(y&&2e3>i-y.time&&t===y.height&&(r=n-y.UAb,(o=d[t])||(d[t]=o=[],t>m&&(v.push(t),a.r_(v))),0<r&&!(w&&w<t)&&(w=t),o.push(r),o.length>g&&o.shift(),(o=b[t])||(b[t]=o={}),u=o[r],o[r]=u?u+1:1),y={time:i,UAb:n,height:t},e.E9&&e.E9.zXb(d)))}if(n=u.Ih(e,"DFF"),d={},p=r.config.YAb,b={},v=[],g=r.config.WAb,m=r.config.XAb,_=o.pFa,r.config.VAb)return i.sla={zEb:function(){var t;return t={},b&&v.forEach((function(e){var i,n,r;(i=b[e])&&(n=0,r=0,l.te(i,(function(t,e){r+=c.He(t),n+=e})),t[e]=r/n)})),t},GV:function(t){var e;return e={},t.forEach((function(t){e[t]={}})),b&&(a.r_(t),v.forEach((function(i){var n,r,o,s;if(n=b[i]){r=0,o=0,l.te(n,(function(t,e){r+=e})),s=Object.keys(n).map(Number),a.r_(s);for(var u=s.length-1,c=s[u],f=t.length-1;0<=f;f--){for(var d=t[f];c>=d&&0<=u;)(c=n[c])&&(o+=c),c=s[--u];e[d][i]=h.bj(o/r*100)}}}))),e}},e.state.addListener(k),e.yb.addListener(k),e.addEventListener(f.ca.CH,k),{IM:"df",Yu:function(t){var e,r,o,a,s;if(t.lower&&t.height>m){t=t.height;t:{if(w){for(var u=v.length,c=0;c<u;c++)if((e=v[c])>=w&&e<_){if(o=r=d[e])e:{o=p.length;for(var h=r.length,f=0;f<o;f++){s=(a=p[f])[0],a=a[1];for(var l=0;l<h;l++)if(r[l]>=a&&0>=--s){o=!0;break e}}o=!1}if(o&&_!=e){n.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:e}),i.Np.set({reason:"droppedFrames",height:e}),u=_=e;break t}}w=void 0}u=_}t=t>=u}else t=!1;return t}}}Object.defineProperty(i,"__esModule",{value:!0}),i.Mhb=void 0,e=n(106),r=n(14),o=n(12),a=n(50),s=n(51),u=n(8),c=n(30),h=n(11),f=n(15),l=n(24),e.UE(d),i.Mhb=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i(106).UE((function(){return{IM:"op",Yu:function(){}}}))},function(e,i,n){var r,o;function a(e,i){var n,a;if(n=o.Ih(e,"MSS"),r.config.FOb)return{IM:"mss",Yu:function(e){var r,o;if(e.lower&&2160<=e.height)t:{for(r=e;r.lower;){if(2160>r.height&&1080<r.height){r=!0;break t}if(1080>=r.height)break;r=r.lower}r=!1}else r=void 0;if(r){if(void 0===a){try{o=t.MSMediaKeys,a=!(!o||!o.isTypeSupportedWithFeatures)&&"probably"===o.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"')}catch(t){n.error("hasUltraHdDisplay exception"),a=!0}a||(n.warn("Restricting resolution due screen size",{MaxHeight:e.height}),i.Np.set({reason:"microsoftScreenSize",height:e.height}))}return!a}}}}Object.defineProperty(i,"__esModule",{value:!0}),i.Nhb=void 0,e=n(106),r=n(14),o=n(8),e.UE(a),i.Nhb=a},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),t=i(106),n=i(1276),r=i(8),o=i(34),a=i(70),t.UE((function(t){var e;if(r.ka.get(o.Hk).jY)return e=r.ka.get(a.Vs),new n.zEa(t,r.Wf,e)}))},function(t,e,i){var n;function o(t,e,i){var r;r=this,this.j=t,this.ta=e,this.yD=i,this.Qpa=!1,this.log=this.ta.ib("KeySystemRobustness",this.j),this.Qpa=!1,this.yD.vw().then((function(e){var i,o;o=null===(i=e.getConfiguration().videoCapabilities)||void 0===i?void 0:i.map((function(t){return t.robustness})),r.Qpa=!(null==o||!o.some((function(t){return t===n.TJ}))),t.c9a("keySystem",e.keySystem),t.c9a("robustness",null==o?void 0:o.toString()),r.log.trace("KeySystemRobustness: "+o)})).catch((function(t){r.log.error("KeySystemRobustness exception",t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.zEa=void 0,n=i(63),o.prototype.Yu=function(t){return t.lower&&t.Qz&&!this.Qpa&&720<t.height},r.Object.defineProperties(o.prototype,{IM:{configurable:!0,enumerable:!0,get:function(){return"KeySystemRobustness"}}}),e.zEa=o},function(t,e,i){var n,r,o;Object.defineProperty(e,"__esModule",{value:!0}),t=i(106),n=i(14),r=i(8),o=i(1278),t.UE((function(t,e){if(n.config.GLb)return new o.yEa(t,e,r.Wf,n.config,r.za,r.Oc)}))},function(t,e,i){var n,o,a;function s(t,e,i,n,r,s){var u;u=this,this.j=t,this.va=e,this.ta=i,this.config=n,this.za=r,this.Oc=s,this.nrb=function(t){!0===t.oldValue&&!1===t.newValue&&(u.log.error("RestartStreaming: UHD key is no longer usable"),u.j.mWb())},this.H0b=function(t){var e,i,n;u.log.trace("UhdKeyStatus: "+t.oldValue+" -> "+t.newValue),i=null==t?void 0:t.newValue,n=null==t?void 0:t.oldValue,"usable"!==i&&(u.tXb(i,(null===(e=null==t?void 0:t.om)||void 0===e?void 0:e.height)||0),"usable"===n&&(t=u.za.ff.Qa(u.ILb),u.log.error("UHD KeyStatus unexpectedly changed: "+t.da(a.ja))))},this.B0a=!1,this.log=this.ta.ib("KeyStatusStreamFilter",this.j),this.bQa=new o.dc(!1,this.nrb),this.G0b=new o.dc(void 0,this.H0b)}Object.defineProperty(e,"__esModule",{value:!0}),e.yEa=void 0,n=i(207),o=i(80),a=i(4),s.prototype.Yu=function(t){return this.KZb(),this.bQa.set(this.B0a&&this.HIb),!(!(t.lower&&1080<t.height)||this.bQa.value)},s.prototype.rvb=function(){this.HIb=!0,this.log.trace("HDCP enagement wait is complete: "+this.config.NZa)},s.prototype.byb=function(){var t,e,i;return e={},null==(i=null===(t=this.va.xg.value)||void 0===t?void 0:t.Iu)||i.forEach((function(t){e[t.pj]=t.xI.height})),this.log.trace("KeyStatusMap",e),e},s.prototype.E3a=function(t){var e;e=this,Object.entries(t).forEach((function(t){var i;t=(i=v(t)).next().value,i=i.next().value,1080<(t=e.HLb[t])&&(e.B0a="usable"===i,e.G0b.set(i,{height:t}))}))},s.prototype.KZb=function(){var t,e;t=this,e=this.va.nf,!this.jLb&&n.upa(e)&&(this.jLb=!0,this.HLb=this.byb(),this.E3a(e.keyStatuses.value),e.keyStatuses.addListener((function(e){return t.E3a(e.newValue)})),this.Oc.zk(a.Nc(this.config.NZa),(function(){return t.rvb()})),this.ILb=this.za.ff)},s.prototype.tXb=function(t,e){this.log.error("Restricting resolution due to keyStatus",{keyHeight:e,keyStatus:t}),this.va.Np.set({reason:"keyStatus",height:e})},r.Object.defineProperties(s.prototype,{IM:{configurable:!0,enumerable:!0,get:function(){return"UhdKeyStatus"}}}),e.yEa=s},function(t,e,i){var n,r;Object.defineProperty(e,"__esModule",{value:!0}),t=i(106),n=i(14),r=i(8),t.UE((function(t,e){var i,o,a,s;if(i={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720},Object.assign(i,n.config.I0b),o=i[e.ye],n.config.J0b&&o)return a={},s=r.Ih(t,"MediaStreamFilter"),{IM:"uiLabel",Yu:function(t){if(t.lower&&t.height>o)return a[t.height]||(a[t.height]=!0,s.warn("Restricting resolution due to uiLabel",{MaxHeight:o,streamHeight:t.height}),e.Np.set({reason:"uiLabel",height:t.height})),!0}}}))},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b,v;Object.defineProperty(e,"__esModule",{value:!0}),n=i(160),r=i(553),t=i(58),o=i(14),a=i(60),s=i(12),u=i(50),c=i(51),h=i(24),f=i(11),l=i(8),d=i(123),p=i(15),b=i(31),v=i(34),t.dea(t.Zda,(function(t){var e,i,y,g,m,_;function w(){_("type=startplay&sev=info&outcome=success")}function E(){var e,i;(e=t.li)?(i="type=startplay&sev=error&outcome=error",e=n.Ena(l.ka.get(v.Hk).bq,e),h.te(e,(function(t,e){i+="&"+f.G0(t)+"="+f.G0(e||"")})),_(i)):_("type=startplay&sev=info&outcome=abort")}function k(){var t,e;0<(t=g.shift())&&(e=f.fo(t-(c.lj()-y),0),i=setTimeout((function(){S("type=startstall&sev=info&kt="+t),k()}),e))}function O(){_("type=startplay&sev=info&outcome=unload")}function S(i){i=m+"&soffms="+t.Lna()+"&"+i,t.pd&&Object.keys(t.pd).length&&(i+="&"+u.kO(h.Zb({},t.pd,{prefix:"sm_"}))),r.iab("playback",i,e)}e=l.ka.get(d.zJ).host+o.config.pxa,o.config.jab&&e&&o.config.kab.playback&&(g=o.config.k0b.slice(),m="xid="+t.ba+"&pbi="+t.index+"&uiLabel="+(t.ye||""),t.state.addListener((function e(i){var n,r;if(i.newValue>=p.Rb.LOADING){t.state.removeListener(e),i=f.G0;try{n=""+c.V3(),localStorage.setItem("player$test",n),r=localStorage.getItem("player$test"),localStorage.removeItem("player$test"),n=n==r?"success":"mism"}catch(t){n="ex: "+t}S("type=openplay&sev=info&locstor="+i.call(f,n)),y=c.lj(),k()}})),t.addEventListener(p.ca.Cq,w),t.addEventListener(p.ca.kg,E),a.ve.addListener(a.El,O,s.cF),_=function(e){var n;_=s.ql,S(e+="&initstart="+(n=l.ka.get(b.fh)).startTime+"&initend="+n.endTime),clearTimeout(i),t.removeEventListener(p.ca.Cq,w),t.removeEventListener(p.ca.kg,E),a.ve.removeListener(a.El,O)})}))},function(t,e,i){var n,r,o,a;Object.defineProperty(e,"__esModule",{value:!0}),n=i(14),r=i(12),t=i(3),o=i(8),a=i(167),i=i(31),o.ka.get(i.fh).register(t.M.MDa,(function(t){n.config.C5&&o.ka.get(a.KCa).start(),t(r.Ye)}))},function(t,e,i){var n,r,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.yAa=void 0,n=i(74),r=i(50),o=i(21),a=i(24),s=i(30),e.yAa=function(t,e){o.hb(t),o.hb(e),o.lM(e.ZBb,"endpointURL property is required"),o.hb(e.he),this.log=t,this.K5a=e},e.yAa.prototype.PC=function(){var t,e,i;return(t=this).log.trace("Downloading config data."),e={browserInfo:JSON.stringify(t.K5a.he)},i=t.K5a.ZBb+"?"+r.kO(e),new Promise((function(e,r){return n.hf?function o(u,c,h){n.hf.download(u,(function(n){var f;if(n=function(e){var n,r;try{return e.$?(n=new Uint8Array(e.content),r=String.fromCharCode.apply(null,n),{$:!0,config:JSON.parse(r).core.initParams}):{$:!1,message:"Unable to download the config. "+e.ub,cD:e.ik}}catch(n){return e=a.wd(n),t.log.error("Unable to download the config. Received an exception parsing response",{message:n.message,exception:e,url:i}),{$:!1,ub:e,message:"Unable to download the config. "+n.message}}}(n),n.$)e(n);else{if(t.log.warn("Config download failed, retrying",s.Zb({Attempt:c,WaitTime:f,MaxRetries:h},n)),function(e,i,n){return!(i>n&&(t.log.error("Config download failed, retry limit exceeded, giving up",s.Zb({Attempts:i-1,MaxRetries:n},e)),1))}(n,c+1,h))return function(t){return new Promise((function(e){setTimeout((function(){e()}),t)}))}(f=a.iua(1e3,1e3*Math.pow(2,Math.min(c-1,h)))).then((function(){return o(u,c+1,h)}));r(n)}}))}({url:i,responseType:3,withCredentials:!0,EC:"config-download"},1,3):Promise.reject({$:!1,message:"Unable to download Config. There was no HTTP object supplied"})}))}},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d;Object.defineProperty(e,"__esModule",{value:!0}),n=i(193),r=i(163),o=i(12),a=i(14),t=i(3),s=i(8),u=i(21),c=i(24),h=i(30),f=i(19),l=i(49),d=i(89),i=i(31),s.ka.get(i.fh).register(t.M.VDa,(function(t){var e,i;e=s.Oi("NccpApi"),i=c.BQa(["info","warn","trace","error"]),r.sK.CT.nccp={getEsn:function(){return n.gk.Vk},getPreferredLanguages:function(){return a.config.Ir.Kta},setPreferredLanguages:function(t){u.hb(f.isArray(t)&&h.Sz(t[0])),a.config.Ir.Kta=t},queueLogblob:function(t,n,r){var o;t&&n&&(n=n.toLowerCase(),i[n]?(o=s.ka.get(l.Um),t=s.ka.get(d.Ix).Gt(t,n,r),o.Hc(t)):e.warn("Invalid severity",{severity:n}))},flushLogblobs:function(){s.ka.get(l.Um).flush(!0)}},t(o.Ye)}))},function(e,i,n){var r,o,a,s,u,c,h,f,l,d,p;Object.defineProperty(i,"__esModule",{value:!0}),e=n(31),i=n(3),r=n(7),o=n(34),a=n(192),s=n(12),u=n(14),c=n(8),h=n(134),f=n(58),l=n(163),d=n(299),p=n(120),c.ka.get(e.fh).register(i.M.XDa,(function(e){var i,n,b;u.config.vCb&&(i=c.ka.get(a.U0),n=c.ka.get(o.Hk),b=c.ka.get(r.qb).ib("Test"),l.sK.CT.test={setPboRequestsListener:function(t){return i.LXb(t)},playbacks:f.ho,getPlayback:function(t){return f.ho.find((function(e){return e.ba===t}))},playgraphManager:{isNextSegmentReady:function(t,e){var i,n;return void 0!==(null===(n=null===(i=f.ho.find((function(e){return e.ba===t})))||void 0===i?void 0:i.Ka)||void 0===n?void 0:n.M5(e))},isNextSegmentBuffering:function(t,e){var i,n;return null===(n=null===(i=f.ho.find((function(e){return e.ba===t})))||void 0===i?void 0:i.Ka)||void 0===n?void 0:n.bN(e).NL}},aseManager:{cacheDestroy:function(){return h.ln.FQa.Ly()}},device:{esn:t._cad_global.device.Vk,esnPrefix:n.Fo,errorPrefix:n.bq},log:{info:function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];return b.info(t,i)},error:function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];return b.error(t,i)},warn:function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];return b.warn(t,i)},trace:function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];return b.trace(t,i)},log:function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];return b.log(t,i)},debug:function(t,e){for(var i=[],n=1;n<arguments.length;++n)i[n-1]=arguments[n];return b.debug(t,i)}},login:function(t,e){return void 0===t||void 0===e?Promise.reject("Invalid email and/or password"):c.ka.get(d.Mda).og(this.log,{},{email:t,password:e}).then((function(){}))},getManifest:function(t){var e;return(e=c.ka.get(p.sF)).ZVa.fetch(t,e)}}),e(s.Ye)}))},function(e,i,n){var r,o,a,s,u,c,h,f,l;Object.defineProperty(i,"__esModule",{value:!0}),e=n(1286),r=n(12),o=n(14),a=n(58),i=n(7),s=n(8),u=n(49),c=n(113),h=n(21),f=n(30),l=n(11),t.netflix=t.netflix||{},h.hb(!t.netflix.player),t.netflix.player={VideoSession:e.cMa,diag:{togglePanel:function(t,e){var i;if(i=[],!o.config||o.config.nY){switch(t){case"info":i=a.ho.map((function(t){return t.E9}));break;case"streams":i=a.ho.map((function(t){return t.G9}));break;case"log":i=[]}i.forEach((function(t){f.Xc(e)?e?t.show():t.Qr():t.toggle()}))}},addLogMessageSink:function(t){s.ka.get(u.Um).addListener({jcc:function(){},wOb:function(e){t({data:e.data})}})}},log:s.Oi("Ext"),LogLevel:i.Nj,addLogSink:function(t,e){s.ka.get(c.ZJ).e$(t,e)},getVersion:function(){return"6.0033.414.911"},getMostRecentPlaybackDiagnosticGroups:function(){var t;return null===(t=a.zB.r3a)||void 0===t?void 0:t.E4.xV()},isWidevineSupported:function(t){var e;function i(t){return function(e,i){return i.contentType==t}}if("function"!=typeof t)throw Error("input param is not a function");e=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:r.Jx,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:r.$J,robustness:"SW_SECURE_CRYPTO"}]}];try{l.kf.requestMediaKeySystemAccess("com.widevine.alpha",e).then((function(e){var n;n=e.getConfiguration(),e=n.videoCapabilities||[],n=(n.audioCapabilities||[]).reduce(i(r.$J),!1),e=e.reduce(i(r.Jx),!1),t(n&&e)})).catch((function(){t(!1)}))}catch(e){t(!1)}}}},function(t,e,i){var n,r,o,a,s,u;function c(t){var e;return(e=o.sK.call(this,t)||this).createPlayer=function(t,i){var o,c,h;return i="number"==typeof(i=void 0===i?{}:i)?{Fj:i}:i,o=n.ka.get(r.hK),c=n.ka.get(s.tR).create(i.manifest),h=n.ka.get(a.kea),t=o.pyb(t),t=(o=n.ka.get(u.iea).create(t)).Q5(),(h=h.wTa(o)).addEpisode({movieId:t.W,playbackParams:e.SQa(i,t),manifest:c}),h},e}Object.defineProperty(e,"__esModule",{value:!0}),e.cMa=void 0,n=i(8),r=i(121),o=i(163),a=i(304),s=i(157),u=i(303),g(c,o.sK),e.cMa=c},function(t,e,i){var n,r,o,a,s,u,c,h,f,l,d,p,b;Object.defineProperty(e,"__esModule",{value:!0}),n=i(163),r=i(193),o=i(12),a=i(50),t=i(3),s=i(8),u=i(165),c=i(21),h=i(30),f=i(11),e=i(31),l=i(51),d=i(94),p=i(156),b=i(164),s.ka.get(e.fh).register(t.M.WDa,(function(t){var e;function i(t,e){return{encrypt:function(e,i){var n;e=h.Se(e)?s.RP(e):e,n=f.wB.getRandomValues(new Uint8Array(16)),a.ZH(f.Vp.encrypt({name:"AES-CBC",iv:n},t,e)).then((function(t){var e,r;t=new Uint8Array(t),e=[],(r=new u.BQ(e)).Yaa(2),r.$bb(n),r.$bb(t),t=s.pC(e),i({success:!0,encryptedDataAsn1Base64:t})}),(function(t){c.hb(!1,"Encrypt error: "+t),i({success:!1})}))},decrypt:function(e,i){e=function(t){return(t=new u.BQ(s.Ar(t))).DA(),{iv:t.C6a(),XBb:t.C6a()}}(e),a.ZH(f.Vp.decrypt({name:"AES-CBC",iv:e.iv},t,e.XBb)).then((function(t){t=new Uint8Array(t),i({success:!0,text:s.OZ(t)})}),(function(t){c.hb(!1,"Decrypt error: "+t),i({success:!1})}))},hmac:function(t,i){t=h.Se(t)?s.RP(t):t,a.ZH(f.Vp.sign({name:"HMAC",hash:{name:"SHA-256"}},e,t)).then((function(t){t=new Uint8Array(t),i({success:!0,hmacBase64:s.pC(t)})}),(function(t){c.hb(!1,"Hmac error: "+t),i({success:!1})}))}}}((e=s.ka.get(b.mB)).$_a||e.xw)&&(n.sK.CT.mdx={getEsn:function(){return r.gk.Vk},createCryptoContext:function(t){var e;e=s.ka.get(d.OR),s.ka.get(p.yR)().then((function(i){var n,r;n=i.$W.getStateForMdx(e),r=n.cryptoContext,i=n.masterToken,n=n.userIdToken,i&&n?(c.hb(r),i=["1",s.pC(JSON.stringify(i.toJSON())),s.pC(JSON.stringify(n.toJSON()))].join(),t({success:!0,cryptoContext:{cTicket:i,encrypt:function(t,e){t=h.Se(t)?s.RP(t):t,r.encrypt(t,{result:function(t){t=s.pC(t),e({success:!0,mslEncryptionEnvelopeBase64:t})},timeout:function(){e({success:!1})},error:function(t){c.hb(!1,"Encrypt error: "+t),e({success:!1})}})},decrypt:function(t,e){t=s.Ar(t),r.decrypt(t,{result:function(t){e({success:!0,text:s.OZ(t)})},timeout:function(){e({success:!1})},error:function(t){c.hb(!1,"Decrypt error: "+t),e({success:!1})}})},hmac:function(t,e){t=h.Se(t)?s.RP(t):t,r.sign(t,{result:function(t){e({success:!0,hmacBase64:s.pC(t)})},timeout:function(){e({success:!1})},error:function(t){c.hb(!1,"Hmac error: "+t),e({success:!1})}})}}})):(c.hb(!1,"Must login first"),t({success:!1}))}))},createCryptoContextFromSharedSecret:function(t,e){var n;if(t=(n=s.Ar(t)).subarray(32,48),n=n.subarray(0,32),16!=t.length||32!=n.length)throw Error("Bad shared secret");Promise.all([a.ZH(f.Vp.importKey("raw",t,{name:"AES-CBC"},!1,["encrypt","decrypt"])),a.ZH(f.Vp.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then((function(t){e({success:!0,cryptoContext:i(t[0],t[1])})}),(function(){e({success:!1})}))},getServerEpoch:function(){return l.W3()}}),t(o.Ye)}))},function(e,i,n){var r,o,a,s,u;Object.defineProperty(i,"__esModule",{value:!0}),r=n(14),o=n(12),e=n(3),a=n(8),i=n(31),s=n(120),a.ka.get(i.fh).register(e.M.RDa,(function(e){var i,c,h;r.config.JSb&&(i=a.Oi("PlayerPredictionModel"),c=a.ka.get(s.sF),h=n(1289),i.log=i.trace.bind(i),u=new h({},i,{pY:function(){},JVb:function(){}},c,{iI:function(){}}),t._cad_global.playerPredictionModel=u,i.info("ppm v2 initialized")),e(o.Ye)}))},function(t,e,i){var n,r,o,a,s,u,c;function h(t,e,i,n,r,o){this.J=this.W=t,this.priority=e,this.Ed=i,o&&o.ye&&(this.ye=o.ye),void 0!==n&&(this.tO=n),this.Dl=r,this.Fb=o}function f(t,e,i,n,r){o(void 0!==n,"video preparer is null"),o(void 0!==r,"ui preparer is null"),this.H=e,this.Ja=i,this.Spb=n,this.Lpb=r,this.uOa=u.Hta,this.rL=[],this.sha=!1,this.uS=0,(new c).on(u,"changed",l,this),this.reset()}function l(){this.H.log("config changed"),u.Hta&&(this.uOa=u.Hta),u.ZW!==this.fL&&(this.reset(),this.Rua())}n=i(306),r=i(307),e=i(556),o=e.assert,a=e.hWa,s=i(1290),u=i(557).config,c=i(1291).Wh,u.declare({Hta:["ppmConfig",{I3b:{g4a:0,f4a:2,d4a:0,e4a:5,h9a:0},W7b:{g4a:0,f4a:1,d4a:0,e4a:3,h9a:1e3},Y3b:{g4a:0,f4a:1,d4a:0,e4a:3,h9a:1e3}}]}),f.prototype.constructor=f,f.prototype.reset=function(){this.Wfa=!0,this.fL=u.ZW,this.H.log("create model: "+u.ZW,u.W7a,u.uSa),u.ZW,this.fL=new s(this.H)},f.prototype.Rua=function(){var t,e;if(!1===this.sha){this.sha=!0;for(var i=0;i<this.rL.length;i++)this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.rL[i])),t=this.aTa(this.rL[i]),e=this.QWa(t),this.fL.update(t,e),this.Wfa=!1;this.rL=[]}},f.prototype.update=function(t){var e,i,r;this.H.log("PlayPredictionModel update: ",JSON.stringify(t)),t&&t.Ya&&t.Ya[0]&&(!1===this.sha&&this.rL.length<u.RNb&&this.rL.push(t),e=this.aTa(t),i=this.QWa(e),this.H.log("actionType",i),e="mlmodel"==u.ZW?this.fL.update(t,i):this.fL.update(e,i),e=this.hEb(e,u.vLb||1),this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(e)),0===this.uS&&(this.uS=n(),this.Ja&&this.Ja.pY&&this.Ja.pY({Xzb:this.uS})),this.Ja&&this.Ja.JVb&&(this.fFb(),r=[],e.forEach((function(t){r.push({Mcc:t.W})})),JSON.stringify(t),JSON.stringify(e)),this.Spb.iI(e),this.Lpb.iI(e),this.Wfa=!1)},f.prototype.fFb=function(){n()},f.prototype.pY=function(){this.uS=n(),this.Ja&&this.Ja.pY&&this.Ja.pY({Xzb:this.uS})},f.prototype.aTa=function(t){var e,i,n,o;return e={},i=t.Ya||[],n=function(t){var i,n;i={},o=r.jR.name.indexOf(t.context),i.context=0<=o?o:r.jR.Px,i.rowIndex=t.rowIndex,i.requestId=t.requestId,i.list=[],(t.list||[]).forEach(function(t){n={W:t.W,Ed:t.Ed,index:t.index,tO:t.tO,R9:t.R9,list:t.list,Fb:t.Fb},void 0!==t.property&&(o=r.VJ.name.indexOf(t.property),n.property=0<=o?o:r.VJ.Px),i.list.push(n)}.bind(this)),e.Ya.push(i)}.bind(this),void 0!==t.direction&&(o=r.vv.name.indexOf(t.direction),e.direction=0<=o?o:r.vv.Px),void 0!==t.gV&&(e.l$b=t.gV.rowIndex,e.k$b=t.gV.kvb),e.gV=t.gV,e.Ya=[],i.forEach(n),e},f.prototype.QWa=function(t){var e,i,n;return e=t.direction||r.vv.Px,i=t.gV,n=t.Ya||[],!0===this.Wfa?t=r.qx.yCa:!0===n.some(this.DIb)?(t=r.qx.FR,this.g$(n,e,i)):t=n[0].context===r.jR.d1?r.qx.d1:e===r.vv.DJa||e===r.vv.AEa?r.qx.XJa:r.qx.Px,t},f.prototype.DIb=function(t){return(t.list||[]).some((function(t){return t.property===r.VJ.FR||t.property===r.VJ.QAa}))},f.prototype.g$=function(t,e,i){var o,s;this.H.log("reportPlayFocusEvent: ",e,i),o={},s=a(t),this.Ja&&this.Ja.g$&&(o.c$b=n(),o.direction=r.vv.name[e],i&&(o.rowIndex=i.rowIndex,o.Pja=i.kvb),void 0!==s.xk&&(o.requestId=t[s.xk].requestId),this.Ja.g$&&this.Ja.g$(o))},f.prototype.hEb=function(t,e){for(var i,n,r,o,a=t.length,s=[],c=0;c<a;c++){if(n=t[c],i=Math.floor(c/e)+1,void 0!==n.list){o=(r=n.list).length;for(var h=0;h<Math.min(u.ivb,o)&&(r[h].Dl=n.Dl,this.HPa(r[h],i,s),!(s.length>=u.z2a));h++);}else this.HPa(n,i,s);if(s.length>=u.z2a)break}return s},f.prototype.HPa=function(t,e,i){var n,r;function o(t){return t.ye&&(t.Fb||(t.Fb={}),t.Fb.ye=t.ye),t.Fb}void 0!==(n=t.R9)&&n instanceof Array?n.forEach((function(n){void 0!==n.W&&(r=o(n),i.push(new h(n.W,e,n.Ed,n.tO,t.Dl,r)))})):void 0!==n&&void 0!==n.W&&(n=t.R9,r=o(n),i.push(new h(n.W,e,n.Ed,n.tO,t.Dl,r))),void 0!==t.W&&(r=o(t),i.push(new h(t.W,e,t.Ed,t.tO,t.Dl,r)))},f.prototype.PC=function(t){var e;return e=this.uOa,t?e[t]:e},t.exports=f},function(t,e,i){var n,r,o,a,s,u,c,h,f,l;function d(t,e){this.xk=t,this.jm=e}function p(t){this.H=t,this.reset()}n=i(306),r=i(307),e=i(556),o=i(557).config,a=e.YEb,s=e.FEb,u=e.Zzb,c=e.nQb,h=e.mQb,f=e.lQb,l=e.hWa,p.prototype.constructor=p,p.prototype.reset=function(){this.vOa=void 0,this.Lk=[],this.jOa=this.kOa=!1},p.prototype.update=function(t,e){var i;switch(this.Lk&&(this.Lk=this.Lk.filter(this.zYb,this)),!1===this.kOa&&0<(i=a(t.Ya).slice(0,o.MTa)).length&&(this.MH(i,r.vx.rl),this.kOa=!0,this.Lk=this.nJ(i.concat(this.Lk))),!1===this.jOa&&(0<(i=s(t.Ya).slice(0,o.MTa)).length&&(this.MH(i,r.vx.rl),this.jOa=!0,this.Lk=this.nJ(i.concat(this.Lk)))),e){case r.qx.yCa:e=this.dIb(t);break;case r.qx.XJa:e=this.mIb(t);break;case r.qx.d1:e=this.nIb(t);break;case r.qx.FR:e=this.iIb(t);break;default:e=this.aIb(t)}return this.vOa=t,e},p.prototype.dIb=function(t){return t=c(t.Ya,o.W7a,o.uSa),this.MH(t,r.vx.rl),this.Lk=this.nJ(this.Lk.concat(t))},p.prototype.mIb=function(t){var e;return this.H.log("handleScrollHorizontal"),e=t.Ya,t=c(e,o.Y7a,o.vSa),(e=e[u(e,this.vOa.Ya)].list.slice(0,o.vWb)).concat(t),this.MH(e,r.vx.Pea),this.nJ(e.concat(this.Lk))},p.prototype.MH=function(t,e){t.forEach((function(t){(void 0===t.vC||t.vC<e)&&(t.vC=e),void 0===t.HP&&(t.HP=n()),void 0===t.Dl&&(t.Dl=n())}))},p.prototype.nIb=function(t){return this.H.log("handleSearch"),t=h(t.Ya,o.OWb),this.MH(t,r.vx.YJa),this.Lk=t.concat(this.Lk),this.Lk=this.nJ(this.Lk)},p.prototype.iIb=function(t){var e,i,n,a,s;if(this.H.log("handlePlayFocus: ",o.WV),e=t.direction,i=t.Ya,t=[],void 0!==(n=l(i)).xk)switch(t.push(n),e){case r.vv.DJa:for(e=1;e<o.WV;e++)t.push(new d(n.xk,n.jm+e));t.push(new d(n.xk-1,n.jm)),t.push(new d(n.xk+1,n.jm));break;case r.vv.AEa:for(e=1;e<o.WV;e++)t.push(new d(n.xk,n.jm-e));t.push(new d(n.xk-1,n.jm)),t.push(new d(n.xk+1,n.jm));break;case r.vv.ukb:for(t.push(new d(n.xk-1,n.jm)),e=1;e<=o.WV/2;e++)t.push(new d(n.xk,n.jm+e)),t.push(new d(n.xk,n.jm-e));break;case r.vv.Yeb:for(t.push(new d(n.xk+1,n.jm)),e=1;e<=o.WV/2;e++)t.push(new d(n.xk,n.jm+e)),t.push(new d(n.xk,n.jm-e))}return a=[],t.forEach((function(t){void 0!==(s=f(i,t.xk,t.jm))&&a.push(s)})),this.MH(a,r.vx.Pea),this.nJ(a.concat(this.Lk))},p.prototype.aIb=function(t){return this.H.log("ModelOne: handleDefaultCase"),t=c(t.Ya,o.Y7a,o.vSa),this.MH(t,r.vx.Pea),this.nJ(t.concat(this.Lk))},p.prototype.zYb=function(t){return t.vC==r.vx.rl|t.vC==r.vx.YJa&n()-t.HP<o.YIb},p.prototype.nJ=function(t){var e,i,n,r,o,a,s;for(e=[],i={},r=0,o=t.length,n=0;n<o;n++)a=t[n].W,s=t[n],!1==a in i?(e.push(s),i[a]=r,r++):(a=e[i[a]],s.Dl<a.Dl&&(a.Dl=s.Dl),s.vC>a.vC&&(a.vC=s.vC),s.HP>a.HP&&(a.HP=s.HP));return e},t.exports=p},function(t,e,i){t.exports={EventEmitter:i(1292),Wh:i(1293)}},function(t){function e(t,e){var i;if(void 0===e||"function"!=typeof e||"string"!=typeof t)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");return void 0===this.Ad?(this.Ad={},this.Ad[t]=[e],!0):void 0===(i=this.Ad[t])?(this.Ad[t]=[e],!0):0>i.indexOf(e)&&(i.push(e),!0)}function i(t,e){return!!(t=this.Ad?this.Ad[t]:void 0)&&(t.forEach((function(t){t(e)})),!0)}t.exports={addEventListener:e,on:e,removeEventListener:function(t,e){var i;if(void 0===e||"function"!=typeof e||"string"!=typeof t)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");return void 0!==this.Ad&&(void 0!==(i=this.Ad[t])&&(!(0>(e=i.indexOf(e)))&&(1===i.length?(delete this.Ad[t],!0):(i.splice(e,1),!0))))},Va:i,emit:i,removeAllListeners:function(t){return this.Ad&&(void 0===t?delete this.Ad:delete this.Ad[t]),this}}},function(t){function e(t,e,i,n){t.trace(":",i,":",n),e(n)}function i(t){this.listeners=[],this.console=t}i.prototype.constructor=i,i.prototype.addEventListener=function(t,i,n,r){if(n=r?n.bind(r):n,r=!1,t){if(this.console&&(n=e.bind(null,this.console,n,i)),"function"==typeof t.addEventListener)r=t.addEventListener(i,n);else{if("function"!=typeof t.addListener)throw Error("Emitter does not have a function to add listeners for '"+i+"'");r=t.addListener(i,n)}this.listeners.push([t,i,n])}return r},i.prototype.on=i.prototype.addEventListener,i.prototype.clear=function(){var t;t=this.listeners.length,this.listeners.forEach((function(t){var e,i;e=t[0],i=t[1],t=t[2],"function"==typeof e.removeEventListener?e.removeEventListener(i,t):"function"==typeof e.removeListener&&e.removeListener(i,t)})),this.listeners=[],this.console&&this.console.trace("removed",t,"listener(s)")},t.exports=i}])}.call(t)}(window)}.call(window)})();