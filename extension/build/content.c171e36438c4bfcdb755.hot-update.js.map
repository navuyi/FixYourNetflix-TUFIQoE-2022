{"version":3,"file":"content.c171e36438c4bfcdb755.hot-update.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtDA","sources":["webpack://fix-your-netflix-experiment-extension/./src/utils/html_element_extractors/get_bitrate_menu_elements.ts","webpack://fix-your-netflix-experiment-extension/webpack/runtime/getFullHash"],"sourcesContent":["import { simulate_bitrate_menu_hotkey } from \"../keyboard_hotkeys/simulate_bitrate_menu_hotkeys.js\";\n/**\n * Function executes subfunction in intervals until bitrate menu elements are retrieved\n * and HTML elements are extracted using extract_html_elements method\n*/\nexport const invoke_bitrate_menu_and_get_html_elements = async () => {\n    return new Promise((resolve) => {\n        let timer;\n        timer = setInterval(() => {\n            // Simulate bitrate menu hotkey\n            simulate_bitrate_menu_hotkey();\n            try {\n                const bitrate_menu_elements = extract_html_elements();\n                const bitrate_values = bitrate_menu_elements.bitrate_values;\n                const override_button = bitrate_menu_elements.override_button;\n                const reset_button = bitrate_menu_elements.reset_button;\n                // Set opacity of the element to required value\n                if (bitrate_values.length > 0 && override_button != null && reset_button != null) {\n                    clearInterval(timer);\n                    resolve(bitrate_menu_elements);\n                }\n            }\n            catch (err) {\n                console.log(err);\n            }\n        }, 500);\n    });\n};\n/**\n * Helper method used to extract HTML elemnets from DOM tree\n * @returns{object} Object of key:values where values are HTML elements, possible to unpack\n*/\nexportconst;\nextract_html_elements = () => {\n    // Get outter menu container\n    const container = [...document.querySelectorAll(\"div\")].filter(item => item.innerText.match(\"Video Bitrate\"))[1];\n    const override_button = [...document.querySelectorAll(\"button\")].filter(button => button.innerText.match(\"Override\"))[0];\n    const reset_button = [...document.querySelectorAll(\"button\")].filter(button => button.innerText.match(\"Reset\"))[0];\n    // Get bitrate menu container\n    const bitrate_menu_div = container.childNodes[1];\n    const select = bitrate_menu_div.childNodes[1];\n    const options = Array.from(bitrate_menu_div.childNodes[1].childNodes);\n    const bitrate_values = Array.from(bitrate_menu_div.childNodes[1].childNodes).map(option => {\n        const o = option;\n        return parseInt(o.value);\n    });\n    return {\n        container: container,\n        override_button: override_button,\n        reset_button: reset_button,\n        select: select,\n        options: options,\n        bitrate_values: bitrate_values\n    };\n};\n","__webpack_require__.h = () => (\"d1e79798a4372f9735ec\")"],"names":[],"sourceRoot":""}